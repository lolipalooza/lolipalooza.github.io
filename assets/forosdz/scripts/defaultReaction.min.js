XF.Reaction=XF.extend(XF.Reaction,{__backup:{getContent:"_getContent"},options:$.extend({},XF.Reaction.prototype.options,{thReactPlusContentType:null,thReactPlusContentId:null}),getContent:function(){this.th_reactPlus_getReactions();return XF.phrase("th_reactplus_loading_reactions")},th_reactPlus_getReactions:function(){var b=function(b){this.$tooltipHtml=$(b.html.content);var c=this.href;c=c.replace(/(\?|&)reaction_id=[^&]*(&|$)/,"$1reaction_id=");var d=0;this.$tooltipHtml.find(".reaction").each(function(){var a=
$(this),b=a.data("reaction-id");a.attr("href",b?c+parseInt(b,10):!1);d++});this.$tooltipHtml.find('[data-xf-init~="tooltip"]').attr("data-delay-in",50).attr("data-delay-out",50);this.$tooltipHtml.on("click",".reaction",XF.proxy(this,"actionClick"));$tooltipSelector=$("#"+this.trigger.tooltip.$tooltip[0].id);1>=d?$tooltipSelector.remove():$tooltipSelector.find(".tooltip-content").html(this.$tooltipHtml);var a=this.tooltip;a.reposition();window.setTimeout(function(){a.reposition();window.setTimeout(function(){a.reposition();
window.setTimeout(function(){a.reposition()},200)},200)},200)}.bind(this);XF.ajax("GET",XF.canonicalizeUrl("index.php?threactplus/tooltip-contents&content_type="+this.options.thReactPlusContentType+"&content_id="+this.options.thReactPlusContentId),{},b,{global:!1})}});