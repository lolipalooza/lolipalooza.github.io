var JSON;function getCaptchaTokenSetup(t,i){return function(){return new Promise(function(e){grecaptcha.ready(function(){grecaptcha.execute(t,{action:i}).then(e)})})}}function createStoreToken(i){return new Promise(function(t,e){proboards.ajax({url:"/token/create",data:{captcha_token:i,hostname:window.location.hostname},success:function(e){t(e.storeToken)},error:e})})}!function(y,C){function d(e){return ae.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function g(e){if(!qt[e]){var t=ie.body,i=ae("<"+e+">").appendTo(t),n=i.css("display");i.remove(),"none"!==n&&""!==n||(jt||((jt=ie.createElement("iframe")).frameBorder=jt.width=jt.height=0),t.appendChild(jt),Rt&&jt.createElement||((Rt=(jt.contentWindow||jt.contentDocument).document).write((ae.support.boxModel?"<!doctype html>":"")+"<html><body>"),Rt.close()),i=Rt.createElement(e),Rt.body.appendChild(i),n=ae.css(i,"display"),t.removeChild(jt)),qt[e]=n}return qt[e]}function s(e,t){var i={};return ae.each(Vt.concat.apply([],Vt.slice(0,t)),function(){i[this]=e}),i}function e(){zt=C}function l(){return setTimeout(e,0),zt=ae.now()}function t(){try{return new y.XMLHttpRequest}catch(e){}}function a(i,e,n,o){if(ae.isArray(e))ae.each(e,function(e,t){n||ft.test(i)?o(i,t):a(i+"["+("object"==typeof t?e:"")+"]",t,n,o)});else if(n||"object"!==ae.type(e))o(i,e);else for(var t in e)a(i+"["+t+"]",e[t],n,o)}function i(e,t){var i,n,o=ae.ajaxSettings.flatOptions||{};for(i in t)t[i]!==C&&((o[i]?e:n=n||{})[i]=t[i]);n&&ae.extend(!0,e,n)}function k(e,t,i,n,o,a){(a=a||{})[o=o||t.dataTypes[0]]=!0;for(var r,s=e[o],l=0,c=s?s.length:0,d=e===Et;l<c&&(d||!r);l++)"string"==typeof(r=s[l](t,i,n))&&(r=!d||a[r]?C:(t.dataTypes.unshift(r),k(e,t,i,n,r,a)));return!d&&r||a["*"]||(r=k(e,t,i,n,"*",a)),r}function n(s){return function(e,t){if("string"!=typeof e&&(t=e,e="*"),ae.isFunction(t))for(var i,n,o=e.toLowerCase().split(kt),a=0,r=o.length;a<r;a++)i=o[a],(n=/^\+/.test(i))&&(i=i.substr(1)||"*"),(s[i]=s[i]||[])[n?"unshift":"push"](t)}}function o(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,o="width"===t?1:0;if(0<n){if("border"!==i)for(;o<4;o+=2)i||(n-=parseFloat(ae.css(e,"padding"+dt[o]))||0),"margin"===i?n+=parseFloat(ae.css(e,i+dt[o]))||0:n-=parseFloat(ae.css(e,"border"+dt[o]+"Width"))||0;return n+"px"}if(((n=Ze(e,t))<0||null==n)&&(n=e.style[t]),rt.test(n))return n;if(n=parseFloat(n)||0,i)for(;o<4;o+=2)n+=parseFloat(ae.css(e,"padding"+dt[o]))||0,"padding"!==i&&(n+=parseFloat(ae.css(e,"border"+dt[o]+"Width"))||0),"margin"===i&&(n+=parseFloat(ae.css(e,i+dt[o]))||0);return n+"px"}function _(e){var t=(e.nodeName||"").toLowerCase();"input"===t?r(e):"script"!==t&&void 0!==e.getElementsByTagName&&ae.grep(e.getElementsByTagName("input"),r)}function r(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function c(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function u(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(ae.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function h(e,t){if(1===t.nodeType&&ae.hasData(e)){var i,n,o,a=ae._data(e),r=ae._data(t,a),s=a.events;if(s)for(i in delete r.handle,r.events={},s)for(n=0,o=s[i].length;n<o;n++)ae.event.add(t,i,s[i][n]);r.data&&(r.data=ae.extend({},r.data))}}function w(e){var t=Re.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function p(e,i,n){if(i=i||0,ae.isFunction(i))return ae.grep(e,function(e,t){return!!i.call(e,t,e)===n});if(i.nodeType)return ae.grep(e,function(e,t){return e===i===n});if("string"==typeof i){var t=ae.grep(e,function(e){return 1===e.nodeType});if(Oe.test(i))return ae.filter(i,t,!n);i=ae.filter(i,t)}return ae.grep(e,function(e,t){return 0<=ae.inArray(e,i)===n})}function f(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function m(){return!0}function v(){return!1}function b(e,t,i){var n=t+"defer",o=t+"queue",a=t+"mark",r=ae._data(e,n);!r||"queue"!==i&&ae._data(e,o)||"mark"!==i&&ae._data(e,a)||setTimeout(function(){ae._data(e,o)||ae._data(e,a)||(ae.removeData(e,n,!0),r.fire())},0)}function A(e){for(var t in e)if(("data"!==t||!ae.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function x(e,t,i){if(i===C&&1===e.nodeType){var n="data-"+t.replace(ue,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:ae.isNumeric(i)?+i:de.test(i)?ae.parseJSON(i):i)}catch(e){}ae.data(e,t,i)}else i=C}return i}var S,T,E,D,I,$,P,M,O,N,L,j,R,F,z,q,H,W,V,U,B,Y,K,J,G,X,Q,Z,ee,te,ie=y.document,ne=y.navigator,oe=y.location,ae=(I=function(e,t){return new I.fn.init(e,t,S)},$=y.jQuery,P=y.$,M=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,O=/\S/,N=/^\s+/,L=/\s+$/,j=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,R=/^[\],:{}\s]*$/,F=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,z=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,H=/(webkit)[ \/]([\w.]+)/,W=/(opera)(?:.*version)?[ \/]([\w.]+)/,V=/(msie) ([\w.]+)/,U=/(mozilla)(?:.*? rv:([\w.]+))?/,B=/-([a-z]|[0-9])/gi,Y=/^-ms-/,K=ne.userAgent,J=Object.prototype.toString,G=Object.prototype.hasOwnProperty,X=Array.prototype.push,Q=Array.prototype.slice,Z=String.prototype.trim,ee=Array.prototype.indexOf,te={},I.fn=I.prototype={constructor:I,init:function(e,t,i){var n,o,a,r;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!t&&ie.body)return this.context=ie,this[0]=ie.body,this.selector=e,this.length=1,this;if("string"!=typeof e)return I.isFunction(e)?i.ready(e):(e.selector!==C&&(this.selector=e.selector,this.context=e.context),I.makeArray(e,this));if(!(n="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?M.exec(e):[null,e,null])||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1])return r=(t=t instanceof I?t[0]:t)?t.ownerDocument||t:ie,(a=j.exec(e))?I.isPlainObject(t)?(e=[ie.createElement(a[1])],I.fn.attr.call(e,t,!0)):e=[r.createElement(a[1])]:e=((a=I.buildFragment([n[1]],[r])).cacheable?I.clone(a.fragment):a.fragment).childNodes,I.merge(this,e);if((o=ie.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return i.find(e);this.length=1,this[0]=o}return this.context=ie,this.selector=e,this},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return Q.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=this.constructor();return I.isArray(e)?X.apply(n,e):I.merge(n,e),n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return I.each(this,e,t)},ready:function(e){return I.bindReady(),E.add(e),this},eq:function(e){return-1==(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Q.apply(this,arguments),"slice",Q.call(arguments).join(","))},map:function(i){return this.pushStack(I.map(this,function(e,t){return i.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:[].sort,splice:[].splice},I.fn.init.prototype=I.fn,I.extend=I.fn.extend=function(){var e,t,i,n,o,a,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[1]||{},s=2),"object"==typeof r||I.isFunction(r)||(r={}),l===s&&(r=this,--s);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=r[t],r!==(n=e[t])&&(c&&n&&(I.isPlainObject(n)||(o=I.isArray(n)))?(a=o?(o=!1,i&&I.isArray(i)?i:[]):i&&I.isPlainObject(i)?i:{},r[t]=I.extend(c,a,n)):n!==C&&(r[t]=n));return r},I.extend({noConflict:function(e){return y.$===I&&(y.$=P),e&&y.jQuery===I&&(y.jQuery=$),I},isReady:!1,readyWait:1,holdReady:function(e){e?I.readyWait++:I.ready(!0)},ready:function(e){if(!0===e&&!--I.readyWait||!0!==e&&!I.isReady){if(!ie.body)return setTimeout(I.ready,1);if((I.isReady=!0)!==e&&0<--I.readyWait)return;E.fireWith(ie,[I]),I.fn.trigger&&I(ie).trigger("ready").off("ready")}},bindReady:function(){if(!E){if(E=I.Callbacks("once memory"),"complete"===ie.readyState)return setTimeout(I.ready,1);if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",D,!1),y.addEventListener("load",I.ready,!1);else if(ie.attachEvent){ie.attachEvent("onreadystatechange",D),y.attachEvent("onload",I.ready);var e=!1;try{e=null==y.frameElement}catch(e){}ie.documentElement.doScroll&&e&&se()}}},isFunction:function(e){return"function"===I.type(e)},isArray:Array.isArray||function(e){return"array"===I.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):te[J.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==I.type(e)||e.nodeType||I.isWindow(e))return!1;try{if(e.constructor&&!G.call(e,"constructor")&&!G.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===C||G.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(e){return"string"==typeof e&&e?(e=I.trim(e),y.JSON&&y.JSON.parse?y.JSON.parse(e):R.test(e.replace(F,"@").replace(z,"]").replace(q,""))?new Function("return "+e)():void I.error("Invalid JSON: "+e)):null},parseXML:function(e){if("string"!=typeof e||!e)return null;var t;try{y.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=C}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&O.test(e)&&(y.execScript||function(e){y.eval.call(y,e)})(e)},camelCase:function(e){return e.replace(Y,"ms-").replace(B,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,t,i){var n,o=0,a=e.length,r=a===C||I.isFunction(e);if(i)if(r){for(n in e)if(!1===t.apply(e[n],i))break}else for(;o<a&&!1!==t.apply(e[o++],i););else if(r){for(n in e)if(!1===t.call(e[n],n,e[n]))break}else for(;o<a&&!1!==t.call(e[o],o,e[o++]););return e},trim:Z?function(e){return null==e?"":Z.call(e)}:function(e){return null==e?"":(e+"").replace(N,"").replace(L,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var n=I.type(e);null==e.length||"string"===n||"function"===n||"regexp"===n||I.isWindow(e)?X.call(i,e):I.merge(i,e)}return i},inArray:function(e,t,i){var n;if(t){if(ee)return ee.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){var i=e.length,n=0;if("number"==typeof t.length)for(var o=t.length;n<o;n++)e[i++]=t[n];else for(;t[n]!==C;)e[i++]=t[n++];return e.length=i,e},grep:function(e,t,i){var n=[];i=!!i;for(var o=0,a=e.length;o<a;o++)i!==!!t(e[o],o)&&n.push(e[o]);return n},map:function(e,t,i){var n,o,a=[],r=0,s=e.length;if(e instanceof I||s!==C&&"number"==typeof s&&(0<s&&e[0]&&e[s-1]||0===s||I.isArray(e)))for(;r<s;r++)null!=(n=t(e[r],r,i))&&(a[a.length]=n);else for(o in e)null!=(n=t(e[o],o,i))&&(a[a.length]=n);return a.concat.apply([],a)},guid:1,proxy:function(e,t){if("string"==typeof t){var i=e[t];t=e,e=i}if(!I.isFunction(e))return C;function n(){return e.apply(t,o.concat(Q.call(arguments)))}var o=Q.call(arguments,2);return n.guid=e.guid=e.guid||n.guid||I.guid++,n},access:function(e,t,i,n,o,a,r){var s,l=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)I.access(e,t,c,i[c],1,a,n);o=1}else if(n!==C){if(s=r===C&&I.isFunction(n),l&&(t=s?(s=t,function(e,t,i){return s.call(I(e),i)}):(t.call(e,n),null)),t)for(;c<d;c++)t(e[c],i,s?n.call(e[c],c,t(e[c],i)):n,r);o=1}return o?e:l?t.call(e):d?t(e[0],i):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=H.exec(e)||W.exec(e)||V.exec(e)||e.indexOf("compatible")<0&&U.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function i(e,t){return new i.fn.init(e,t)}I.extend(!0,i,this),i.superclass=this,((i.fn=i.prototype=this()).constructor=i).sub=this.sub,i.fn.init=function(e,t){return t&&t instanceof I&&!(t instanceof i)&&(t=i(t)),I.fn.init.call(this,e,t,n)},i.fn.init.prototype=i.fn;var n=i(ie);return i},browser:{}}),I.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){te["[object "+t+"]"]=t.toLowerCase()}),(T=I.uaMatch(K)).browser&&(I.browser[T.browser]=!0,I.browser.version=T.version),I.browser.webkit&&(I.browser.safari=!0),O.test(" ")&&(N=/^[\s\xA0]+/,L=/[\s\xA0]+$/),S=I(ie),ie.addEventListener?D=function(){ie.removeEventListener("DOMContentLoaded",D,!1),I.ready()}:ie.attachEvent&&(D=function(){"complete"===ie.readyState&&(ie.detachEvent("onreadystatechange",D),I.ready())}),I),re={};function se(){if(!I.isReady){try{ie.documentElement.doScroll("left")}catch(e){return void setTimeout(se,1)}I.ready()}}function le(e,t){return(t+"").toUpperCase()}ae.Callbacks=function(a){a=a?re[a]||function(e){var t,i,n=re[e]={};for(t=0,i=(e=e.split(/\s+/)).length;t<i;t++)n[e[t]]=!0;return n}(a):{};function i(e,t){for(t=t||[],n=!a.memory||[e,t],r=o=!0,c=s||0,s=0,l=d.length;d&&c<l;c++)if(!1===d[c].apply(e,t)&&a.stopOnFalse){n=!0;break}r=!1,d&&(a.once?!0===n?p.disable():d=[]:u&&u.length&&(n=u.shift(),p.fireWith(n[0],n[1])))}var n,o,r,s,l,c,d=[],u=[],h=function(e){var t,i,n,o;for(t=0,i=e.length;t<i;t++)n=e[t],"array"===(o=ae.type(n))?h(n):"function"!==o||a.unique&&p.has(n)||d.push(n)},p={add:function(){if(d){var e=d.length;h(arguments),r?l=d.length:n&&!0!==n&&(s=e,i(n[0],n[1]))}return this},remove:function(){if(d)for(var e=arguments,t=0,i=e.length;t<i;t++)for(var n=0;n<d.length&&(e[t]!==d[n]||(r&&n<=l&&(l--,n<=c&&c--),d.splice(n--,1),!a.unique));n++);return this},has:function(e){if(d)for(var t=0,i=d.length;t<i;t++)if(e===d[t])return!0;return!1},empty:function(){return d=[],this},disable:function(){return d=u=n=C,this},disabled:function(){return!d},lock:function(){return u=C,n&&!0!==n||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return u&&(r?a.once||u.push([e,t]):a.once&&n||i(e,t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p};var ce=[].slice;ae.extend({Deferred:function(e){var t,i=ae.Callbacks("once memory"),n=ae.Callbacks("once memory"),o=ae.Callbacks("memory"),a="pending",r={resolve:i,reject:n,notify:o},s={done:i.add,fail:n.add,progress:o.add,state:function(){return a},isResolved:i.fired,isRejected:n.fired,then:function(e,t,i){return l.done(e).fail(t).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,i){return ae.Deferred(function(a){ae.each({done:[e,"resolve"],fail:[t,"reject"],progress:[i,"notify"]},function(e,t){var i,n=t[0],o=t[1];ae.isFunction(n)?l[e](function(){(i=n.apply(this,arguments))&&ae.isFunction(i.promise)?i.promise().then(a.resolve,a.reject,a.notify):a[o+"With"](this===l?a:this,[i])}):l[e](a[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in r)l[t]=r[t].fire,l[t+"With"]=r[t].fireWith;return l.done(function(){a="resolved"},n.disable,o.lock).fail(function(){a="rejected"},i.disable,o.lock),e&&e.call(l,l),l},when:function(e){function t(t){return function(e){r[t]=1<arguments.length?ce.call(arguments,0):e,l.notifyWith(c,r)}}function i(t){return function(e){n[t]=1<arguments.length?ce.call(arguments,0):e,--s||l.resolveWith(l,n)}}var n=ce.call(arguments,0),o=0,a=n.length,r=Array(a),s=a,l=a<=1&&e&&ae.isFunction(e.promise)?e:ae.Deferred(),c=l.promise();if(1<a){for(;o<a;o++)n[o]&&n[o].promise&&ae.isFunction(n[o].promise)?n[o].promise().then(i(o),l.reject,t(o)):--s;s||l.resolveWith(l,n)}else l!==e&&l.resolveWith(l,a?[e]:[]);return c}}),ae.support=function(){var u,e,t,i,n,o,a,h,r,s,p,f=ie.createElement("div");ie.documentElement;if(f.setAttribute("className","t"),f.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",e=f.getElementsByTagName("*"),t=f.getElementsByTagName("a")[0],!e||!e.length||!t)return{};n=(i=ie.createElement("select")).appendChild(ie.createElement("option")),o=f.getElementsByTagName("input")[0],u={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.55/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:"on"===o.value,optSelected:n.selected,getSetAttribute:"t"!==f.className,enctype:!!ie.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},ae.boxModel=u.boxModel="CSS1Compat"===ie.compatMode,o.checked=!0,u.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,u.optDisabled=!n.disabled;try{delete f.test}catch(e){u.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",function(){u.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick")),(o=ie.createElement("input")).value="t",o.setAttribute("type","radio"),u.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),f.appendChild(o),(a=ie.createDocumentFragment()).appendChild(f.lastChild),u.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.appendChecked=o.checked,a.removeChild(o),a.appendChild(f),f.attachEvent)for(s in{submit:1,change:1,focusin:1})(p=(r="on"+s)in f)||(f.setAttribute(r,"return;"),p="function"==typeof f[r]),u[s+"Bubbles"]=p;return a.removeChild(f),a=i=n=f=o=null,ae(function(){var e,t,i,n,o,a,r,s,l,c,d=ie.getElementsByTagName("body")[0];d&&(l=(c="padding:0;margin:0;border:")+"0;visibility:hidden;",r="style='"+(s="position:absolute;top:0;left:0;width:1px;height:1px;")+c+"5px solid #000;",(e=ie.createElement("div")).style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:1px",d.insertBefore(e,d.firstChild),f=ie.createElement("div"),e.appendChild(f),f.innerHTML="<table><tr><td style='"+c+"0;display:none'></td><td>t</td></tr></table>",h=f.getElementsByTagName("td"),p=0===h[0].offsetHeight,h[0].style.display="",h[1].style.display="none",u.reliableHiddenOffsets=p&&0===h[0].offsetHeight,y.getComputedStyle&&(f.innerHTML="",(a=ie.createElement("div")).style.width="0",a.style.marginRight="0",f.style.width="2px",f.appendChild(a),u.reliableMarginRight=0===(parseInt((y.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),void 0!==f.style.zoom&&(f.innerHTML="",f.style.width=f.style.padding="1px",f.style.border=0,f.style.overflow="hidden",f.style.display="inline",f.style.zoom=1,u.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.style.overflow="visible",f.innerHTML="<div style='width:5px;'></div>",u.shrinkWrapBlocks=3!==f.offsetWidth),f.style.cssText=s+l,f.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i=(t=f.firstChild).firstChild,n=t.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===n.offsetTop},i.style.position="fixed",i.style.top="20px",o.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",t.style.overflow="hidden",t.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,o.doesNotIncludeMarginInBodyOffset=1!==d.offsetTop,y.getComputedStyle&&(f.style.marginTop="1%",u.pixelMargin="1%"!==(y.getComputedStyle(f,null)||{marginTop:0}).marginTop),void 0!==e.style.zoom&&(e.style.zoom=1),d.removeChild(e),a=f=e=null,ae.extend(u,o))}),u}();var de=/^(?:\{.*\}|\[.*\])$/,ue=/([A-Z])/g;ae.extend({cache:{},uuid:0,expando:"jQuery"+(ae.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?ae.cache[e[ae.expando]]:e[ae.expando])&&!A(e)},data:function(e,t,i,n){if(ae.acceptData(e)){var o,a,r,s=ae.expando,l="string"==typeof t,c=e.nodeType,d=c?ae.cache:e,u=c?e[s]:e[s]&&s,h="events"===t;if(!(u&&d[u]&&(h||n||d[u].data)||!l||i!==C))return;return(u||(c?e[s]=u=++ae.uuid:u=s),d[u]||(d[u]={},c||(d[u].toJSON=ae.noop)),"object"!=typeof t&&"function"!=typeof t||(n?d[u]=ae.extend(d[u],t):d[u].data=ae.extend(d[u].data,t)),o=a=d[u],n||(a.data||(a.data={}),a=a.data),i!==C&&(a[ae.camelCase(t)]=i),h&&!a[t])?o.events:(l?null==(r=a[t])&&(r=a[ae.camelCase(t)]):r=a,r)}},removeData:function(e,t,i){if(ae.acceptData(e)){var n,o,a,r=ae.expando,s=e.nodeType,l=s?ae.cache:e,c=s?e[r]:r;if(!l[c])return;if(t&&(n=i?l[c]:l[c].data)){ae.isArray(t)||(t=t in n?[t]:(t=ae.camelCase(t))in n?[t]:t.split(" "));for(o=0,a=t.length;o<a;o++)delete n[t[o]];if(!(i?A:ae.isEmptyObject)(n))return}if(!i&&(delete l[c].data,!A(l[c])))return;ae.support.deleteExpando||!l.setInterval?delete l[c]:l[c]=null,s&&(ae.support.deleteExpando?delete e[r]:e.removeAttribute?e.removeAttribute(r):e[r]=null)}},_data:function(e,t,i){return ae.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=ae.noData[e.nodeName.toLowerCase()];if(t)return!0!==t&&e.getAttribute("classid")===t}return!0}}),ae.fn.extend({data:function(i,e){var n,o,t,a,r,s=this[0],l=0,c=null;if(i!==C)return"object"==typeof i?this.each(function(){ae.data(this,i)}):((n=i.split(".",2))[1]=n[1]?"."+n[1]:"",o=n[1]+"!",ae.access(this,function(t){if(t===C)return(c=this.triggerHandler("getData"+o,[n[0]]))===C&&s&&(c=ae.data(s,i),c=x(s,i,c)),c===C&&n[1]?this.data(n[0]):c;n[1]=t,this.each(function(){var e=ae(this);e.triggerHandler("setData"+o,n),ae.data(this,i,t),e.triggerHandler("changeData"+o,n)})},null,e,1<arguments.length,null,!1));if(this.length&&(c=ae.data(s),1===s.nodeType&&!ae._data(s,"parsedAttrs"))){for(r=(t=s.attributes).length;l<r;l++)0===(a=t[l].name).indexOf("data-")&&(a=ae.camelCase(a.substring(5)),x(s,a,c[a]));ae._data(s,"parsedAttrs",!0)}return c},removeData:function(e){return this.each(function(){ae.removeData(this,e)})}}),ae.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",ae._data(e,t,(ae._data(e,t)||0)+1))},_unmark:function(e,t,i){if(!0!==e&&(i=t,t=e,e=!1),t){var n=(i=i||"fx")+"mark",o=e?0:(ae._data(t,n)||1)-1;o?ae._data(t,n,o):(ae.removeData(t,n,!0),b(t,i,"mark"))}},queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ae._data(e,t),i&&(!n||ae.isArray(i)?n=ae._data(e,t,ae.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=ae.queue(e,t),n=i.shift(),o={};"inprogress"===n&&(n=i.shift()),n&&("fx"===t&&i.unshift("inprogress"),ae._data(e,t+".run",o),n.call(e,function(){ae.dequeue(e,t)},o)),i.length||(ae.removeData(e,t+"queue "+t+".run",!0),b(e,t,"queue"))}}),ae.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?ae.queue(this[0],t):i===C?this:this.each(function(){var e=ae.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&ae.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},delay:function(n,e){return n=ae.fx&&ae.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--s||o.resolveWith(a,[a])}"string"!=typeof e&&(t=e,e=C),e=e||"fx";for(var n,o=ae.Deferred(),a=this,r=a.length,s=1,l=e+"defer",c=e+"queue",d=e+"mark";r--;)(n=ae.data(a[r],l,C,!0)||(ae.data(a[r],c,C,!0)||ae.data(a[r],d,C,!0))&&ae.data(a[r],l,ae.Callbacks("once memory"),!0))&&(s++,n.add(i));return i(),o.promise(t)}});var he,pe,fe,me=/[\n\t\r]/g,ge=/\s+/,ve=/\r/g,be=/^(?:button|input)$/i,Ae=/^(?:button|input|object|select|textarea)$/i,ye=/^a(?:rea)?$/i,_e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,we=ae.support.getSetAttribute;ae.fn.extend({attr:function(e,t){return ae.access(this,ae.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})},prop:function(e,t){return ae.access(this,ae.prop,e,t,1<arguments.length)},removeProp:function(e){return e=ae.propFix[e]||e,this.each(function(){try{this[e]=C,delete this[e]}catch(e){}})},addClass:function(t){var e,i,n,o,a,r,s;if(ae.isFunction(t))return this.each(function(e){ae(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ge),i=0,n=this.length;i<n;i++)if(1===(o=this[i]).nodeType)if(o.className||1!==e.length){for(a=" "+o.className+" ",r=0,s=e.length;r<s;r++)~a.indexOf(" "+e[r]+" ")||(a+=e[r]+" ");o.className=ae.trim(a)}else o.className=t;return this},removeClass:function(t){var e,i,n,o,a,r,s;if(ae.isFunction(t))return this.each(function(e){ae(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===C)for(e=(t||"").split(ge),i=0,n=this.length;i<n;i++)if(1===(o=this[i]).nodeType&&o.className)if(t){for(a=(" "+o.className+" ").replace(me," "),r=0,s=e.length;r<s;r++)a=a.replace(" "+e[r]+" "," ");o.className=ae.trim(a)}else o.className="";return this},toggleClass:function(a,r){var s=typeof a,l="boolean"==typeof r;return ae.isFunction(a)?this.each(function(e){ae(this).toggleClass(a.call(this,e,this.className,r),r)}):this.each(function(){if("string"==s)for(var e,t=0,i=ae(this),n=r,o=a.split(ge);e=o[t++];)n=l?n:!i.hasClass(e),i[n?"addClass":"removeClass"](e);else"undefined"!=s&&"boolean"!=s||(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||!1===a?"":ae._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&-1<(" "+this[i].className+" ").replace(me," ").indexOf(t))return!0;return!1},val:function(n){var o,e,a,t=this[0];return arguments.length?(a=ae.isFunction(n),this.each(function(e){var t,i=ae(this);1===this.nodeType&&(null==(t=a?n.call(this,e,i.val()):n)?t="":"number"==typeof t?t+="":ae.isArray(t)&&(t=ae.map(t,function(e){return null==e?"":e+""})),(o=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()])&&"set"in o&&o.set(this,t,"value")!==C||(this.value=t))})):t?(o=ae.valHooks[t.type]||ae.valHooks[t.nodeName.toLowerCase()])&&"get"in o&&(e=o.get(t,"value"))!==C?e:"string"==typeof(e=t.value)?e.replace(ve,""):null==e?"":e:void 0}}),ae.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i,n,o,a=e.selectedIndex,r=[],s=e.options,l="select-one"===e.type;if(a<0)return null;for(i=l?a:0,n=l?a+1:s.length;i<n;i++)if((o=s[i]).selected&&(ae.support.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!ae.nodeName(o.parentNode,"optgroup"))){if(t=ae(o).val(),l)return t;r.push(t)}return l&&!r.length&&s.length?ae(s[a]).val():r},set:function(e,t){var i=ae.makeArray(t);return ae(e).find("option").each(function(){this.selected=0<=ae.inArray(ae(this).val(),i)}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,t,i,n){var o,a,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return n&&t in ae.attrFn?ae(e)[t](i):void 0===e.getAttribute?ae.prop(e,t,i):((r=1!==s||!ae.isXMLDoc(e))&&(t=t.toLowerCase(),a=ae.attrHooks[t]||(_e.test(t)?pe:he)),i!==C?null===i?void ae.removeAttr(e,t):a&&"set"in a&&r&&(o=a.set(e,i,t))!==C?o:(e.setAttribute(t,""+i),i):a&&"get"in a&&r&&null!==(o=a.get(e,t))?o:null===(o=e.getAttribute(t))?C:o)},removeAttr:function(e,t){var i,n,o,a,r,s=0;if(t&&1===e.nodeType)for(a=(n=t.toLowerCase().split(ge)).length;s<a;s++)(o=n[s])&&(i=ae.propFix[o]||o,(r=_e.test(o))||ae.attr(e,o,""),e.removeAttribute(we?o:i),r&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(be.test(e.nodeName)&&e.parentNode)ae.error("type property can't be changed");else if(!ae.support.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return he&&ae.nodeName(e,"button")?he.get(e,t):t in e?e.value:null},set:function(e,t,i){if(he&&ae.nodeName(e,"button"))return he.set(e,t,i);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,i){var n,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!ae.isXMLDoc(e))&&(t=ae.propFix[t]||t,o=ae.propHooks[t]),i!==C?o&&"set"in o&&(n=o.set(e,i,t))!==C?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):Ae.test(e.nodeName)||ye.test(e.nodeName)&&e.href?0:C}}}}),ae.attrHooks.tabindex=ae.propHooks.tabIndex,pe={get:function(e,t){var i,n=ae.prop(e,t);return!0===n||"boolean"!=typeof n&&(i=e.getAttributeNode(t))&&!1!==i.nodeValue?t.toLowerCase():C},set:function(e,t,i){var n;return!1===t?ae.removeAttr(e,i):((n=ae.propFix[i]||i)in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},we||(fe={name:!0,id:!0,coords:!0},he=ae.valHooks.button={get:function(e,t){var i;return(i=e.getAttributeNode(t))&&(fe[t]?""!==i.nodeValue:i.specified)?i.nodeValue:C},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=ie.createAttribute(i),e.setAttributeNode(n)),n.nodeValue=t+""}},ae.attrHooks.tabindex.set=he.set,ae.each(["width","height"],function(e,i){ae.attrHooks[i]=ae.extend(ae.attrHooks[i],{set:function(e,t){if(""===t)return e.setAttribute(i,"auto"),t}})}),ae.attrHooks.contenteditable={get:he.get,set:function(e,t,i){""===t&&(t="false"),he.set(e,t,i)}}),ae.support.hrefNormalized||ae.each(["href","src","width","height"],function(e,i){ae.attrHooks[i]=ae.extend(ae.attrHooks[i],{get:function(e){var t=e.getAttribute(i,2);return null===t?C:t}})}),ae.support.style||(ae.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||C},set:function(e,t){return e.style.cssText=""+t}}),ae.support.optSelected||(ae.propHooks.selected=ae.extend(ae.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ae.support.enctype||(ae.propFix.enctype="encoding"),ae.support.checkOn||ae.each(["radio","checkbox"],function(){ae.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]=ae.extend(ae.valHooks[this],{set:function(e,t){if(ae.isArray(t))return e.checked=0<=ae.inArray(ae(e).val(),t)}})});function xe(e){return ae.event.special.hover?e:e.replace(Se,"mouseenter$1 mouseleave$1")}var ke=/^(?:textarea|input|select)$/i,Ce=/^([^\.]*)?(?:\.(.+))?$/,Se=/(?:^|\s)hover(\.\S+)?\b/,Te=/^key/,Ee=/^(?:mouse|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ie=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/;ae.event={add:function(e,t,i,n,o){var a,r,s,l,c,d,u,h,p,f,m,g,v;if(3!==e.nodeType&&8!==e.nodeType&&t&&i&&(a=ae._data(e))){for(i.handler&&(i=(p=i).handler,o=p.selector),i.guid||(i.guid=ae.guid++),(s=a.events)||(a.events=s={}),(r=a.handle)||(a.handle=r=function(e){return void 0===ae||e&&ae.event.triggered===e.type?C:ae.event.dispatch.apply(r.elem,arguments)},r.elem=e),t=ae.trim(xe(t)).split(" "),l=0;l<t.length;l++)d=(c=Ce.exec(t[l])||[])[1],u=(c[2]||"").split(".").sort(),m=ae.event.special[d]||{},d=(o?m.delegateType:m.bindType)||d,m=ae.event.special[d]||{},h=ae.extend({type:d,origType:c[1],data:n,handler:i,guid:i.guid,selector:o,quick:o&&(g=o,v=void 0,(v=Ie.exec(g))&&(v[1]=(v[1]||"").toLowerCase(),v[3]=v[3]&&new RegExp("(?:^|\\s)"+v[3]+"(?:\\s|$)")),v),namespace:u.join(".")},p),(f=s[d])||((f=s[d]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(e,n,u,r)||(e.addEventListener?e.addEventListener(d,r,!1):e.attachEvent&&e.attachEvent("on"+d,r))),m.add&&(m.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),ae.event.global[d]=!0;e=null}},global:{},remove:function(e,t,i,n,o){var a,r,s,l,c,d,u,h,p,f,m,g,v=ae.hasData(e)&&ae._data(e);if(v&&(h=v.events)){for(t=ae.trim(xe(t||"")).split(" "),a=0;a<t.length;a++)if(s=l=(r=Ce.exec(t[a])||[])[1],c=r[2],s){for(p=ae.event.special[s]||{},d=(m=h[s=(n?p.delegateType:p.bindType)||s]||[]).length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<m.length;u++)g=m[u],!o&&l!==g.origType||i&&i.guid!==g.guid||c&&!c.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(m.splice(u--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(e,g));0===m.length&&d!==m.length&&(p.teardown&&!1!==p.teardown.call(e,c)||ae.removeEvent(e,s,v.handle),delete h[s])}else for(s in h)ae.event.remove(e,s+t[a],i,n,!0);ae.isEmptyObject(h)&&((f=v.handle)&&(f.elem=null),ae.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,i,n){if(!i||3!==i.nodeType&&8!==i.nodeType){var o,a,r,s,l,c,d,u,h,p,f=e.type||e,m=[];if(De.test(f+ae.event.triggered))return;if(0<=f.indexOf("!")&&(f=f.slice(0,-1),a=!0),0<=f.indexOf(".")&&(f=(m=f.split(".")).shift(),m.sort()),(!i||ae.event.customEvent[f])&&!ae.event.global[f])return;if((e="object"==typeof e?e[ae.expando]?e:new ae.Event(f,e):new ae.Event(f)).type=f,e.isTrigger=!0,e.exclusive=a,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,c=f.indexOf(":")<0?"on"+f:"",!i){for(r in o=ae.cache)o[r].events&&o[r].events[f]&&ae.event.trigger(e,t,o[r].handle.elem,!0);return}if(e.result=C,e.target||(e.target=i),(t=null!=t?ae.makeArray(t):[]).unshift(e),(d=ae.event.special[f]||{}).trigger&&!1===d.trigger.apply(i,t))return;if(h=[[i,d.bindType||f]],!n&&!d.noBubble&&!ae.isWindow(i)){for(p=d.delegateType||f,s=De.test(p+f)?i:i.parentNode,l=null;s;s=s.parentNode)h.push([s,p]),l=s;l&&l===i.ownerDocument&&h.push([l.defaultView||l.parentWindow||y,p])}for(r=0;r<h.length&&!e.isPropagationStopped();r++)s=h[r][0],e.type=h[r][1],(u=(ae._data(s,"events")||{})[e.type]&&ae._data(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&ae.acceptData(s)&&!1===u.apply(s,t)&&e.preventDefault();return e.type=f,n||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(i.ownerDocument,t)||"click"===f&&ae.nodeName(i,"a")||!ae.acceptData(i)||!c||!i[f]||("focus"===f||"blur"===f)&&0===e.target.offsetWidth||ae.isWindow(i)||((l=i[c])&&(i[c]=null),i[ae.event.triggered=f](),ae.event.triggered=C,l&&(i[c]=l)),e.result}},dispatch:function(e){e=ae.event.fix(e||y.event);var t,i,n,o,a,r,s,l,c,d,u,h,p,f=(ae._data(this,"events")||{})[e.type]||[],m=f.delegateCount,g=[].slice.call(arguments,0),v=!e.exclusive&&!e.namespace,b=ae.event.special[e.type]||{},A=[];if((g[0]=e).delegateTarget=this,!b.preDispatch||!1!==b.preDispatch.call(this,e)){if(m&&(!e.button||"click"!==e.type))for((o=ae(this)).context=this.ownerDocument||this,n=e.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled){for(r={},l=[],o[0]=n,t=0;t<m;t++)r[d=(c=f[t]).selector]===C&&(r[d]=c.quick?(u=n,h=c.quick,p=u.attributes||{},(!h[1]||u.nodeName.toLowerCase()===h[1])&&(!h[2]||(p.id||{}).value===h[2])&&(!h[3]||h[3].test((p.class||{}).value))):o.is(d)),r[d]&&l.push(c);l.length&&A.push({elem:n,matches:l})}for(f.length>m&&A.push({elem:this,matches:f.slice(m)}),t=0;t<A.length&&!e.isPropagationStopped();t++)for(s=A[t],e.currentTarget=s.elem,i=0;i<s.matches.length&&!e.isImmediatePropagationStopped();i++)c=s.matches[i],(v||!e.namespace&&!c.namespace||e.namespace_re&&e.namespace_re.test(c.namespace))&&(e.data=c.data,e.handleObj=c,(a=((ae.event.special[c.origType]||{}).handle||c.handler).apply(s.elem,g))!==C&&(!1===(e.result=a)&&(e.preventDefault(),e.stopPropagation())));return b.postDispatch&&b.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,a=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||ie).documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||a===C||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[ae.expando])return e;var t,i,n=e,o=ae.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=ae.Event(n),t=a.length;t;)e[i=a[--t]]=n[i];return e.target||(e.target=n.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===C&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,n):e},special:{ready:{setup:ae.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){ae.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var o=ae.extend(new ae.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ae.event.trigger(o,null,t):ae.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},ae.event.handle=ae.event.dispatch,ae.removeEvent=ie.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},ae.Event=function(e,t){if(!(this instanceof ae.Event))return new ae.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?m:v):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),this[ae.expando]=!0},ae.Event.prototype={preventDefault:function(){this.isDefaultPrevented=m;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=m;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()},isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v},ae.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,o){ae.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;n.selector;return i&&(i===this||ae.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),ae.support.submitBubbles||(ae.event.special.submit={setup:function(){if(ae.nodeName(this,"form"))return!1;ae.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ae.nodeName(t,"input")||ae.nodeName(t,"button")?t.form:C;i&&!i._submit_attached&&(ae.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),i._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ae.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ae.nodeName(this,"form"))return!1;ae.event.remove(this,"._submit")}}),ae.support.changeBubbles||(ae.event.special.change={setup:function(){if(ke.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ae.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,ae.event.simulate("change",this,e,!0))})),!1;ae.event.add(this,"beforeactivate._change",function(e){var t=e.target;ke.test(t.nodeName)&&!t._change_attached&&(ae.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ae.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ae.event.remove(this,"._change"),ke.test(this.nodeName)}}),ae.support.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(e,t){function i(e){ae.event.simulate(t,e.target,ae.event.fix(e),!0)}var n=0;ae.event.special[t]={setup:function(){0==n++&&ie.addEventListener(e,i,!0)},teardown:function(){0==--n&&ie.removeEventListener(e,i,!0)}}}),ae.fn.extend({on:function(e,t,i,n,o){var a,r;if("object"==typeof e){for(r in"string"!=typeof t&&(i=i||t,t=C),e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=C):null==n&&("string"==typeof t?(n=i,i=C):(n=i,i=t,t=C)),!1===n)n=v;else if(!n)return this;return 1===o&&(a=n,(n=function(e){return ae().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ae.guid++)),this.each(function(){ae.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){if(e&&e.preventDefault&&e.handleObj){var n=e.handleObj;return ae(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this}if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=C),!1===i&&(i=v),this.each(function(){ae.event.remove(this,e,i,t)});for(var o in e)this.off(o,t,e[o]);return this},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return ae(this.context).on(e,this.selector,t,i),this},die:function(e,t){return ae(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1==arguments.length?this.off(e,"**"):this.off(t,e,i)},trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return ae.event.trigger(e,t,this[0],!0)},toggle:function(i){function e(e){var t=(ae._data(this,"lastToggle"+i.guid)||0)%o;return ae._data(this,"lastToggle"+i.guid,1+t),e.preventDefault(),n[t].apply(this,arguments)||!1}var n=arguments,t=i.guid||ae.guid++,o=0;for(e.guid=t;o<n.length;)n[o++].guid=t;return this.click(e)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){ae.fn[i]=function(e,t){return null==t&&(t=e,e=null),0<arguments.length?this.on(i,null,e,t):this.trigger(i)},ae.attrFn&&(ae.attrFn[i]=!0),Te.test(i)&&(ae.event.fixHooks[i]=ae.event.keyHooks),Ee.test(i)&&(ae.event.fixHooks[i]=ae.event.mouseHooks)}),function(){function r(e,t,i,n,o,a){for(var r=0,s=n.length;r<s;r++){var l=n[r];if(l){var c=!1;for(l=l[e];l;){if(l[d]===i){c=n[l.sizset];break}if(1===l.nodeType)if(a||(l[d]=i,l.sizset=r),"string"!=typeof t){if(l===t){c=!0;break}}else if(0<A.filter(t,[l]).length){c=l;break}l=l[e]}n[r]=c}}}function s(e,t,i,n,o,a){for(var r=0,s=n.length;r<s;r++){var l=n[r];if(l){var c=!1;for(l=l[e];l;){if(l[d]===i){c=n[l.sizset];break}if(1!==l.nodeType||a||(l[d]=i,l.sizset=r),l.nodeName.toLowerCase()===t){c=l;break}l=l[e]}n[r]=c}}}var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),l=0,b=Object.prototype.toString,u=!1,i=!0,c=/\\/g,a=/\r\n/g,h=/\W/;[0,0].sort(function(){return i=!1,0});var A=function(e,t,i,n){i=i||[];var o=t=t||ie;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var a,r,s,l,c,d,u,h,p=!0,f=A.isXML(t),m=[],g=e;do{if(v.exec(""),(a=v.exec(g))&&(g=a[3],m.push(a[1]),a[2])){l=a[3];break}}while(a);if(1<m.length&&_.exec(e))if(2===m.length&&y.relative[m[0]])r=k(m[0]+m[1],t,n);else for(r=y.relative[m[0]]?[t]:A(m.shift(),t);m.length;)e=m.shift(),y.relative[e]&&(e+=m.shift()),r=k(e,r,n);else if(!n&&1<m.length&&9===t.nodeType&&!f&&y.match.ID.test(m[0])&&!y.match.ID.test(m[m.length-1])&&(t=(c=A.find(m.shift(),t,f)).expr?A.filter(c.expr,c.set)[0]:c.set[0]),t)for(r=(c=n?{expr:m.pop(),set:x(n)}:A.find(m.pop(),1!==m.length||"~"!==m[0]&&"+"!==m[0]||!t.parentNode?t:t.parentNode,f)).expr?A.filter(c.expr,c.set):c.set,0<m.length?s=x(r):p=!1;m.length;)u=d=m.pop(),y.relative[d]?u=m.pop():d="",null==u&&(u=t),y.relative[d](s,u,f);else s=m=[];if((s=s||r)||A.error(d||e),"[object Array]"===b.call(s))if(p)if(t&&1===t.nodeType)for(h=0;null!=s[h];h++)s[h]&&(!0===s[h]||1===s[h].nodeType&&A.contains(t,s[h]))&&i.push(r[h]);else for(h=0;null!=s[h];h++)s[h]&&1===s[h].nodeType&&i.push(r[h]);else i.push.apply(i,s);else x(s,i);return l&&(A(l,o,i,n),A.uniqueSort(i)),i};A.uniqueSort=function(e){if(n&&(u=i,e.sort(n),u))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},A.matches=function(e,t){return A(e,null,null,t)},A.matchesSelector=function(e,t){return 0<A(t,null,null,[e]).length},A.find=function(e,t,i){var n,o,a,r,s,l;if(!e)return[];for(o=0,a=y.order.length;o<a;o++)if(s=y.order[o],(r=y.leftMatch[s].exec(e))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),null!=(n=y.find[s](r,t,i))))){e=e.replace(y.match[s],"");break}return{set:n=n||(void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):[]),expr:e}},A.filter=function(e,t,i,n){for(var o,a,r,s,l,c,d,u,h,p=e,f=[],m=t,g=t&&t[0]&&A.isXML(t[0]);e&&t.length;){for(r in y.filter)if(null!=(o=y.leftMatch[r].exec(e))&&o[2]){if(c=y.filter[r],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(m===f&&(f=[]),y.preFilter[r])if(o=y.preFilter[r](o,m,i,f,n,g)){if(!0===o)continue}else a=s=!0;if(o)for(u=0;null!=(l=m[u]);u++)l&&(h=n^(s=c(l,o,u,m)),i&&null!=s?h?a=!0:m[u]=!1:h&&(f.push(l),a=!0));if(s!==C){if(i||(m=f),e=e.replace(y.match[r],""),!a)return[];break}}if(e===p){if(null!=a)break;A.error(e)}p=e}return m},A.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function e(e,t){return"\\"+(+t+1)}var p=A.getText=function(e){var t,i,n=e.nodeType,o="";if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(a,"");for(e=e.firstChild;e;e=e.nextSibling)o+=p(e)}else if(3===n||4===n)return e.nodeValue}else for(t=0;i=e[t];t++)8!==i.nodeType&&(o+=p(i));return o},y=A.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,n=i&&!h.test(t),o=i&&!n;n&&(t=t.toLowerCase());for(var a,r=0,s=e.length;r<s;r++)if(a=e[r]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[r]=o||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}o&&A.filter(t,e,!0)},">":function(e,t){var i,n="string"==typeof t,o=0,a=e.length;if(n&&!h.test(t)){for(t=t.toLowerCase();o<a;o++)if(i=e[o]){var r=i.parentNode;e[o]=r.nodeName.toLowerCase()===t&&r}}else{for(;o<a;o++)(i=e[o])&&(e[o]=n?i.parentNode:i.parentNode===t);n&&A.filter(t,e,!0)}},"":function(e,t,i){var n,o=l++,a=r;"string"!=typeof t||h.test(t)||(n=t=t.toLowerCase(),a=s),a("parentNode",t,o,e,n,i)},"~":function(e,t,i){var n,o=l++,a=r;"string"!=typeof t||h.test(t)||(n=t=t.toLowerCase(),a=s),a("previousSibling",t,o,e,n,i)}},find:{ID:function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e[1]);return n&&n.parentNode?[n]:[]}},NAME:function(e,t){if(void 0!==t.getElementsByName){for(var i=[],n=t.getElementsByName(e[1]),o=0,a=n.length;o<a;o++)n[o].getAttribute("name")===e[1]&&i.push(n[o]);return 0===i.length?null:i}},TAG:function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,n,o,a){if(e=" "+e[1].replace(c,"")+" ",a)return e;for(var r,s=0;null!=(r=t[s]);s++)r&&(o^(r.className&&0<=(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(e))?i||n.push(r):i&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||A.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===e[2]?"2n":"odd"===e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=+(t[1]+(t[2]||1)),e[3]=+t[3]}else e[2]&&A.error(e[0]);return e[0]=l++,e},ATTR:function(e,t,i,n,o,a){var r=e[1]=e[1].replace(c,"");return!a&&y.attrMap[r]&&(e[1]=y.attrMap[r]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,n,o){if("not"===e[1]){if(!(1<(v.exec(e[3])||"").length||/^\w/.test(e[3]))){var a=A.filter(e[3],t,i,!0^o);return i||n.push.apply(n,a),!1}e[3]=A(e[3],null,null,t)}else if(y.match.POS.test(e[0])||y.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!A(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,n){return t===n.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,i){return t<+i[3]},gt:function(e,t,i){return t>+i[3]},nth:function(e,t,i){return+i[3]===t},eq:function(e,t,i){return+i[3]===t}},filter:{PSEUDO:function(e,t,i,n){var o=t[1],a=y.filters[o];if(a)return a(e,i,t,n);if("contains"===o)return 0<=(e.textContent||e.innerText||p([e])||"").indexOf(t[3]);if("not"===o){for(var r=t[3],s=0,l=r.length;s<l;s++)if(r[s]===e)return!1;return!0}A.error(o)},CHILD:function(e,t){var i,n,o,a,r,s,l=t[1],c=e;switch(l){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===l)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(i=t[2],n=t[3],1===i&&0===n)return!0;if(o=t[0],(a=e.parentNode)&&(a[d]!==o||!e.nodeIndex)){for(r=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++r);a[d]=o}return s=e.nodeIndex-n,0===i?0==s:s%i==0&&0<=s/i}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return-1<(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)},ATTR:function(e,t){var i=t[1],n=A.attr?A.attr(e,i):y.attrHandle[i]?y.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),o=n+"",a=t[2],r=t[4];return null==n?"!="===a:!a&&A.attr?null!=n:"="===a?o===r:"*="===a?0<=o.indexOf(r):"~="===a?0<=(" "+o+" ").indexOf(r):r?"!="===a?o!==r:"^="===a?0===o.indexOf(r):"$="===a?o.substr(o.length-r.length)===r:"|="===a&&(o===r||o.substr(0,r.length+1)===r+"-"):o&&!1!==n},POS:function(e,t,i,n){var o=t[2],a=y.setFilters[o];if(a)return a(e,i,t,n)}}},_=y.match.POS;for(var t in y.match)y.match[t]=new RegExp(y.match[t].source+/(?![^\[]*\])(?![^\(]*\))/.source),y.leftMatch[t]=new RegExp(/(^(?:.|\r|\n)*?)/.source+y.match[t].source.replace(/\\(\d+)/g,e));y.match.globalPOS=_;var n,f,o,m,g,w,x=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(ie.documentElement.childNodes,0)[0].nodeType}catch(e){x=function(e,t){var i=0,n=t||[];if("[object Array]"===b.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var o=e.length;i<o;i++)n.push(e[i]);else for(;e[i];i++)n.push(e[i]);return n}}ie.documentElement.compareDocumentPosition?n=function(e,t){return e===t?(u=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(n=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,o=[],a=[],r=e.parentNode,s=t.parentNode,l=r;if(r===s)return f(e,t);if(!r)return-1;if(!s)return 1;for(;l;)o.unshift(l),l=l.parentNode;for(l=s;l;)a.unshift(l),l=l.parentNode;i=o.length,n=a.length;for(var c=0;c<i&&c<n;c++)if(o[c]!==a[c])return f(o[c],a[c]);return c===i?f(e,a[c],-1):f(o[c],t,1)},f=function(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}),m=ie.createElement("div"),g="script"+(new Date).getTime(),w=ie.documentElement,m.innerHTML="<a name='"+g+"'/>",w.insertBefore(m,w.firstChild),ie.getElementById(g)&&(y.find.ID=function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e[1]);return n?n.id===e[1]||void 0!==n.getAttributeNode&&n.getAttributeNode("id").nodeValue===e[1]?[n]:C:[]}},y.filter.ID=function(e,t){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),w.removeChild(m),w=m=null,(o=ie.createElement("div")).appendChild(ie.createComment("")),0<o.getElementsByTagName("*").length&&(y.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var n=[],o=0;i[o];o++)1===i[o].nodeType&&n.push(i[o]);i=n}return i}),o.innerHTML="<a href='#'></a>",o.firstChild&&void 0!==o.firstChild.getAttribute&&"#"!==o.firstChild.getAttribute("href")&&(y.attrHandle.href=function(e){return e.getAttribute("href",2)}),o=null,ie.querySelectorAll&&function(){var u=A,e=ie.createElement("div");if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){for(var t in A=function(e,t,i,n){if(t=t||ie,!n&&!A.isXML(t)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(o&&(1===t.nodeType||9===t.nodeType)){if(o[1])return x(t.getElementsByTagName(e),i);if(o[2]&&y.find.CLASS&&t.getElementsByClassName)return x(t.getElementsByClassName(o[2]),i)}if(9===t.nodeType){if("body"===e&&t.body)return x([t.body],i);if(o&&o[3]){var a=t.getElementById(o[3]);if(!a||!a.parentNode)return x([],i);if(a.id===o[3])return x([a],i)}try{return x(t.querySelectorAll(e),i)}catch(e){}}else if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){var r=t,s=t.getAttribute("id"),l=s||"__sizzle__",c=t.parentNode,d=/^\s*[+~]/.test(e);s?l=l.replace(/'/g,"\\$&"):t.setAttribute("id",l),d&&c&&(t=t.parentNode);try{if(!d||c)return x(t.querySelectorAll("[id='"+l+"'] "+e),i)}catch(e){}finally{s||r.removeAttribute("id")}}}return u(e,t,i,n)},u)A[t]=u[t];e=null}}(),function(){var e=ie.documentElement,n=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(n){var o=!n.call(ie.createElement("div"),"div"),a=!1;try{n.call(ie.documentElement,"[test!='']:sizzle")}catch(e){a=!0}A.matchesSelector=function(e,t){if(t=t.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!A.isXML(e))try{if(a||!y.match.PSEUDO.test(t)&&!/!=/.test(t)){var i=n.call(e,t);if(i||!o||e.document&&11!==e.document.nodeType)return i}}catch(e){}return 0<A(t,null,null,[e]).length}}}(),function(){var e=ie.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;y.order.splice(1,0,"CLASS"),y.find.CLASS=function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e[1])},e=null}}(),ie.documentElement.contains?A.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:ie.documentElement.compareDocumentPosition?A.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:A.contains=function(){return!1},A.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var k=function(e,t,i){for(var n,o=[],a="",r=t.nodeType?[t]:t;n=y.match.PSEUDO.exec(e);)a+=n[0],e=e.replace(y.match.PSEUDO,"");e=y.relative[e]?e+"*":e;for(var s=0,l=r.length;s<l;s++)A(e,r[s],o,i);return A.filter(a,o)};A.attr=ae.attr,A.selectors.attrMap={},ae.find=A,ae.expr=A.selectors,ae.expr[":"]=ae.expr.filters,ae.unique=A.uniqueSort,ae.text=A.getText,ae.isXMLDoc=A.isXML,ae.contains=A.contains}();var $e=/Until$/,Pe=/^(?:parents|prevUntil|prevAll)/,Me=/,/,Oe=/^.[^:#\[\.,]*$/,Ne=Array.prototype.slice,Le=ae.expr.match.globalPOS,je={children:!0,contents:!0,next:!0,prev:!0};ae.fn.extend({find:function(e){var t,i,n=this;if("string"!=typeof e)return ae(e).filter(function(){for(t=0,i=n.length;t<i;t++)if(ae.contains(n[t],this))return!0});var o,a,r,s=this.pushStack("","find",e);for(t=0,i=this.length;t<i;t++)if(o=s.length,ae.find(e,this[t],s),0<t)for(a=o;a<s.length;a++)for(r=0;r<o;r++)if(s[r]===s[a]){s.splice(a--,1);break}return s},has:function(e){var i=ae(e);return this.filter(function(){for(var e=0,t=i.length;e<t;e++)if(ae.contains(this,i[e]))return!0})},not:function(e){return this.pushStack(p(this,e,!1),"not",e)},filter:function(e){return this.pushStack(p(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Le.test(e)?0<=ae(e,this.context).index(this[0]):0<ae.filter(e,this).length:0<this.filter(e).length)},closest:function(e,t){var i,n,o=[],a=this[0];if(ae.isArray(e)){for(var r=1;a&&a.ownerDocument&&a!==t;){for(i=0;i<e.length;i++)ae(a).is(e[i])&&o.push({selector:e[i],elem:a,level:r});a=a.parentNode,r++}return o}var s=Le.test(e)||"string"!=typeof e?ae(e,t||this.context):0;for(i=0,n=this.length;i<n;i++)for(a=this[i];a;){if(s?-1<s.index(a):ae.find.matchesSelector(a,e)){o.push(a);break}if(!(a=a.parentNode)||!a.ownerDocument||a===t||11===a.nodeType)break}return o=1<o.length?ae.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?ae.inArray(this[0],ae(e)):ae.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ae(e,t):ae.makeArray(e&&e.nodeType?[e]:e),n=ae.merge(this.get(),i);return this.pushStack(f(i[0])||f(n[0])?n:ae.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ae.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ae.dir(e,"parentNode",i)},next:function(e){return ae.nth(e,2,"nextSibling")},prev:function(e){return ae.nth(e,2,"previousSibling")},nextAll:function(e){return ae.dir(e,"nextSibling")},prevAll:function(e){return ae.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ae.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ae.dir(e,"previousSibling",i)},siblings:function(e){return ae.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ae.sibling(e.firstChild)},contents:function(e){return ae.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ae.makeArray(e.childNodes)}},function(n,o){ae.fn[n]=function(e,t){var i=ae.map(this,o,e);return $e.test(n)||(t=e),t&&"string"==typeof t&&(i=ae.filter(t,i)),i=1<this.length&&!je[n]?ae.unique(i):i,(1<this.length||Me.test(t))&&Pe.test(n)&&(i=i.reverse()),this.pushStack(i,n,Ne.call(arguments).join(","))}}),ae.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?ae.find.matchesSelector(t[0],e)?[t[0]]:[]:ae.find.matches(e,t)},dir:function(e,t,i){for(var n=[],o=e[t];o&&9!==o.nodeType&&(i===C||1!==o.nodeType||!ae(o).is(i));)1===o.nodeType&&n.push(o),o=o[t];return n},nth:function(e,t,i,n){t=t||1;for(var o=0;e&&(1!==e.nodeType||++o!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Fe=/ jQuery\d+="(?:\d+|null)"/g,ze=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,We=/<tbody/i,Ve=/<|&#?\w+;/,Ue=/<(?:script|style)/i,Be=/<(?:script|object|embed|option|style)/i,Ye=new RegExp("<(?:"+Re+")[\\s/>]","i"),Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Je=/\/(java|ecma)script/i,Ge=/^\s*<!(?:\[CDATA\[|\-\-)/,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Qe=w(ie);Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,ae.support.htmlSerialize||(Xe._default=[1,"div<div>","</div>"]),ae.fn.extend({text:function(e){return ae.access(this,function(e){return e===C?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},wrapAll:function(t){if(ae.isFunction(t))return this.each(function(e){ae(this).wrapAll(t.call(this,e))});if(this[0]){var e=ae(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return ae.isFunction(i)?this.each(function(e){ae(this).wrapInner(i.call(this,e))}):this.each(function(){var e=ae(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=ae.isFunction(t);return this.each(function(e){ae(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=ae.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,ae.clean(arguments)),e}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)e&&!ae.filter(e,[i]).length||(t||1!==i.nodeType||(ae.cleanData(i.getElementsByTagName("*")),ae.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&ae.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return ae.access(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===C)return 1===t.nodeType?t.innerHTML.replace(Fe,""):null;if("string"==typeof e&&!Ue.test(e)&&(ae.support.leadingWhitespace||!ze.test(e))&&!Xe[(He.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(ae.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(n){return this[0]&&this[0].parentNode?ae.isFunction(n)?this.each(function(e){var t=ae(this),i=t.html();t.replaceWith(n.call(this,e,i))}):("string"!=typeof n&&(n=ae(n).detach()),this.each(function(){var e=this.nextSibling,t=this.parentNode;ae(this).remove(),e?ae(e).before(n):ae(t).append(n)})):this.length?this.pushStack(ae(ae.isFunction(n)?n():n),"replaceWith",n):this},detach:function(e){return this.remove(e,!0)},domManip:function(i,n,o){var e,t,a,r,s,l=i[0],c=[];if(!ae.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ke.test(l))return this.each(function(){ae(this).domManip(i,n,o,!0)});if(ae.isFunction(l))return this.each(function(e){var t=ae(this);i[0]=l.call(this,e,n?t.html():C),t.domManip(i,n,o)});if(this[0]){if(r=l&&l.parentNode,t=1===(a=(e=ae.support.parentNode&&r&&11===r.nodeType&&r.childNodes.length===this.length?{fragment:r}:ae.buildFragment(i,this,c)).fragment).childNodes.length?a=a.firstChild:a.firstChild){n=n&&ae.nodeName(t,"tr");for(var d=0,u=this.length,h=u-1;d<u;d++)o.call(n?(s=this[d],ae.nodeName(s,"table")?s.getElementsByTagName("tbody")[0]||s.appendChild(s.ownerDocument.createElement("tbody")):s):this[d],e.cacheable||1<u&&d<h?ae.clone(a,!0,!0):a)}c.length&&ae.each(c,function(e,t){t.src?ae.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):ae.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ge,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),ae.buildFragment=function(e,t,i){var n,o,a,r,s=e[0];return t&&t[0]&&(r=t[0].ownerDocument||t[0]),r.createDocumentFragment||(r=ie),!(1===e.length&&"string"==typeof s&&s.length<512&&r===ie&&"<"===s.charAt(0))||Be.test(s)||!ae.support.checkClone&&Ke.test(s)||!ae.support.html5Clone&&Ye.test(s)||(o=!0,(a=ae.fragments[s])&&1!==a&&(n=a)),n||(n=r.createDocumentFragment(),ae.clean(e,r,n,i)),o&&(ae.fragments[s]=a?n:1),{fragment:n,cacheable:o}},ae.fragments={},ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,l){ae.fn[s]=function(e){var t=[],i=ae(e),n=1===this.length&&this[0].parentNode;if(n&&11===n.nodeType&&1===n.childNodes.length&&1===i.length)return i[l](this[0]),this;for(var o=0,a=i.length;o<a;o++){var r=(0<o?this.clone(!0):this).get();ae(i[o])[l](r),t=t.concat(r)}return this.pushStack(t,s,i.selector)}}),ae.extend({clone:function(e,t,i){var n,o,a,r,s,l=ae.support.html5Clone||ae.isXMLDoc(e)||!Ye.test("<"+e.nodeName+">")?e.cloneNode(!0):(r=e,s=ie.createElement("div"),Qe.appendChild(s),s.innerHTML=r.outerHTML,s.firstChild);if(!(ae.support.noCloneEvent&&ae.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(u(e,l),n=c(e),o=c(l),a=0;n[a];++a)o[a]&&u(n[a],o[a]);if(t&&(h(e,l),i))for(n=c(e),o=c(l),a=0;n[a];++a)h(n[a],o[a]);return n=o=null,l},clean:function(e,t,i,n){var o,a,r,s=[];void 0===(t=t||ie).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||ie);for(var l,c=0;null!=(l=e[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(Ve.test(l)){l=l.replace(qe,"<$1></$2>");var d,u=(He.exec(l)||["",""])[1].toLowerCase(),h=Xe[u]||Xe._default,p=h[0],f=t.createElement("div"),m=Qe.childNodes;for(t===ie?Qe.appendChild(f):w(t).appendChild(f),f.innerHTML=h[1]+l+h[2];p--;)f=f.lastChild;if(!ae.support.tbody){var g=We.test(l),v="table"!==u||g?"<table>"!==h[1]||g?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes;for(r=v.length-1;0<=r;--r)ae.nodeName(v[r],"tbody")&&!v[r].childNodes.length&&v[r].parentNode.removeChild(v[r])}!ae.support.leadingWhitespace&&ze.test(l)&&f.insertBefore(t.createTextNode(ze.exec(l)[0]),f.firstChild),l=f.childNodes,f&&(f.parentNode.removeChild(f),0<m.length&&((d=m[m.length-1])&&d.parentNode&&d.parentNode.removeChild(d)))}else l=t.createTextNode(l);var b;if(!ae.support.appendChecked)if(l[0]&&"number"==typeof(b=l.length))for(r=0;r<b;r++)_(l[r]);else _(l);l.nodeType?s.push(l):s=ae.merge(s,l)}if(i)for(o=function(e){return!e.type||Je.test(e.type)},c=0;s[c];c++)if(a=s[c],n&&ae.nodeName(a,"script")&&(!a.type||Je.test(a.type)))n.push(a.parentNode?a.parentNode.removeChild(a):a);else{if(1===a.nodeType){var A=ae.grep(a.getElementsByTagName("script"),o);s.splice.apply(s,[c+1,0].concat(A))}i.appendChild(a)}return s},cleanData:function(e){for(var t,i,n,o=ae.cache,a=ae.event.special,r=ae.support.deleteExpando,s=0;null!=(n=e[s]);s++)if((!n.nodeName||!ae.noData[n.nodeName.toLowerCase()])&&(i=n[ae.expando])){if((t=o[i])&&t.events){for(var l in t.events)a[l]?ae.event.remove(n,l):ae.removeEvent(n,l,t.handle);t.handle&&(t.handle.elem=null)}r?delete n[ae.expando]:n.removeAttribute&&n.removeAttribute(ae.expando),delete o[i]}}});var Ze,et,tt,it=/alpha\([^)]*\)/i,nt=/opacity=([^)]*)/,ot=/([A-Z]|^ms)/g,at=/^[\-+]?(?:\d*\.)?\d+$/i,rt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,st=/^([\-+])=([\-+.\de]+)/,lt=/^margin/,ct={position:"absolute",visibility:"hidden",display:"block"},dt=["Top","Right","Bottom","Left"];ae.fn.css=function(e,t){return ae.access(this,function(e,t,i){return i!==C?ae.style(e,t,i):ae.css(e,t)},e,t,1<arguments.length)},ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ze(e,"opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ae.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r=ae.camelCase(t),s=e.style,l=ae.cssHooks[r];if(t=ae.cssProps[r]||r,i===C)return l&&"get"in l&&(o=l.get(e,!1,n))!==C?o:s[t];if("string"===(a=typeof i)&&(o=st.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ae.css(e,t)),a="number"),null==i||"number"===a&&isNaN(i))return;if("number"!==a||ae.cssNumber[r]||(i+="px"),!(l&&"set"in l&&(i=l.set(e,i))===C))try{s[t]=i}catch(e){}}},css:function(e,t,i){var n,o;return t=ae.camelCase(t),o=ae.cssHooks[t],"cssFloat"===(t=ae.cssProps[t]||t)&&(t="float"),o&&"get"in o&&(n=o.get(e,!0,i))!==C?n:Ze?Ze(e,t):void 0},swap:function(e,t,i){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in n=i.call(e),t)e.style[o]=a[o];return n}}),ae.curCSS=ae.css,ie.defaultView&&ie.defaultView.getComputedStyle&&(et=function(e,t){var i,n,o,a,r=e.style;return t=t.replace(ot,"-$1").toLowerCase(),(n=e.ownerDocument.defaultView)&&(o=n.getComputedStyle(e,null))&&(""!==(i=o.getPropertyValue(t))||ae.contains(e.ownerDocument.documentElement,e)||(i=ae.style(e,t))),!ae.support.pixelMargin&&o&&lt.test(t)&&rt.test(i)&&(a=r.width,r.width=i,i=o.width,r.width=a),i}),ie.documentElement.currentStyle&&(tt=function(e,t){var i,n,o,a=e.currentStyle&&e.currentStyle[t],r=e.style;return null==a&&r&&(o=r[t])&&(a=o),rt.test(a)&&(i=r.left,(n=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a,a=r.pixelLeft+"px",r.left=i,n&&(e.runtimeStyle.left=n)),""===a?"auto":a}),Ze=et||tt,ae.each(["height","width"],function(e,n){ae.cssHooks[n]={get:function(e,t,i){if(t)return 0!==e.offsetWidth?o(e,n,i):ae.swap(e,ct,function(){return o(e,n,i)})},set:function(e,t){return at.test(t)?t+"px":t}}}),ae.support.opacity||(ae.cssHooks.opacity={get:function(e,t){return nt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=ae.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=n&&n.filter||i.filter||"";(i.zoom=1)<=t&&""===ae.trim(a.replace(it,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=it.test(a)?a.replace(it,o):a+" "+o)}}),ae(function(){ae.support.reliableMarginRight||(ae.cssHooks.marginRight={get:function(e,t){return ae.swap(e,{display:"inline-block"},function(){return t?Ze(e,"margin-right"):e.style.marginRight})}})}),ae.expr&&ae.expr.filters&&(ae.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!ae.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ae.css(e,"display"))},ae.expr.filters.visible=function(e){return!ae.expr.filters.hidden(e)}),ae.each({margin:"",padding:"",border:"Width"},function(o,a){ae.cssHooks[o+a]={expand:function(e){var t,i="string"==typeof e?e.split(" "):[e],n={};for(t=0;t<4;t++)n[o+dt[t]+a]=i[t]||i[t-2]||i[0];return n}}});var ut,ht,pt=/%20/g,ft=/\[\]$/,mt=/\r?\n/g,gt=/#.*$/,vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,bt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,At=/^(?:GET|HEAD)$/,yt=/^\/\//,_t=/\?/,wt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,xt=/^(?:select|textarea)/i,kt=/\s+/,Ct=/([?&])_=[^&]*/,St=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Tt=ae.fn.load,Et={},Dt={},It=["*/"]+["*"];try{ut=oe.href}catch(e){(ut=ie.createElement("a")).href="",ut=ut.href}ht=St.exec(ut.toLowerCase())||[],ae.fn.extend({load:function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(0<=i){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";t&&(ae.isFunction(t)?(n=t,t=C):"object"==typeof t&&(t=ae.param(t,ae.ajaxSettings.traditional),a="POST"));var r=this;return ae.ajax({url:e,type:a,dataType:"html",data:t,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),r.html(o?ae("<div>").append(i.replace(wt,"")).find(o):i)),n&&r.each(n,[i,t,e])}}),this},serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?ae.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xt.test(this.nodeName)||bt.test(this.type))}).map(function(e,i){var t=ae(this).val();return null==t?null:ae.isArray(t)?ae.map(t,function(e,t){return{name:i.name,value:e.replace(mt,"\r\n")}}):{name:i.name,value:t.replace(mt,"\r\n")}}).get()}}),ae.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.each(["get","post"],function(e,o){ae[o]=function(e,t,i,n){return ae.isFunction(t)&&(n=n||i,i=t,t=C),ae.ajax({type:o,url:e,data:t,success:i,dataType:n})}}),ae.extend({getScript:function(e,t){return ae.get(e,C,t,"script")},getJSON:function(e,t,i){return ae.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?i(e,ae.ajaxSettings):(t=e,e=ae.ajaxSettings),i(e,t),e},ajaxSettings:{url:ut,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ht[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":It},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":y.String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:n(Et),ajaxTransport:n(Dt),ajax:function(e,t){function i(e,t,i,n){if(2!==w){w=2,f&&clearTimeout(f),p=C,h=n||"",x.readyState=0<e?4:0;var o,a,r,s,l,c=t,d=i?function(e,t,i){var n,o,a,r,s=e.contents,l=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(t[c[o]]=i[o]);for(;"*"===l[0];)l.shift(),n===C&&(n=e.mimeType||t.getResponseHeader("content-type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)a=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}r=r||o}a=a||r}if(a)return a!==l[0]&&l.unshift(a),i[a]}(g,x,i):C;if(200<=e&&e<300||304===e)if(g.ifModified&&((s=x.getResponseHeader("Last-Modified"))&&(ae.lastModified[u]=s),(l=x.getResponseHeader("Etag"))&&(ae.etag[u]=l)),304===e)c="notmodified",o=!0;else try{a=function(e,t){e.dataFilter&&(t=e.dataFilter(t,e.dataType));var i,n,o,a,r,s,l,c,d=e.dataTypes,u={},h=d.length,p=d[0];for(i=1;i<h;i++){if(1===i)for(n in e.converters)"string"==typeof n&&(u[n.toLowerCase()]=e.converters[n]);if(a=p,"*"===(p=d[i]))p=a;else if("*"!==a&&a!==p){if(!(s=u[r=a+" "+p]||u["* "+p]))for(l in c=C,u)if(((o=l.split(" "))[0]===a||"*"===o[0])&&(c=u[o[1]+" "+p])){!0===(l=u[l])?s=c:!0===c&&(s=l);break}s||c||ae.error("No conversion from "+r.replace(" "," to ")),!0!==s&&(t=s?s(t):c(l(t)))}}return t}(g,d),c="success",o=!0}catch(e){c="parsererror",r=e}else(r=c)&&!e||(c="error",e<0&&(e=0));x.status=e,x.statusText=""+(t||c),o?A.resolveWith(v,[a,c,x]):A.rejectWith(v,[x,c,r]),x.statusCode(_),_=C,m&&b.trigger("ajax"+(o?"Success":"Error"),[x,g,o?a:r]),y.fireWith(v,[x,c]),m&&(b.trigger("ajaxComplete",[x,g]),--ae.active||ae.event.trigger("ajaxStop"))}}"object"==typeof e&&(t=e,e=C),t=t||{};var u,h,n,p,f,o,m,a,g=ae.ajaxSetup({},t),v=g.context||g,b=v!==g&&(v.nodeType||v instanceof ae)?ae(v):ae.event,A=ae.Deferred(),y=ae.Callbacks("once memory"),_=g.statusCode||{},r={},s={},w=0,x={readyState:0,setRequestHeader:function(e,t){if(!w){var i=e.toLowerCase();e=s[i]=s[i]||e,r[e]=t}return this},getAllResponseHeaders:function(){return 2===w?h:null},getResponseHeader:function(e){var t;if(2===w){if(!n)for(n={};t=vt.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return t===C?null:t},overrideMimeType:function(e){return w||(g.mimeType=e),this},abort:function(e){return e=e||"abort",p&&p.abort(e),i(0,e),this}};if(A.promise(x),x.success=x.done,x.error=x.fail,x.complete=y.add,x.statusCode=function(e){var t;if(e)if(w<2)for(t in e)_[t]=[_[t],e[t]];else t=e[x.status],x.then(t,t);return this},g.url=((e||g.url)+"").replace(gt,"").replace(yt,ht[1]+"//"),g.dataTypes=ae.trim(g.dataType||"*").toLowerCase().split(kt),null==g.crossDomain&&(o=St.exec(g.url.toLowerCase()),g.crossDomain=!(!o||o[1]==ht[1]&&o[2]==ht[2]&&(o[3]||("http:"===o[1]?80:443))==(ht[3]||("http:"===ht[1]?80:443)))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ae.param(g.data,g.traditional)),k(Et,g,t,x),2===w)return!1;if(m=g.global,g.type=g.type.toUpperCase(),g.hasContent=!At.test(g.type),m&&0==ae.active++&&ae.event.trigger("ajaxStart"),!g.hasContent&&(g.data&&(g.url+=(_t.test(g.url)?"&":"?")+g.data,delete g.data),u=g.url,!1===g.cache)){var l=ae.now(),c=g.url.replace(Ct,"$1_="+l);g.url=c+(c===g.url?(_t.test(g.url)?"&":"?")+"_="+l:"")}for(a in(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&x.setRequestHeader("Content-Type",g.contentType),g.ifModified&&(u=u||g.url,ae.lastModified[u]&&x.setRequestHeader("If-Modified-Since",ae.lastModified[u]),ae.etag[u]&&x.setRequestHeader("If-None-Match",ae.etag[u])),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+It+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(a,g.headers[a]);if(g.beforeSend&&(!1===g.beforeSend.call(v,x,g)||2===w))return x.abort(),!1;for(a in{success:1,error:1,complete:1})x[a](g[a]);if(p=k(Dt,g,t,x)){x.readyState=1,m&&b.trigger("ajaxSend",[x,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){x.abort("timeout")},g.timeout));try{w=1,p.send(r,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return x},param:function(e,t){function i(e,t){t=ae.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var n=[];if(t===C&&(t=ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){i(this.name,this.value)});else for(var o in e)a(o,e[o],t,i);return n.join("&").replace(pt,"+")}}),ae.extend({active:0,lastModified:{},etag:{}});var $t=ae.now(),Pt=/(\=)\?(&|$)|\?\?/i;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return ae.expando+"_"+$t++}}),ae.ajaxPrefilter("json jsonp",function(e,t,i){var n="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||!1!==e.jsonp&&(Pt.test(e.url)||n&&Pt.test(e.data))){var o,a=e.jsonpCallback=ae.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r=y[a],s=e.url,l=e.data,c="$1"+a+"$2";return!1!==e.jsonp&&(s=s.replace(Pt,c),e.url===s&&(n&&(l=l.replace(Pt,c)),e.data===l&&(s+=(/\?/.test(s)?"&":"?")+e.jsonp+"="+a))),e.url=s,e.data=l,y[a]=function(e){o=[e]},i.always(function(){y[a]=r,o&&ae.isFunction(r)&&y[a](o[0])}),e.converters["script json"]=function(){return o||ae.error(a+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){e.cache===C&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ae.ajaxTransport("script",function(t){if(t.crossDomain){var n,o=ie.head||ie.getElementsByTagName("head")[0]||ie.documentElement;return{send:function(e,i){(n=ie.createElement("script")).async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&!/loaded|complete/.test(n.readyState)||(n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n),n=C,t||i(200,"success"))},o.insertBefore(n,o.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Mt,Ot,Nt=!!y.ActiveXObject&&function(){for(var e in Mt)Mt[e](0,1)},Lt=0;ae.ajaxSettings.xhr=y.ActiveXObject?function(){return!this.isLocal&&t()||function(){try{return new y.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:t,Ot=ae.ajaxSettings.xhr(),ae.extend(ae.support,{ajax:!!Ot,cors:!!Ot&&"withCredentials"in Ot}),ae.support.ajax&&ae.ajaxTransport(function(d){var u;if(!d.crossDomain||ae.support.cors)return{send:function(e,s){var l,t,c=d.xhr();if(d.username?c.open(d.type,d.url,d.async,d.username,d.password):c.open(d.type,d.url,d.async),d.xhrFields)for(t in d.xhrFields)c[t]=d.xhrFields[t];d.mimeType&&c.overrideMimeType&&c.overrideMimeType(d.mimeType),d.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)c.setRequestHeader(t,e[t])}catch(e){}c.send(d.hasContent&&d.data||null),u=function(e,t){var i,n,o,a,r;try{if(u&&(t||4===c.readyState))if(u=C,l&&(c.onreadystatechange=ae.noop,Nt&&delete Mt[l]),t)4!==c.readyState&&c.abort();else{i=c.status,o=c.getAllResponseHeaders(),a={},(r=c.responseXML)&&r.documentElement&&(a.xml=r);try{a.text=c.responseText}catch(e){}try{n=c.statusText}catch(e){n=""}i||!d.isLocal||d.crossDomain?1223===i&&(i=204):i=a.text?200:404}}catch(e){t||s(-1,e)}a&&s(i,n,a,o)},d.async&&4!==c.readyState?(l=++Lt,Nt&&(Mt||(Mt={},ae(y).unload(Nt)),Mt[l]=u),c.onreadystatechange=u):u()},abort:function(){u&&u(0,1)}}});var jt,Rt,Ft,zt,qt={},Ht=/^(?:toggle|show|hide)$/,Wt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Vt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];ae.fn.extend({show:function(e,t,i){var n,o;if(e||0===e)return this.animate(s("show",3),e,t,i);for(var a=0,r=this.length;a<r;a++)(n=this[a]).style&&(o=n.style.display,ae._data(n,"olddisplay")||"none"!==o||(o=n.style.display=""),(""!==o||"none"!==ae.css(n,"display"))&&ae.contains(n.ownerDocument.documentElement,n)||ae._data(n,"olddisplay",g(n.nodeName)));for(a=0;a<r;a++)(n=this[a]).style&&(""!==(o=n.style.display)&&"none"!==o||(n.style.display=ae._data(n,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(s("hide",3),e,t,i);for(var n,o,a=0,r=this.length;a<r;a++)(n=this[a]).style&&("none"===(o=ae.css(n,"display"))||ae._data(n,"olddisplay")||ae._data(n,"olddisplay",o));for(a=0;a<r;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:ae.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return ae.isFunction(t)&&ae.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:ae(this).is(":hidden");ae(this)[e?"show":"hide"]()}):this.animate(s("toggle",3),t,e,i),this},fadeTo:function(e,t,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(f,e,t,i){function n(){!1===m.queue&&ae._mark(this);var e,t,i,n,o,a,r,s,l,c,d,u=ae.extend({},m),h=1===this.nodeType,p=h&&ae(this).is(":hidden");for(i in u.animatedProperties={},f)if(i!==(e=ae.camelCase(i))&&(f[e]=f[i],delete f[i]),(o=ae.cssHooks[e])&&"expand"in o)for(i in a=o.expand(f[e]),delete f[e],a)i in f||(f[i]=a[i]);for(e in f){if(t=f[e],ae.isArray(t)?(u.animatedProperties[e]=t[1],t=f[e]=t[0]):u.animatedProperties[e]=u.specialEasing&&u.specialEasing[e]||u.easing||"swing","hide"===t&&p||"show"===t&&!p)return u.complete.call(this);!h||"height"!==e&&"width"!==e||(u.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===ae.css(this,"display")&&"none"===ae.css(this,"float")&&(ae.support.inlineBlockNeedsLayout&&"inline"!==g(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}for(i in null!=u.overflow&&(this.style.overflow="hidden"),f)n=new ae.fx(this,u,i),t=f[i],Ht.test(t)?(d=ae._data(this,"toggle"+i)||("toggle"===t?p?"show":"hide":0))?(ae._data(this,"toggle"+i,"show"===d?"hide":"show"),n[d]()):n[t]():(r=Wt.exec(t),s=n.cur(),r?(l=parseFloat(r[2]),"px"!==(c=r[3]||(ae.cssNumber[i]?"":"px"))&&(ae.style(this,i,(l||1)+c),s=(l||1)/n.cur()*s,ae.style(this,i,s+c)),r[1]&&(l=("-="===r[1]?-1:1)*l+s),n.custom(s,l,c)):n.custom(s,t,""));return!0}var m=ae.speed(e,t,i);return ae.isEmptyObject(f)?this.each(m.complete,[!1]):(f=ae.extend({},f),!1===m.queue?this.each(n):this.queue(m.queue,n))},stop:function(a,e,r){return"string"!=typeof a&&(r=e,e=a,a=C),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){function e(e,t,i){var n=t[i];ae.removeData(e,i,!0),n.stop(r)}var t,i=!1,n=ae.timers,o=ae._data(this);if(r||ae._unmark(!0,this),null==a)for(t in o)o[t]&&o[t].stop&&t.indexOf(".run")===t.length-4&&e(this,o,t);else o[t=a+".run"]&&o[t].stop&&e(this,o,t);for(t=n.length;t--;)n[t].elem!==this||null!=a&&n[t].queue!==a||(r?n[t](!0):n[t].saveState(),i=!0,n.splice(t,1));r&&i||ae.dequeue(this,a)})}}),ae.each({slideDown:s("show",1),slideUp:s("hide",1),slideToggle:s("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){ae.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),ae.extend({speed:function(e,t,i){var n=e&&"object"==typeof e?ae.extend({},e):{complete:i||!i&&t||ae.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ae.isFunction(t)&&t};return n.duration=ae.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ae.fx.speeds?ae.fx.speeds[n.duration]:ae.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(e){ae.isFunction(n.old)&&n.old.call(this),n.queue?ae.dequeue(this,n.queue):!1!==e&&ae._unmark(this)},n},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),ae.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(ae.fx.step[this.prop]||ae.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=ae.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,i){function n(e){return o.step(e)}var o=this,a=ae.fx;this.startTime=zt||l(),this.end=t,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(ae.cssNumber[this.prop]?"":"px"),n.queue=this.options.queue,n.elem=this.elem,n.saveState=function(){ae._data(o.elem,"fxshow"+o.prop)===C&&(o.options.hide?ae._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&ae._data(o.elem,"fxshow"+o.prop,o.end))},n()&&ae.timers.push(n)&&!Ft&&(Ft=setInterval(a.tick,a.interval))},show:function(){var e=ae._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||ae.style(this.elem,this.prop),this.options.show=!0,e!==C?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),ae(this.elem).show()},hide:function(){this.options.orig[this.prop]=ae._data(this.elem,"fxshow"+this.prop)||ae.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,n,o=zt||l(),a=!0,r=this.elem,s=this.options;if(e||o>=s.duration+this.startTime){for(t in this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0,s.animatedProperties)!0!==s.animatedProperties[t]&&(a=!1);if(a){if(null==s.overflow||ae.support.shrinkWrapBlocks||ae.each(["","X","Y"],function(e,t){r.style["overflow"+t]=s.overflow[e]}),s.hide&&ae(r).hide(),s.hide||s.show)for(t in s.animatedProperties)ae.style(r,t,s.orig[t]),ae.removeData(r,"fxshow"+t,!0),ae.removeData(r,"toggle"+t,!0);(n=s.complete)&&(s.complete=!1,n.call(r))}return!1}return s.duration==1/0?this.now=o:(i=o-this.startTime,this.state=i/s.duration,this.pos=ae.easing[s.animatedProperties[this.prop]](this.state,i,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},ae.extend(ae.fx,{tick:function(){for(var e,t=ae.timers,i=0;i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||ae.fx.stop()},interval:13,stop:function(){clearInterval(Ft),Ft=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){ae.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),ae.each(Vt.concat.apply([],Vt),function(e,t){t.indexOf("margin")&&(ae.fx.step[t]=function(e){ae.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),ae.expr&&ae.expr.filters&&(ae.expr.filters.animated=function(t){return ae.grep(ae.timers,function(e){return t===e.elem}).length});var Ut,Bt=/^t(?:able|d|h)$/i,Yt=/^(?:body|html)$/i;Ut="getBoundingClientRect"in ie.documentElement?function(e,t,i,n){try{n=e.getBoundingClientRect()}catch(e){}if(!n||!ae.contains(i,e))return n?{top:n.top,left:n.left}:{top:0,left:0};var o=t.body,a=d(t),r=i.clientTop||o.clientTop||0,s=i.clientLeft||o.clientLeft||0,l=a.pageYOffset||ae.support.boxModel&&i.scrollTop||o.scrollTop,c=a.pageXOffset||ae.support.boxModel&&i.scrollLeft||o.scrollLeft;return{top:n.top+l-r,left:n.left+c-s}}:function(e,t,i){for(var n,o=e.offsetParent,a=t.body,r=t.defaultView,s=r?r.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==i&&(!ae.support.fixedPosition||"fixed"!==s.position);)n=r?r.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,c-=e.scrollLeft,e===o&&(l+=e.offsetTop,c+=e.offsetLeft,!ae.support.doesNotAddBorder||ae.support.doesAddBorderForTableAndCells&&Bt.test(e.nodeName)||(l+=parseFloat(n.borderTopWidth)||0,c+=parseFloat(n.borderLeftWidth)||0),o=e.offsetParent),ae.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(l+=parseFloat(n.borderTopWidth)||0,c+=parseFloat(n.borderLeftWidth)||0),s=n;return"relative"!==s.position&&"static"!==s.position||(l+=a.offsetTop,c+=a.offsetLeft),ae.support.fixedPosition&&"fixed"===s.position&&(l+=Math.max(i.scrollTop,a.scrollTop),c+=Math.max(i.scrollLeft,a.scrollLeft)),{top:l,left:c}},ae.fn.offset=function(t){if(arguments.length)return t===C?this:this.each(function(e){ae.offset.setOffset(this,t,e)});var e=this[0],i=e&&e.ownerDocument;return i?e===i.body?ae.offset.bodyOffset(e):Ut(e,i,i.documentElement):null},ae.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return ae.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(ae.css(e,"marginTop"))||0,i+=parseFloat(ae.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=ae.css(e,"position");"static"===n&&(e.style.position="relative");var o,a,r=ae(e),s=r.offset(),l=ae.css(e,"top"),c=ae.css(e,"left"),d={},u={};a=("absolute"===n||"fixed"===n)&&-1<ae.inArray("auto",[l,c])?(o=(u=r.position()).top,u.left):(o=parseFloat(l)||0,parseFloat(c)||0),ae.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):r.css(d)}},ae.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),n=Yt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(ae.css(e,"marginTop"))||0,i.left-=parseFloat(ae.css(e,"marginLeft"))||0,n.top+=parseFloat(ae.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(ae.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ie.body;e&&!Yt.test(e.nodeName)&&"static"===ae.css(e,"position");)e=e.offsetParent;return e})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var a=/Y/.test(o);ae.fn[t]=function(e){return ae.access(this,function(e,t,i){var n=d(e);if(i===C)return n?o in n?n[o]:ae.support.boxModel&&n.document.documentElement[t]||n.document.body[t]:e[t];n?n.scrollTo(a?ae(n).scrollLeft():i,a?i:ae(n).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),ae.each({Height:"height",Width:"width"},function(e,i){var s="client"+e,l="scroll"+e,c="offset"+e;ae.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(ae.css(e,i,"padding")):this[i]():null},ae.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(ae.css(t,i,e?"margin":"border")):this[i]():null},ae.fn[i]=function(e){return ae.access(this,function(e,t,i){var n,o,a,r;return ae.isWindow(e)?(o=(n=e.document).documentElement[s],ae.support.boxModel&&o||n.body&&n.body[s]||o):9===e.nodeType?(n=e.documentElement)[s]>=n[l]?n[s]:Math.max(e.body[l],n[l],e.body[c],n[c]):i===C?(a=ae.css(e,t),r=parseFloat(a),ae.isNumeric(r)?r:a):void ae(e).css(t,i)},i,e,arguments.length,null)}}),y.jQuery=y.$=ae,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ae})}(window),function(s){function n(e,t){var i=e.nodeName.toLowerCase();if("area"!==i)return(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"==i&&e.href||t)&&r(e);var n,o=e.parentNode,a=o.name;return!(!e.href||!a||"map"!==o.nodeName.toLowerCase())&&(!!(n=s("img[usemap=#"+a+"]")[0])&&r(n))}function r(e){return!s(e).parents().andSelf().filter(function(){return"hidden"===s.curCSS(this,"visibility")||s.expr.filters.hidden(this)}).length}s.ui=s.ui||{},s.ui.version||(s.extend(s.ui,{version:"1.8.13",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),s.fn.extend({_focus:s.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){s(e).focus(),i&&i.call(e)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=s.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.curCSS(this,"position",1))&&/(auto|scroll)/.test(s.curCSS(this,"overflow",1)+s.curCSS(this,"overflow-y",1)+s.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(s.curCSS(this,"overflow",1)+s.curCSS(this,"overflow-y",1)+s.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?s(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,i,n=s(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0},disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s.each(["Width","Height"],function(e,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),a={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};function r(e,t,i,n){return s.each(o,function(){t-=parseFloat(s.curCSS(e,"padding"+this,!0))||0,i&&(t-=parseFloat(s.curCSS(e,"border"+this+"Width",!0))||0),n&&(t-=parseFloat(s.curCSS(e,"margin"+this,!0))||0)}),t}s.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){s(this).css(n,r(this,e)+"px")})},s.fn["outer"+i]=function(e,t){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){s(this).css(n,r(this,e,!0,t)+"px")})}}),s.extend(s.expr[":"],{data:function(e,t,i){return!!s.data(e,i[3])},focusable:function(e){return n(e,!isNaN(s.attr(e,"tabindex")))},tabbable:function(e){var t=s.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&n(e,!i)}}),s(function(){var e=document.body,t=e.appendChild(t=document.createElement("div"));s.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),s.support.minHeight=100===t.offsetHeight,s.support.selectstart="onselectstart"in t,e.removeChild(t).style.display="none"}),s.extend(s.ui,{plugin:{add:function(e,t,i){var n=s.ui[e].prototype;for(var o in i)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([t,i[o]])},call:function(e,t,i){var n=e.plugins[t];if(n&&e.element[0].parentNode)for(var o=0;o<n.length;o++)e.options[n[o][0]]&&n[o][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(e,t){if("hidden"===s(e).css("overflow"))return!1;var i,n=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[n]||(e[n]=1,i=0<e[n],e[n]=0,i)},isOverAxis:function(e,t,i){return t<e&&e<t+i},isOver:function(e,t,i,n,o,a){return s.ui.isOverAxis(e,i,o)&&s.ui.isOverAxis(t,n,a)}}))}(jQuery),function(r){if(r.cleanData){var n=r.cleanData;r.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)r(t).triggerHandler("remove");n(e)}}else{var i=r.fn.remove;r.fn.remove=function(e,t){return this.each(function(){return t||e&&!r.filter(e,[this]).length||r("*",this).add([this]).each(function(){r(this).triggerHandler("remove")}),i.call(r(this),e,t)})}}r.widget=function(t,e,i){var n,o=t.split(".")[0];n=o+"-"+(t=t.split(".")[1]),i||(i=e,e=r.Widget),r.expr[":"][n]=function(e){return!!r.data(e,t)},r[o]=r[o]||{},r[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var a=new e;a.options=r.extend(!0,{},a.options),r[o][t].prototype=r.extend(!0,a,{namespace:o,widgetName:t,widgetEventPrefix:r[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:n},i),r.widget.bridge(t,r[o][t])},r.widget.bridge=function(a,t){r.fn[a]=function(i){var e="string"==typeof i,n=Array.prototype.slice.call(arguments,1),o=this;return i=!e&&n.length?r.extend.apply(null,[!0,i].concat(n)):i,e&&"_"===i.charAt(0)||(e?this.each(function(){var e=r.data(this,a),t=e&&r.isFunction(e[i])?e[i].apply(e,n):e;if(t!==e&&void 0!==t)return o=t,!1}):this.each(function(){var e=r.data(this,a);e?e.option(i||{})._init():r.data(this,a,new t(i,this))})),o}},r.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},r.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,t){r.data(t,this.widgetName,this),this.element=r(t),this.options=r.extend(!0,{},this.options,this._getCreateOptions(),e);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return r.metadata&&r.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(e,t){var i=e;if(0===arguments.length)return r.extend({},this.options);if("string"==typeof e){if(void 0===t)return this.options[e];(i={})[e]=t}return this._setOptions(i),this},_setOptions:function(e){var i=this;return r.each(e,function(e,t){i._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,t,i){var n=this.options[e];if((t=r.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i=i||{},t.originalEvent)for(var o,a=r.event.props.length;a;)t[o=r.event.props[--a]]=t.originalEvent[o];return this.element.trigger(t,i),!(r.isFunction(n)&&!1===n.call(this.element[0],t,i)||t.isDefaultPrevented())}}}(jQuery),function(o){var a=!1;o(document).mousedown(function(e){a=!1}),o.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===o.data(e.target,t.widgetName+".preventClickEvent"))return o.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){if(!a){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1==e.which,n="string"==typeof this.options.cancel&&o(e.target).parents().add(e.target).filter(this.options.cancel).length;return i&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===o.data(e.target,this.widgetName+".preventClickEvent")&&o.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},o(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0)):!0}},_mouseMove:function(e){return!o.browser.msie||9<=document.documentMode||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return o(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target==this._mouseDownEvent.target&&o.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(A){A.widget("ui.draggable",A.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||A(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(A(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){A('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(A(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._cacheHelperProportions(),A.ui.ddmanager&&(A.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},A.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),t.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),A.ui.ddmanager&&!t.dropBehaviour&&A.ui.ddmanager.prepareOffsets(this,e),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(e,!0),!0)},_mouseDrag:function(e,t){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),A.ui.ddmanager&&A.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=!1;if(A.ui.ddmanager&&!this.options.dropBehaviour&&(t=A.ui.ddmanager.drop(this,e)),this.dropped&&(t=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!t||"valid"==this.options.revert&&t||!0===this.options.revert||A.isFunction(this.options.revert)&&this.options.revert.call(this.element,t)){var i=this;A(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()})}else!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){return!0===this.options.iframeFix&&A("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),A.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var t=!this.options.handle||!A(this.options.handle,this.element).length;return A(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(t=!0)}),t},_createHelper:function(e){var t=this.options,i=A.isFunction(t.helper)?A(t.helper.apply(this.element[0],[e])):"clone"==t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==t.appendTo?this.element[0].parentNode:t.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),A.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&A.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=[("document"==e.containment?0:A(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==e.containment?0:A(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:A(window).scrollLeft())+A("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:A(window).scrollTop())+(A("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var t=A(e.containment),i=t[0];if(!i)return;t.offset();var n="hidden"!=A(i).css("overflow");this.containment=[(parseInt(A(i).css("borderLeftWidth"),10)||0)+(parseInt(A(i).css("paddingLeft"),10)||0),(parseInt(A(i).css("borderTopWidth"),10)||0)+(parseInt(A(i).css("paddingTop"),10)||0),(n?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(A(i).css("borderLeftWidth"),10)||0)-(parseInt(A(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(n?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(A(i).css("borderTopWidth"),10)||0)-(parseInt(A(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t}},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(A.browser.safari&&A.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i),left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(A.browser.safari&&A.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i)}},_generatePosition:function(e){var t=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(i[0].tagName),o=e.pageX,a=e.pageY;if(this.originalPosition){var r;if(this.containment){if(this.relative_container){var s=this.relative_container.offset();r=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]}else r=this.containment;e.pageX-this.offset.click.left<r[0]&&(o=r[0]+this.offset.click.left),e.pageY-this.offset.click.top<r[1]&&(a=r[1]+this.offset.click.top),e.pageX-this.offset.click.left>r[2]&&(o=r[2]+this.offset.click.left),e.pageY-this.offset.click.top>r[3]&&(a=r[3]+this.offset.click.top)}if(t.grid){var l=this.originalPageY+Math.round((a-this.originalPageY)/t.grid[1])*t.grid[1];a=r&&(l-this.offset.click.top<r[1]||l-this.offset.click.top>r[3])?l-this.offset.click.top<r[1]?l+t.grid[1]:l-t.grid[1]:l;var c=this.originalPageX+Math.round((o-this.originalPageX)/t.grid[0])*t.grid[0];o=r&&(c-this.offset.click.left<r[0]||c-this.offset.click.left>r[2])?c-this.offset.click.left<r[0]?c+t.grid[0]:c-t.grid[0]:c}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(A.browser.safari&&A.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(A.browser.safari&&A.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,i){return i=i||this._uiHash(),A.ui.plugin.call(this,e,[t,i]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),A.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),A.extend(A.ui.draggable,{version:"1.8.13"}),A.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var i=A(this).data("draggable"),n=i.options,o=A.extend({},e,{item:i.element});i.sortables=[],A(n.connectToSortable).each(function(){var e=A.data(this,"sortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,o))})},stop:function(e,t){var i=A(this).data("draggable"),n=A.extend({},t,{item:i.element});A.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(t,i){var n=A(this).data("draggable"),o=this;A.each(n.sortables,function(e){this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=A(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),A.ui.plugin.add("draggable","cursor",{start:function(e,t){var i=A("body"),n=A(this).data("draggable").options;i.css("cursor")&&(n._cursor=i.css("cursor")),i.css("cursor",n.cursor)},stop:function(e,t){var i=A(this).data("draggable").options;i._cursor&&A("body").css("cursor",i._cursor)}}),A.ui.plugin.add("draggable","opacity",{start:function(e,t){var i=A(t.helper),n=A(this).data("draggable").options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(e,t){var i=A(this).data("draggable").options;i._opacity&&A(t.helper).css("opacity",i._opacity)}}),A.ui.plugin.add("draggable","scroll",{start:function(e,t){var i=A(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(e,t){var i=A(this).data("draggable"),n=i.options,o=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(e.pageY-A(document).scrollTop()<n.scrollSensitivity?o=A(document).scrollTop(A(document).scrollTop()-n.scrollSpeed):A(window).height()-(e.pageY-A(document).scrollTop())<n.scrollSensitivity&&(o=A(document).scrollTop(A(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(e.pageX-A(document).scrollLeft()<n.scrollSensitivity?o=A(document).scrollLeft(A(document).scrollLeft()-n.scrollSpeed):A(window).width()-(e.pageX-A(document).scrollLeft())<n.scrollSensitivity&&(o=A(document).scrollLeft(A(document).scrollLeft()+n.scrollSpeed)))),!1!==o&&A.ui.ddmanager&&!n.dropBehaviour&&A.ui.ddmanager.prepareOffsets(i,e)}}),A.ui.plugin.add("draggable","snap",{start:function(e,t){var i=A(this).data("draggable"),n=i.options;i.snapElements=[],A(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var e=A(this),t=e.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){for(var i=A(this).data("draggable"),n=i.options,o=n.snapTolerance,a=t.offset.left,r=a+i.helperProportions.width,s=t.offset.top,l=s+i.helperProportions.height,c=i.snapElements.length-1;0<=c;c--){var d=i.snapElements[c].left,u=d+i.snapElements[c].width,h=i.snapElements[c].top,p=h+i.snapElements[c].height;if(d-o<a&&a<u+o&&h-o<s&&s<p+o||d-o<a&&a<u+o&&h-o<l&&l<p+o||d-o<r&&r<u+o&&h-o<s&&s<p+o||d-o<r&&r<u+o&&h-o<l&&l<p+o){if("inner"!=n.snapMode){var f=Math.abs(h-l)<=o,m=Math.abs(p-s)<=o,g=Math.abs(d-r)<=o,v=Math.abs(u-a)<=o;f&&(t.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),m&&(t.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),g&&(t.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left-i.margins.left),v&&(t.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left)}var b=f||m||g||v;if("outer"!=n.snapMode){f=Math.abs(h-s)<=o,m=Math.abs(p-l)<=o,g=Math.abs(d-a)<=o,v=Math.abs(u-r)<=o;f&&(t.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),m&&(t.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),g&&(t.position.left=i._convertPositionTo("relative",{top:0,left:d}).left-i.margins.left),v&&(t.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left)}!i.snapElements[c].snapping&&(f||m||g||v||b)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,A.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=f||m||g||v||b}else i.snapElements[c].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,A.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=!1}}}),A.ui.plugin.add("draggable","stack",{start:function(e,t){var i=A(this).data("draggable").options,n=A.makeArray(A(i.stack)).sort(function(e,t){return(parseInt(A(e).css("zIndex"),10)||0)-(parseInt(A(t).css("zIndex"),10)||0)});if(n.length){var o=parseInt(n[0].style.zIndex)||0;A(n).each(function(e){this.style.zIndex=o+e}),this[0].style.zIndex=o+n.length}}}),A.ui.plugin.add("draggable","zIndex",{start:function(e,t){var i=A(t.helper),n=A(this).data("draggable").options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(e,t){var i=A(this).data("draggable").options;i._zIndex&&A(t.helper).css("zIndex",i._zIndex)}})}(jQuery),function(p){p.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,t=e.accept;this.isover=0,this.isout=1,this.accept=p.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},p.ui.ddmanager.droppables[e.scope]=p.ui.ddmanager.droppables[e.scope]||[],p.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var e=p.ui.ddmanager.droppables[this.options.scope],t=0;t<e.length;t++)e[t]==this&&e.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(e,t){"accept"==e&&(this.accept=p.isFunction(t)?t:function(e){return e.is(t)}),p.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=p.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=p.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=p.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=p.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!=this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var i=t||p.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var n=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=p.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&p.ui.intersect(i,p.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),p.extend(p.ui.droppable,{version:"1.8.13"}),p.ui.intersect=function(e,t,i){if(!t.offset)return!1;var n=(e.positionAbs||e.position.absolute).left,o=n+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,r=a+e.helperProportions.height,s=t.offset.left,l=s+t.proportions.width,c=t.offset.top,d=c+t.proportions.height;switch(i){case"fit":return s<=n&&o<=l&&c<=a&&r<=d;case"intersect":return s<n+e.helperProportions.width/2&&o-e.helperProportions.width/2<l&&c<a+e.helperProportions.height/2&&r-e.helperProportions.height/2<d;case"pointer":var u=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,h=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return p.ui.isOver(h,u,c,s,t.proportions.height,t.proportions.width);case"touch":return(c<=a&&a<=d||c<=r&&r<=d||a<c&&d<r)&&(s<=n&&n<=l||s<=o&&o<=l||n<s&&l<o);default:return!1}},p.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var i=p.ui.ddmanager.droppables[e.options.scope]||[],n=t?t.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();e:for(var a=0;a<i.length;a++)if(!(i[a].options.disabled||e&&!i[a].accept.call(i[a].element[0],e.currentItem||e.element))){for(var r=0;r<o.length;r++)if(o[r]==i[a].element[0]){i[a].proportions.height=0;continue e}i[a].visible="none"!=i[a].element.css("display"),i[a].visible&&("mousedown"==n&&i[a]._activate.call(i[a],t),i[a].offset=i[a].element.offset(),i[a].proportions={width:i[a].element[0].offsetWidth,height:i[a].element[0].offsetHeight})}},drop:function(e,t){var i=!1;return p.each(p.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&p.ui.intersect(e,this,this.options.tolerance)&&(i=i||this._drop.call(this,t)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,t)))}),i},drag:function(o,a){o.options.refreshPositions&&p.ui.ddmanager.prepareOffsets(o,a),p.each(p.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e=p.ui.intersect(o,this,this.options.tolerance),t=e||1!=this.isover?e&&0==this.isover?"isover":null:"isout";if(t){var i;if(this.options.greedy){var n=this.element.parents(":data(droppable):eq(0)");n.length&&((i=p.data(n[0],"droppable")).greedyChild="isover"==t?1:0)}i&&"isover"==t&&(i.isover=0,i.isout=1,i._out.call(i,a)),this[t]=1,this["isout"==t?"isover":"isout"]=0,this["isover"==t?"_over":"_out"].call(this,a),i&&"isout"==t&&(i.isout=0,i.isover=1,i._over.call(i,a))}}})}}}(jQuery),function(v){v.widget("ui.resizable",v.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,e=this.options;if(this.element.addClass("ui-resizable"),v.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&v.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(v('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=e.handles||(v(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var n=0;n<i.length;n++){var o=v.trim(i[n]),a=v('<div class="ui-resizable-handle '+("ui-resizable-"+o)+'"></div>');/sw|se|ne|nw/.test(o)&&a.css({zIndex:++e.zIndex}),"se"==o&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(a)}}this._renderAxis=function(e){for(var t in e=e||this.element,this.handles){if(this.handles[t].constructor==String&&(this.handles[t]=v(this.handles[t],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i,n=v(this.handles[t],this.element);i=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth();var o=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join("");e.css(o,i),this._proportionallyResize()}v(this.handles[t]).length}},this._renderAxis(this.element),this._handles=v(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),e.autoHide&&(this._handles.hide(),v(this.element).addClass("ui-resizable-autohide").hover(function(){e.disabled||(v(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){e.disabled||t.resizing||(v(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();function e(e){v(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}if(this.elementIsWrapper){e(this.element);var t=this.element;t.after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var t=!1;for(var i in this.handles)v(this.handles[i])[0]==e.target&&(t=!0);return!this.options.disabled&&t},_mouseStart:function(e){var t=this.options,i=this.element.position(),n=this.element;this.resizing=!0,this.documentScroll={top:v(document).scrollTop(),left:v(document).scrollLeft()},(n.is(".ui-draggable")||/absolute/.test(n.css("position")))&&n.css({position:"absolute",top:i.top,left:i.left}),v.browser.opera&&/relative/.test(n.css("position"))&&n.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var o=h(this.helper.css("left")),a=h(this.helper.css("top"));t.containment&&(o+=v(t.containment).scrollLeft()||0,a+=v(t.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:a},this.size=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalPosition={left:o,top:a},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof t.aspectRatio?t.aspectRatio:this.originalSize.width/this.originalSize.height||1;var r=v(".ui-resizable-"+this.axis).css("cursor");return v("body").css("cursor","auto"==r?this.axis+"-resize":r),n.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.helper,i=(this.options,this.originalMousePosition),n=this.axis,o=e.pageX-i.left||0,a=e.pageY-i.top||0,r=this._change[n];if(!r)return!1;var s=r.apply(this,[e,o,a]);v.browser.msie&&v.browser.version,this.sizeDiff;return(this._aspectRatio||e.shiftKey)&&(s=this._updateRatio(s,e)),s=this._respectSize(s,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(s),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var t=this.options,i=this;if(this._helper){var n=this._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&v.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,s={width:i.helper.width()-r,height:i.helper.height()-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;t.animate||this.element.css(v.extend(s,{top:c,left:l})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!t.animate&&this._proportionallyResize()}return v("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateCache:function(e){this.options;this.offset=this.helper.offset(),p(e.left)&&(this.position.left=e.left),p(e.top)&&(this.position.top=e.top),p(e.height)&&(this.size.height=e.height),p(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){this.options;var i=this.position,n=this.size,o=this.axis;return e.height?e.width=n.height*this.aspectRatio:e.width&&(e.height=n.width/this.aspectRatio),"sw"==o&&(e.left=i.left+(n.width-e.width),e.top=null),"nw"==o&&(e.top=i.top+(n.height-e.height),e.left=i.left+(n.width-e.width)),e},_respectSize:function(e,t){this.helper;var i=this.options,n=(this._aspectRatio||t.shiftKey,this.axis),o=p(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=p(e.height)&&i.maxHeight&&i.maxHeight<e.height,r=p(e.width)&&i.minWidth&&i.minWidth>e.width,s=p(e.height)&&i.minHeight&&i.minHeight>e.height;r&&(e.width=i.minWidth),s&&(e.height=i.minHeight),o&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);r&&d&&(e.left=l-i.minWidth),o&&d&&(e.left=l-i.maxWidth),s&&u&&(e.top=c-i.minHeight),a&&u&&(e.top=c-i.maxHeight);var h=!e.width&&!e.height;return h&&!e.left&&e.top?e.top=null:h&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,t=0;t<this._proportionallyResizeElements.length;t++){var i=this._proportionallyResizeElements[t];if(!this.borderDif){var n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=v.map(n,function(e,t){return(parseInt(e,10)||0)+(parseInt(o[t],10)||0)})}v.browser.msie&&(v(e).is(":hidden")||v(e).parents(":hidden").length)||i.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,t=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||v('<div style="overflow:hidden;"></div>');var i=v.browser.msie&&v.browser.version<7,n=i?1:0,o=i?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+o,height:this.element.outerHeight()+o,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,i){return{width:this.originalSize.width+t}},w:function(e,t,i){this.options;var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,i){this.options;var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){v.ui.plugin.call(this,e,[t,this.ui()]),"resize"!=e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),v.extend(v.ui.resizable,{version:"1.8.13"}),v.ui.plugin.add("resizable","animate",{stop:function(t){var i=v(this).data("resizable"),e=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&v.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,s={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(v.extend(s,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&v(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),v.ui.plugin.add("resizable","containment",{start:function(){var i,n,e,t,o,a,r,s=v(this).data("resizable"),l=s.options,c=s.element,d=l.containment,u=d instanceof v?d.get(0):/parent/.test(d)?c.parent().get(0):d;u&&(s.containerElement=v(u),/document/.test(d)||d===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:v(document),left:0,top:0,width:v(document).width(),height:v(document).height()||document.body.parentNode.scrollHeight}):(i=v(u),n=[],v(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=h(i.css("padding"+t))}),s.containerOffset=i.offset(),s.containerPosition=i.position(),s.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=s.containerOffset,t=s.containerSize.height,o=s.containerSize.width,a=v.ui.hasScroll(u,"left")?u.scrollWidth:o,r=v.ui.hasScroll(u)?u.scrollHeight:t,s.parentData={element:u,left:e.left,top:e.top,width:a,height:r}))},resize:function(e){var t,i,n,o,a=v(this).data("resizable"),r=a.options,s=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,d={top:0,left:0},u=a.containerElement;u[0]!==document&&/static/.test(u.css("position"))&&(d=s),l.left<(a._helper?s.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-s.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?s.left:0),l.top<(a._helper?s.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-s.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?s.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,t=Math.abs((a._helper,a.offset.left-d.left+a.sizeDiff.width)),i=Math.abs((a._helper?a.offset.top-d.top:a.offset.top-s.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o&&(t-=Math.abs(a.parentData.left)),t+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-t,c&&(a.size.height=a.size.width/a.aspectRatio)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=v(this).data("resizable"),t=e.options,i=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=v(e.helper),r=a.offset(),s=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(o.css("position"))&&v(this).css({left:r.left-n.left-i.left,width:s,height:l}),e._helper&&!t.animate&&/static/.test(o.css("position"))&&v(this).css({left:r.left-n.left-i.left,width:s,height:l})}}),v.ui.plugin.add("resizable","alsoResize",{start:function(){function t(e){v(e).each(function(){var e=v(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})}var e=v(this).data("resizable").options;"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):v.each(e.alsoResize,function(e){t(e)})},resize:function(e,a){function i(e,i){v(e).each(function(){var e=v(this),n=v(this).data("resizable-alsoresize"),o={},t=i&&i.length?i:e.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];v.each(t,function(e,t){var i=(n[t]||0)+(s[t]||0);i&&0<=i&&(o[t]=i||null)}),e.css(o)})}var t=v(this).data("resizable"),n=t.options,o=t.originalSize,r=t.originalPosition,s={height:t.size.height-o.height||0,width:t.size.width-o.width||0,top:t.position.top-r.top||0,left:t.position.left-r.left||0};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?i(n.alsoResize):v.each(n.alsoResize,function(e,t){i(e,t)})},stop:function(){v(this).removeData("resizable-alsoresize")}}),v.ui.plugin.add("resizable","ghost",{start:function(){var e=v(this).data("resizable"),t=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=v(this).data("resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=v(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),v.ui.plugin.add("resizable","grid",{resize:function(){var e=v(this).data("resizable"),t=e.options,i=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof t.grid?[t.grid,t.grid]:t.grid,s=r[0]||1,l=r[1]||1,c=Math.round((i.width-n.width)/s)*s,d=Math.round((i.height-n.height)/l)*l,u=n.width+c,h=n.height+d,p=t.maxWidth&&t.maxWidth<u,f=t.maxHeight&&t.maxHeight<h,m=t.minWidth&&t.minWidth>u,g=t.minHeight&&t.minHeight>h;t.grid=r,m&&(u+=s),g&&(h+=l),p&&(u-=s),f&&(h-=l),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=h):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=h,e.position.top=o.top-d):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=h,e.position.left=o.left-c):(0<h-l?(e.size.height=h,e.position.top=o.top-d):(e.size.height=l,e.position.top=o.top+n.height-l),0<u-s?(e.size.width=u,e.position.left=o.left-c):(e.size.width=s,e.position.left=o.left+n.width-s))}});var h=function(e){return parseInt(e,10)||0},p=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(c){c.widget("ui.selectable",c.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=c(t.options.filter,t.element[0])).each(function(){var e=c(this),t=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(i){var n=this;if(this.opos=[i.pageX,i.pageY],!this.options.disabled){var e=this.options;this.selectees=c(e.filter,this.element[0]),this._trigger("start",i),c(e.appendTo).append(this.helper),this.helper.css({left:i.clientX,top:i.clientY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=c.data(this,"selectable-item");e.startselected=!0,i.metaKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))}),c(i.target).parents().andSelf().each(function(){var e=c.data(this,"selectable-item");if(e){var t=!i.metaKey||!e.$element.hasClass("ui-selected");return e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?n._trigger("selecting",i,{selecting:e.element}):n._trigger("unselecting",i,{unselecting:e.element}),!1}})}},_mouseDrag:function(i){var n=this;if(this.dragged=!0,!this.options.disabled){var o=this.options,a=this.opos[0],r=this.opos[1],s=i.pageX,l=i.pageY;if(s<a){var e=s;s=a,a=e}if(l<r){e=l;l=r,r=e}return this.helper.css({left:a,top:r,width:s-a,height:l-r}),this.selectees.each(function(){var e=c.data(this,"selectable-item");if(e&&e.element!=n.element[0]){var t=!1;"touch"==o.tolerance?t=!(e.left>s||e.right<a||e.top>l||e.bottom<r):"fit"==o.tolerance&&(t=e.left>a&&e.right<s&&e.top>r&&e.bottom<l),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,n._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&(i.metaKey&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),n._trigger("unselecting",i,{unselecting:e.element}))),e.selected&&(i.metaKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))))}}),!1}},_mouseStop:function(t){var i=this;this.dragged=!1;this.options;return c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),c(".ui-selecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),c.extend(c.ui.selectable,{version:"1.8.13"})}(jQuery),function(h){h.widget("ui.sortable",h.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData("sortable-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget()[t?"addClass":"removeClass"]("ui-sortable-disabled")):h.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var i=null,n=this;h(e.target).parents().each(function(){if(h.data(this,"sortable-item")==n)return i=h(this),!1});if(h.data(e.target,"sortable-item")==n&&(i=h(e.target)),!i)return!1;if(this.options.handle&&!t){var o=!1;if(h(this.options.handle,i).find("*").andSelf().each(function(){this==e.target&&(o=!0)}),!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,t,i){var n=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),h.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&(h("body").css("cursor")&&(this._storedCursor=h("body").css("cursor")),h("body").css("cursor",n.cursor)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var o=this.containers.length-1;0<=o;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return h.ui.ddmanager&&(h.ui.ddmanager.current=this),h.ui.ddmanager&&!n.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var t=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-h(document).scrollTop()<t.scrollSensitivity?i=h(document).scrollTop(h(document).scrollTop()-t.scrollSpeed):h(window).height()-(e.pageY-h(document).scrollTop())<t.scrollSensitivity&&(i=h(document).scrollTop(h(document).scrollTop()+t.scrollSpeed)),e.pageX-h(document).scrollLeft()<t.scrollSensitivity?i=h(document).scrollLeft(h(document).scrollLeft()-t.scrollSpeed):h(window).width()-(e.pageX-h(document).scrollLeft())<t.scrollSensitivity&&(i=h(document).scrollLeft(h(document).scrollLeft()+t.scrollSpeed))),!1!==i&&h.ui.ddmanager&&!t.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var n=this.items.length-1;0<=n;n--){var o=this.items[n],a=o.item[0],r=this._intersectsWithPointer(o);if(r&&!(a==this.currentItem[0]||this.placeholder[1==r?"next":"prev"]()[0]==a||h.ui.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&h.ui.contains(this.element[0],a))){if(this.direction=1==r?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),h.ui.ddmanager&&h.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(h.ui.ddmanager&&!this.options.dropBehaviour&&h.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=i.placeholder.offset();i.reverting=!0,h(this.helper).animate({left:n.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:n.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),h.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?h(this.domPosition.prev).after(this.currentItem):h(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},h(e).each(function(){var e=(h(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(h(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,a=e.left,r=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,d=this.offset.click.left,u=s<n+c&&n+c<l&&a<t+d&&t+d<r;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&s<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t=h.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i=h.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!n&&(this.floating?a&&"right"==a||"down"==o?2:1:o&&("down"==o?2:1))},_intersectsWithSides:function(e){var t=h.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=h.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&i||"left"==o&&!i:n&&("down"==n&&t||"up"==n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t=[],i=[],n=this._connectWith();if(n&&e)for(var o=n.length-1;0<=o;o--)for(var a=h(n[o]),r=a.length-1;0<=r;r--){var s=h.data(a[r],"sortable");s&&s!=this&&!s.options.disabled&&i.push([h.isFunction(s.options.items)?s.options.items.call(s.element):h(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}i.push([h.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):h(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(o=i.length-1;0<=o;o--)i[o][0].each(function(){t.push(this)});return h(t)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),t=0;t<this.items.length;t++)for(var i=0;i<e.length;i++)e[i]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(e){this.items=[],this.containers=[this];var t=this.items,i=[[h.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):h(this.options.items,this.element),this]],n=this._connectWith();if(n)for(var o=n.length-1;0<=o;o--)for(var a=h(n[o]),r=a.length-1;0<=r;r--){var s=h.data(a[r],"sortable");s&&s!=this&&!s.options.disabled&&(i.push([h.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):h(s.options.items,s.element),s]),this.containers.push(s))}for(o=i.length-1;0<=o;o--)for(var l=i[o][1],c=i[o][0],d=(r=0,c.length);r<d;r++){var u=h(c[r]);u.data("sortable-item",l),t.push({item:u,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var t=this.items.length-1;0<=t;t--){var i=this.items[t];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var n=this.options.toleranceElement?h(this.options.toleranceElement,i.item):i.item;e||(i.width=n.outerWidth(),i.height=n.outerHeight());var o=n.offset();i.left=o.left,i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--){o=this.containers[t].element.offset();this.containers[t].containerCache.left=o.left,this.containers[t].containerCache.top=o.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight()}return this},_createPlaceholder:function(e){var i=e||this,n=i.options;if(!n.placeholder||n.placeholder.constructor==String){var o=n.placeholder;n.placeholder={element:function(){var e=h(document.createElement(i.currentItem[0].nodeName)).addClass(o||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return o||(e.style.visibility="hidden"),e},update:function(e,t){o&&!n.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=h(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_contactContainers:function(e){for(var t=null,i=null,n=this.containers.length-1;0<=n;n--)if(!h.ui.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(t&&h.ui.contains(this.containers[n].element[0],t.element[0]))continue;t=this.containers[n],i=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(t)if(1===this.containers.length)this.containers[i]._trigger("over",e,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){for(var o=1e4,a=null,r=this.positionAbs[this.containers[i].floating?"left":"top"],s=this.items.length-1;0<=s;s--)if(h.ui.contains(this.containers[i].element[0],this.items[s].item[0])){var l=this.items[s][this.containers[i].floating?"left":"top"];Math.abs(l-r)<o&&(o=Math.abs(l-r),a=this.items[s])}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[i].element,!0),this._trigger("change",e,this._uiHash()),this.containers[i]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",e,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=h.isFunction(t.helper)?h(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"==t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||h("parent"!=t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),""!=i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),""!=i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),h.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&h.browser.msie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,h("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(h("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var t=h(e.containment)[0],i=h(e.containment).offset(),n="hidden"!=h(t).css("overflow");this.containment=[i.left+(parseInt(h(t).css("borderLeftWidth"),10)||0)+(parseInt(h(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(h(t).css("borderTopWidth"),10)||0)+(parseInt(h(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(h(t).css("borderLeftWidth"),10)||0)-(parseInt(h(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(h(t).css("borderTopWidth"),10)||0)-(parseInt(h(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,t){t=t||this.position;var i="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(h.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i),left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(h.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i)}},_generatePosition:function(e){var t=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&h.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=e.pageX,a=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),t.grid)){var r=this.originalPageY+Math.round((a-this.originalPageY)/t.grid[1])*t.grid[1];a=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+t.grid[1]:r-t.grid[1]:r;var s=this.originalPageX+Math.round((o-this.originalPageX)/t.grid[0])*t.grid[0];o=this.containment&&(s-this.offset.click.left<this.containment[0]||s-this.offset.click.left>this.containment[2])?s-this.offset.click.left<this.containment[0]?s+t.grid[0]:s-t.grid[0]:s}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(h.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(h.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:i.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this,a=this.counter;window.setTimeout(function(){a==o.counter&&o.refreshPositions(!n)},0)},_clear:function(e,t){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)"auto"!=this._storedCSS[n]&&"static"!=this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),!h.ui.contains(this.element[0],this.currentItem[0])){t||i.push(function(e){this._trigger("remove",e,this._uiHash())});for(n=this.containers.length-1;0<=n;n--)h.ui.contains(this.containers[n].element[0],this.currentItem[0])&&!t&&(i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[n])),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[n])))}for(n=this.containers.length-1;0<=n;n--)t||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&h("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===h.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||h([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}}),h.extend(h.ui.sortable,{version:"1.8.13"})}(jQuery),jQuery.effects||function(c,r){function n(e){var t;return e&&e.constructor==Array&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:(t=/rgba\(0, 0, 0, 0\)/.exec(e))?i.transparent:i[c.trim(e).toLowerCase()]}c.effects={},c.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,t){c.fx.step[t]=function(e){e.colorInit||(e.start=function(e,t){var i;do{if(""!=(i=c.curCSS(e,t))&&"transparent"!=i||c.nodeName(e,"body"))break;t="backgroundColor"}while(e=e.parentNode);return n(i)}(e.elem,t),e.end=n(e.end),e.colorInit=!0),e.elem.style[t]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},d=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function u(){var e,t=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(t&&t.length&&t[0]&&t[t[0]])for(var n=t.length;n--;)"string"==typeof t[e=t[n]]&&(i[e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]=t[e]);else for(e in t)"string"==typeof t[e]&&(i[e]=t[e]);return i}function h(e){var t,i;for(t in e)(null==(i=e[t])||c.isFunction(i)||t in o||/scrollbar/.test(t)||!/color/i.test(t)&&isNaN(parseFloat(i)))&&delete e[t];return e}function l(e,t,i,n){return"object"==typeof e&&(n=t,i=null,e=(t=e).effect),c.isFunction(t)&&(n=t,i=null,t={}),"number"!=typeof t&&!c.fx.speeds[t]||(n=i,i=t,t={}),c.isFunction(i)&&(n=i,i=null),t=t||{},i=i||t.duration,[e,t,i=c.fx.off?0:"number"==typeof i?i:i in c.fx.speeds?c.fx.speeds[i]:c.fx.speeds._default,n=n||t.complete]}function a(e){return!e||"number"==typeof e||c.fx.speeds[e]||"string"==typeof e&&!c.effects[e]}c.effects.animateClass=function(a,r,s,l){return c.isFunction(s)&&(l=s,s=null),this.queue(function(){var e,i=c(this),t=i.attr("style")||" ",n=h(u.call(this)),o=i.attr("class");c.each(d,function(e,t){a[t]&&i[t+"Class"](a[t])}),e=h(u.call(this)),i.attr("class",o),i.animate(function(e,t){var i,n={_:0};for(i in t)e[i]!=t[i]&&(n[i]=t[i]);return n}(n,e),{queue:!1,duration:r,easding:s,complete:function(){c.each(d,function(e,t){a[t]&&i[t+"Class"](a[t])}),"object"==typeof i.attr("style")?(i.attr("style").cssText="",i.attr("style").cssText=t):i.attr("style",t),l&&l.apply(this,arguments),c.dequeue(this)}})})},c.fn.extend({_addClass:c.fn.addClass,addClass:function(e,t,i,n){return t?c.effects.animateClass.apply(this,[{add:e},t,i,n]):this._addClass(e)},_removeClass:c.fn.removeClass,removeClass:function(e,t,i,n){return t?c.effects.animateClass.apply(this,[{remove:e},t,i,n]):this._removeClass(e)},_toggleClass:c.fn.toggleClass,toggleClass:function(e,t,i,n,o){return"boolean"==typeof t||t===r?i?c.effects.animateClass.apply(this,[t?{add:e}:{remove:e},i,n,o]):this._toggleClass(e,t):c.effects.animateClass.apply(this,[{toggle:e},t,i,n])},switchClass:function(e,t,i,n,o){return c.effects.animateClass.apply(this,[{add:t,remove:e},i,n,o])}}),c.extend(c.effects,{version:"1.8.13",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},e=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return i.wrap(e),e=i.parent(),"static"==i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(c.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),c.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n).show()},removeWrapper:function(e){return e.parent().is(".ui-effects-wrapper")?e.parent().replaceWith(e):e},setTransition:function(i,e,n,o){return o=o||{},c.each(e,function(e,t){unit=i.cssUnit(t),0<unit[0]&&(o[t]=unit[0]*n+unit[1])}),o}}),c.fn.extend({effect:function(e,t,i,n){var o=l.apply(this,arguments),a={options:o[1],duration:o[2],callback:o[3]},r=a.options.mode,s=c.effects[e];return c.fx.off||!s?r?this[r](a.duration,a.callback):this.each(function(){a.callback&&a.callback.call(this)}):s.call(this,a)},_show:c.fn.show,show:function(e){if(a(e))return this._show.apply(this,arguments);var t=l.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:c.fn.hide,hide:function(e){if(a(e))return this._hide.apply(this,arguments);var t=l.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:c.fn.toggle,toggle:function(e){if(a(e)||"boolean"==typeof e||c.isFunction(e))return this.__toggle.apply(this,arguments);var t=l.apply(this,arguments);return t[1].mode="toggle",this.effect.apply(this,t)},cssUnit:function(e){var i=this.css(e),n=[];return c.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(n=[parseFloat(i),t])}),n}}),c.easing.jswing=c.easing.swing,c.extend(c.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return c.easing[c.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){var a=1.70158,r=0,s=n;if(0==t)return i;if(1==(t/=o))return i+n;if(r=r||.3*o,s<Math.abs(n)){s=n;a=r/4}else a=r/(2*Math.PI)*Math.asin(n/s);return-s*Math.pow(2,10*--t)*Math.sin(2*(t*o-a)*Math.PI/r)+i},easeOutElastic:function(e,t,i,n,o){var a=1.70158,r=0,s=n;if(0==t)return i;if(1==(t/=o))return i+n;if(r=r||.3*o,s<Math.abs(n)){s=n;a=r/4}else a=r/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*o-a)*Math.PI/r)+n+i},easeInOutElastic:function(e,t,i,n,o){var a=1.70158,r=0,s=n;if(0==t)return i;if(2==(t/=o/2))return i+n;if(r=r||.3*o*1.5,s<Math.abs(n)){s=n;a=r/4}else a=r/(2*Math.PI)*Math.asin(n/s);return t<1?-.5*s*Math.pow(2,10*--t)*Math.sin(2*(t*o-a)*Math.PI/r)+i:s*Math.pow(2,-10*--t)*Math.sin(2*(t*o-a)*Math.PI/r)*.5+n+i},easeInBack:function(e,t,i,n,o,a){return a==r&&(a=1.70158),n*(t/=o)*t*((a+1)*t-a)+i},easeOutBack:function(e,t,i,n,o,a){return a==r&&(a=1.70158),n*((t=t/o-1)*t*((a+1)*t+a)+1)+i},easeInOutBack:function(e,t,i,n,o,a){return a==r&&(a=1.70158),(t/=o/2)<1?n/2*t*t*((1+(a*=1.525))*t-a)+i:n/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+i},easeInBounce:function(e,t,i,n,o){return n-c.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?7.5625*n*t*t+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return t<o/2?.5*c.easing.easeInBounce(e,2*t,0,n,o)+i:.5*c.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}})}(jQuery),function(c){c.effects.blind=function(l){return this.queue(function(){var e=c(this),t=["position","top","bottom","left","right"],i=c.effects.setMode(e,l.options.mode||"hide"),n=l.options.direction||"vertical";c.effects.save(e,t),e.show();var o=c.effects.createWrapper(e).css({overflow:"hidden"}),a="vertical"==n?"height":"width",r="vertical"==n?o.height():o.width();"show"==i&&o.css(a,0);var s={};s[a]="show"==i?r:0,o.animate(s,l.duration,l.options.easing,function(){"hide"==i&&e.hide(),c.effects.restore(e,t),c.effects.removeWrapper(e),l.callback&&l.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(f){f.effects.bounce=function(p){return this.queue(function(){var e=f(this),t=["position","top","bottom","left","right"],i=f.effects.setMode(e,p.options.mode||"effect"),n=p.options.direction||"up",o=p.options.distance||20,a=p.options.times||5,r=p.duration||250;/show|hide/.test(i)&&t.push("opacity"),f.effects.save(e,t),e.show(),f.effects.createWrapper(e);var s="up"==n||"down"==n?"top":"left",l="up"==n||"left"==n?"pos":"neg";o=p.options.distance||("top"==s?e.outerHeight({margin:!0})/3:e.outerWidth({margin:!0})/3);"show"==i&&e.css("opacity",0).css(s,"pos"==l?-o:o),"hide"==i&&(o/=2*a),"hide"!=i&&a--,"show"==i&&((u={opacity:1})[s]=("pos"==l?"+=":"-=")+o,e.animate(u,r/2,p.options.easing),o/=2,a--);for(var c=0;c<a;c++){var d={};(h={})[s]=("pos"==l?"-=":"+=")+o,d[s]=("pos"==l?"+=":"-=")+o,e.animate(h,r/2,p.options.easing).animate(d,r/2,p.options.easing),o="hide"==i?2*o:o/2}if("hide"==i){var u;(u={opacity:0})[s]=("pos"==l?"-=":"+=")+o,e.animate(u,r/2,p.options.easing,function(){e.hide(),f.effects.restore(e,t),f.effects.removeWrapper(e),p.callback&&p.callback.apply(this,arguments)})}else{var h;d={};(h={})[s]=("pos"==l?"-=":"+=")+o,d[s]=("pos"==l?"+=":"-=")+o,e.animate(h,r/2,p.options.easing).animate(d,r/2,p.options.easing,function(){f.effects.restore(e,t),f.effects.removeWrapper(e),p.callback&&p.callback.apply(this,arguments)})}e.queue("fx",function(){e.dequeue()}),e.dequeue()})}}(jQuery),function(d){d.effects.clip=function(c){return this.queue(function(){var e=d(this),t=["position","top","bottom","left","right","height","width"],i=d.effects.setMode(e,c.options.mode||"hide"),n=c.options.direction||"vertical";d.effects.save(e,t),e.show();var o=d.effects.createWrapper(e).css({overflow:"hidden"}),a="IMG"==e[0].tagName?o:e,r={size:"vertical"==n?"height":"width",position:"vertical"==n?"top":"left"},s="vertical"==n?a.height():a.width();"show"==i&&(a.css(r.size,0),a.css(r.position,s/2));var l={};l[r.size]="show"==i?s:0,l[r.position]="show"==i?0:s/2,a.animate(l,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){"hide"==i&&e.hide(),d.effects.restore(e,t),d.effects.removeWrapper(e),c.callback&&c.callback.apply(e[0],arguments),e.dequeue()}})})}}(jQuery),function(c){c.effects.drop=function(l){return this.queue(function(){var e=c(this),t=["position","top","bottom","left","right","opacity"],i=c.effects.setMode(e,l.options.mode||"hide"),n=l.options.direction||"left";c.effects.save(e,t),e.show(),c.effects.createWrapper(e);var o="up"==n||"down"==n?"top":"left",a="up"==n||"left"==n?"pos":"neg",r=l.options.distance||("top"==o?e.outerHeight({margin:!0})/2:e.outerWidth({margin:!0})/2);"show"==i&&e.css("opacity",0).css(o,"pos"==a?-r:r);var s={opacity:"show"==i?1:0};s[o]=("show"==i?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+r,e.animate(s,{queue:!1,duration:l.duration,easing:l.options.easing,complete:function(){"hide"==i&&e.hide(),c.effects.restore(e,t),c.effects.removeWrapper(e),l.callback&&l.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(c){c.effects.explode=function(l){return this.queue(function(){var e=l.options.pieces?Math.round(Math.sqrt(l.options.pieces)):3,t=l.options.pieces?Math.round(Math.sqrt(l.options.pieces)):3;l.options.mode="toggle"==l.options.mode?c(this).is(":visible")?"hide":"show":l.options.mode;var i=c(this).show().css("visibility","hidden"),n=i.offset();n.top-=parseInt(i.css("marginTop"),10)||0,n.left-=parseInt(i.css("marginLeft"),10)||0;for(var o=i.outerWidth(!0),a=i.outerHeight(!0),r=0;r<e;r++)for(var s=0;s<t;s++)i.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:o/t*-s,top:a/e*-r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/t,height:a/e,left:n.left+s*(o/t)+("show"==l.options.mode?(s-Math.floor(t/2))*(o/t):0),top:n.top+r*(a/e)+("show"==l.options.mode?(r-Math.floor(e/2))*(a/e):0),opacity:"show"==l.options.mode?0:1}).animate({left:n.left+s*(o/t)+("show"==l.options.mode?0:(s-Math.floor(t/2))*(o/t)),top:n.top+r*(a/e)+("show"==l.options.mode?0:(r-Math.floor(e/2))*(a/e)),opacity:"show"==l.options.mode?1:0},l.duration||500);setTimeout(function(){"show"==l.options.mode?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide(),l.callback&&l.callback.apply(i[0]),i.dequeue(),c("div.ui-effects-explode").remove()},l.duration||500)})}}(jQuery),function(n){n.effects.fade=function(i){return this.queue(function(){var e=n(this),t=n.effects.setMode(e,i.options.mode||"hide");e.animate({opacity:t},{queue:!1,duration:i.duration,easing:i.options.easing,complete:function(){i.callback&&i.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(f){f.effects.fold=function(p){return this.queue(function(){var e=f(this),t=["position","top","bottom","left","right"],i=f.effects.setMode(e,p.options.mode||"hide"),n=p.options.size||15,o=!!p.options.horizFirst,a=p.duration?p.duration/2:f.fx.speeds._default/2;f.effects.save(e,t),e.show();var r=f.effects.createWrapper(e).css({overflow:"hidden"}),s="show"==i!=o,l=s?["width","height"]:["height","width"],c=s?[r.width(),r.height()]:[r.height(),r.width()],d=/([0-9]+)%/.exec(n);d&&(n=parseInt(d[1],10)/100*c["hide"==i?0:1]),"show"==i&&r.css(o?{height:0,width:n}:{height:n,width:0});var u={},h={};u[l[0]]="show"==i?c[0]:n,h[l[1]]="show"==i?c[1]:0,r.animate(u,a,p.options.easing).animate(h,a,p.options.easing,function(){"hide"==i&&e.hide(),f.effects.restore(e,t),f.effects.removeWrapper(e),p.callback&&p.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(a){a.effects.highlight=function(o){return this.queue(function(){var e=a(this),t=["backgroundImage","backgroundColor","opacity"],i=a.effects.setMode(e,o.options.mode||"show"),n={backgroundColor:e.css("backgroundColor")};"hide"==i&&(n.opacity=0),a.effects.save(e,t),e.show().css({backgroundImage:"none",backgroundColor:o.options.color||"#ffff99"}).animate(n,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==i&&e.hide(),a.effects.restore(e,t),"show"!=i||a.support.opacity||this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(o){o.effects.pulsate=function(n){return this.queue(function(){var e=o(this),t=o.effects.setMode(e,n.options.mode||"show");times=2*(n.options.times||5)-1,duration=n.duration?n.duration/2:o.fx.speeds._default/2,isVisible=e.is(":visible"),animateTo=0,isVisible||(e.css("opacity",0).show(),animateTo=1),("hide"==t&&isVisible||"show"==t&&!isVisible)&&times--;for(var i=0;i<times;i++)e.animate({opacity:animateTo},duration,n.options.easing),animateTo=(animateTo+1)%2;e.animate({opacity:animateTo},duration,n.options.easing,function(){0==animateTo&&e.hide(),n.callback&&n.callback.apply(this,arguments)}),e.queue("fx",function(){e.dequeue()}).dequeue()})}}(jQuery),function(m){m.effects.puff=function(a){return this.queue(function(){var e=m(this),t=m.effects.setMode(e,a.options.mode||"hide"),i=parseInt(a.options.percent,10)||150,n=i/100,o={height:e.height(),width:e.width()};m.extend(a.options,{fade:!0,mode:t,percent:"hide"==t?i:100,from:"hide"==t?o:{height:o.height*n,width:o.width*n}}),e.effect("scale",a.options,a.duration,a.callback),e.dequeue()})},m.effects.scale=function(c){return this.queue(function(){var e=m(this),t=m.extend(!0,{},c.options),i=m.effects.setMode(e,c.options.mode||"effect"),n=parseInt(c.options.percent,10)||(0==parseInt(c.options.percent,10)||"hide"==i?0:100),o=c.options.direction||"both",a=c.options.origin;"effect"!=i&&(t.origin=a||["middle","center"],t.restore=!0);var r={height:e.height(),width:e.width()};e.from=c.options.from||("show"==i?{height:0,width:0}:r);var s="horizontal"!=o?n/100:1,l="vertical"!=o?n/100:1;e.to={height:r.height*s,width:r.width*l},c.options.fade&&("show"==i&&(e.from.opacity=0,e.to.opacity=1),"hide"==i&&(e.from.opacity=1,e.to.opacity=0)),t.from=e.from,t.to=e.to,t.mode=i,e.effect("size",t,c.duration,c.callback),e.dequeue()})},m.effects.size=function(f){return this.queue(function(){var e=m(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],n=["width","height","overflow"],o=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],s=m.effects.setMode(e,f.options.mode||"effect"),l=f.options.restore||!1,c=f.options.scale||"both",d=f.options.origin,u={height:e.height(),width:e.width()};if(e.from=f.options.from||u,e.to=f.options.to||u,d){var h=m.effects.getBaseline(d,u);e.from.top=(u.height-e.from.height)*h.y,e.from.left=(u.width-e.from.width)*h.x,e.to.top=(u.height-e.to.height)*h.y,e.to.left=(u.width-e.to.width)*h.x}var p={from:{y:e.from.height/u.height,x:e.from.width/u.width},to:{y:e.to.height/u.height,x:e.to.width/u.width}};"box"!=c&&"both"!=c||(p.from.y!=p.to.y&&(t=t.concat(a),e.from=m.effects.setTransition(e,a,p.from.y,e.from),e.to=m.effects.setTransition(e,a,p.to.y,e.to)),p.from.x!=p.to.x&&(t=t.concat(r),e.from=m.effects.setTransition(e,r,p.from.x,e.from),e.to=m.effects.setTransition(e,r,p.to.x,e.to))),"content"!=c&&"both"!=c||p.from.y!=p.to.y&&(t=t.concat(o),e.from=m.effects.setTransition(e,o,p.from.y,e.from),e.to=m.effects.setTransition(e,o,p.to.y,e.to)),m.effects.save(e,l?t:i),e.show(),m.effects.createWrapper(e),e.css("overflow","hidden").css(e.from),"content"!=c&&"both"!=c||(a=a.concat(["marginTop","marginBottom"]).concat(o),r=r.concat(["marginLeft","marginRight"]),n=t.concat(a).concat(r),e.find("*[width]").each(function(){child=m(this),l&&m.effects.save(child,n);var e=child.height(),t=child.width();child.from={height:e*p.from.y,width:t*p.from.x},child.to={height:e*p.to.y,width:t*p.to.x},p.from.y!=p.to.y&&(child.from=m.effects.setTransition(child,a,p.from.y,child.from),child.to=m.effects.setTransition(child,a,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=m.effects.setTransition(child,r,p.from.x,child.from),child.to=m.effects.setTransition(child,r,p.to.x,child.to)),child.css(child.from),child.animate(child.to,f.duration,f.options.easing,function(){l&&m.effects.restore(child,n)})})),e.animate(e.to,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){0===e.to.opacity&&e.css("opacity",e.from.opacity),"hide"==s&&e.hide(),m.effects.restore(e,l?t:i),m.effects.removeWrapper(e),f.callback&&f.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(p){p.effects.shake=function(h){return this.queue(function(){var e=p(this),t=["position","top","bottom","left","right"],i=(p.effects.setMode(e,h.options.mode||"effect"),h.options.direction||"left"),n=h.options.distance||20,o=h.options.times||3,a=h.duration||h.options.duration||140;p.effects.save(e,t),e.show(),p.effects.createWrapper(e);var r="up"==i||"down"==i?"top":"left",s="up"==i||"left"==i?"pos":"neg",l={},c={},d={};l[r]=("pos"==s?"-=":"+=")+n,c[r]=("pos"==s?"+=":"-=")+2*n,d[r]=("pos"==s?"-=":"+=")+2*n,e.animate(l,a,h.options.easing);for(var u=1;u<o;u++)e.animate(c,a,h.options.easing).animate(d,a,h.options.easing);e.animate(c,a,h.options.easing).animate(l,a/2,h.options.easing,function(){p.effects.restore(e,t),p.effects.removeWrapper(e),h.callback&&h.callback.apply(this,arguments)}),e.queue("fx",function(){e.dequeue()}),e.dequeue()})}}(jQuery),function(c){c.effects.slide=function(l){return this.queue(function(){var e=c(this),t=["position","top","bottom","left","right"],i=c.effects.setMode(e,l.options.mode||"show"),n=l.options.direction||"left";c.effects.save(e,t),e.show(),c.effects.createWrapper(e).css({overflow:"hidden"});var o="up"==n||"down"==n?"top":"left",a="up"==n||"left"==n?"pos":"neg",r=l.options.distance||("top"==o?e.outerHeight({margin:!0}):e.outerWidth({margin:!0}));"show"==i&&e.css(o,"pos"==a?isNaN(r)?"-"+r:-r:r);var s={};s[o]=("show"==i?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+r,e.animate(s,{queue:!1,duration:l.duration,easing:l.options.easing,complete:function(){"hide"==i&&e.hide(),c.effects.restore(e,t),c.effects.removeWrapper(e),l.callback&&l.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(s){s.effects.transfer=function(r){return this.queue(function(){var e=s(this),t=s(r.options.to),i=t.offset(),n={top:i.top,left:i.left,height:t.innerHeight(),width:t.innerWidth()},o=e.offset(),a=s('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(r.options.className).css({top:o.top,left:o.left,height:e.innerHeight(),width:e.innerWidth(),position:"absolute"}).animate(n,r.duration,r.options.easing,function(){a.remove(),r.callback&&r.callback.apply(e[0],arguments),e.dequeue()})})}}(jQuery),function(h){h.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,e=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){e.disabled||h(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){e.disabled||h(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){e.disabled||h(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){e.disabled||h(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),e.navigation){var i=t.element.find("a").filter(e.navigationFilter).eq(0);if(i.length){var n=i.closest(".ui-accordion-header");n.length?t.active=n:t.active=i.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||e.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),h.browser.safari||t.headers.find("a").attr("tabIndex",-1),e.event&&t.headers.bind(e.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var e=this.options;e.icons&&(h("<span></span>").addClass("ui-icon "+e.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(e.icons.header).toggleClass(e.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var e=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var t=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(e.autoHeight||e.fillHeight)&&t.css("height",""),h.Widget.prototype.destroy.call(this)},_setOption:function(e,t){h.Widget.prototype._setOption.apply(this,arguments),"active"==e&&this.activate(t),"icons"==e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"==e&&this.headers.add(this.headers.next())[t?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var t=h.ui.keyCode,i=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:o=this.headers[(n+1)%i];break;case t.LEFT:case t.UP:o=this.headers[(n-1+i)%i];break;case t.SPACE:case t.ENTER:this._clickHandler({target:e.target},e.target),e.preventDefault()}return!o||(h(e.target).attr("tabIndex",-1),h(o).attr("tabIndex",0),o.focus(),!1)}},resize:function(){var e,t=this.options;if(t.fillSpace){if(h.browser.msie){var i=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height(),h.browser.msie&&this.element.parent().css("overflow",i),this.headers.each(function(){e-=h(this).outerHeight(!0)}),this.headers.next().each(function(){h(this).height(Math.max(0,e-h(this).innerHeight()+h(this).height()))}).css("overflow","auto")}else t.autoHeight&&(e=0,this.headers.next().each(function(){e=Math.max(e,h(this).height("").height())}).height(e));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(e){return e?"number"==typeof e?this.headers.filter(":eq("+e+")"):this.headers.not(this.headers.not(e)):!1===e?h([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,t){var i=this.options;if(!i.disabled)if(e.target){var n=h(e.currentTarget||t),o=n[0]===this.active[0];if(i.active=(!i.collapsible||!o)&&this.headers.index(n),!(this.running||!i.collapsible&&o)){var a=this.active,r=(c=n.next(),s=this.active.next(),l={options:i,newHeader:o&&i.collapsible?h([]):n,oldHeader:this.active,newContent:o&&i.collapsible?h([]):c,oldContent:s},this.headers.index(this.active[0])>this.headers.index(n[0]));this.active=o?h([]):n,this._toggle(c,s,l,o,r),a.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),o||(n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(i.icons.header).addClass(i.icons.headerSelected),n.next().addClass("ui-accordion-content-active"))}}else{if(!i.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(i.icons.headerSelected).addClass(i.icons.header),this.active.next().addClass("ui-accordion-content-active");var s=this.active.next(),l={options:i,newHeader:h([]),oldHeader:i.active,newContent:h([]),oldContent:s},c=this.active=h([]);this._toggle(c,s,l)}},_toggle:function(e,t,i,n,o){var a=this,r=a.options;a.toShow=e,a.toHide=t,a.data=i;function s(){if(a)return a._completed.apply(a,arguments)}if(a._trigger("changestart",null,a.data),a.running=0===t.size()?e.size():t.size(),r.animated){var l={};l=r.collapsible&&n?{toShow:h([]),toHide:t,complete:s,down:o,autoHeight:r.autoHeight||r.fillSpace}:{toShow:e,toHide:t,complete:s,down:o,autoHeight:r.autoHeight||r.fillSpace},r.proxied||(r.proxied=r.animated),r.proxiedDuration||(r.proxiedDuration=r.duration),r.animated=h.isFunction(r.proxied)?r.proxied(l):r.proxied,r.duration=h.isFunction(r.proxiedDuration)?r.proxiedDuration(l):r.proxiedDuration;var c=h.ui.accordion.animations,d=r.duration,u=r.animated;!u||c[u]||h.easing[u]||(u="slide"),c[u]||(c[u]=function(e){this.slide(e,{easing:u,duration:d||700})}),c[u](l)}else r.collapsible&&n?e.toggle():(t.hide(),e.show()),s(!0);t.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),e.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),h.extend(h.ui.accordion,{version:"1.8.13",animations:{slide:function(n,e){if((n=h.extend({easing:"swing",duration:300},n,e)).toHide.size())if(n.toShow.size()){var t,i=n.toShow.css("overflow"),o=0,a={},r={},s=n.toShow;t=s[0].style.width,s.width(parseInt(s.parent().width(),10)-parseInt(s.css("paddingLeft"),10)-parseInt(s.css("paddingRight"),10)-(parseInt(s.css("borderLeftWidth"),10)||0)-(parseInt(s.css("borderRightWidth"),10)||0)),h.each(["height","paddingTop","paddingBottom"],function(e,t){r[t]="hide";var i=(""+h.css(n.toShow[0],t)).match(/^([\d+-.]+)(.*)$/);a[t]={value:i[1],unit:i[2]||"px"}}),n.toShow.css({height:0,overflow:"hidden"}).show(),n.toHide.filter(":hidden").each(n.complete).end().filter(":visible").animate(r,{step:function(e,t){"height"==t.prop&&(o=t.end-t.start==0?0:(t.now-t.start)/(t.end-t.start)),n.toShow[0].style[t.prop]=o*a[t.prop].value+a[t.prop].unit},duration:n.duration,easing:n.easing,complete:function(){n.autoHeight||n.toShow.css("height",""),n.toShow.css({width:t,overflow:i}),n.complete()}})}else n.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},n);else n.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},n)},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(r){var o=0;r.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var i,o=this,a=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(e){if(!o.options.disabled&&!o.element.attr("readonly")){i=!1;var t=r.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:o._move("previousPage",e);break;case t.PAGE_DOWN:o._move("nextPage",e);break;case t.UP:o._move("previous",e),e.preventDefault();break;case t.DOWN:o._move("next",e),e.preventDefault();break;case t.ENTER:case t.NUMPAD_ENTER:o.menu.active&&(i=!0,e.preventDefault());case t.TAB:if(!o.menu.active)return;o.menu.select(e);break;case t.ESCAPE:o.element.val(o.term),o.close(e);break;default:clearTimeout(o.searching),o.searching=setTimeout(function(){o.term!=o.element.val()&&(o.selectedItem=null,o.search(null,e))},o.options.delay)}}}).bind("keypress.autocomplete",function(e){i&&(i=!1,e.preventDefault())}).bind("focus.autocomplete",function(){o.options.disabled||(o.selectedItem=null,o.previous=o.element.val())}).bind("blur.autocomplete",function(e){o.options.disabled||(clearTimeout(o.searching),o.closing=setTimeout(function(){o.close(e),o._change(e)},150))}),this._initSource(),this.response=function(){return o._response.apply(o,arguments)},this.menu=r("<ul></ul>").addClass("ui-autocomplete").appendTo(r(this.options.appendTo||"body",a)[0]).mousedown(function(e){var t=o.menu.element[0];r(e.target).closest(".ui-menu-item").length||setTimeout(function(){r(document).one("mousedown",function(e){e.target===o.element[0]||e.target===t||r.ui.contains(t,e.target)||o.close()})},1),setTimeout(function(){clearTimeout(o.closing)},13)}).menu({focus:function(e,t){var i=t.item.data("item.autocomplete");!1!==o._trigger("focus",e,{item:i})&&/^key/.test(e.originalEvent.type)&&o.element.val(i.value)},selected:function(e,t){var i=t.item.data("item.autocomplete"),n=o.previous;o.element[0]!==a.activeElement&&(o.element.focus(),o.previous=n,setTimeout(function(){o.previous=n,o.selectedItem=i},1)),!1!==o._trigger("select",e,{item:i})&&o.element.val(i.value),o.term=o.element.val(),o.close(e),o.selectedItem=i},blur:function(e,t){o.menu.element.is(":visible")&&o.element.val()!==o.term&&o.element.val(o.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),r.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),r.Widget.prototype.destroy.call(this)},_setOption:function(e,t){r.Widget.prototype._setOption.apply(this,arguments),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(r(t||"body",this.element[0].ownerDocument)[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_initSource:function(){var i,t,n=this;r.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(r.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(t=this.options.source,this.source=function(e,i){n.xhr&&n.xhr.abort(),n.xhr=r.ajax({url:t,data:e,dataType:"json",autocompleteRequest:++o,success:function(e,t){this.autocompleteRequest===o&&i(e)},error:function(){this.autocompleteRequest===o&&i([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),!1!==this._trigger("search",t)?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:r.map(e,function(e){return"string"==typeof e?{label:e,value:e}:r.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(t,e),this.menu.deactivate(),this.menu.refresh(),t.show(),this._resizeMenu(),t.position(r.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new r.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(i,e){var n=this;r.each(e,function(e,t){n._renderItem(i,t)})},_renderItem:function(e,t){return r("<li></li>").data("item.autocomplete",t).append(r("<a></a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element}}),r.extend(r.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(r.ui.autocomplete.escapeRegex(t),"i");return r.grep(e,function(e){return i.test(e.label||e.value||e)})}})}(jQuery),function(o){o.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(e){o(e.target).closest(".ui-menu-item a").length&&(e.preventDefault(),t.select(e))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){t.activate(e,o(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,n=this.element.scrollTop(),o=this.element.height();i<0?this.element.scrollTop(n+i):o<=i&&this.element.scrollTop(n+i-o+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,i){if(this.active){var n=this.active[e+"All"](".ui-menu-item").eq(0);n.length?this.activate(i,n):this.activate(i,this.element.children(t))}else this.activate(i,this.element.children(t))},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(e,this.element.children(".ui-menu-item:first"));var t=this.active.offset().top,i=this.element.height(),n=this.element.children(".ui-menu-item").filter(function(){var e=o(this).offset().top-t-i+o(this).height();return e<10&&-10<e});n.length||(n=this.element.children(".ui-menu-item:last")),this.activate(e,n)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(e,this.element.children(".ui-menu-item:last"));var t=this.active.offset().top,i=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var e=o(this).offset().top-t+i-o(this).height();return e<10&&-10<e}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(e,result)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[o.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(a){function r(e){a(":ui-button",e.target.form).each(function(){var e=a(this).data("button");setTimeout(function(){e.refresh()},1)})}function s(e){var t=e.name,i=e.form,n=a([]);return t&&(n=i?a(i).find("[name='"+t+"']"):a("[name='"+t+"']",e.ownerDocument).filter(function(){return!this.form})),n}var l,c="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",r),"boolean"!=typeof this.options.disabled&&(this.options.disabled=this.element.attr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,n="ui-state-hover"+(e?"":" ui-state-active"),o="ui-state-focus";null===i.label&&(i.label=this.buttonElement.html()),this.element.is(":disabled")&&(i.disabled=!0),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter.button",function(){i.disabled||(a(this).addClass("ui-state-hover"),this===l&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){i.disabled||a(this).removeClass(n)}).bind("focus.button",function(){a(this).addClass(o)}).bind("blur.button",function(){a(this).removeClass(o)}).bind("click.button",function(e){i.disabled&&e.stopImmediatePropagation()}),e&&this.element.bind("change.button",function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(i.disabled)return!1;a(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(i.disabled)return!1;a(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed",!0);var e=t.element[0];s(e).not(e).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(i.disabled)return!1;a(this).addClass("ui-state-active"),l=this,a(document).one("mouseup",function(){l=null})}).bind("mouseup.button",function(){if(i.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(e){if(i.disabled)return!1;e.keyCode!=a.ui.keyCode.SPACE&&e.keyCode!=a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",i.disabled)},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for="+this.element.attr("id")+"]";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var i=this.element.is(":checked");i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-hover ui-state-active  "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(e,t){a.Widget.prototype._setOption.apply(this,arguments),"disabled"===e&&(t?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?s(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(d),t=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,n=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.13"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){for(var i in $.extend(e,t),t)null!=t[i]&&t[i]!=undefined||(e[i]=t[i]);return e}function isArray(e){return e&&($.browser.safari&&"object"==typeof e&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,n){var t=$(e);n.append=$([]),n.trigger=$([]),t.hasClass(this.markerClassName)||(this._attachments(t,n),t.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,t,i){n.settings[t]=i}).bind("getData.datepicker",function(e,t){return this._get(n,t)}),this._autoSize(n),$.data(e,PROP_NAME,n))},_attachments:function(e,t){var i=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var o=this._get(t,"showOn");if("focus"!=o&&"both"!=o||e.focus(this._showDatepicker),"button"==o||"both"==o){var a=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?a:$("<img/>").attr({src:r,alt:a,title:a}))),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){function n(e){for(var t=0,i=0,n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length,i=n);return i}t.setMonth(n(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(n(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,n){var t=$(e);t.hasClass(this.markerClassName)||(t.addClass(this.markerClassName).append(n.dpDiv).bind("setData.datepicker",function(e,t,i){n.settings[t]=i}).bind("getData.datepicker",function(e,t){return this._get(n,t)}),$.data(e,PROP_NAME,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.dpDiv.show())},_dialogDatepicker:function(e,t,i,n,o){var a=this._dialogInst;if(!a){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,n||{}),t=t&&t.constructor==Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+c,l/2-150+d]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=n&&"span"!=n||t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var o=e.children("."+this._inlineClass);o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var o=e.children("."+this._inlineClass);o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):n?"all"==t?$.extend({},n.settings):this._get(n,t):null;var o=t||{};if("string"==typeof t&&((o={})[t]=i),n){this._curInst==n&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(n,"min"),s=this._getMinMaxDate(n,"max");extendRemove(n.settings,o),null!==r&&o.dateFormat!==undefined&&o.minDate===undefined&&(n.settings.minDate=this._formatDate(n,r)),null!==s&&o.dateFormat!==undefined&&o.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,s)),this._attachments($(e),n),this._autoSize(n),this._setDate(n,a),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,n=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var o=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);return o[0]?$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,o[0]):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),n=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||n<" "||!i||-1<i.indexOf(n)}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t))&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if("input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var i=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=i&&$.datepicker._curInst.dpDiv.stop(!0,!0);var t=$.datepicker._get(i,"beforeShow");extendRemove(i.settings,t?t.apply(e,[e,i]):{}),i.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(i),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var n=!1;$(e).parents().each(function(){return!(n|="fixed"==$(this).css("position"))}),n&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(i),o=$.datepicker._checkOffset(i,o,n),i.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":n?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!i.inline){function a(){var e=i.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var t=$.datepicker._getBorders(i.dpDiv);e.css({left:-t[0],top:-t[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()})}}var r=$.datepicker._get(i,"showAnim"),s=$.datepicker._get(i,"duration");i.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[r]?i.dpDiv.show(r,$.datepicker._get(i,"showOptions"),s,a):i.dpDiv[r||"show"](r?s:null,a),r&&s||a(),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),$.datepicker._curInst=i}}},_updateDatepicker:function(e){var t=$.datepicker._getBorders(e.dpDiv);(instActive=e).dpDiv.empty().append(this._generateHTML(e));var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n=this._getNumberOfMonths(e),o=n[1];if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<o&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var a=e.yearshtml;setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0)}},_getBorders:function(e){function t(e){return{thin:1,medium:2,thick:3}[e]||e}return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?n-a:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>s&&n<s?Math.abs(t.left+n-s):0),t.top-=Math.min(t.top,t.top+o>l&&o<l?Math.abs(o+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var n=$(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){function i(){$.datepicker._tidyDialog(t),this._curInst=null}var n=this._get(t,"showAnim"),o=this._get(t,"duration");$.effects&&$.effects[n]?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),o,i):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?o:null,i),n||i();var a=this._get(t,"onClose");a&&a.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target);t[0].id==$.datepicker._mainDivId||0!=t.parents("#"+$.datepicker._mainDivId).length||t.hasClass($.datepicker.markerClassName)||t.hasClass($.datepicker._triggerClass)||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI||$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=$(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,t+("M"==i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=$(e),o=this._getInst(n[0]);o._selectingMonthYear=!1,o["selected"+("M"==i?"Month":"Year")]=o["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_clickMonthYear:function(e){var t=$(e),i=this._getInst(t[0]);i.input&&i._selectingMonthYear&&setTimeout(function(){i.input.focus()},0),i._selectingMonthYear=!i._selectingMonthYear},_selectDay:function(e,t,i,n){var o=$(e);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])){var a=this._getInst(o[0]);a.selectedDay=a.currentDay=$("a",n).html(),a.selectedMonth=a.currentMonth=t,a.selectedYear=a.currentYear=i,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),n=this._getInst(i[0]);t=null!=t?t:this._formatDate(n),n.input&&n.input.val(t),this._updateAlternate(n);var o=this._get(n,"onSelect");o?o.apply(n.input?n.input[0]:null,[t,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e));$(t).each(function(){$(this).val(o)})}},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(i,a,e){if(null==i||null==a)throw"Invalid arguments";if(""==(a="object"==typeof a?a.toString():a+""))return null;var t=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff;t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10);function r(e){var t=b+1<i.length&&i.charAt(b+1)==e;return t&&b++,t}function n(e){var t=r(e),i=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&t?4:"o"==e?3:2)+"}"),n=a.substring(v).match(i);if(!n)throw"Missing number at position "+v;return v+=n[0].length,parseInt(n[0],10)}function o(e,t,i){var n=$.map(r(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),o=-1;if($.each(n,function(e,t){var i=t[1];if(a.substr(v,i.length).toLowerCase()==i.toLowerCase())return o=t[0],v+=i.length,!1}),-1!=o)return o+1;throw"Unknown name at position "+v}function s(){if(a.charAt(v)!=i.charAt(b))throw"Unexpected literal at position "+v;v++}for(var l=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,c=(e?e.dayNames:null)||this._defaults.dayNames,d=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,u=(e?e.monthNames:null)||this._defaults.monthNames,h=-1,p=-1,f=-1,m=-1,g=!1,v=0,b=0;b<i.length;b++)if(g)"'"!=i.charAt(b)||r("'")?s():g=!1;else switch(i.charAt(b)){case"d":f=n("d");break;case"D":o("D",l,c);break;case"o":m=n("o");break;case"m":p=n("m");break;case"M":p=o("M",d,u);break;case"y":h=n("y");break;case"@":h=(A=new Date(n("@"))).getFullYear(),p=A.getMonth()+1,f=A.getDate();break;case"!":var A;h=(A=new Date((n("!")-this._ticksTo1970)/1e4)).getFullYear(),p=A.getMonth()+1,f=A.getDate();break;case"'":r("'")?s():g=!0;break;default:s()}if(-1==h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=t?0:-100)),-1<m)for(p=1,f=m;;){var y=this._getDaysInMonth(h,p-1);if(f<=y)break;p++,f-=y}if((A=this._daylightSavingAdjust(new Date(h,p-1,f))).getFullYear()!=h||A.getMonth()+1!=p||A.getDate()!=f)throw"Invalid date";return A},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,e,t){if(!e)return"";function o(e){var t=h+1<i.length&&i.charAt(h+1)==e;return t&&h++,t}function n(e,t,i){var n=""+t;if(o(e))for(;n.length<i;)n="0"+n;return n}function a(e,t,i,n){return o(e)?n[t]:i[t]}var r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,s=(t?t.dayNames:null)||this._defaults.dayNames,l=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,c=(t?t.monthNames:null)||this._defaults.monthNames,d="",u=!1;if(e)for(var h=0;h<i.length;h++)if(u)"'"!=i.charAt(h)||o("'")?d+=i.charAt(h):u=!1;else switch(i.charAt(h)){case"d":d+=n("d",e.getDate(),2);break;case"D":d+=a("D",e.getDay(),r,s);break;case"o":d+=n("o",(e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5,3);break;case"m":d+=n("m",e.getMonth()+1,2);break;case"M":d+=a("M",e.getMonth(),l,c);break;case"y":d+=o("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":o("'")?d+="'":u=!0;break;default:d+=i.charAt(h)}return d},_possibleChars:function(i){function e(e){var t=o+1<i.length&&i.charAt(o+1)==e;return t&&o++,t}for(var t="",n=!1,o=0;o<i.length;o++)if(n)"'"!=i.charAt(o)||e("'")?t+=i.charAt(o):n=!1;else switch(i.charAt(o)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":e("'")?t+="'":n=!0;break;default:t+=i.charAt(o)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,n,o=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;i=n=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(o,a,r)||n}catch(e){this.log(e),a=t?"":a}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=a?i.getDate():0,e.currentMonth=a?i.getMonth():0,e.currentYear=a?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(s,e,t){var i,n,o=null==e||""===e?t:"string"==typeof e?function(e){try{return $.datepicker.parseDate($.datepicker._get(s,"dateFormat"),e,$.datepicker._getFormatConfig(s))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(s):null)||new Date,i=t.getFullYear(),n=t.getMonth(),o=t.getDate(),a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=a.exec(e);r;){switch(r[2]||"d"){case"d":case"D":o+=parseInt(r[1],10);break;case"w":case"W":o+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(r[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,n))}r=a.exec(e)}return new Date(i,n,o)}(e):"number"==typeof e?isNaN(e)?t:(i=e,(n=new Date).setDate(n.getDate()+i),n):new Date(e.getTime());return(o=o&&"Invalid Date"==o.toString()?t:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,a=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),o==e.selectedMonth&&a==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),n=this._get(e,"showButtonPanel"),o=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=r[0]||1!=r[1],d=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-s,f=e.drawYear;if(p<0&&(p+=12,f--),h){var m=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-r[0]*r[1]+1,h.getDate()));for(m=u&&m<u?u:m;this._daylightSavingAdjust(new Date(f,p,1))>m;)--p<0&&(p=11,f--)}e.drawMonth=p,e.drawYear=f;var g=this._get(e,"prevText");g=a?this.formatDate(g,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\" title=\""+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",b=this._get(e,"nextText");b=a?this.formatDate(b,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(e)):b;var A=this._canAdjustMonth(e,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\" title=\""+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",y=this._get(e,"currentText"),_=this._get(e,"gotoCurrent")&&e.currentDay?d:t;y=a?this.formatDate(y,_,this._getFormatConfig(e)):y;var w=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",x=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?w:"")+(this._isInRange(e,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+e.id+"');\">"+y+"</button>":"")+(i?"":w)+"</div>":"",k=parseInt(this._get(e,"firstDay"),10);k=isNaN(k)?0:k;for(var C=this._get(e,"showWeek"),S=this._get(e,"dayNames"),T=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),E=this._get(e,"monthNames"),D=this._get(e,"monthNamesShort"),I=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),M=this._get(e,"selectOtherMonths"),O=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),N="",L=0;L<r[0];L++){for(var j="",R=0;R<r[1];R++){var F=this._daylightSavingAdjust(new Date(f,p,e.selectedDay)),z=" ui-corner-all",q="";if(c){if(q+='<div class="ui-datepicker-group',1<r[1])switch(R){case 0:q+=" ui-datepicker-group-first",z=" ui-corner-"+(i?"right":"left");break;case r[1]-1:q+=" ui-datepicker-group-last",z=" ui-corner-"+(i?"left":"right");break;default:q+=" ui-datepicker-group-middle",z=""}q+='">'}q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+z+'">'+(/all|left/.test(z)&&0==L?i?A:v:"")+(/all|right/.test(z)&&0==L?i?v:A:"")+this._generateMonthYearHeader(e,p,f,u,h,0<L||0<R,E,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var H=C?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;W<7;W++){var V=(W+k)%7;H+="<th"+(5<=(W+k+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+S[V]+'">'+T[V]+"</span></th>"}q+=H+"</tr></thead><tbody>";var U=this._getDaysInMonth(f,p);f==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,U));for(var B=(this._getFirstDayOfMonth(f,p)-k+7)%7,Y=c?6:Math.ceil((B+U)/7),K=this._daylightSavingAdjust(new Date(f,p,1-B)),J=0;J<Y;J++){q+="<tr>";var G=C?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(K)+"</td>":"";for(W=0;W<7;W++){var X=I?I.apply(e.input?e.input[0]:null,[K]):[!0,""],Q=K.getMonth()!=p,Z=Q&&!M||!X[0]||u&&K<u||h&&h<K;G+='<td class="'+(5<=(W+k+6)%7?" ui-datepicker-week-end":"")+(Q?" ui-datepicker-other-month":"")+(K.getTime()==F.getTime()&&p==e.selectedMonth&&e._keyEvent||O.getTime()==K.getTime()&&O.getTime()==F.getTime()?" "+this._dayOverClass:"")+(Z?" "+this._unselectableClass+" ui-state-disabled":"")+(Q&&!P?"":" "+X[1]+(K.getTime()==d.getTime()?" "+this._currentClass:"")+(K.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Q&&!P||!X[2]?"":' title="'+X[2]+'"')+(Z?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+e.id+"',"+K.getMonth()+","+K.getFullYear()+', this);return false;"')+">"+(Q&&!P?"&#xa0;":Z?'<span class="ui-state-default">'+K.getDate()+"</span>":'<a class="ui-state-default'+(K.getTime()==t.getTime()?" ui-state-highlight":"")+(K.getTime()==d.getTime()?" ui-state-active":"")+(Q?" ui-priority-secondary":"")+'" href="#">'+K.getDate()+"</a>")+"</td>",K.setDate(K.getDate()+1),K=this._daylightSavingAdjust(K)}q+=G+"</tr>"}11<++p&&(p=0,f++),j+=q+="</tbody></table>"+(c?"</div>"+(0<r[0]&&R==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}N+=j}return N+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,N},_generateMonthYearHeader:function(e,t,i,n,o,a,r,s){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),d=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',h="";if(a||!l)h+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{var p=n&&n.getFullYear()==i,f=o&&o.getFullYear()==i;h+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+e.id+"');\">";for(var m=0;m<12;m++)(!p||m>=n.getMonth())&&(!f||m<=o.getMonth())&&(h+='<option value="'+m+'"'+(m==t?' selected="selected"':"")+">"+s[m]+"</option>");h+="</select>"}if(d||(u+=h+(!a&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{function g(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?b+parseInt(e,10):parseInt(e,10);return isNaN(t)?b:t}var v=this._get(e,"yearRange").split(":"),b=(new Date).getFullYear(),A=g(v[0]),y=Math.max(A,g(v[1]||""));for(A=n?Math.max(A,n.getFullYear()):A,y=o?Math.min(y,o.getFullYear()):y,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+e.id+"');\">";A<=y;A++)e.yearshtml+='<option value="'+A+'"'+(A==i?' selected="selected"':"")+">"+A+"</option>";e.yearshtml+="</select>",u+=e.yearshtml,e.yearshtml=null}return u+=this._get(e,"yearSuffix"),d&&(u+=(!a&&l&&c?"":"&#xa0;")+h),u+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"==i?t:0),o=e.drawMonth+("M"==i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,a)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&t<i?i:t;return o=n&&n<o?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,n+(t<0?t:o[0]*o[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.13",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(s){var l="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},c=s.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};s.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(e){var t=s(this).css(e).offset().top;t<0&&s(this).css("top",e.top-t)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,e=i.title||"&#160;",n=s.ui.dialog.getTitleId(t.element),o=(t.uiDialog=s("<div></div>")).appendTo(document.body).hide().addClass(l+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(e){i.closeOnEscape&&e.keyCode&&e.keyCode===s.ui.keyCode.ESCAPE&&(t.close(e),e.preventDefault())}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(e){t.moveToTop(!1,e)}),a=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),(t.uiDialogTitlebar=s("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o)),r=s('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){r.addClass("ui-state-hover")},function(){r.removeClass("ui-state-hover")}).focus(function(){r.addClass("ui-state-focus")}).blur(function(){r.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(a);(t.uiDialogTitlebarCloseText=s("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(r),s("<span></span>").addClass("ui-dialog-title").attr("id",n).html(e).prependTo(a);s.isFunction(i.beforeclose)&&!s.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),a.find("*").add(a).disableSelection(),i.draggable&&s.fn.draggable&&t._makeDraggable(),i.resizable&&s.fn.resizable&&t._makeResizable(),t._createButtons(i.buttons),t._isOpen=!1,s.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){return this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),this},widget:function(){return this.uiDialog},close:function(e){var t,i,n=this;if(!1!==n._trigger("beforeClose",e))return n.overlay&&n.overlay.destroy(),n.uiDialog.unbind("keypress.ui-dialog"),n._isOpen=!1,n.options.hide?n.uiDialog.hide(n.options.hide,function(){n._trigger("close",e)}):(n.uiDialog.hide(),n._trigger("close",e)),s.ui.dialog.overlay.resize(),n.options.modal&&(t=0,s(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(i=s(this).css("z-index"),isNaN(i)||(t=Math.max(t,i)))}),s.ui.dialog.maxZ=t),n},isOpen:function(){return this._isOpen},moveToTop:function(e,t){var i,n=this,o=n.options;return o.modal&&!e||!o.stack&&!o.modal?n._trigger("focus",t):(o.zIndex>s.ui.dialog.maxZ&&(s.ui.dialog.maxZ=o.zIndex),n.overlay&&(s.ui.dialog.maxZ+=1,n.overlay.$el.css("z-index",s.ui.dialog.overlay.maxZ=s.ui.dialog.maxZ)),i={scrollTop:n.element.attr("scrollTop"),scrollLeft:n.element.attr("scrollLeft")},s.ui.dialog.maxZ+=1,n.uiDialog.css("z-index",s.ui.dialog.maxZ),n.element.attr(i),n._trigger("focus",t),n)},open:function(){if(!this._isOpen){var e=this,t=e.options,i=e.uiDialog;return e.overlay=t.modal?new s.ui.dialog.overlay(e):null,e._size(),e._position(t.position),i.show(t.show),e.moveToTop(!0),t.modal&&i.bind("keypress.ui-dialog",function(e){if(e.keyCode===s.ui.keyCode.TAB){var t=s(":tabbable",this),i=t.filter(":first"),n=t.filter(":last");return e.target!==n[0]||e.shiftKey?e.target===i[0]&&e.shiftKey?(n.focus(1),!1):void 0:(i.focus(1),!1)}}),s(e.element.find(":tabbable").get().concat(i.find(".ui-dialog-buttonpane :tabbable").get().concat(i.get()))).eq(0).focus(),e._isOpen=!0,e._trigger("open"),e}},_createButtons:function(e){var n=this,t=!1,i=s("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),o=s("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);n.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof e&&null!==e&&s.each(e,function(){return!(t=!0)}),t&&(s.each(e,function(e,t){t=s.isFunction(t)?{click:t,text:e}:t;var i=s('<button type="button"></button>').click(function(){t.click.apply(n.element[0],arguments)}).appendTo(o);s.each(t,function(e,t){"click"!==e&&(e in c?i[e](t):i.attr(e,t))}),s.fn.button&&i.button()}),i.appendTo(n.uiDialog))},_makeDraggable:function(){var i,n=this,o=n.options,a=s(document);function r(e){return{position:e.position,offset:e.offset}}n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){i="auto"===o.height?"auto":s(this).height(),s(this).height(s(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",e,r(t))},drag:function(e,t){n._trigger("drag",e,r(t))},stop:function(e,t){o.position=[t.position.left-a.scrollLeft(),t.position.top-a.scrollTop()],s(this).removeClass("ui-dialog-dragging").height(i),n._trigger("dragStop",e,r(t)),s.ui.dialog.overlay.resize()}})},_makeResizable:function(e){e=void 0===e?this.options.resizable:e;var i=this,n=i.options,t=i.uiDialog.css("position"),o="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:i.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:i._minHeight(),handles:o,start:function(e,t){s(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",e,a(t))},resize:function(e,t){i._trigger("resize",e,a(t))},stop:function(e,t){s(this).removeClass("ui-dialog-resizing"),n.height=s(this).height(),n.width=s(this).width(),i._trigger("resizeStop",e,a(t)),s.ui.dialog.overlay.resize()}}).css("position",t).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(e){var t,i=[],n=[0,0];e=e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(1===(i=e.split?e.split(" "):[e[0],e[1]]).length&&(i[1]=i[0]),s.each(["left","top"],function(e,t){+i[e]===i[e]&&(n[e]=i[e],i[e]=t)}),e={my:i.join(" "),at:i.join(" "),offset:n.join(" ")}),s.extend({},s.ui.dialog.prototype.options.position,e)):s.ui.dialog.prototype.options.position,(t=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(s.extend({of:window},e)),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n={},o=!1;s.each(e,function(e,t){i._setOption(e,t),e in a&&(o=!0),e in r&&(n[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i=this.uiDialog;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":this._createButtons(t);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+t);break;case"dialogClass":i.removeClass(this.options.dialogClass).addClass(l+t);break;case"disabled":t?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":var n=i.is(":data(draggable)");n&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable();break;case"position":this._position(t);break;case"resizable":var o=i.is(":data(resizable)");o&&!t&&i.resizable("destroy"),o&&"string"==typeof t&&i.resizable("option","handles",t),o||!1===t||this._makeResizable(t);break;case"title":s(".ui-dialog-title",this.uiDialogTitlebar).html(""+(t||"&#160;"))}s.Widget.prototype._setOption.apply(this,arguments)},_size:function(){var e,t,i=this.options,n=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).height(),t=Math.max(0,i.minHeight-e),"auto"===i.height)if(s.support.minHeight)this.element.css({minHeight:t,height:"auto"});else{this.uiDialog.show();var o=this.element.css("height","auto").height();n||this.uiDialog.hide(),this.element.height(Math.max(o,t))}else this.element.height(Math.max(i.height-e,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),s.extend(s.ui.dialog,{version:"1.8.13",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(e){this.$el=s.ui.dialog.overlay.create(e)}}),s.extend(s.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:s.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){s.ui.dialog.overlay.instances.length&&s(document).bind(s.ui.dialog.overlay.events,function(e){if(s(e.target).zIndex()<s.ui.dialog.overlay.maxZ)return!1})},1),s(document).bind("keydown.dialog-overlay",function(e){t.options.closeOnEscape&&e.keyCode&&e.keyCode===s.ui.keyCode.ESCAPE&&(t.close(e),e.preventDefault())}),s(window).bind("resize.dialog-overlay",s.ui.dialog.overlay.resize));var e=(this.oldInstances.pop()||s("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return s.fn.bgiframe&&e.bgiframe(),this.instances.push(e),e},destroy:function(e){var t=s.inArray(e,this.instances);-1!=t&&this.oldInstances.push(this.instances.splice(t,1)[0]),0===this.instances.length&&s([document,window]).unbind(".dialog-overlay"),e.remove();var i=0;s.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var e;return s.browser.msie&&s.browser.version<7?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?s(window).height()+"px":e+"px":s(document).height()+"px"},width:function(){var e;return s.browser.msie&&s.browser.version<7?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?s(window).width()+"px":e+"px":s(document).width()+"px"},resize:function(){var e=s([]);s.each(s.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:s.ui.dialog.overlay.width(),height:s.ui.dialog.overlay.height()})}}),s.extend(s.ui.dialog.overlay.prototype,{destroy:function(){s.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(x){x.ui=x.ui||{};var o,k=Math.max,C=Math.abs,S=Math.round,n=/left|center|right/,a=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=x.fn.position;function T(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function E(e,t){return parseInt(x.css(e,t),10)||0}x.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t,i=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return x("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),e===(t=n.offsetWidth)&&(t=i[0].clientWidth),i.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:n?x.position.scrollbarWidth():0,height:o?x.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=x(e||window),i=x.isWindow(t[0]);return{element:t,isWindow:i,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i?t.width():t.outerWidth(),height:i?t.height():t.outerHeight()}}},x.fn.position=function(h){if(!h||!h.of)return c.apply(this,arguments);h=x.extend({},h);var p,f,m,g,v,e,t,i,b=x(h.of),A=x.position.getWithinInfo(h.within),y=x.position.getScrollInfo(A),_=(h.collision||"flip").split(" "),w={};return e=9===(i=(t=b)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:x.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},b[0].preventDefault&&(h.at="left top"),f=e.width,m=e.height,g=e.offset,v=x.extend({},g),x.each(["my","at"],function(){var e,t,i=(h[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",e=r.exec(i[0]),t=r.exec(i[1]),w[this]=[e?e[0]:0,t?t[0]:0],h[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===h.at[0]?v.left+=f:"center"===h.at[0]&&(v.left+=f/2),"bottom"===h.at[1]?v.top+=m:"center"===h.at[1]&&(v.top+=m/2),p=T(w.at,f,m),v.left+=p[0],v.top+=p[1],this.each(function(){var i,e,r=x(this),s=r.outerWidth(),l=r.outerHeight(),t=E(this,"marginLeft"),n=E(this,"marginTop"),o=s+t+E(this,"marginRight")+y.width,a=l+n+E(this,"marginBottom")+y.height,c=x.extend({},v),d=T(w.my,r.outerWidth(),r.outerHeight());if(h.offset){var u=h.offset.split(" ");0<u.length&&(d[0]+=parseInt(u[0]),1==u.length?d[1]+=parseInt(u[0]):d[1]+=parseInt(u[1]))}"right"===h.my[0]?c.left-=s:"center"===h.my[0]&&(c.left-=s/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=d[0],c.top+=d[1],x.support.offsetFractions||(c.left=S(c.left),c.top=S(c.top)),i={marginLeft:t,marginTop:n},x.each(["left","top"],function(e,t){x.ui.position[_[e]]&&x.ui.position[_[e]][t](c,{targetWidth:f,targetHeight:m,elemWidth:s,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:a,offset:[p[0]+d[0],p[1]+d[1]],my:h.my,at:h.at,within:A,elem:r})}),h.using&&(e=function(e){var t=g.left-c.left,i=t+f-s,n=g.top-c.top,o=n+m-l,a={target:{element:b,left:g.left,top:g.top,width:f,height:m},element:{element:r,left:c.left,top:c.top,width:s,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};f<s&&C(t+i)<f&&(a.horizontal="center"),m<l&&C(n+o)<m&&(a.vertical="middle"),k(C(t),C(i))>k(C(n),C(o))?a.important="horizontal":a.important="vertical",h.using.call(this,e,a)}),r.offset(x.extend(c,{using:e}))})},x.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,r=e.left-t.collisionPosition.marginLeft,s=o-r,l=r+t.collisionWidth-a-o;t.collisionWidth>a?0<s&&l<=0?(i=e.left+s+t.collisionWidth-a-o,e.left+=s-i):e.left=0<l&&s<=0?o:l<s?o+a-t.collisionWidth:o:0<s?e.left+=s:0<l?e.left-=l:e.left=k(e.left-r,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,s=o-r,l=r+t.collisionHeight-a-o;t.collisionHeight>a?0<s&&l<=0?(i=e.top+s+t.collisionHeight-a-o,e.top+=s-i):e.top=0<l&&s<=0?o:l<s?o+a-t.collisionHeight:o:0<s?e.top+=s:0<l?e.top-=l:e.top=k(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,a=o.offset.left+o.scrollLeft,r=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-s,d=l+t.collisionWidth-r-s,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((i=e.left+u+h+p+t.collisionWidth-r-a)<0||i<C(c))&&(e.left+=u+h+p):0<d&&(0<(n=e.left-t.collisionPosition.marginLeft+u+h+p-s)||C(n)<d)&&(e.left+=u+h+p)},top:function(e,t){var i,n,o=t.within,a=o.offset.top+o.scrollTop,r=o.height,s=o.isWindow?o.scrollTop:o.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-s,d=l+t.collisionHeight-r-s,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?(n=e.top+u+h+p+t.collisionHeight-r-a,e.top+u+h+p>c&&(n<0||n<C(c))&&(e.top+=u+h+p)):0<d&&(i=e.top-t.collisionPosition.marginTop+u+h+p-s,e.top+u+h+p>d&&(0<i||C(i)<d)&&(e.top+=u+h+p))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");for(o in e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&x.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)e.style[o]=i[o];e.appendChild(r),(t=a||document.documentElement).insertBefore(e,t.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=x(r).offset().left,x.support.offsetFractions=10<n&&n<11,e.innerHTML="",t.removeChild(e)}()}(jQuery),function(i){i.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=i("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),i.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),i.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),i.extend(i.ui.progressbar,{version:"1.8.13"})}(jQuery),function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var r=this,e=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),i=e.values&&e.values.length||1,n=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=d([]),e.range&&(!0===e.range&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&2!==e.values.length&&(e.values=[e.values[0],e.values[0]])),this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:"")));for(var o=t.length;o<i;o+=1)n.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=t.add(d(n.join("")).appendTo(r.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){e.disabled||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")}),this.handles.each(function(e){d(this).data("index.ui-slider-handle",e)}),this.handles.keydown(function(e){var t,i,n,o=!0,a=d(this).data("index.ui-slider-handle");if(!r.options.disabled){switch(e.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(o=!1,!r._keySliding&&(r._keySliding=!0,d(this).addClass("ui-state-active"),!1===r._start(e,a)))return}switch(n=r.options.step,t=i=r.options.values&&r.options.values.length?r.values(a):r.value(),e.keyCode){case d.ui.keyCode.HOME:i=r._valueMin();break;case d.ui.keyCode.END:i=r._valueMax();break;case d.ui.keyCode.PAGE_UP:i=r._trimAlignValue(t+(r._valueMax()-r._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:i=r._trimAlignValue(t-(r._valueMax()-r._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(t===r._valueMax())return;i=r._trimAlignValue(t+n);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(t===r._valueMin())return;i=r._trimAlignValue(t-n)}return r._slide(e,a,i),o}}).keyup(function(e){var t=d(this).data("index.ui-slider-handle");r._keySliding&&(r._keySliding=!1,r._stop(e,t),r._change(e,t),d(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(e){var t,i,n,o,a,r,s,l,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,(a=this).handles.each(function(e){var t=Math.abs(i-a.values(e));t<n&&(n=t,o=d(this),r=e)}),!0===c.range&&this.values(1)===c.min&&(r+=1,o=d(this.handles[r])),!1!==this._start(e,r)&&(this._mouseSliding=!0,a._handleIndex=r,o.addClass("ui-state-active").focus(),s=o.offset(),l=!d(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,i),this._animateOff=!0))},_mouseStart:function(e){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o;return 1<(i=("horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/t)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),o=this._valueMin()+i*n,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,a;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n<i||1===t&&i<n)&&(i=n),i!==this.values(t)&&((o=this.values())[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),!1!==a&&this.values(t,i,!0))):i!==this.value()&&!1!==(a=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,n,o;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!d.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,n=e,o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,t){var i,n=0;switch(d.isArray(this.options.values)&&(n=this.options.values.length),d.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":t?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<n;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t;return alignValue=e-i,2*Math.abs(i)>=t&&(alignValue+=0<i?t:-t),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var i,n,e,t,o,a=this.options.range,r=this.options,s=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(e,t){i=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100,c["horizontal"===s.orientation?"left":"bottom"]=i+"%",d(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===e&&s.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===e&&s.range[l?"animate":"css"]({width:i-n+"%"},{queue:!1,duration:r.animate})):(0===e&&s.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===e&&s.range[l?"animate":"css"]({height:i-n+"%"},{queue:!1,duration:r.animate}))),n=i}):(e=this.value(),t=this._valueMin(),o=this._valueMax(),i=o!==t?(e-t)/(o-t)*100:0,c["horizontal"===s.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))}}),d.extend(d.ui.slider,{version:"1.8.13"})}(jQuery),function(p){var i=0,n=0;p.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if("selected"==e){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++i},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var e=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++n);return p.cookie.apply(null,[e].concat(p.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var e=p(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_tabify:function(e){var i,n,s=this,l=this.options,c=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=p(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return p("a",this)[0]}),this.panels=p([]),this.anchors.each(function(e,t){var i,n=p(t).attr("href"),o=n.split("#")[0];if(o&&(o===location.toString().split("#")[0]||(i=p("base")[0])&&o===i.href)&&(n=t.hash,t.href=n),c.test(n))s.panels=s.panels.add(s.element.find(s._sanitizeSelector(n)));else if(n&&"#"!==n){p.data(t,"href.tabs",n),p.data(t,"load.tabs",n.replace(/#.*$/,""));var a=s._tabId(t);t.href="#"+a;var r=s.element.find("#"+a);r.length||(r=p(l.panelTemplate).attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[e-1]||s.list)).data("destroy.tabs",!0),s.panels=s.panels.add(r)}else l.disabled.push(e)}),e?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===l.selected?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return l.selected=e,!1}),"number"!=typeof l.selected&&l.cookie&&(l.selected=parseInt(s._cookie(),10)),"number"!=typeof l.selected&&this.lis.filter(".ui-tabs-selected").length&&(l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),l.selected=l.selected||(this.lis.length?0:-1)):null===l.selected&&(l.selected=-1),l.selected=0<=l.selected&&this.anchors[l.selected]||l.selected<0?l.selected:0,l.disabled=p.unique(l.disabled.concat(p.map(this.lis.filter(".ui-state-disabled"),function(e,t){return s.lis.index(e)}))).sort(),-1!=p.inArray(l.selected,l.disabled)&&l.disabled.splice(p.inArray(l.selected,l.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),0<=l.selected&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[l.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[l.selected],s.element.find(s._sanitizeSelector(s.anchors[l.selected].hash))[0]))}),this.load(l.selected)),p(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),l.cookie&&this._cookie(l.selected,l.cookie);for(var t,o=0;t=this.lis[o];o++)p(t)[-1==p.inArray(o,l.disabled)||p(t).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===l.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==l.event){function a(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)}function r(e,t){t.removeClass("ui-state-"+e)}this.lis.bind("mouseover.tabs",function(){a("hover",p(this))}),this.lis.bind("mouseout.tabs",function(){r("hover",p(this))}),this.anchors.bind("focus.tabs",function(){a("focus",p(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){r("focus",p(this).closest("li"))})}function d(e,t){e.css("display",""),!p.support.opacity&&t.opacity&&e[0].style.removeAttribute("filter")}l.fx&&(p.isArray(l.fx)?(i=l.fx[0],n=l.fx[1]):i=n=l.fx);var u=n?function(e,t){p(e).closest("li").addClass("ui-tabs-selected ui-state-active"),t.hide().removeClass("ui-tabs-hide").animate(n,n.duration||"normal",function(){d(t,n),s._trigger("show",null,s._ui(e,t[0]))})}:function(e,t){p(e).closest("li").addClass("ui-tabs-selected ui-state-active"),t.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(e,t[0]))},h=i?function(e,t){t.animate(i,i.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),d(t,i),s.element.dequeue("tabs")})}:function(e,t,i){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(l.event+".tabs",function(){var e=this,t=p(e).closest("li"),i=s.panels.filter(":not(.ui-tabs-hide)"),n=s.element.find(s._sanitizeSelector(e.hash));if(t.hasClass("ui-tabs-selected")&&!l.collapsible||t.hasClass("ui-state-disabled")||t.hasClass("ui-state-processing")||s.panels.filter(":animated").length||!1===s._trigger("select",null,s._ui(this,n[0])))return this.blur(),!1;if(l.selected=s.anchors.index(this),s.abort(),l.collapsible){if(t.hasClass("ui-tabs-selected"))return l.selected=-1,l.cookie&&s._cookie(l.selected,l.cookie),s.element.queue("tabs",function(){h(e,i)}).dequeue("tabs"),this.blur(),!1;if(!i.length)return l.cookie&&s._cookie(l.selected,l.cookie),s.element.queue("tabs",function(){u(e,n)}),s.load(s.anchors.index(this)),this.blur(),!1}if(l.cookie&&s._cookie(l.selected,l.cookie),!n.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&s.element.queue("tabs",function(){h(e,i)}),s.element.queue("tabs",function(){u(e,n)}),s.load(s.anchors.index(this)),p.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var e=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var e=p.data(this,"href.tabs");e&&(this.href=e);var i=p(this).unbind(".tabs");p.each(["href","load","cache"],function(e,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){p.data(this,"destroy.tabs")?p(this).remove():p(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),e.cookie&&this._cookie(null,e.cookie),this},add:function(e,t,i){void 0===i&&(i=this.anchors.length);var n=this,o=this.options,a=p(o.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,t)),r=e.indexOf("#")?this._tabId(p("a",a)[0]):e.replace("#","");a.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var s=n.element.find("#"+r);return s.length||(s=p(o.panelTemplate).attr("id",r).data("destroy.tabs",!0)),s.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),i>=this.lis.length?(a.appendTo(this.list),s.appendTo(this.list[0].parentNode)):(a.insertBefore(this.lis[i]),s.insertBefore(this.panels[i])),o.disabled=p.map(o.disabled,function(e,t){return i<=e?++e:e}),this._tabify(),1==this.anchors.length&&(o.selected=0,a.addClass("ui-tabs-selected ui-state-active"),s.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){n._trigger("show",null,n._ui(n.anchors[0],n.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[i],this.panels[i])),this},remove:function(i){i=this._getIndex(i);var e=this.options,t=this.lis.eq(i).remove(),n=this.panels.eq(i).remove();return t.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(i+(i+1<this.anchors.length?1:-1)),e.disabled=p.map(p.grep(e.disabled,function(e,t){return e!=i}),function(e,t){return i<=e?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(t.find("a")[0],n[0])),this},enable:function(i){i=this._getIndex(i);var e=this.options;if(-1!=p.inArray(i,e.disabled))return this.lis.eq(i).removeClass("ui-state-disabled"),e.disabled=p.grep(e.disabled,function(e,t){return e!=i}),this._trigger("enable",null,this._ui(this.anchors[i],this.panels[i])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(-1==(e=this._getIndex(e))){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(n){n=this._getIndex(n);var o=this,a=this.options,r=this.anchors.eq(n)[0],e=p.data(r,"load.tabs");if(this.abort(),e&&(0===this.element.queue("tabs").length||!p.data(r,"cache.tabs"))){if(this.lis.eq(n).addClass("ui-state-processing"),a.spinner){var t=p("span",r);t.data("label.tabs",t.html()).html(a.spinner)}return this.xhr=p.ajax(p.extend({},a.ajaxOptions,{url:e,success:function(e,t){o.element.find(o._sanitizeSelector(r.hash)).html(e),o._cleanup(),a.cache&&p.data(r,"cache.tabs",!0),o._trigger("load",null,o._ui(o.anchors[n],o.panels[n]));try{a.ajaxOptions.success(e,t)}catch(e){}},error:function(e,t,i){o._cleanup(),o._trigger("load",null,o._ui(o.anchors[n],o.panels[n]));try{a.ajaxOptions.error(e,t,n,r)}catch(i){}}})),o.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),p.extend(p.ui.tabs,{version:"1.8.13"}),p.extend(p.ui.tabs.prototype,{rotation:null,rotate:function(i,e){var n=this,o=this.options,a=n._rotate||(n._rotate=function(e){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=o.selected;n.select(++e<n.anchors.length?e:0)},i),e&&e.stopPropagation()}),r=n._unrotate||(n._unrotate=e?function(e){t=o.selected,a()}:function(e){e.clientX&&n.rotate(null)});return i?(this.element.bind("tabsshow",a),this.anchors.bind(o.event+".tabs",r),a()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",a),this.anchors.unbind(o.event+".tabs",r),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(h){"use strict";h.widget("blueimp.fileupload",{options:{namespace:void 0,dropZone:h(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,sequentialUploads:!1,forceIframeTransport:!1,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},fail:function(e,t){},processData:!1,contentType:!1,cache:!1,dataType:"json"},fail:function(e,t){},_refreshOptionsList:["namespace","dropZone","fileInput"],_isXHRUpload:function(e){var t="undefined";return!(e.forceIframeTransport||typeof XMLHttpRequestUpload==t||typeof File==t||e.multipart&&typeof FormData==t)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):h.isArray(e.formData)?e.formData:e.formData?(i=[],h.each(e.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(e){var i=0;return h.each(e,function(e,t){i+=t.size||1}),i},_onProgress:function(e,t){if(e.lengthComputable){var i=t.total||this._getTotal(t.files),n=parseInt(e.loaded/e.total*(t.chunkSize||i),10)+(t.uploadedBytes||0);this._loaded+=n-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=n,t.total=i,this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total})}},_initProgressListener:function(t){var i=this,e=t.xhr?t.xhr():h.ajaxSettings.xhr();e.upload&&e.upload.addEventListener&&(e.upload.addEventListener("progress",function(e){i._onProgress(e,t)},!1),t.xhr=function(){return e})},_initXHRData:function(i){var n,e=i.files[0];i.multipart&&!i.blob||(i.headers=h.extend(i.headers,{"X-File-Name":e.name,"X-File-Type":e.type,"X-File-Size":e.size}),i.blob?i.multipart||(i.contentType="application/octet-stream",i.data=i.blob):(i.contentType=e.type,i.data=e)),i.multipart&&(i.formData instanceof FormData?n=i.formData:(n=new FormData,h.each(this._getFormData(i),function(e,t){n.append(t.name,t.value)})),i.blob?n.append(i.paramName,i.blob):h.each(i.files,function(e,t){t instanceof Blob&&n.append(i.paramName,t)}),i.data=n),i.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e)},_initDataSettings:function(e){this._isXHRUpload(e)?this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)):this._initIframeSettings(e)},_initFormSettings:function(e){e.form&&e.form.length||(e.form=h(e.fileInput.prop("form"))),e.paramName||(e.paramName=e.fileInput.prop("name")||"files[]"),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&(e.type="POST")},_getAJAXSettings:function(e){var t=h.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t){var i=h.Deferred(),n=i.promise();return t=t||this.options.context||n,!0===e?i.resolveWith(t):!1===e&&i.rejectWith(t),n.abort=i.promise,this._enhancePromise(n)},_chunkedUpload:function(i,e){var n,t,o,a,r=this,s=i.files[0],l=s.size,c=i.uploadedBytes=i.uploadedBytes||0,d=i.maxChunkSize||l,u=s.webkitSlice||s.mozSlice||s.slice;return!(!(this._isXHRUpload(i)&&u&&(c||d<l))||i.data)&&(!!e||(l<=c?(s.error="uploadedBytes",this._getXHRPromise(!1)):(t=Math.ceil((l-c)/d),(a=(n=function(t){return t?n(--t).pipe(function(){var e=h.extend({},i);return e.blob=u.call(s,c+t*d,c+(t+1)*d),e.chunkSize=e.blob.size,r._initXHRData(e),r._initProgressListener(e),o=(proboards.ajax(e)||r._getXHRPromise(!1,e.context)).done(function(){e.loaded||r._onProgress(h.Event("progress",{lengthComputable:!0,loaded:e.chunkSize,total:e.chunkSize}),e),i.uploadedBytes=e.uploadedBytes+=e.chunkSize})}):r._getXHRPromise(!0)})(t)).abort=function(){return o.abort()},this._enhancePromise(a))))},_beforeSend:function(e,t){0===this._active&&this._trigger("start"),h(".fileupload-content").css("display","block"),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(e,t,i,n){this._isXHRUpload(n)||this._onProgress(h.Event("progress",{lengthComputable:!0,loaded:1,total:1}),n),n.result=e,n.textStatus=t,n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,i,n){n.jqXHR=e,n.result=e,n.textStatus=t,n.errorThrown=i,this._trigger("fail",null,n),n.recalculateProgress&&(this._loaded-=n.loaded||n.uploadedBytes||0,this._total-=n.total||this._getTotal(n.files))},_onAlways:function(e,t,i,n){--this._active,n.result=e,n.textStatus=t,n.jqXHR=i,this._trigger("always",null,n),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0)},_onSend:function(e,t){function i(){return n=(!1!==a._trigger("send",e,r)&&(a._chunkedUpload(r)||proboards.ajax(r))||a._getXHRPromise(!1,r.context)).done(function(e,t,i){a._onDone(e,t,i,r)}).fail(function(e,t,i){a._onFail(e,t,i,r)}).always(function(e,t,i){a._onAlways(e,t,i,r)})}var n,o,a=this,r=a._getAJAXSettings(t);return this._beforeSend(e,r),this.options.sequentialUploads?((o=this._sequence=this._sequence.pipe(i,i)).abort=function(){return n.abort()},this._enhancePromise(o)):i()},_onAdd:function(n,o){var a=this,r=!0,e=h.extend({},this.options,o);return e.singleFileUploads&&this._isXHRUpload(e)?(h.each(o.files,function(e,t){var i=h.extend({},o,{files:[t]});return i.submit=function(){return a._onSend(n,i)},r=a._trigger("add",n,i)}),r):o.files.length?((o=h.extend({},o)).submit=function(){return a._onSend(n,o)},this._trigger("add",n,o)):void 0},_normalizeFile:function(e,t){void 0===t.name&&void 0===t.size&&(t.name=t.fileName,t.size=t.fileSize)},_replaceFileInput:function(i){var n=i.clone(!0);h("<form></form>").append(n)[0].reset(),i.after(n).detach(),h.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_onChange:function(e){var t=e.data.fileupload,i={files:h.each(h.makeArray(e.target.files),t._normalizeFile),fileInput:h(e.target),form:h(e.target.form)};if(i.files.length||(i.files=[{name:e.target.value.replace(/^.*\\/,"")}]),i.form.length?i.fileInput.data("blueimp.fileupload.form",i.form):i.form=i.fileInput.data("blueimp.fileupload.form"),t.options.replaceFileInput&&t._replaceFileInput(i.fileInput),!1===t._trigger("change",e,i)||!1===t._onAdd(e,i))return!1},_onDrop:function(e){var t=e.data.fileupload,i=e.dataTransfer=e.originalEvent.dataTransfer,n={files:h.each(h.makeArray(i.files),t._normalizeFile)};if(!1===t._trigger("drop",e,n)||!1===t._onAdd(e,n))return!1;e.preventDefault()},_onDragOver:function(e){var t=e.data.fileupload,i=e.dataTransfer=e.originalEvent.dataTransfer;if(!1===t._trigger("dragover",e))return!1;i.dropEffect=i.effectAllowed="copy",e.preventDefault()},_initEventHandlers:function(){var e=this.options.namespace||this.name;h.browser.msie||-1!=navigator.userAgent.indexOf("Trident")||this.options.dropZone.bind("dragover."+e,{fileupload:this},this._onDragOver).bind("drop."+e,{fileupload:this},this._onDrop),this.options.fileInput.bind("change."+e,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var e=this.options.namespace||this.name;this.options.dropZone.unbind("dragover."+e,this._onDragOver).unbind("drop."+e,this._onDrop),this.options.fileInput.unbind("change."+e,this._onChange)},_beforeSetOption:function(e,t){this._destroyEventHandlers()},_afterSetOption:function(e,t){var i=this.options;i.fileInput||(i.fileInput=h()),i.dropZone||(i.dropZone=h()),this._initEventHandlers()},_setOption:function(e,t){var i=-1!==h.inArray(e,this._refreshOptionsList);i&&this._beforeSetOption(e,t),h.Widget.prototype._setOption.call(this,e,t),i&&this._afterSetOption(e,t)},_create:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is("input:file")?this.element:this.element.find("input:file"):e.fileInput||(e.fileInput=h()),!h.browser.msie&&-1==navigator.userAgent.indexOf("Trident")||e.fileInput.prop("multiple",!1),e.dropZone||(e.dropZone=h()),this._sequence=this._getXHRPromise(!0),this._active=this._loaded=this._total=0,this._initEventHandlers()},destroy:function(){this._destroyEventHandlers(),h.Widget.prototype.destroy.call(this)},enable:function(){h.Widget.prototype.enable.call(this),this._initEventHandlers()},disable:function(){this._destroyEventHandlers(),h.Widget.prototype.disable.call(this)},add:function(e){e&&!this.options.disabled&&(e.files=h.each(h.makeArray(e.files),this._normalizeFile),this._onAdd(null,e))},send:function(e){return e&&!this.options.disabled&&(e.files=h.each(h.makeArray(e.files),this._normalizeFile),e.files.length)?this._onSend(null,e):this._getXHRPromise(!1,e&&e.context)}})}(jQuery),function(r){"use strict";r.widget("blueimpUI.fileupload",r.blueimp.fileupload,{options:{autoUpload:!0,maxNumberOfFiles:3,maxFileSize:10485760,minFileSize:1,acceptFileTypes:/.+$/i,previewFileTypes:/^image\/(gif|jpeg|png)$/,previewMaxWidth:50,previewMaxHeight:50,previewAsCanvas:!0,uploadTemplate:r("#template-upload"),downloadTemplate:r("#template-download"),filesContainer:void 0,dataType:"json",updateLimits:function(){},getNumberOfFiles:function(){return r(".template-download, .template-upload",this.filesContainer).not(".ui-state-error").length},add:function(e,i){var t=r(this).data("fileupload");i.isValidated=t._validate(i.files),i.context=t._renderUpload(i.files).appendTo(r(this).find(".files")).fadeIn(function(){r(this).show()}).data("data",i),(t.options.autoUpload||i.autoUpload)&&i.isValidated?i.jqXHR=i.submit():i.context.each(function(e){if("abort"!==i.errorThrown){var t=this;window.setTimeout(function(){r(t).hide()},4e3)}})},send:function(e,t){if(("function"!=typeof t.error&&(t.error=function(){}),!t.isValidated)&&!r(this).data("fileupload")._validate(t.files))return!1;t.context&&t.dataType&&"iframe"===t.dataType.substr(0,6)&&t.context.find(".ui-progressbar").progressbar("value",parseInt(100,10)),r(".ui-progressbar-value").show().css("width","100%")},done:function(e,i){var n=r(this).data("fileupload");i.context?i.context.each(function(e){var t;t=r.isArray(i.result)&&i.result[e]?i.result[e]:{error:i.result&&i.result.error||"emptyResult"},r(this).fadeOut(function(){n._renderDownload([t]).css("display","none").replaceAll(this).fadeIn(function(){r(this).show()}),n.options.updateLimits.call(n.element)})}):(n._renderDownload(i.result).css("display","none").appendTo(r(this).find(".files")).fadeIn(function(){r(this).show()}),n.options.updateLimits.call(n.element))},fail:function(e,n){var o=r(this).data("fileupload");n.context?n.context.each(function(i){r(this).fadeOut(function(){if("abort"!==n.errorThrown){var e=n.files[i];try{var t=n.result.responseText;t=r.parseJSON(t,{throwError:!0}),e.error=t.error}catch(e){}e.error=e.error||n.errorThrown||!0,o._renderDownload([e]).css("display","none").replaceAll(this).fadeIn(function(){r(this).show()}).delay(7e3).fadeOut(function(){r(this).remove(),r(".fileupload-buttonbar").show()})}n.context.remove(),o.options.updateLimits.call(o.element)})}):"abort"!==n.errorThrown&&(n.context=o._renderUpload(n.files).css("display","none").appendTo(r(this).find(".files")).fadeIn(function(){r(this).show()}).data("data",n))},progress:function(e,t){t.context&&t.context.find(".ui-progressbar").progressbar("value",parseInt(t.loaded/t.total*100,10))},destroy:function(e,t){var i=r(this).data("fileupload");t.url?proboards.ajax(r.extend(t,{success:function(){r(this).fadeOut(function(){r(this).remove(),i.options.updateLimits.call(i.element)})}})):t.context.fadeOut(function(){r(this).remove(),i.options.updateLimits.call(i.element)})}},_scaleImage:function(e,t){t=t||{};var i=document.createElement("canvas"),n=Math.min((t.maxWidth||e.width)/e.width,(t.maxHeight||e.height)/e.height);return 1<=n&&(n=Math.max((t.minWidth||e.width)/e.width,(t.minHeight||e.height)/e.height)),e.width=parseInt(e.width*n,10),e.height=parseInt(e.height*n,10),t.canvas&&i.getContext?(i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0,e.width,e.height),i):e},_createObjectURL:function(e){var t="undefined",i=typeof window.createObjectURL!=t&&window||typeof URL!=t&&URL||typeof webkitURL!=t&&webkitURL;return i?i.createObjectURL(e):""},_revokeObjectURL:function(e){var t="undefined",i=typeof window.revokeObjectURL!=t&&window||typeof URL!=t&&URL||typeof webkitURL!=t&&webkitURL;return!!i&&i.revokeObjectURL(e)},_loadFile:function(e,t){if("undefined"!=typeof FileReader&&FileReader.prototype.readAsDataURL){var i=new FileReader;return i.onload=function(e){t(e.target.result)},i.readAsDataURL(e),!0}return!1},_loadImage:function(e,t,i){var n,o,a=this;i&&i.fileTypes&&!i.fileTypes.test(e.type)||(n=this._createObjectURL(e),o=r("<img>").bind("load",function(){r(this).unbind("load"),a._revokeObjectURL(n),t(a._scaleImage(o[0],i))}).prop("src",n),n||this._loadFile(e,function(e){o.prop("src",e)}),o.prop("alt","Thumbnail Preview"))},_enableDragToDesktop:function(){var e=r(this),t=e.prop("href"),i=decodeURIComponent(t.split("/").pop()).replace(/:/g,"-"),n="application/octet-stream";e.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[n,i,t].join(":"))}catch(e){}})},_formatFileSize:function(e){return void 0===e.size?"":1073741824<=e.size?(e.size/1073741824).toFixed(2)+" GB":1048576<=e.size?(e.size/1048576).toFixed(2)+" MB":(e.size/1024).toFixed(2)+" KB"},_validate:function(i){var n=this.options,o=!0;return r.each(i,function(e,t){t.error||("number"===r.type(n.maxNumberOfFiles)&&(n.getNumberOfFiles()||0)+i.length>n.maxNumberOfFiles?t.error="maxNumberOfFiles":n.acceptFileTypes.test(t.type)||n.acceptFileTypes.test(t.name)?n.maxFileSize&&t.size>n.maxFileSize?t.error="maxFileSize":"number"==typeof t.size&&t.size<n.minFileSize&&(t.error="minFileSize"):t.error="acceptFileTypes"),o=o&&!t.error}),o},_uploadTemplateHelper:function(e){return e.sizef=this._formatFileSize(e),e},_renderUploadTemplate:function(e){var t=this;return r.tmpl(this.options.uploadTemplate,r.map(e,function(e){return t._uploadTemplateHelper(e)}))},_renderUpload:function(t){var o=this,a=this.options,e=this._renderUploadTemplate(t);return e instanceof r?(e.css("display","none"),e.find(".name div").slice(1).remove().end().first().progressbar(),e.find(".start button").slice(this.options.autoUpload?0:1).remove().end().first().button({text:!1,icons:{primary:"ui-icon-circle-arrow-e"}}),e.find(".cancel button").slice(1).remove().end().first().button({text:!1}),e.find(".preview").each(function(e,i){var n=r(this);a.previewFileTypes&&a.previewFileTypes.test(t[e].type)||n.addClass("none"),o._loadImage(t[e],function(e){r(e).hide().appendTo(i).fadeIn();var t=!("CANVAS"==e.nodeName||e&&r(e).attr("src"));n.toggleClass("none",t)},{maxWidth:a.previewMaxWidth,maxHeight:a.previewMaxHeight,fileTypes:a.previewFileTypes,canvas:a.previewAsCanvas})}),e):r()},_downloadTemplateHelper:function(e){return e.sizef=this._formatFileSize(e),e.name||(e.name=""),e},_renderDownloadTemplate:function(e){var t=this;return r.tmpl(this.options.downloadTemplate,r.map(e,function(e){return t._downloadTemplateHelper(e)}))},_renderDownload:function(e){var t=this._renderDownloadTemplate(e);return t instanceof r?(t.css("display","none"),t.find(".delete button").button({text:!1}),t.find(".insert button").button({text:!1}),void 0!==t.find(".preview img")[0]&&t.find(".preview").toggleClass("none",!e[0].thumbnail_url),t.find(".preview img").fadeOut(5),t.find("a").each(this._enableDragToDesktop),t):r()},_startHandler:function(e){e.preventDefault();var t=r(this).closest(".template-upload").data("data");t&&t.submit&&!t.jqXHR&&(t.jqXHR=t.submit(),r(this).fadeOut())},_cancelHandler:function(e){e.preventDefault();var t=r(this).closest(".template-upload").data("data")||{};t.jqXHR?t.jqXHR.abort():(t.errorThrown="abort",e.data.fileupload._trigger("fail",e,t))},_deleteHandler:function(e){e.preventDefault();var t=r(this);e.data.fileupload._trigger("destroy",e,{context:t.closest(".template-download"),url:t.attr("data-url"),type:t.attr("data-type"),dataType:e.data.fileupload.options.dataType})},_initEventHandlers:function(){r.blueimp.fileupload.prototype._initEventHandlers.call(this);var e=this.element.find(".files"),t={fileupload:this},i="click."+this.options.namespace;e.on(i,".start button",t,this._startHandler).on(i,".cancel button",t,this._cancelHandler).on(i,".delete button",t,this._deleteHandler)},_destroyEventHandlers:function(){this.element.find(".files").off("click."+this.options.namespace),r.blueimp.fileupload.prototype._destroyEventHandlers.call(this)},_initFileUploadButtonBar:function(){var e=this.element.find(".fileupload-buttonbar"),t=this.element.find(".files"),i=this.options.namespace;e.addClass("ui-widget-header ui-corner-top"),this.element.find(".fileinput-button").each(function(){var e=r(this).find("input:file").detach();r(this).button().append(e)}),e.find(".start").button().bind("click."+i,function(e){e.preventDefault(),t.find(".start button").click()}),e.find(".cancel").button().bind("click."+i,function(e){e.preventDefault(),t.find(".cancel button").click()}),e.find(".delete").button().bind("click."+i,function(e){e.preventDefault(),t.find(".delete button").click()})},_destroyFileUploadButtonBar:function(){this.element.find(".fileupload-buttonbar").removeClass("ui-widget-header ui-corner-top"),this.element.find(".fileinput-button").each(function(){var e=r(this).find("input:file").detach();r(this).button("destroy").append(e)}),this.element.find(".fileupload-buttonbar button").unbind("click."+this.options.namespace).button("destroy")},_enableFileInputButton:function(){this.element.find(".fileinput-button input:file:disabled").each(function(){var e=r(this),t=e.parent();e.detach().prop("disabled",!1),t.button("enable").append(e)})},_disableFileInputButton:function(){this.element.find(".fileinput-button input:file:enabled").each(function(){var e=r(this),t=e.parent();e.detach().prop("disabled",!0),t.button("disable").append(e)})},_initFilesContainer:function(){var e=this.options;e.filesContainer?e.filesContainer instanceof r||(e.filesContainer=r(e.filesContainer)):e.filesContainer=this.element.find(".files"),e.updateLimits.call(this.element)},_initTemplates:function(){this.options.uploadTemplate instanceof r&&!this.options.uploadTemplate.length&&(this.options.uploadTemplate=r(this.options.uploadTemplate.selector)),this.options.downloadTemplate instanceof r&&!this.options.downloadTemplate.length&&(this.options.downloadTemplate=r(this.options.downloadTemplate.selector))},_create:function(){r.blueimp.fileupload.prototype._create.call(this),this._initTemplates(),this.element.addClass("ui-widget"),this._initFileUploadButtonBar(),this.element.find(".fileupload-content").addClass("ui-widget-content ui-corner-bottom"),this.element.find(".fileupload-progressbar").hide().progressbar(),this._initFilesContainer()},destroy:function(){this.element.find(".fileupload-progressbar").progressbar("destroy"),this.element.find(".fileupload-content").removeClass("ui-widget-content ui-corner-bottom"),this._destroyFileUploadButtonBar(),this.element.removeClass("ui-widget"),r.blueimp.fileupload.prototype.destroy.call(this)},enable:function(){r.blueimp.fileupload.prototype.enable.call(this),this.element.find(":ui-button").not(".fileinput-button").button("enable"),this._enableFileInputButton()},disable:function(){this.element.find(":ui-button").not(".fileinput-button").button("disable"),this._disableFileInputButton(),r.blueimp.fileupload.prototype.disable.call(this)}})}(jQuery),function(r){"use strict";var i=0;r.ajaxTransport("iframe",function(n,e,t){var o,a;if("POST"===n.type||"GET"===n.type)return{send:function(e,t){o=r('<form style="display:none;"></form>'),a=r('<iframe src="javascript:false;" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i;a.unbind("load").bind("load",function(){t(200,"success",{iframe:a.contents()}),r('<iframe src="javascript:false;"></iframe>').appendTo(o),o.remove()}),o.prop("target",a.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&(r.each(n.formData,function(e,t){r('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),r('<input type="hidden" name="csrf_token" />').val(proboards.data("csrf_token")||"null").appendTo(o),r('<input type="hidden" name="accepts" />').val("text-json").appendTo(o)),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(i=n.fileInput.clone(),n.fileInput.after(function(e){return i[e]}),o.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),o.submit(),i&&i.length&&n.fileInput.each(function(e,t){r(i[e]).replaceWith(t)})}),o.append(a).appendTo("body")},abort:function(){a&&a.unbind("load").prop("src","javascript".concat(":false;")),o&&o.remove()}}}),r.ajaxSetup({converters:{"iframe text":function(e){return e.text()},"iframe json":function(e){return r.parseJSON(e.text())},"iframe html":function(e){return e.find("body").html()}}})}(jQuery),function(u){var d,c=u.fn.domManip,h="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,p={},f={},r={key:0,data:{}},m=0,g=0,a=[];function v(e,t,i,n){var o={data:n||0===n||!1===n?n:t?t.data:{},_wrap:t?t._wrap:null,tmpl:null,parent:t||null,nodes:[],calls:_,nest:w,wrap:x,html:k,update:C};return e&&u.extend(o,e,{nodes:[],parent:t}),"function"==typeof i&&(o.tmpl=i,o._ctnt=o._ctnt||o.tmpl(u,o),o.key=++m,(a.length?f:p)[m]=o),o}function s(t,e,i){var o,n=i?u.map(i,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+h+'="'+t.key+'" $2'):e:s(e,t,e._ctnt)}):t;return e?n:((n=n.join("")).replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,t,i,n){y(o=u(i).get()),t&&(o=l(t).concat(o)),n&&(o=o.concat(l(n)))}),o||l(n))}function l(e){var t=document.createElement("div");return t.innerHTML=e,u.makeArray(t.childNodes)}function n(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+u.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,t,i,n,o,a,r){var s,l,c,d=u.tmpl.tag[i];if(!d)throw"Unknown template tag: "+i;return s=d._default||[],a&&!/\w$/.test(o)&&(o+=a,a=""),c=o?(o=A(o),r=r?","+A(r)+")":a?")":"",l=a?-1<o.indexOf(".")?o+A(a):"("+o+").call($item"+r:o,a?l:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):l=s.$1||"null",n=A(n),"');"+d[t?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(n||s.$2||"")+"__.push('"})+"');}return __;")}function b(e,t){e._wrap=s(e,!0,u.isArray(t)?t:[i.test(t)?t:u(t).html()]).join("")}function A(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function y(e){var t,i,n,o,a,s="_"+g,l={};for(n=0,o=e.length;n<o;n++)if(1===(t=e[n]).nodeType){for(a=(i=t.getElementsByTagName("*")).length-1;0<=a;a--)r(i[a]);r(t)}function r(e){var t,i,n,o,a=e;if(o=e.getAttribute(h)){for(;a.parentNode&&1===(a=a.parentNode).nodeType&&!(t=a.getAttribute(h)););t!==o&&(a=a.parentNode?11===a.nodeType?0:a.getAttribute(h)||0:0,(n=p[o])||((n=v(n=f[o],p[a]||f[a])).key=++m,p[m]=n),g&&r(o)),e.removeAttribute(h)}else g&&(n=u.data(e,"tmplItem"))&&(r(n.key),p[n.key]=n,a=(a=u.data(e.parentNode,"tmplItem"))?a.key:0);if(n){for(i=n;i&&i.key!=a;)i.nodes.push(e),i=i.parent;delete n._ctnt,delete n._wrap,u.data(e,"tmplItem",n)}function r(e){n=l[e+=s]=l[e]||v(n,p[n.parent.key+s]||n.parent)}}}function _(e,t,i,n){if(!e)return a.pop();a.push({_:e,tmpl:t,item:this,data:i,options:n})}function w(e,t,i){return u.tmpl(u.template(e),t,i,this)}function x(e,t){var i=e.options||{};return i.wrapped=t,u.tmpl(u.template(e.tmpl),e.data,i,e.item)}function k(e,n){var t=this._wrap;return u.map(u(u.isArray(t)?t.join(""):t).filter(e||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||(t=e,(i=document.createElement("div")).appendChild(t.cloneNode(!0)),i.innerHTML);var t,i})}function C(){var e=this.nodes;u.tmpl(null,null,null,this).insertBefore(e[0]),u(e).remove()}u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(l,c){u.fn[l]=function(e){var t,i,n,o,a=[],r=u(e),s=1===this.length&&this[0].parentNode;if(d=p||{},s&&11===s.nodeType&&1===s.childNodes.length&&1===r.length)r[c](this[0]),a=this;else{for(i=0,n=r.length;i<n;i++)t=(0<(g=i)?this.clone(!0):this).get(),u(r[i])[c](t),a=a.concat(t);g=0,a=this.pushStack(a,l,r.selector)}return o=d,d=null,u.tmpl.complete(o),a}}),u.fn.extend({tmpl:function(e,t,i){return u.tmpl(this[0],e,t,i)},tmplItem:function(){return u.tmplItem(this[0])},template:function(e){return u.template(e,this[0])},domManip:function(e,t,i,n){if(e[0]&&u.isArray(e[0])){for(var o,a=u.makeArray(arguments),r=e[0],s=r.length,l=0;l<s&&!(o=u.data(r[l++],"tmplItem")););o&&g&&(a[2]=function(e){u.tmpl.afterManip(this,e,i)}),c.apply(this,a)}else c.apply(this,arguments);return g=0,d||u.tmpl.complete(p),this}}),u.extend({tmpl:function(t,e,i,n){var o,a=!n;if(a)n=r,t=u.template[t]||u.template(null,t),f={};else if(!t)return t=n.tmpl,(p[n.key]=n).nodes=[],n.wrapped&&b(n,n.wrapped),u(s(n,null,n.tmpl(u,n)));return t?("function"==typeof e&&(e=e.call(n||{})),i&&i.wrapped&&b(i,i.wrapped),o=u.isArray(e)?u.map(e,function(e){return e?v(i,n,t,e):null}):[v(i,n,t,e)],a?u(s(n,null,o)):o):[]},tmplItem:function(e){var t;for(e instanceof u&&(e=e[0]);e&&1===e.nodeType&&!(t=u.data(e,"tmplItem"))&&(e=e.parentNode););return t||r},template:function(e,t){return t?("string"==typeof t?t=n(t):t instanceof u&&(t=t[0]||{}),t.nodeType&&(t=u.data(t,"tmpl")||u.data(t,"tmpl",n(t.innerHTML))),"string"==typeof e?u.template[e]=t:t):e?"string"!=typeof e?u.template(null,e):u.template[e]||u.template(null,i.test(e)?e:u(e)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),u.extend(u.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(e){p={}},afterManip:function(e,t,i){var n=11===t.nodeType?u.makeArray(t.childNodes):1===t.nodeType?[t]:[];i.call(e,t),y(n),g++}})}(jQuery),function(b){function g(){return{cntr:++g.cntr,settings:b.extend({},b.tree.defaults),init:function(e,t){var i=this;if(this.container=b(e),0==this.container.size)return!1;if((g.inst[this.cntr]=this).container.attr("id")||this.container.attr("id","jstree_"+this.cntr),g.inst[this.container.attr("id")]=g.inst[this.cntr],g.focused=this.cntr,this.settings=b.extend(!0,{},this.settings,t),this.settings.languages&&this.settings.languages.length){this.current_lang=this.settings.languages[0];for(var n=!1,o="#"+this.container.attr("id"),a=0;a<this.settings.languages.length;a++)!1!==(n=g.add_css(o+" ."+this.settings.languages[a]))&&(n.style.display=this.settings.languages[a]==this.current_lang?"":"none")}else this.current_lang=!1;this.container.addClass("tree"),!1!==this.settings.ui.theme_name&&(!1===this.settings.ui.theme_path&&b("script").each(function(){if(this.src.toString().match(/jquery\.tree.*?js$/))return i.settings.ui.theme_path=this.src.toString().replace(/jquery\.tree.*?js$/,"")+"themes/"+i.settings.ui.theme_name+"/style.css",!1}),""!=this.settings.ui.theme_path&&-1==b.inArray(this.settings.ui.theme_path,g.themes)&&(g.add_sheet({url:this.settings.ui.theme_path}),g.themes.push(this.settings.ui.theme_path)),this.container.addClass("tree-"+this.settings.ui.theme_name));var r="";for(var s in this.settings.types)this.settings.types.hasOwnProperty(s)&&this.settings.types[s].icon&&(this.settings.types[s].icon.image||this.settings.types[s].icon.position)&&(r+="default"==s?"#"+this.container.attr("id")+" li > a ins { ":"#"+this.container.attr("id")+" li[rel="+s+"] > a ins { ",this.settings.types[s].icon.image&&(r+=" background-image:url("+this.settings.types[s].icon.image+"); "),this.settings.types[s].icon.position&&(r+=" background-position:"+this.settings.types[s].icon.position+"; "),r+="} ");""!=r&&g.add_sheet({str:r}),this.settings.rules.multiple&&(this.selected_arr=[]),this.offset=!1,this.hovered=!1,(this.locked=!1)===g.drag_drop.marker&&(g.drag_drop.marker=b("<div>").attr({id:"jstree-marker"}).hide().appendTo("body")),this.callback("oninit",[this]),this.refresh(),this.attach_events(),this.focus()},refresh:function(e){if(this.locked)return this.error("LOCKED");var i=this;if(e&&!this.settings.data.async&&(e=!1),this.is_partial_refresh=!!e,this.opened=Array(),0!=this.settings.opened?(b.each(this.settings.opened,function(e,t){0<this.replace(/^#/,"").length&&i.opened.push("#"+this.replace(/^#/,""))}),this.settings.opened=!1):this.container.find("li.open").each(function(e){this.id&&i.opened.push("#"+this.id)}),this.selected)this.settings.selected=Array(),e?b(e).find("li:has(a.clicked)").each(function(){this.id&&i.settings.selected.push("#"+this.id)}):this.selected_arr?b.each(this.selected_arr,function(){this.attr("id")&&i.settings.selected.push("#"+this.attr("id"))}):this.selected.attr("id")&&this.settings.selected.push("#"+this.selected.attr("id"));else if(!1!==this.settings.selected){var t=Array();"object"==(typeof this.settings.selected).toLowerCase()?b.each(this.settings.selected,function(){0<this.replace(/^#/,"").length&&t.push("#"+this.replace(/^#/,""))}):0<this.settings.selected.replace(/^#/,"").length&&t.push("#"+this.settings.selected.replace(/^#/,"")),this.settings.selected=t}if(e&&this.settings.data.async)return this.opened=Array(),(e=this.get_node(e)).find("li.open").each(function(e){i.opened.push("#"+this.id)}),e.hasClass("open")&&e.removeClass("open").addClass("closed"),e.hasClass("leaf")&&e.removeClass("leaf"),e.children("ul:eq(0)").html(""),this.open_branch(e,!0,function(){i.reselect.apply(i)});i=this;var n=new b.tree.datastores[this.settings.data.type];0==this.container.children("ul").size()&&this.container.html("<ul class='ltr' style='direction:ltr;'><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>"+(this.settings.lang.loading||"Loading ...")+"</a></li></ul>"),n.load(this.callback("beforedata",[!1,this]),this,this.settings.data.opts,function(e){e=i.callback("ondata",[e,i]),n.parse(e,i,i.settings.data.opts,function(e){e=i.callback("onparse",[e,i]),i.container.empty().append(b("<ul class='ltr'>").html(e)),i.container.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),i.container.find("li").not(".open").not(".closed").addClass("leaf"),i.reselect()})})},reselect:function(e){var t=this;if(e?this.cl_count--:this.cl_count=0,this.opened&&this.opened.length){for(var i=!1,n=0;this.opened&&n<this.opened.length;n++){if(this.settings.data.async){if((o=this.get_node(this.opened[n])).size()&&0<o.hasClass("closed")){i=!0;var o=this.opened[n].toString().replace("/","\\/");delete this.opened[n],this.open_branch(o,!0,function(){t.reselect.apply(t,[!0])}),this.cl_count++}}else this.open_branch(this.opened[n],!0)}if(this.settings.data.async&&i)return;if(0<this.cl_count)return;delete this.opened}0<this.cl_count||(this.container.css("direction","ltr").children("ul:eq(0)").addClass("ltr"),0==this.settings.ui.dots&&this.container.children("ul:eq(0)").addClass("no_dots"),this.scrtop&&(this.container.scrollTop(t.scrtop),delete this.scrtop),!1!==this.settings.selected&&(b.each(this.settings.selected,function(e){t.is_partial_refresh?t.select_branch(b(t.settings.selected[e].toString().replace("/","\\/"),t.container),!1!==t.settings.rules.multiple):t.select_branch(b(t.settings.selected[e].toString().replace("/","\\/"),t.container),!1!==t.settings.rules.multiple&&0<e)}),this.settings.selected=!1),this.callback("onload",[t]))},get:function(e,t,i){return t=t||this.settings.data.type,i=i||this.settings.data.opts,(new b.tree.datastores[t]).get(e,this,i)},attach_events:function(){var a=this;this.container.bind("mousedown.jstree",function(e){if(g.drag_drop.isdown)return g.drag_drop.move_type=!1,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}).bind("mouseup.jstree",function(e){setTimeout(function(){a.focus.apply(a)},5)}).bind("click.jstree",function(e){return!0}),b("#"+this.container.attr("id")+" li").live("click",function(e){return"LI"!=e.target.tagName||(a.off_height(),e.pageY-b(e.target).offset().top>a.li_height||(a.toggle_branch.apply(a,[e.target]),e.stopPropagation(),!1))}),b("#"+this.container.attr("id")+" li a").live("click.jstree",function(e){return!(!e.which||3!=e.which)||(a.locked?(e.preventDefault(),e.target.blur(),a.error("LOCKED")):(b(e.target).hasClass("controls")||b(e.target).parentsUntil("li").hasClass("controls")||(a.select_branch.apply(a,[e.target,e.ctrlKey||e.metaKey||"on"==a.settings.rules.multiple]),a.inp&&a.inp.blur()),e.preventDefault(),e.target.blur(),!1))}).live("dblclick.jstree",function(e){if(a.locked)return e.preventDefault(),e.stopPropagation(),e.target.blur(),a.error("LOCKED");a.callback("ondblclk",[a.get_node(e.target).get(0),a]),e.preventDefault(),e.stopPropagation(),e.target.blur()}).live("contextmenu.jstree",function(e){return a.locked?(e.target.blur(),a.error("LOCKED")):a.callback("onrgtclk",[a.get_node(e.target).get(0),a,e])}).live("mouseover.jstree",function(e){if(a.locked)return e.preventDefault(),e.stopPropagation(),a.error("LOCKED");!1===a.hovered||"A"!=e.target.tagName&&"INS"!=e.target.tagName||(a.hovered.children("a").removeClass("hover"),a.hovered=!1),a.callback("onhover",[a.get_node(e.target).get(0),a])}).live("mousedown.jstree",function(e){if("left"==a.settings.rules.drag_button&&e.which&&1!=e.which)return!0;if("right"==a.settings.rules.drag_button&&e.which&&3!=e.which)return!0;if(a.focus.apply(a),a.locked)return a.error("LOCKED");var t=a.get_node(e.target);if(!b(e.target).hasClass("controls")&&!b(e.target).parentsUntil("li").hasClass("controls"))if(0!=a.settings.rules.multiple&&1<a.selected_arr.length&&t.children("a:eq(0)").hasClass("clicked")){var i=0;for(var n in a.selected_arr)a.selected_arr.hasOwnProperty(n)&&a.check("draggable",a.selected_arr[n])&&(a.selected_arr[n].addClass("dragged"),g.drag_drop.origin_tree=a,i++);if(0<i){a.check("draggable",t)?g.drag_drop.drag_node=t:g.drag_drop.drag_node=a.container.find("li.dragged:eq(0)"),g.drag_drop.isdown=!0,g.drag_drop.drag_help=b("<div id='jstree-dragged' class='tree "+(""!=a.settings.ui.theme_name?" tree-"+a.settings.ui.theme_name:"")+"' />").append("<ul class='"+a.container.children("ul:eq(0)").get(0).className+"' />");var o=g.drag_drop.drag_node.clone();0<a.settings.languages.length&&o.find("a").not("."+a.current_lang).hide(),g.drag_drop.drag_help.children("ul:eq(0)").append(o),g.drag_drop.drag_help.find("li:eq(0)").removeClass("last").addClass("last").children("a").html("<ins>&nbsp;</ins>Multiple selection").end().children("ul").remove(),g.drag_drop.dragged=a.container.find("li.dragged")}}else if(a.check("draggable",t)){g.drag_drop.drag_node=t,g.drag_drop.drag_help=b("<div id='jstree-dragged' class='tree "+(""!=a.settings.ui.theme_name?" tree-"+a.settings.ui.theme_name:"")+"' />").append("<ul class='"+a.container.children("ul:eq(0)").get(0).className+"' />");o=t.clone();0<a.settings.languages.length&&o.find("a").not("."+a.current_lang).hide(),g.drag_drop.drag_help.children("ul:eq(0)").append(o),g.drag_drop.drag_help.find("li:eq(0)").removeClass("last").addClass("last"),g.drag_drop.isdown=!0,g.drag_drop.foreign=!1,g.drag_drop.origin_tree=a,t.addClass("dragged"),g.drag_drop.dragged=a.container.find("li.dragged")}return g.drag_drop.init_x=e.pageX,g.drag_drop.init_y=e.pageY,t.blur(),e.preventDefault(),e.stopPropagation(),!1})},focus:function(){if(this.locked)return!1;g.focused!=this.cntr&&(g.focused=this.cntr,this.callback("onfocus",[this]))},off_height:function(){if(!1===this.offset){this.container.css({position:"relative"}),this.offset=this.container.offset();var e=0;(e=parseInt(b.curCSS(this.container.get(0),"paddingTop",!0),10))&&(this.offset.top+=e),(e=parseInt(b.curCSS(this.container.get(0),"borderTopWidth",!0),10))&&(this.offset.top+=e),this.container.css({position:""})}if(!this.li_height){e=this.container.find("ul li.open, ul li.leaf").eq(0);this.li_height=e.height(),e.children("ul:eq(0)").size()&&(this.li_height-=e.children("ul:eq(0)").height()),this.li_height||(this.li_height=10)}},scroll_check:function(e,t){var i=this,n=i.container,o=i.container.offset(),a=n.scrollTop(),r=n.scrollLeft(),s=n.get(0).scrollWidth>n.width()?40:20;t-o.top<20&&n.scrollTop(Math.max(a-i.settings.ui.scroll_spd,0)),n.height()-(t-o.top)<s&&n.scrollTop(a+i.settings.ui.scroll_spd),e-o.left<20&&n.scrollLeft(Math.max(r-i.settings.ui.scroll_spd,0)),n.width()-(e-o.left)<40&&n.scrollLeft(r+i.settings.ui.scroll_spd),n.scrollLeft()==r&&n.scrollTop()==a||(g.drag_drop.move_type=!1,g.drag_drop.ref_node=!1,g.drag_drop.marker.hide()),g.drag_drop.scroll_time=setTimeout(function(){i.scroll_check(e,t)},50)},scroll_into_view:function(e){if(!(e=e?this.get_node(e):this.selected))return!1;var t=e.offset().top,i=this.container.offset().top,n=i+this.container.height(),o=this.container.get(0).scrollWidth>this.container.width()?40:20;t+5<i&&this.container.scrollTop(this.container.scrollTop()-(i-t+5)),n<t+o&&this.container.scrollTop(this.container.scrollTop()+(t+o-n))},get_node:function(e){return b(e).closest("li")},get_type:function(e){if(e=e?this.get_node(e):this.selected)return e.attr(this.settings.rules.type_attr)||"default"},set_type:function(e,t){(t=t?this.get_node(t):this.selected)&&e&&t.attr(this.settings.rules.type_attr,e)},get_text:function(e,t){if(!(e=this.get_node(e))||0==e.size())return"";e=this.settings.languages&&this.settings.languages.length?(t=t||this.current_lang,e.children("a."+t)):e.children("a:visible");var i="";return e.contents().each(function(){if(3==this.nodeType)return i=this.data,!1}),i},check:function(e,t){if(this.locked)return!1;var i=!1;if(-1===t)void 0!==this.settings.rules[e]&&(i=this.settings.rules[e]);else{if(!(t=t?this.get_node(t):this.selected))return;var n=this.get_type(t);void 0!==this.settings.types[n]&&void 0!==this.settings.types[n][e]?i=this.settings.types[n][e]:void 0!==this.settings.types.default&&void 0!==this.settings.types.default[e]&&(i=this.settings.types.default[e])}return"function"==typeof i&&(i=i.call(null,t,this)),i=this.callback("check",[e,t,i,this])},check_move:function(e,t,i){if(this.locked)return!1;if(b(t).closest("li.dragged").size())return!1;var n=e.parents(".tree:eq(0)").get(0),o=t.parents(".tree:eq(0)").get(0);if(n&&n!=o&&("none"==(h=b.tree.reference(o.id).settings.rules.multitree)||b.isArray(h)&&-1==b.inArray(n.id,h)))return!1;var a="inside"!=i?this.parent(t):this.get_node(t);if(e=this.get_node(e),0==a)return!1;var r={max_depth:this.settings.rules.use_max_depth?this.check("max_depth",a):-1,max_children:this.settings.rules.use_max_children?this.check("max_children",a):-1,valid_children:this.check("valid_children",a)},s="string"==typeof e?e:this.get_type(e);if(void 0!==r.valid_children&&("none"==r.valid_children||"object"==typeof r.valid_children&&-1==b.inArray(s,b.makeArray(r.valid_children))))return!1;if(this.settings.rules.use_max_children&&void 0!==r.max_children&&-1!=r.max_children){if(0==r.max_children)return!1;var l=1;if(1==g.drag_drop.moving&&0==g.drag_drop.foreign&&(l=g.drag_drop.dragged.size(),l-=a.find("> ul > li.dragged").size()),r.max_children<a.find("> ul > li").size()+l)return!1}if(this.settings.rules.use_max_depth){if(void 0!==r.max_depth&&0===r.max_depth)return this.error("MOVE: MAX-DEPTH REACHED");for(var c=0<r.max_depth&&r.max_depth,d=0,u=a;-1!==u;){var h;if(u=this.parent(u),d++,0<=(h=this.check("max_depth",u))&&(c=!1===c?h-d:Math.min(c,h-d)),!1!==c&&c<=0)return this.error("MOVE: MAX-DEPTH REACHED")}if(!1!==c&&c<=0)return this.error("MOVE: MAX-DEPTH REACHED");if(!1!==c){var p=1;if("string"!=typeof e)for(u=e;0<u.size();){if(c-p<0)return this.error("MOVE: MAX-DEPTH REACHED");u=u.children("ul").children("li"),p++}}}return 0!=this.callback("check_move",[e,t,i,this])},hover_branch:function(e){if(this.locked)return this.error("LOCKED");return(e=this.get_node(e)).size()?this.check("clickable",e)?(this.hovered&&this.hovered.children("A").removeClass("hover"),this.hovered=e,this.hovered.children("a").addClass("hover"),void this.scroll_into_view(this.hovered)):this.error("SELECT: NODE NOT SELECTABLE"):this.error("HOVER: NOT A VALID NODE")},select_branch:function(e,t){if(this.locked)return this.error("LOCKED");e||!1===this.hovered||(e=this.hovered);var i=this;if(!(e=i.get_node(e)).size())return this.error("SELECT: NOT A VALID NODE");if(e.children("a").removeClass("hover"),!i.check("clickable",e))return this.error("SELECT: NODE NOT SELECTABLE");if(!1===i.callback("beforechange",[e.get(0),i]))return this.error("SELECT: STOPPED BY USER");if(0!=this.settings.rules.multiple&&t&&0<e.children("a.clicked").size())return this.deselect_branch(e);if(0!=this.settings.rules.multiple&&t&&this.selected_arr.push(e),0!=this.settings.rules.multiple&&!t){for(var n in this.selected_arr)this.selected_arr.hasOwnProperty(n)&&(this.selected_arr[n].children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected_arr[n].get(0),i]));this.selected_arr=[],this.selected_arr.push(e),this.selected&&this.selected.children("A").hasClass("clicked")&&(this.selected.children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected.get(0),i]))}this.settings.rules.multiple||this.selected&&(this.selected.children("A").removeClass("clicked"),this.callback("ondeselect",[this.selected.get(0),i])),this.selected=e,!1!==this.hovered&&(this.hovered.children("A").removeClass("hover"),this.hovered=e),this.selected.children("a").addClass("clicked").end().parents("li.closed").each(function(){i.open_branch(this,!0)}),this.scroll_into_view(this.selected),this.callback("onselect",[this.selected.get(0),i]),this.callback("onchange",[this.selected.get(0),i])},deselect_branch:function(e){if(this.locked)return this.error("LOCKED");var t=this;if(0==(e=this.get_node(e)).children("a.clicked").size())return this.error("DESELECT: NODE NOT SELECTED");e.children("a").removeClass("clicked"),this.callback("ondeselect",[e.get(0),t]),0!=this.settings.rules.multiple&&1<this.selected_arr.length?(this.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){t.selected_arr.push(b(this))}),e.get(0)==this.selected.get(0)&&(this.selected=this.selected_arr[0])):(0!=this.settings.rules.multiple&&(this.selected_arr=[]),this.selected=!1),this.callback("onchange",[e.get(0),t])},toggle_branch:function(e){return this.locked?this.error("LOCKED"):(e=this.get_node(e)).hasClass("closed")?this.open_branch(e):e.hasClass("open")?this.close_branch(e):void 0},open_branch:function(t,e,i){var n=this;if(this.locked)return this.error("LOCKED");if(!(t=this.get_node(t)).size())return this.error("OPEN: NO SUCH NODE");if(t.hasClass("leaf"))return this.error("OPEN: OPENING LEAF NODE");if(this.settings.data.async&&0==t.find("li").size()){if(!1===this.callback("beforeopen",[t.get(0),this]))return this.error("OPEN: STOPPED BY USER");t.children("ul:eq(0)").remove().end().append("<ul><li class='last'><a class='loading' href='#'><ins>&nbsp;</ins>"+(n.settings.lang.loading||"Loading ...")+"</a></li></ul>"),t.removeClass("closed").addClass("open");var o=new b.tree.datastores[this.settings.data.type];return o.load(this.callback("beforedata",[t,this]),this,this.settings.data.opts,function(e){if(!(e=n.callback("ondata",[e,n]))||0==e.length)return t.removeClass("closed").removeClass("open").addClass("leaf").children("ul").remove(),void(i&&i.call());o.parse(e,n,n.settings.data.opts,function(e){e=n.callback("onparse",[e,n]),t.children("ul:eq(0)").replaceWith(b("<ul>").html(e)),t.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),t.find("li").not(".open").not(".closed").addClass("leaf"),n.open_branch.apply(n,[t]),i&&i.call()})}),!0}return this.settings.data.async||!1!==this.callback("beforeopen",[t.get(0),this])?(0<parseInt(this.settings.ui.animation)&&!e?(t.children("ul:eq(0)").css("display","none"),t.removeClass("closed").addClass("open"),t.children("ul:eq(0)").slideDown(parseInt(this.settings.ui.animation),function(){b(this).css("display",""),i&&i.call()})):(t.removeClass("closed").addClass("open"),i&&i.call()),this.callback("onopen",[t.get(0),this]),!0):this.error("OPEN: STOPPED BY USER")},close_branch:function(e,t){if(this.locked)return this.error("LOCKED");var i=this;return(e=this.get_node(e)).size()?!1===i.callback("beforeclose",[e.get(0),i])?this.error("CLOSE: STOPPED BY USER"):(0<parseInt(this.settings.ui.animation)&&!t&&1==e.children("ul:eq(0)").size()?e.children("ul:eq(0)").slideUp(parseInt(this.settings.ui.animation),function(){e.hasClass("open")&&e.removeClass("open").addClass("closed"),b(this).css("display","")}):e.hasClass("open")&&e.removeClass("open").addClass("closed"),this.selected&&!1!==this.settings.ui.selected_parent_close&&0<e.children("ul:eq(0)").find("a.clicked").size()&&(e.find("li:has(a.clicked)").each(function(){i.deselect_branch(this)}),"select_parent"==this.settings.ui.selected_parent_close&&0==e.children("a.clicked").size()&&this.select_branch(e,0!=this.settings.rules.multiple&&0<this.selected_arr.length)),void this.callback("onclose",[e.get(0),this])):this.error("CLOSE: NO SUCH NODE")},open_all:function(e,t){if(this.locked)return this.error("LOCKED");var i=this,n=(e=e?this.get_node(e):this.container).find("li.closed").size();t?this.cl_count--:this.cl_count=0,0<n?(this.cl_count+=n,e.find("li.closed").each(function(){var e=this;i.open_branch.apply(i,[this,!0,function(){i.open_all.apply(i,[e,!0])}])})):0==this.cl_count&&this.callback("onopen_all",[this])},close_all:function(e){if(this.locked)return this.error("LOCKED");var t=this;(e=e?this.get_node(e):this.container).find("li.open").each(function(){t.close_branch(this,!0)}),this.callback("onclose_all",[this])},set_lang:function(e){if(!b.isArray(this.settings.languages)||0==this.settings.languages.length)return!1;if(this.locked)return this.error("LOCKED");if(b.inArray(e,this.settings.languages)||void 0===this.settings.languages[e]||(e=this.settings.languages[e]),void 0===e)return!1;if(e==this.current_lang)return!0;var t=!1,i="#"+this.container.attr("id");return!1!==(t=g.get_css(i+" ."+this.current_lang))&&(t.style.display="none"),!1!==(t=g.get_css(i+" ."+e))&&(t.style.display=""),this.current_lang=e,!0},get_lang:function(){return!(!b.isArray(this.settings.languages)||0==this.settings.languages.length)&&this.current_lang},create:function(e,t,i){if(this.locked)return this.error("LOCKED");var n=!1;if(t=-1==t?(n=!0,this.container):t?this.get_node(t):this.selected,!(n||t&&t.size()))return this.error("CREATE: NO NODE SELECTED");var o=i,a=t;if("before"==i&&(i=t.parent().children().index(t),t=t.parents("li:eq(0)")),"after"==i&&(i=t.parent().children().index(t)+1,t=t.parents("li:eq(0)")),n||0!=t.size()||(n=!0,t=this.container),!n){if(!this.check("creatable",t))return this.error("CREATE: CANNOT CREATE IN NODE");if(t.hasClass("closed")){if(this.settings.data.async&&0==t.children("ul").size()){var r=this;return this.open_branch(t,!0,function(){r.create.apply(r,[e,t,i])})}this.open_branch(t,!0)}}var s=!1;if((e=e?b.extend(!0,{},e):{}).attributes||(e.attributes={}),e.attributes[this.settings.rules.type_attr]||(e.attributes[this.settings.rules.type_attr]=this.get_type(a)||"default"),this.settings.languages.length){e.data||(e.data={},s=!0);for(var l=0;l<this.settings.languages.length;l++)e.data[this.settings.languages[l]]||(e.data[this.settings.languages[l]]="string"!=(typeof this.settings.lang.new_node).toLowerCase()&&this.settings.lang.new_node[l]?this.settings.lang.new_node[l]:this.settings.lang.new_node)}else e.data||(e.data=this.settings.lang.new_node,s=!0);e=this.callback("ondata",[e,this]);var c=b.tree.datastores.json().parse(e,this);c=this.callback("onparse",[c,this]);var d=b(c);d.children("ul").size()?d.is(".open")||d.addClass("closed"):d.addClass("leaf"),d.find("li:last-child").addClass("last").end().find("li:has(ul)").not(".open").addClass("closed"),d.find("li").not(".open").not(".closed").addClass("leaf");var u={max_depth:this.settings.rules.use_max_depth?this.check("max_depth",n?-1:t):-1,max_children:this.settings.rules.use_max_children?this.check("max_children",n?-1:t):-1,valid_children:this.check("valid_children",n?-1:t)},h=this.get_type(d);if(void 0!==u.valid_children&&("none"==u.valid_children||b.isArray(u.valid_children)&&-1==b.inArray(h,u.valid_children)))return this.error("CREATE: NODE NOT A VALID CHILD");if(this.settings.rules.use_max_children&&void 0!==u.max_children&&-1!=u.max_children&&u.max_children>=this.children(t).size())return this.error("CREATE: MAX_CHILDREN REACHED");if(this.settings.rules.use_max_depth){if(void 0!==u.max_depth&&0===u.max_depth)return this.error("CREATE: MAX-DEPTH REACHED");for(var p=0<u.max_depth&&u.max_depth,f=(l=0,t);-1!==f&&!n;){f=this.parent(f),l++;var m=this.check("max_depth",f);if(0<=m&&(p=!1===p?m-l:Math.min(p,m-l)),!1!==p&&p<=0)return this.error("CREATE: MAX-DEPTH REACHED")}if(!1!==p&&p<=0)return this.error("CREATE: MAX-DEPTH REACHED");if(!1!==p){var g=1;for(f=d;0<f.size();){if(p-g<0)return this.error("CREATE: MAX-DEPTH REACHED");f=f.children("ul").children("li"),g++}}}if("undefined"!=(typeof i).toLowerCase()&&"inside"!=i||(i="top"==this.settings.rules.createat?0:t.children("ul:eq(0)").children("li").size()),0==t.children("ul").size()||1==n&&0==t.children("ul").children("li").size())if(n)v=this.moved(d,this.container.children("ul:eq(0)"),"inside",!0);else var v=this.moved(d,t.children("a:eq(0)"),"inside",!0);else if("before"==o&&t.children("ul:eq(0)").children("li:nth-child("+(i+1)+")").size())v=this.moved(d,t.children("ul:eq(0)").children("li:nth-child("+(i+1)+")").children("a:eq(0)"),"before",!0);else if("after"==o&&t.children("ul:eq(0)").children("li:nth-child("+i+")").size())v=this.moved(d,t.children("ul:eq(0)").children("li:nth-child("+i+")").children("a:eq(0)"),"after",!0);else if(t.children("ul:eq(0)").children("li:nth-child("+(i+1)+")").size())v=this.moved(d,t.children("ul:eq(0)").children("li:nth-child("+(i+1)+")").children("a:eq(0)"),"before",!0);else v=this.moved(d,t.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after",!0);return!1===v?this.error("CREATE: ABORTED"):(s&&(this.select_branch(d.children("a:eq(0)")),this.rename()),d)},rename:function(t,e){if(this.locked)return this.error("LOCKED");t=t?this.get_node(t):this.selected;var i=this;if(!t||!t.size())return this.error("RENAME: NO NODE SELECTED");if(!this.check("renameable",t))return this.error("RENAME: NODE NOT RENAMABLE");if(!this.callback("beforerename",[t.get(0),i.current_lang,i]))return this.error("RENAME: STOPPED BY USER");t.parents("li.closed").each(function(){i.open_branch(this)}),t=this.current_lang?t.find("a."+this.current_lang):t.find("a:first");var n={};n[this.container.attr("id")]=this.get_rollback();var o=t.children("ins").clone();if("string"==(typeof e).toLowerCase())t.text(e).prepend(o),i.callback("onrename",[i.get_node(t).get(0),i,n]);else{var a="";t.contents().each(function(){if(3==this.nodeType)return a=this.data,!1}),i.inp=b("<input type='text' autocomplete='off' />"),i.inp.val(a.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")).bind("mousedown",function(e){e.stopPropagation()}).bind("mouseup",function(e){e.stopPropagation()}).bind("click",function(e){e.stopPropagation()}).bind("keyup",function(e){var t=e.keyCode||e.which;if(27==t)return this.value=a,void this.blur();13!=t||this.blur()}),i.inp.blur(function(e){""==this.value&&(this.value=a),t.text(this.value).prepend(o),t.get(0).style.display="",t.prevAll("span").remove(),i.inp=!1,i.callback("onrename",[i.get_node(t).get(0),i,n])});var r=b("<span />").addClass(t.attr("class")).append(o).append(i.inp);t.get(0).style.display="none",t.parent().prepend(r),i.inp.get(0).focus(),i.inp.get(0).select()}},remove:function(e){if(this.locked)return this.error("LOCKED");var t=this,i={};if(i[this.container.attr("id")]=this.get_rollback(),!e||this.selected&&this.get_node(e).get(0)==this.selected.get(0)){if(!this.selected)return this.error("DELETE: NO NODE SELECTED");if(!this.check("deletable",this.selected))return this.error("DELETE: NODE NOT DELETABLE");if(!this.callback("beforedelete",[this.selected.get(0),t]))return this.error("DELETE: STOPPED BY USER");$parent=this.selected.parent();e=this.selected;if(0==this.settings.rules.multiple||1==this.selected_arr.length)var n=!0,o="select_previous"==this.settings.ui.selected_delete&&this.prev(this.selected);if(e=e.remove(),$parent.children("li:last").addClass("last"),0==$parent.children("li").size()&&($li=$parent.parents("li:eq(0)"),$li.removeClass("open").removeClass("closed").addClass("leaf").children("ul").remove()),!n&&0!=this.settings.rules.multiple){t=this;this.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){t.selected_arr.push(b(this))}),0<this.selected_arr.length&&(this.selected=this.selected_arr[0],this.remove())}n&&o&&this.select_branch(o),this.callback("ondelete",[e.get(0),this,i])}else if((e=this.get_node(e)).size()){if(!this.check("deletable",e))return this.error("DELETE: NODE NOT DELETABLE");if(!this.callback("beforedelete",[e.get(0),t]))return this.error("DELETE: STOPPED BY USER");if($parent=e.parent(),e.find("a.clicked").size()){var a=!1;t.selected_arr=[],this.container.find("a.clicked").filter(":first-child").parent().each(function(){if(a||this!=t.selected.get(0)||(a=!0),-1!=b(this).parents().index(e))return!0;t.selected_arr.push(b(this))}),a&&(this.selected=this.selected_arr[0]||!1)}e=e.remove(),$parent.children("li:last").addClass("last"),0==$parent.children("li").size()&&($li=$parent.parents("li:eq(0)"),$li.removeClass("open").removeClass("closed").addClass("leaf").children("ul").remove()),this.callback("ondelete",[e.get(0),this,i])}},next:function(e,t){return!!(e=this.get_node(e)).size()&&(t?0<e.nextAll("li").size()&&e.nextAll("li:eq(0)"):e.hasClass("open")?e.find("li:eq(0)"):0<e.nextAll("li").size()?e.nextAll("li:eq(0)"):e.parents("li").next("li").eq(0))},prev:function(e,t){if(!(e=this.get_node(e)).size())return!1;if(t)return 0<e.prevAll("li").size()&&e.prevAll("li:eq(0)");if(e.prev("li").size()){for(e=e.prev("li").eq(0);e.hasClass("open");)e=e.children("ul:eq(0)").children("li:last");return e}return!!e.parents("li:eq(0)").size()&&e.parents("li:eq(0)")},parent:function(e){return!!(e=this.get_node(e)).size()&&(e.parents("li:eq(0)").size()?e.parents("li:eq(0)"):-1)},children:function(e){return-1===e?this.container.children("ul:eq(0)").children("li"):!!(e=this.get_node(e)).size()&&e.children("ul:eq(0)").children("li")},toggle_dots:function(){this.settings.ui.dots?(this.settings.ui.dots=!1,this.container.children("ul:eq(0)").addClass("no_dots")):(this.settings.ui.dots=!0,this.container.children("ul:eq(0)").removeClass("no_dots"))},callback:function(e,t){var i=!1,n=null;for(var o in this.settings.plugins)if("object"==typeof b.tree.plugins[o]&&((i=b.tree.plugins[o]).callbacks&&"function"==typeof i.callbacks[e]&&(n=i.callbacks[e].apply(this,t)),null!=n)){if("ondata"!=e&&"onparse"!=e)return n;t[0]=n}if("function"==typeof(i=this.settings.callback[e]))return i.apply(null,t)},get_rollback:function(){var e={};return e.html=this.container.html(),e.selected=!!this.selected&&this.selected.attr("id"),e},moved:function(e,t,i,n,o,a,r){e=b(e);var s=b(e).parents("ul:eq(0)"),l=b(t);l.is("ins")&&(l=l.parent()),void 0===r&&(r=0),a||((a={})[this.container.attr("id")]=this.get_rollback(),n||((d=1<e.size()?e.eq(0).parents(".tree:eq(0)"):e.parents(".tree:eq(0)")).get(0)!=this.container.get(0)&&(d=g.inst[d.attr("id")],a[d.container.attr("id")]=d.get_rollback()),delete d));if("inside"==i&&this.settings.data.async){var c=this;if(this.get_node(l).hasClass("closed"))return this.open_branch(this.get_node(l),!0,function(){c.moved.apply(c,[e,t,i,n,o,a])});if(1==this.get_node(l).find("> ul > li > a.loading").size())return void setTimeout(function(){c.moved.apply(c,[e,t,i,n,o])},200)}if(1<e.size()){c=this;var d=this.moved(e.eq(0),t,i,!1,o,a,1),u=[];return e.each(function(e){u.push(b(this)),0!=e&&(d=d&&c.moved(this,d.children("a:eq(0)"),"after",!1,o,a,1))}),this.callback("onmove",[u,this.get_node(t).get(0),i,this,a]),e}if(o?(_what=e.clone(),_what.each(function(e){this.id=this.id+"_copy",b(this).find("li").each(function(){this.id=this.id+"_copy"}),b(this).removeClass("dragged").find("a.clicked").removeClass("clicked").end().find("li.dragged").removeClass("dragged")})):_what=e,n){if(!this.callback("beforecreate",[this.get_node(e).get(0),this.get_node(t).get(0),i,this]))return!1}else if(!this.callback("beforemove",[this.get_node(e).get(0),this.get_node(t).get(0),i,this]))return!1;if(!n&&(d=e.parents(".tree:eq(0)")).get(0)!=this.container.get(0)){if((d=g.inst[d.attr("id")]).settings.languages.length){var h=[];if(0==this.settings.languages.length)h.push("."+d.current_lang);else for(var p in this.settings.languages)if(this.settings.languages.hasOwnProperty(p))for(var f in d.settings.languages)d.settings.languages.hasOwnProperty(f)&&this.settings.languages[p]==d.settings.languages[f]&&h.push("."+this.settings.languages[p]);if(0==h.length)return this.error("MOVE: NO COMMON LANGUAGES");_what.find("a").not(h.join(",")).remove()}_what.find("a.clicked").removeClass("clicked")}switch(e=_what,i){case"before":l.parents("ul:eq(0)").children("li.last").removeClass("last"),l.parent().before(e.removeClass("last")),l.parents("ul:eq(0)").children("li:last").addClass("last");break;case"after":l.parents("ul:eq(0)").children("li.last").removeClass("last"),l.parent().after(e.removeClass("last")),l.parents("ul:eq(0)").children("li:last").addClass("last");break;case"inside":l.parent().children("ul:first").size()?"top"==this.settings.rules.createat?l.parent().children("ul:first").prepend(e.removeClass("last")).children("li:last").addClass("last"):l.parent().children("ul:first").children(".last").removeClass("last").end().append(e.removeClass("last")).children("li:last").addClass("last"):(e.addClass("last"),l.parent().removeClass("leaf").append("<ul/>"),l.parent().hasClass("open")||l.parent().addClass("closed"),l.parent().children("ul:first").prepend(e)),l.parent().hasClass("closed")&&this.open_branch(l)}if(0==s.find("li").size()){var m=s.parent();m.removeClass("open").removeClass("closed").addClass("leaf"),m.is(".tree")||m.children("ul").remove(),m.parents("ul:eq(0)").children("li.last").removeClass("last").end().children("li:last").addClass("last")}else s.children("li.last").removeClass("last"),s.children("li:last").addClass("last");return o?this.callback("oncopy",[this.get_node(e).get(0),this.get_node(t).get(0),i,this,a]):n?this.callback("oncreate",[this.get_node(e).get(0),l.is("ul")?-1:this.get_node(t).get(0),i,this,a]):r||this.callback("onmove",[this.get_node(e).get(0),this.get_node(t).get(0),i,this,a]),e},error:function(e){return this.callback("error",[e,this]),!1},lock:function(e){this.locked=e,this.locked?this.container.children("ul:eq(0)").addClass("locked"):this.container.children("ul:eq(0)").removeClass("locked")},cut:function(e){return this.locked?this.error("LOCKED"):(e=e?this.get_node(e):this.container.find("a.clicked").filter(":first-child").parent())&&e.size()?(g.cut_copy.copy_nodes=!1,void(g.cut_copy.cut_nodes=e)):this.error("CUT: NO NODE SELECTED")},copy:function(e){return this.locked?this.error("LOCKED"):(e=e?this.get_node(e):this.container.find("a.clicked").filter(":first-child").parent())&&e.size()?(g.cut_copy.copy_nodes=e,void(g.cut_copy.cut_nodes=!1)):this.error("COPY: NO NODE SELECTED")},paste:function(e,t){if(this.locked)return this.error("LOCKED");var i=!1;if(e=-1==e?(i=!0,this.container):e?this.get_node(e):this.selected,!(i||e&&e.size()))return this.error("PASTE: NO NODE SELECTED");if(!g.cut_copy.copy_nodes&&!g.cut_copy.cut_nodes)return this.error("PASTE: NOTHING TO DO");var n=t;if("before"==t?(t=e.parent().children().index(e),e=e.parents("li:eq(0)")):"after"==t?(t=e.parent().children().index(e)+1,e=e.parents("li:eq(0)")):"undefined"!=(typeof t).toLowerCase()&&"inside"!=t||(t="top"==this.settings.rules.createat?0:e.children("ul:eq(0)").children("li").size()),i||0!=e.size()||(i=!0,e=this.container),g.cut_copy.copy_nodes&&g.cut_copy.copy_nodes.size()){var o=!0;if(!i&&!this.check_move(g.cut_copy.copy_nodes,e.children("a:eq(0)"),"inside"))return!1;if(0==e.children("ul").size()||1==i&&0==e.children("ul").children("li").size())if(i)this.moved(g.cut_copy.copy_nodes,this.container.children("ul:eq(0)"),"inside",!1,!0);else this.moved(g.cut_copy.copy_nodes,e.children("a:eq(0)"),"inside",!1,!0);else if("before"==n&&e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").size())this.moved(g.cut_copy.copy_nodes,e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").children("a:eq(0)"),"before",!1,!0);else if("after"==n&&e.children("ul:eq(0)").children("li:nth-child("+t+")").size())this.moved(g.cut_copy.copy_nodes,e.children("ul:eq(0)").children("li:nth-child("+t+")").children("a:eq(0)"),"after",!1,!0);else if(e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").size())this.moved(g.cut_copy.copy_nodes,e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").children("a:eq(0)"),"before",!1,!0);else this.moved(g.cut_copy.copy_nodes,e.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after",!1,!0);g.cut_copy.copy_nodes=!1}if(g.cut_copy.cut_nodes&&g.cut_copy.cut_nodes.size()){o=!0;if(e.parents().andSelf().each(function(){if(-1!=g.cut_copy.cut_nodes.index(this))return o=!1}),!o)return this.error("Invalid paste");if(!i&&!this.check_move(g.cut_copy.cut_nodes,e.children("a:eq(0)"),"inside"))return!1;if(0==e.children("ul").size()||1==i&&0==e.children("ul").children("li").size())if(i)this.moved(g.cut_copy.cut_nodes,this.container.children("ul:eq(0)"),"inside");else this.moved(g.cut_copy.cut_nodes,e.children("a:eq(0)"),"inside");else if("before"==n&&e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").size())this.moved(g.cut_copy.cut_nodes,e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").children("a:eq(0)"),"before");else if("after"==n&&e.children("ul:eq(0)").children("li:nth-child("+t+")").size())this.moved(g.cut_copy.cut_nodes,e.children("ul:eq(0)").children("li:nth-child("+t+")").children("a:eq(0)"),"after");else if(e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").size())this.moved(g.cut_copy.cut_nodes,e.children("ul:eq(0)").children("li:nth-child("+(t+1)+")").children("a:eq(0)"),"before");else this.moved(g.cut_copy.cut_nodes,e.children("ul:eq(0)").children("li:last").children("a:eq(0)"),"after");g.cut_copy.cut_nodes=!1}},search:function(t,i){var n=this;if((!t||this.srch&&t!=this.srch)&&(this.srch="",this.srch_opn=!1,this.container.find("a.search").removeClass("search")),this.srch=t)if(i=i||"contains",this.settings.data.async)if(this.srch_opn)if(this.srch_opn.length){if(this.srch_opn&&this.srch_opn.length){for(var e=!1,o=0;o<this.srch_opn.length;o++)if(0<this.get_node("#"+this.srch_opn[o]).size()){e=!0;var a="#"+this.srch_opn[o];delete this.srch_opn[o],this.open_branch(a,!0,function(){n.search.apply(n,[t,i])})}e||(this.srch_opn=[],n.search.apply(n,[t,i]))}}else{this.srch_opn=!1;var r="a";this.settings.languages.length&&(r+="."+this.current_lang),this.callback("onsearch",[this.container.find(r+":"+i+"('"+t+"')"),this])}else{var s=b.extend({search:t},this.callback("beforedata",[!1,this]));b.ajax({type:this.settings.data.opts.method,url:this.settings.data.opts.url,data:s,dataType:"text",success:function(e){n.srch_opn=b.unique(e.split(",")),n.search.apply(n,[t,i])}})}else{r="a";this.settings.languages.length&&(r+="."+this.current_lang);var l=this.container.find(r+":"+i+"('"+t+"')");l.parents("li.closed").each(function(){n.open_branch(this,!0)}),this.callback("onsearch",[l,this])}},add_sheet:g.add_sheet,destroy:function(){if(this.callback("ondestroy",[this]),this.container.unbind(".jstree"),b("#"+this.container.attr("id")).die("click.jstree").die("dblclick.jstree").die("mouseover.jstree").die("mouseout.jstree").die("mousedown.jstree"),this.container.removeClass("tree ui-widget ui-widget-content tree-default tree-"+this.settings.ui.theme_name).children("ul").removeClass("no_dots ltr locked").find("li").removeClass("leaf").removeClass("open").removeClass("closed").removeClass("last").children("a").removeClass("clicked hover search"),this.cntr==g.focused)for(var e in g.inst)if(e!=this.cntr&&e!=this.container.attr("id")){g.inst[e].focus();break}g.inst[this.cntr]=!1,g.inst[this.container.attr("id")]=!1,delete g.inst[this.cntr],delete g.inst[this.container.attr("id")],g.cntr--}}}b.tree={datastores:{},plugins:{},defaults:{data:{async:!1,type:"html",opts:{method:"GET",url:!1}},selected:!1,opened:[],languages:[],ui:{dots:!0,animation:0,scroll_spd:4,theme_path:!1,theme_name:"default",selected_parent_close:"select_parent",selected_delete:"select_previous"},types:{default:{clickable:!0,renameable:!0,deletable:!0,creatable:!0,draggable:!0,max_children:-1,max_depth:-1,valid_children:"all",icon:{image:!1,position:!1}}},rules:{multiple:!1,multitree:"none",type_attr:"rel",createat:"bottom",drag_copy:"ctrl",drag_button:"left",use_max_children:!0,use_max_depth:!0,max_children:-1,max_depth:-1,valid_children:"all"},lang:{new_node:"New folder",loading:"Loading ..."},callback:{beforechange:function(e,t){return!0},beforeopen:function(e,t){return!0},beforeclose:function(e,t){return!0},beforemove:function(e,t,i,n){return!0},beforecreate:function(e,t,i,n){return!0},beforerename:function(e,t,i){return!0},beforedelete:function(e,t){return!0},beforedata:function(e,t){return{id:b(e).attr("id")||0}},ondata:function(e,t){return e},onparse:function(e,t){return e},onhover:function(e,t){},onselect:function(e,t){},ondeselect:function(e,t){},onchange:function(e,t){},onrename:function(e,t,i){},onmove:function(e,t,i,n,o){},oncopy:function(e,t,i,n,o){},oncreate:function(e,t,i,n,o){},ondelete:function(e,t,i){},onopen:function(e,t){},onopen_all:function(e){},onclose_all:function(e){},onclose:function(e,t){},error:function(e,t){},ondblclk:function(e,t){t.toggle_branch.call(t,e),t.select_branch.call(t,e)},onrgtclk:function(e,t,i){},onload:function(e){},oninit:function(e){},onfocus:function(e){},ondestroy:function(e){},onsearch:function(e,t){e.addClass("search")},ondrop:function(e,t,i,n){},check:function(e,t,i,n){return i},check_move:function(e,t,i,n){return!0}},plugins:{}},create:function(){return new g},focused:function(){return g.inst[g.focused]},reference:function(e){var t=b(e);return t.size()||(t=b("#"+e)),t.size()?(t=t.is(".tree")?t.attr("id"):t.parents(".tree:eq(0)").attr("id"),g.inst[t]||null):null},rollback:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=g.inst[t],n=!i.locked;n&&i.lock(!0),i.inp=!1,i.container.html(e[t].html).find(".dragged").removeClass("dragged").end().find(".hover").removeClass("hover"),e[t].selected&&(i.selected=b("#"+e[t].selected),i.selected_arr=[],i.container.find("a.clicked").each(function(){i.selected_arr.push(i.get_node(this))})),n&&i.lock(!1),delete n,delete i}},drop_mode:function(e){e=b.extend(e,{show:!1,type:"default",str:"Foreign node"}),g.drag_drop.foreign=!0,g.drag_drop.isdown=!0,g.drag_drop.moving=!0,g.drag_drop.appended=!1,g.drag_drop.f_type=e.type,(g.drag_drop.f_data=e).show?(g.drag_drop.drag_help=b("<div id='jstree-dragged' class='tree tree-default'><ul><li class='last dragged foreign'><a href='#'><ins>&nbsp;</ins>"+e.str+"</a></li></ul></div>"),g.drag_drop.drag_node=g.drag_drop.drag_help.find("li:eq(0)")):(g.drag_drop.drag_help=!1,g.drag_drop.drag_node=!1),!1!==b.tree.drag_start&&b.tree.drag_start.call(null,!1)},drag_start:!1,drag:!1,drag_end:!1},b.fn.tree=function(t){return this.each(function(){var e=b.extend({},t);g.inst&&g.inst[b(this).attr("id")]&&g.inst[b(this).attr("id")].destroy(),!1!==e&&(new g).init(this,e)})},g.cntr=0,g.inst={},g.themes=[],g.drag_drop={isdown:!1,drag_node:!1,drag_help:!1,dragged:!1,init_x:!1,init_y:!1,moving:!1,origin_tree:!1,marker:!1,move_type:!1,ref_node:!1,appended:!1,foreign:!1,droppable:[],open_time:!1,scroll_time:!1},g.mouseup=function(e){var t=g.drag_drop;if(t.open_time&&clearTimeout(t.open_time),t.scroll_time&&clearTimeout(t.scroll_time),t.moving&&!1!==b.tree.drag_end&&b.tree.drag_end.call(null,e,t),!1===t.foreign&&t.drag_node&&t.drag_node.size()){if(t.drag_help.remove(),t.move_type)(i=g.inst[t.ref_node.parents(".tree:eq(0)").attr("id")])&&i.moved(t.dragged,t.ref_node,t.move_type,!1,"on"==t.origin_tree.settings.rules.drag_copy||"ctrl"==t.origin_tree.settings.rules.drag_copy&&(e.ctrlKey||e.metaKey));t.move_type=!1,t.ref_node=!1}if(!1!==t.foreign){var i;if(t.drag_help&&t.drag_help.remove(),t.move_type)(i=g.inst[t.ref_node.parents(".tree:eq(0)").attr("id")])&&i.callback("ondrop",[t.f_data,i.get_node(t.ref_node).get(0),t.move_type,i]);t.foreign=!1,t.move_type=!1,t.ref_node=!1}if(g.drag_drop.marker&&g.drag_drop.marker.hide(),t.dragged&&t.dragged.size()&&t.dragged.removeClass("dragged"),t.dragged=!1,t.drag_help=!1,t.drag_node=!1,t.f_type=!1,t.f_data=!1,t.init_x=!1,t.init_y=!1,t.moving=!1,t.appended=!1,t.origin_tree=!1,t.isdown)return t.isdown=!1,e.preventDefault(),e.stopPropagation(),!1},g.mousemove=function(e){var t=g.drag_drop,i=!1;if(t.isdown){if(!t.moving&&Math.abs(t.init_x-e.pageX)<5&&Math.abs(t.init_y-e.pageY)<5)return e.preventDefault(),e.stopPropagation(),!1;if(t.moving||(i=g.drag_drop.moving=!0),t.open_time&&clearTimeout(t.open_time),!1!==t.drag_help&&(t.appended||(!1!==t.foreign&&(t.origin_tree=b.tree.focused()),b("body").append(t.drag_help),t.w=t.drag_help.width(),t.appended=!0),t.drag_help.css({left:e.pageX+5,top:e.pageY+15})),i&&!1!==b.tree.drag_start&&b.tree.drag_start.call(null,e,t),!1!==b.tree.drag&&b.tree.drag.call(null,e,t),"DIV"==e.target.tagName&&"jstree-marker"==e.target.id)return!1;var n=b(e.target);n.is("ins")&&(n=n.parent());var o=n.is(".tree")?n:n.parents(".tree:eq(0)");if(0==o.size()||!g.inst[o.attr("id")])return t.scroll_time&&clearTimeout(t.scroll_time),!1!==t.drag_help&&t.drag_help.find("li:eq(0) ins").addClass("forbidden"),t.move_type=!1,t.ref_node=!1,g.drag_drop.marker.hide(),!1;var a=g.inst[o.attr("id")];a.off_height(),t.scroll_time&&clearTimeout(t.scroll_time),t.scroll_time=setTimeout(function(){a.scroll_check(e.pageX,e.pageY)},50);var r=!1;o.scrollTop();if("A"==e.target.tagName||"INS"==e.target.tagName){if(n.is("#jstree-dragged"))return!1;a.get_node(e.target).hasClass("closed")&&(t.open_time=setTimeout(function(){a.open_branch(n)},500));var s={x:(u=n.offset()).left-1,y:e.pageY-u.top},l=[];l=s.y<a.li_height/3+1?["before","inside","after"]:s.y>2*a.li_height/3-1?["after","inside","before"]:s.y<a.li_height/2?["inside","before","after"]:["inside","after","before"];var c=!1,d=0==t.foreign?t.origin_tree.container.find("li.dragged"):t.f_type;if(b.each(l,function(e,t){if(a.check_move(d,n,t))return r=t,!(c=!0)}),c){switch(r){case"before":s.y=u.top-2,g.drag_drop.marker.attr("class","marker");break;case"after":s.y=u.top-2+a.li_height,g.drag_drop.marker.attr("class","marker");break;case"inside":s.x-=2,s.y=u.top-2+a.li_height/2,g.drag_drop.marker.attr("class","marker_plus")}t.move_type=r,t.ref_node=b(e.target),!1!==t.drag_help&&t.drag_help.find(".forbidden").removeClass("forbidden"),g.drag_drop.marker.css({left:s.x,top:s.y}).show()}}if((n.is(".tree")||n.is("ul"))&&0==n.find("li:eq(0)").size()){var u=n.offset();t.move_type="inside",t.ref_node=o.children("ul:eq(0)"),!1!==t.drag_help&&t.drag_help.find(".forbidden").removeClass("forbidden"),g.drag_drop.marker.attr("class","marker_plus"),g.drag_drop.marker.css({left:u.left+10,top:u.top+15}).show()}else("A"==e.target.tagName||"INS"==e.target.tagName)&&c||(!1!==t.drag_help&&t.drag_help.find("li:eq(0) ins").addClass("forbidden"),t.move_type=!1,t.ref_node=!1,g.drag_drop.marker.hide());return e.preventDefault(),e.stopPropagation(),!1}return!0},b(function(){b(document).bind("mousemove.jstree",g.mousemove),b(document).bind("mouseup.jstree",g.mouseup)}),g.cut_copy={copy_nodes:!1,cut_nodes:!1},g.css=!1,g.get_css=function(e,t){e=e.toLowerCase();var n=g.css.cssRules||g.css.rules,o=0;do{if(n.length&&o>n.length+5)return!1;if(n[o].selectorText&&n[o].selectorText.toLowerCase()==e)return 1==t?(g.css.removeRule&&document.styleSheets[i].removeRule(o),g.css.deleteRule&&document.styleSheets[i].deleteRule(o),!0):n[o]}while(n[++o]);return!1},g.add_css=function(e){return!g.get_css(e)&&(g.css.insertRule?g.css.insertRule(e+" { }",0):g.css.addRule(e,null,0),g.get_css(e))},g.remove_css=function(e){return g.get_css(e,!0)},g.add_sheet=function(e){if(e.str){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e.str:t.appendChild(document.createTextNode(e.str)),document.getElementsByTagName("head")[0].appendChild(t),t.sheet}if(e.url){if(!document.createStyleSheet){var i=document.createElement("link");return i.rel="stylesheet",i.type="text/css",i.media="all",i.href=e.url,document.getElementsByTagName("head")[0].appendChild(i),i.styleSheet}try{document.createStyleSheet(e.url)}catch(e){}}},b(function(){var e=navigator.userAgent.toLowerCase(),t=(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],i="";/msie/.test(e)&&!/opera/.test(e)&&6==parseInt(t)&&(i+='.tree li { height:18px; zoom:1; } .tree li li { overflow:visible; } .tree .ltr li.last { margin-top: expression( (this.previousSibling && /open/.test(this.previousSibling.className) ) ? "-2px" : "0"); } .marker { width:45px; background-position:-32px top; } .marker_plus { width:5px; background-position:right top; }'),/opera/.test(e)&&(i+='.tree > ul > li.last:after { content:"."; display: block; height:1px; clear:both; visibility:hidden; }'),/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)&&0==t.indexOf("1.8")&&(i+=".tree .ltr li a { display:inline; float:left; } .tree li ul { clear:both; }"),g.css=g.add_sheet({str:i})})}(jQuery),function(d){d.extend(d.tree.datastores,{html:function(){return{get:function(e,t,i){return e&&d(e).size()?d("<div>").append(t.get_node(e).clone()).html():t.container.children("ul:eq(0)").html()},parse:function(e,t,i,n){return n&&n.call(null,e),e},load:function(e,n,t,o){t.url?d.ajax({type:t.method,url:t.url,data:e,dataType:"html",success:function(e,t){o.call(null,e)},error:function(e,t,i){o.call(null,!1),n.error(i+" "+t)}}):o.call(null,t.static||n.container.children("ul:eq(0)").html())}}},json:function(){return{get:function(e,t,i){var n=this;if(e=e&&0!=d(e).size()?d(e):t.container.children("ul").children("li"),(i=i||{}).outer_attrib||(i.outer_attrib=["id","rel","class"]),i.inner_attrib||(i.inner_attrib=[]),1<e.size()){var o=[];return e.each(function(){o.push(n.get(this,t,i))}),o}if(0==e.size())return[];var a={attributes:{},data:{}};for(var r in e.hasClass("open")&&(a.data.state="open"),e.hasClass("closed")&&(a.data.state="closed"),i.outer_attrib){if(i.outer_attrib.hasOwnProperty(r))void 0!==(c="class"==i.outer_attrib[r]?e.attr(i.outer_attrib[r]).replace(/(^| )last( |$)/gi," ").replace(/(^| )(leaf|closed|open)( |$)/gi," "):e.attr(i.outer_attrib[r]))&&0<c.toString().replace(" ","").length&&(a.attributes[i.outer_attrib[r]]=c),delete c}if(t.settings.languages.length){for(var r in t.settings.languages)if(t.settings.languages.hasOwnProperty(r)){var s=e.children("a."+t.settings.languages[r]);if(i.force||i.inner_attrib.length||s.children("ins").get(0).style.backgroundImage.toString().length||s.children("ins").get(0).className.length){if(a.data[t.settings.languages[r]]={},a.data[t.settings.languages[r]].title=t.get_text(e,t.settings.languages[r]),s.children("ins").get(0).style.className.length&&(a.data[t.settings.languages[r]].icon=s.children("ins").get(0).style.className),s.children("ins").get(0).style.backgroundImage.length&&(a.data[t.settings.languages[r]].icon=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")),i.inner_attrib.length)for(var l in a.data[t.settings.languages[r]].attributes={},i.inner_attrib){if(i.inner_attrib.hasOwnProperty(l))void 0!==(c=s.attr(i.inner_attrib[l]))&&0<c.toString().replace(" ","").length&&(a.data[t.settings.languages[r]].attributes[i.inner_attrib[l]]=c),delete c}}else a.data[t.settings.languages[r]]=t.get_text(e,t.settings.languages[r])}}else{s=e.children("a");if(a.data.title=t.get_text(e),s.children("ins").size()&&s.children("ins").get(0).className.length&&(a.data.icon=s.children("ins").get(0).className),s.children("ins").size()&&s.children("ins").get(0).style.backgroundImage.length&&(a.data.icon=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")),i.inner_attrib.length)for(var l in a.data.attributes={},i.inner_attrib){var c;if(i.inner_attrib.hasOwnProperty(l))void 0!==(c=s.attr(i.inner_attrib[l]))&&0<c.toString().replace(" ","").length&&(a.data.attributes[i.inner_attrib[l]]=c),delete c}}return 0<e.children("ul").size()&&(a.children=[],e.children("ul").children("li").each(function(){a.children.push(n.get(this,t,i))})),a},parse:function(e,t,i,n){if("[object Array]"===Object.prototype.toString.apply(e)){for(var o="",a=0;a<e.length;a++)"function"!=typeof e[a]&&(o+=this.parse(e[a],t,i));return n&&n.call(null,o),o}if(!e||!e.data&&""!=e.data)return n&&n.call(null,!1),"";o="";o+="<li ";var r=!1;if(e.attributes)for(var a in e.attributes)e.attributes.hasOwnProperty(a)&&("class"==a?(o+=" class='"+e.attributes[a]+" ","closed"!=e.state&&"open"!=e.state||(o+=" "+e.state+" "),o+="' ",r=!0):o+=" "+a+"='"+e.attributes[a]+"' ");if(r||"closed"!=e.state&&"open"!=e.state||(o+=" class='"+e.state+"' "),o+=">",t.settings.languages.length)for(a=0;a<t.settings.languages.length;a++){if((l={href:"",style:""}).class=t.settings.languages[a],e.data[t.settings.languages[a]]&&"undefined"!=(typeof e.data[t.settings.languages[a]].attributes).toLowerCase())for(var s in e.data[t.settings.languages[a]].attributes)e.data[t.settings.languages[a]].attributes.hasOwnProperty(s)&&("style"==s||"class"==s?l[s]+=" "+e.data[t.settings.languages[a]].attributes[s]:l[s]=e.data[t.settings.languages[a]].attributes[s]);for(var s in o+="<a",l)l.hasOwnProperty(s)&&(o+=" "+s+'="'+l[s]+'" ');o+=">",e.data[t.settings.languages[a]]&&e.data[t.settings.languages[a]].icon?o+="<ins "+(-1==e.data[t.settings.languages[a]].icon.indexOf("/")?" class='"+e.data[t.settings.languages[a]].icon+"' ":" style='background-image:url(\""+e.data[t.settings.languages[a]].icon+"\");' ")+">&nbsp;</ins>":o+="<ins>&nbsp;</ins>",o+=("undefined"!=(typeof e.data[t.settings.languages[a]].title).toLowerCase()?e.data[t.settings.languages[a]].title:e.data[t.settings.languages[a]])+"</a>"}else{var l={href:"",style:"",class:""};if("undefined"!=(typeof e.data.attributes).toLowerCase())for(var a in e.data.attributes)e.data.attributes.hasOwnProperty(a)&&("style"==a||"class"==a?l[a]+=" "+e.data.attributes[a]:l[a]=e.data.attributes[a]);for(var a in o+="<a",l)l.hasOwnProperty(a)&&(o+=" "+a+'="'+l[a]+'" ');o+=">",e.data.icon?o+="<ins "+(-1==e.data.icon.indexOf("/")?" class='"+e.data.icon+"' ":" style='background-image:url(\""+e.data.icon+"\");' ")+">&nbsp;</ins>":o+="<ins>&nbsp;</ins>",o+=("undefined"!=(typeof e.data.title).toLowerCase()?e.data.title:e.data)+"</a>"}if(e.children&&e.children.length){o+="<ul>";for(a=0;a<e.children.length;a++)o+=this.parse(e.children[a],t,i);o+="</ul>"}return o+="</li>",n&&n.call(null,o),o},load:function(e,n,t,o){t.static?o.call(null,t.static):d.ajax({type:t.method,url:t.url,data:e,dataType:"json",success:function(e,t){o.call(null,e)},error:function(e,t,i){o.call(null,!1),n.error(i+" "+t)}})}}}})}(jQuery),JSON=JSON||{},function(){"use strict";function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,o,a,r,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;i<a;i+=1)r[i]=str(i,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;i<a;i+=1)"string"==typeof rep[i]&&(o=str(n=rep[i],l))&&r.push(quote(n)+(gap?": ":":")+o);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o=str(n,l))&&r.push(quote(n)+(gap?": ":":")+o);return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,o}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(indent=gap="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,o=e[t];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(void 0!==(n=walk(o,i))?o[i]=n:delete o[i]);return reviver.call(e,t,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(p,f,m){function g(e,t,i){var n=f.createElement(e);return t&&(n.id=te+t),i&&(n.style.cssText=i),p(n)}function v(){return m.innerHeight?m.innerHeight:p(m).height()}function s(e){var t=$.length,i=(B+e)%t;return i<0?t+i:i}function b(e,t){return Math.round((/%/.test(e)?("x"===t?P.width():v())/100:1)*parseInt(e,10))}function A(e,t){return e.photo||e.photoRegex.test(t)}function y(e,t){return e.retinaUrl&&1<m.devicePixelRatio?t.replace(e.photoRegex,e.retinaSuffix):t}function _(e){"contains"in C[0]&&!C[0].contains(e.target)&&(e.stopPropagation(),C.focus())}function w(){var e,t=p.data(U,ee);for(e in null==t?(z=p.extend({},h),console&&console.log&&console.log("Error: cboxElement missing settings object")):z=p.extend({},t),z)p.isFunction(z[e])&&"on"!==e.slice(0,2)&&(z[e]=z[e].call(U));z.rel=z.rel||U.rel||p(U).data("rel")||"nofollow",z.href=z.href||p(U).attr("href"),z.title=z.title||U.title,"string"==typeof z.href&&(z.href=p.trim(z.href))}function x(e,t){p(f).trigger(e),he.trigger(e),p.isFunction(t)&&t.call(U)}function o(e){var t,i,n,o,a,r,s,l,c,d,u,h;G||(U=e,w(),$=p(U),B=0,"nofollow"!==z.rel&&($=p("."+ie).filter(function(){var e,t=p.data(this,ee);return t&&(e=p(this).data("rel")||t.rel||this.rel),e===z.rel}),-1===(B=$.index(U))&&($=$.add(U),B=$.length-1)),k.css({opacity:parseFloat(z.opacity),cursor:z.overlayClose?"pointer":"auto",visibility:"visible"}).show(),Z&&C.add(k).removeClass(Z),z.className&&C.add(k).addClass(z.className),Z=z.className,R.html(z.close).show(),K||(K=J=!0,C.css({visibility:"hidden",display:"block"}),M=g(pe,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(S),q=T.height()+I.height()+S.outerHeight(!0)-S.height(),H=E.width()+D.width()+S.outerWidth(!0)-S.width(),W=M.outerHeight(!0),V=M.outerWidth(!0),z.w=b(z.initialWidth,"x"),z.h=b(z.initialHeight,"y"),Q.position(),de&&P.bind("resize."+ue+" scroll."+ue,function(){k.css({width:P.width(),height:v(),top:P.scrollTop(),left:P.scrollLeft()})}).trigger("resize."+ue),u=te+"Slideshow_",h="click."+te,z.slideshow&&$[1]?(s=function(){clearTimeout(r)},l=function(){(z.loop||$[B+1])&&(r=setTimeout(Q.next,z.slideshowSpeed))},c=function(){j.html(z.slideshowStop).unbind(h).one(h,d),he.bind(ae,l).bind(oe,s).bind(re,d),C.removeClass(u+"off").addClass(u+"on")},d=function(){s(),he.unbind(ae,l).unbind(oe,s).unbind(re,d),j.html(z.slideshowStart).unbind(h).one(h,function(){Q.next(),c()}),C.removeClass(u+"on").addClass(u+"off")},(z.slideshowAuto?c:d)()):C.removeClass(u+"off "+u+"on"),x(ne,z.onOpen),F.add(L).hide(),C.focus(),f.addEventListener&&(f.addEventListener("focus",_,!0),he.one(se,function(){f.removeEventListener("focus",_,!0)})),z.returnFocus&&he.one(se,function(){p(U).focus()})),o=Q.prep,a=++fe,Y=!(J=!0),U=$[B],w(),x(le),x(oe,z.onLoad),z.h=z.height?b(z.height,"y")-W-q:z.innerHeight&&b(z.innerHeight,"y"),z.w=z.width?b(z.width,"x")-V-H:z.innerWidth&&b(z.innerWidth,"x"),z.mw=z.w,z.mh=z.h,z.maxWidth&&(z.mw=b(z.maxWidth,"x")-V-H,z.mw=z.w&&z.w<z.mw?z.w:z.mw),z.maxHeight&&(z.mh=b(z.maxHeight,"y")-W-q,z.mh=z.h&&z.h<z.mh?z.h:z.mh),t=z.href,X=setTimeout(function(){N.show()},100),z.inline?(n=g(pe).hide().insertBefore(p(t)[0]),he.one(le,function(){n.replaceWith(M.children())}),o(p(t))):z.iframe?o(" "):z.html?o(z.html):A(z,t)?(t=y(z,t),p(Y=new Image).addClass(te+"Photo").bind("error",function(){z.title=!1,o(g(pe,"Error").html(z.imgError))}).one("load",function(){var e;a===fe&&(z.retinaImage&&1<m.devicePixelRatio&&(Y.height=Y.height/m.devicePixelRatio,Y.width=Y.width/m.devicePixelRatio),z.scalePhotos&&(i=function(){Y.height-=Y.height*e,Y.width-=Y.width*e},z.mw&&Y.width>z.mw&&(e=(Y.width-z.mw)/Y.width,i()),z.mh&&Y.height>z.mh&&(e=(Y.height-z.mh)/Y.height,i())),z.h&&(Y.style.marginTop=Math.max(z.mh-Y.height,0)/2+"px"),$[1]&&(z.loop||$[B+1])&&(Y.style.cursor="pointer",Y.onclick=function(){Q.next()}),ce&&(Y.style.msInterpolationMode="bicubic"),setTimeout(function(){o(Y)},1))}),setTimeout(function(){Y.src=t},1)):t&&O.load(t,z.data,function(e,t){a===fe&&o("error"===t?g(pe,"Error").html(z.xhrError):p(this).contents())}))}function a(){!C&&f.body&&(r=!1,P=p(m),C=g(pe).attr({id:ee,class:ce?te+(de?"IE6":"IE"):"",role:"dialog",tabindex:"-1"}).hide(),k=g(pe,"Overlay",de?"position:absolute":"").hide(),N=g(pe,"LoadingOverlay").add(g(pe,"LoadingGraphic")),c=g(pe,"Wrapper"),S=g(pe,"Content").append(L=g(pe,"Title"),l=g(pe,"Current"),u=g("button","Previous"),d=g("button","Next"),j=g("button","Slideshow"),N,R=g("button","Close")),c.append(g(pe).append(g(pe,"TopLeft"),T=g(pe,"TopCenter"),g(pe,"TopRight")),g(pe,!1,"clear:left").append(E=g(pe,"MiddleLeft"),S,D=g(pe,"MiddleRight")),g(pe,!1,"clear:left").append(g(pe,"BottomLeft"),I=g(pe,"BottomCenter"),g(pe,"BottomRight"))).find("div div").css({float:"left"}),O=g(pe,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),F=d.add(u).add(l).add(j),p(f.body).append(k,C.append(c,O)))}var k,C,c,S,T,E,D,I,$,P,M,O,N,L,l,j,d,u,R,F,z,q,H,W,V,U,B,Y,K,J,G,X,Q,Z,r,h={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},ee="colorbox",te="cbox",ie=te+"Element",ne=te+"_open",oe=te+"_load",ae=te+"_complete",re=te+"_cleanup",se=te+"_closed",le=te+"_purge",ce=!p.support.leadingWhitespace,de=ce&&!m.XMLHttpRequest,ue=te+"_IE6",he=p({}),pe="div",fe=0;p.colorbox||(p(a),(Q=p.fn[ee]=p[ee]=function(e,t){var i=this;if(e=e||{},a(),C&&(r||(r=!0,d.click(function(){Q.next()}),u.click(function(){Q.prev()}),R.click(function(){Q.close()}),k.click(function(){z.overlayClose&&Q.close()}),p(f).bind("keydown."+te,function(e){var t=e.keyCode;K&&z.escKey&&27===t&&(e.preventDefault(),Q.close()),K&&z.arrowKey&&$[1]&&!e.altKey&&(37===t?(e.preventDefault(),u.click()):39===t&&(e.preventDefault(),d.click()))}),p.isFunction(p.fn.on)?p(f).on("click."+te,"."+ie,n):p("."+ie).live("click."+te,n)),1)){if(p.isFunction(i))i=p("<a/>"),e.open=!0;else if(!i[0])return i;t&&(e.onComplete=t),i.each(function(){p.data(this,ee,p.extend({},p.data(this,ee)||h,e))}).addClass(ie),(p.isFunction(e.open)&&e.open.call(i)||e.open)&&o(i[0])}function n(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),o(this))}return i}).position=function(e,t){function i(e){T[0].style.width=I[0].style.width=S[0].style.width=parseInt(e.style.width,10)-H+"px",S[0].style.height=E[0].style.height=D[0].style.height=parseInt(e.style.height,10)-q+"px"}var n,o,a,r=0,s=0,l=C.offset();P.unbind("resize."+te),C.css({top:-9e4,left:-9e4}),o=P.scrollTop(),a=P.scrollLeft(),z.fixed&&!de?(l.top-=o,l.left-=a,C.css({position:"fixed"})):(r=o,s=a,C.css({position:"absolute"})),s+=!1!==z.right?Math.max(P.width()-z.w-V-H-b(z.right,"x"),0):!1!==z.left?b(z.left,"x"):Math.round(Math.max(P.width()-z.w-V-H,0)/2),r+=!1!==z.bottom?Math.max(v()-z.h-W-q-b(z.bottom,"y"),0):!1!==z.top?b(z.top,"y"):Math.round(Math.max(v()-z.h-W-q,0)/2),C.css({top:l.top,left:l.left,visibility:"visible"}),e=C.width()===z.w+V&&C.height()===z.h+W?0:e||0,c[0].style.width=c[0].style.height="9999px",n={width:z.w+V+H,height:z.h+W+q,top:r,left:s},0===e&&C.css(n),C.dequeue().animate(n,{duration:e,complete:function(){i(this),J=!1,c[0].style.width=z.w+V+H+"px",c[0].style.height=z.h+W+q+"px",z.reposition&&setTimeout(function(){P.bind("resize."+te,Q.position)},1),t&&t()},step:function(){i(this)}})},Q.resize=function(e){K&&((e=e||{}).width&&(z.w=b(e.width,"x")-V-H),e.innerWidth&&(z.w=b(e.innerWidth,"x")),M.css({width:z.w}),e.height&&(z.h=b(e.height,"y")-W-q),e.innerHeight&&(z.h=b(e.innerHeight,"y")),e.innerHeight||e.height||(M.css({height:"auto"}),z.h=M.height()),M.css({height:z.h}),Q.position("none"===z.transition?0:z.speed))},Q.prep=function(e){if(K){var t,r="none"===z.transition?0:z.speed;M.empty().remove(),(M=g(pe,"LoadedContent").append(e)).hide().appendTo(O.show()).css({width:(z.w=z.w||M.width(),z.w=z.mw&&z.mw<z.w?z.mw:z.w,z.w),overflow:z.scrolling?"auto":"hidden"}).css({height:(z.h=z.h||M.height(),z.h=z.mh&&z.mh<z.h?z.mh:z.h,z.h)}).prependTo(S),O.hide(),p(Y).css({float:"none"}),t=function(){function e(){ce&&C[0].style.removeAttribute("filter")}var t,i,n=$.length,o="frameBorder",a="allowTransparency";K&&(i=function(){clearTimeout(X),N.hide(),x(ae,z.onComplete)},ce&&Y&&M.fadeIn(100),L.html(z.title).add(M).show(),1<n?("string"==typeof z.current&&l.html(z.current.replace("{current}",B+1).replace("{total}",n)).show(),d[z.loop||B<n-1?"show":"hide"]().html(z.next),u[z.loop||B?"show":"hide"]().html(z.previous),z.slideshow&&j.show(),z.preloading&&p.each([s(-1),s(1)],function(){var e,t=$[this],i=p.data(t,ee);i&&i.href?(e=i.href,p.isFunction(e)&&(e=e.call(t))):e=p(t).attr("href"),e&&A(i,e)&&(e=y(i,e),(new Image).src=e)})):F.hide(),z.iframe?(o in(t=g("iframe")[0])&&(t[o]=0),a in t&&(t[a]="true"),z.scrolling||(t.scrolling="no"),p(t).attr({src:z.href,name:(new Date).getTime(),class:te+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",i).appendTo(M),he.one(le,function(){t.src="//about:blank"}),z.fastIframe&&p(t).trigger("load")):i(),"fade"===z.transition?C.fadeTo(r,1,e):e())},"fade"===z.transition?C.fadeTo(r,0,function(){Q.position(0,t)}):Q.position(r,t)}},Q.next=function(){!J&&$[1]&&(z.loop||$[B+1])&&(B=s(1),o($[B]))},Q.prev=function(){!J&&$[1]&&(z.loop||B)&&(B=s(-1),o($[B]))},Q.close=function(){K&&!G&&(K=!(G=!0),x(re,z.onCleanup),P.unbind("."+te+" ."+ue),k.fadeTo(200,0),C.stop().fadeTo(300,0,function(){C.add(k).css({opacity:1,cursor:"auto"}).hide(),x(le),M.empty().remove(),setTimeout(function(){G=!1,x(se,z.onClosed)},1)}))},Q.remove=function(){p([]).add(C).add(k).remove(),C=null,p("."+ie).removeData(ee).removeClass(ie),p(f).unbind("click."+te)},Q.element=function(){return p(U)},Q.settings=h)}(jQuery,document,window),jQuery.fn.highlight=function(e){return this.each(function(){!function e(t,i){var n=0;if(3==t.nodeType){var o=t.data.toUpperCase().indexOf(i);if(0<=o){var a=document.createElement("span");a.className="highlight";var r=t.splitText(o),s=(r.splitText(i.length),r.cloneNode(!0));a.appendChild(s),r.parentNode.replaceChild(a,r),n=1}}else if(1==t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var l=0;l<t.childNodes.length;++l)l+=e(t.childNodes[l],i);return n}(this,e.toUpperCase())})},jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){with(this.parentNode.firstChild.nodeName,this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()},function(r){var s=new Date;r.setBaseDate=function(e){s=e},r.formatTime=function(r,e){if(!e)return"";function t(e,t,i){var n,o,a=""+t;if(n=e,(o=s+1<r.length&&r.charAt(s+1)==n)&&s++,o)for(;a.length<i;)a="0"+a;return a}var i="";if(e)for(var s=0;s<r.length;s++)switch(r.charAt(s)){case"h":var n=e.getHours();0==n?n=12:12<n&&(n-=12),i+=t("h",n,2);break;case"H":i+=t("H",e.getHours(),2);break;case"m":i+=t("m",e.getMinutes(),2);break;case"s":i+=t("s",e.getSeconds(),2);break;case"p":i+=e.getHours()<12?"am":"pm";break;case"P":i+=e.getHours()<12?"AM":"PM";break;default:i+=r.charAt(s)}return i},r.fn.timeTag=function(){var e;new Date,s.getTimezoneOffset();if(t=r(this).attr("datetime"))t.match(/^\d+$/)&&(t=parseInt(t,10)),e=new Date(t);else{var t=r(this).text();1e9<parseInt(t,10)&&(t=1e3*parseInt(t,10),r(this).attr("datetime",t)),e=new Date(t)}var i=((new Date).getTime()-e.getTime())/6e4;if(i<1){r(this).text("less than a minute ago");var n=this;setTimeout(function(){r(n).timeTag()},2e4)}else if(i<60){var o=Math.floor(i)+" minute";2<i&&(o+="s"),o+=" ago",r(this).text(o);n=this;setTimeout(function(){r(n).timeTag()},2e4)}else{var a=i/60;if(a<2){r(this).text("about an hour ago");n=this;setTimeout(function(){r(n).timeTag()},2e4)}else if(a<24){r(this).text(Math.floor(a)+" hours ago");n=this;setTimeout(function(){r(n).timeTag()},2e4)}else{if(a/24<2){r(this).text("yesterday at "+r.formatTime("h:mmp",e));n=this;setTimeout(function(){r(n).timeTag()},2e4)}else r(this).text(r.datepicker.formatDate("M d, yy",e)+" at "+r.formatTime("h:mmp",e))}}r(this).attr("title",e.toString())},r.input_error=function(e,t){var i;r(e).is(":hidden")?(r(e).show(),i=r(e).offset(),r(e).hide()):i=r(e).offset(),i.top+=r(e).outerHeight();var n=r(e).data("error");n||(n=r('<div class="input-error"><div class="message"></div><div class="close"><span>close</span></div></div>').hide().css({position:"absolute","z-index":1e4}),r(".close",n).bind("click",function(){r(this).parent(".input-error").hide()}),r(e).data("error",n),r(n).data("input",e),r(document.body).append(n)),r(".message",n).text(t),r(n).css({top:i.top+"px",left:i.left+"px"}).show()},r.fn.fixDateInput=function(){r(this).datepicker({dateFormat:"mm-dd-yy",changeMonth:!0,changeYear:!0,yearRange:"1900:2100",onSelect:function(e,t){r(this).trigger("change")}})},r.fn.fixColorInput=function(){r(this).colorPicker()}}(jQuery),$("input").live("focus click",function(e){"date"==this.getAttribute("type")?Modernizr.inputtypes.date||$(this).fixDateInput():"color"==this.getAttribute("type")&&(Modernizr.inputtypes.color||$(this).fixColorInput())}),function(w){function x(){}function k(e){T=[e]}function C(e,t,i){return e&&e.apply&&e.apply(t.context||t,i)}function S(e){return/\?/.test(e)?"&":"?"}var T,E="insertBefore",D="onclick",I="onerror",$="onreadystatechange",P="readyState",M="removeChild",O=window,N=w.Deferred,L=w("head")[0]||document.documentElement,j={},R=0,F={callback:"_jqjsp",url:location.href},z=O.opera,q=!!w("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;function e(t){var e,i,n,o,a,r=(t=w.extend({},F,t)).success,s=t.error,l=t.complete,c=t.dataFilter,d=t.callbackParameter,u=t.callback,h=t.cache,p=t.pageCache,f=t.charset,m=t.url,g=t.data,v=t.timeout,b=0,A=x;if(N&&N(function(e){e.done(r).fail(s),r=e.resolve,s=e.reject}).promise(t),!(t.abort=function(){b++||A()})===C(t.beforeSend,t,[t])||b)return t;function y(e){b++||(A(),p&&(j[m]={s:[e]}),c&&(e=c.apply(t,[e])),C(r,t,[e,"success",t]),C(l,t,[t,"success"]))}function _(e){b++||(A(),p&&"timeout"!=e&&(j[m]=e),C(s,t,[t,e]),C(l,t,[t,e]))}return m=m||"",g=g?"string"==typeof g?g:w.param(g,t.traditional):"",m+=g?S(m)+g:"",d&&(m+=S(m)+encodeURIComponent(d)+"=?"),h||p||(m+=S(m)+"_"+(new Date).getTime()+"="),m=m.replace(/=\?(&|$)/,"="+u+"$1"),p&&(e=j[m])?e.s?y(e.s[0]):_(e):(O[u]=k,(n=w("<script>")[0]).id="_jqjsp"+R++,f&&(n.charset=f),z&&z.version()<11.6?(o=w("<script>")[0]).text="document.getElementById('"+n.id+"')."+I+"()":n.async="async",q&&(n.htmlFor=n.id,n.event=D),n.onload=n[I]=n[$]=function(e){if(!n[P]||!/i/.test(n[P])){try{n[D]&&n[D]()}catch(e){}e=T,T=0,e?y(e[0]):_("error")}},n.src=m,A=function(e){a&&clearTimeout(a),n[$]=n.onload=n[I]=null,L[M](n),o&&L[M](o)},L[E](n,i=L.firstChild),o&&L[E](o,i),a=0<v&&setTimeout(function(){_("timeout")},v)),t}e.setup=function(e){w.extend(F,e)},w.jsonp=e}(jQuery),function(s){s.extend(s.fn,{livequery:function(i,n,o){var a,r=this;return s.isFunction(i)&&(o=n,n=i,i=void 0),s.each(s.livequery.queries,function(e,t){if(!(r.selector!=t.selector||r.context!=t.context||i!=t.type||n&&n.$lqguid!=t.fn.$lqguid||o&&o.$lqguid!=t.fn2.$lqguid))return(a=t)&&!1}),(a=a||new s.livequery(this.selector,this.context,i,n,o)).stopped=!1,a.run(),this},expire:function(i,n,o){var a=this;return s.isFunction(i)&&(o=n,n=i,i=void 0),s.each(s.livequery.queries,function(e,t){a.selector!=t.selector||a.context!=t.context||i&&i!=t.type||n&&n.$lqguid!=t.fn.$lqguid||o&&o.$lqguid!=t.fn2.$lqguid||this.stopped||s.livequery.stop(t.id)}),this}}),s.livequery=function(e,t,i,n,o){return this.selector=e,this.context=t,this.type=i,this.fn=n,this.fn2=o,this.elements=[],this.stopped=!1,this.id=s.livequery.queries.push(this)-1,n.$lqguid=n.$lqguid||s.livequery.guid++,o&&(o.$lqguid=o.$lqguid||s.livequery.guid++),this},s.livequery.prototype={stop:function(){var i=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(e,t){i.fn2.apply(t)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var i=this,e=this.elements,n=s(this.selector,this.context),t=n.not(e);this.elements=n,this.type?(t.bind(this.type,this.fn),0<e.length&&s.each(e,function(e,t){s.inArray(t,n)<0&&s.event.remove(t,i.type,i.fn)})):(t.each(function(){i.fn.apply(this)}),this.fn2&&0<e.length&&s.each(e,function(e,t){s.inArray(t,n)<0&&i.fn2.apply(t)}))}}},s.extend(s.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(s.livequery.running&&s.livequery.queue.length)for(var e=s.livequery.queue.length;e--;)s.livequery.queries[s.livequery.queue.shift()].run()},pause:function(){s.livequery.running=!1},play:function(){s.livequery.running=!0,s.livequery.run()},registerPlugin:function(){s.each(arguments,function(e,t){if(s.fn[t]){var i=s.fn[t];s.fn[t]=function(){var e=i.apply(this,arguments);return s.livequery.run(),e}}})},run:function(e){null!=e?s.inArray(e,s.livequery.queue)<0&&s.livequery.queue.push(e):s.each(s.livequery.queries,function(e){s.inArray(e,s.livequery.queue)<0&&s.livequery.queue.push(e)}),s.livequery.timeout&&clearTimeout(s.livequery.timeout),s.livequery.timeout=setTimeout(s.livequery.checkQueue,20)},stop:function(e){null!=e?s.livequery.queries[e].stop():s.each(s.livequery.queries,function(e){s.livequery.queries[e].stop()})}}),s.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html"),s(function(){s.livequery.play()})}(jQuery),function(n){var t=["DOMMouseScroll","mousewheel"];function i(e){var t=[].slice.call(arguments,1),i=0;return(e=n.event.fix(e||window.event)).type="mousewheel",e.wheelDelta&&(i=e.wheelDelta/120),e.detail&&(i=-e.detail/3),t.unshift(e,i),n.event.handle.apply(this,t)}n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null}},n.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(s){var g=s.scrollTo=function(e,t,i){s(window).scrollTo(e,t,i)};function e(e){return"object"==typeof e?e:{top:e,left:e}}g.defaults={axis:"xy",duration:1.3<=parseFloat(s.fn.jquery)?0:1},g.window=function(e){return s(window)._scrollable()},s.fn._scrollable=function(){return this.map(function(){if(!(!this.nodeName||-1!=s.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])))return this;var e=(this.contentWindow||this).document||this.ownerDocument||this;return s.browser.safari||"BackCompat"==e.compatMode?e.body:e.documentElement})},s.fn.scrollTo=function(t,i,m){return"object"==typeof i&&(m=i,i=0),"function"==typeof m&&(m={onAfter:m}),"max"==t&&(t=9e9),m=s.extend({},g.defaults,m),i=i||m.speed||m.duration,m.queue=m.queue&&1<m.axis.length,m.queue&&(i/=2),m.offset=e(m.offset),m.over=e(m.over),this._scrollable().each(function(){var l,c=this,d=s(c),u=t,h={},p=d.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=e(u);break}u=s(u,this);case"object":(u.is||u.style)&&(l=(u=s(u)).offset())}function f(e){d.animate(h,i,m.easing,e&&function(){e.call(this,t,m)})}s.each(m.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",n=i.toLowerCase(),o="scroll"+i,a=c[o],r=g.max(c,t);if(l)h[o]=l[n]+(p?0:a-d.offset()[n]),m.margin&&(h[o]-=parseInt(u.css("margin"+i))||0,h[o]-=parseInt(u.css("border"+i+"Width"))||0),h[o]+=m.offset[n]||0,m.over[n]&&(h[o]+=u["x"==t?"width":"height"]()*m.over[n]);else{var s=u[n];h[o]=s.slice&&"%"==s.slice(-1)?parseFloat(s)/100*r:s}/^\d+$/.test(h[o])&&(h[o]=h[o]<=0?0:Math.min(h[o],r)),!e&&m.queue&&(a!=h[o]&&f(m.onAfterFirst),delete h[o])}),f(m.onAfter)}).end()},g.max=function(e,t){var i="x"==t?"Width":"Height",n="scroll"+i;if(!s(e).is("html,body"))return e[n]-s(e)[i.toLowerCase()]();var o="client"+i,a=e.ownerDocument.documentElement,r=e.ownerDocument.body;return Math.max(a[n],r[n])-Math.min(a[o],r[o])}}(jQuery),function(){var e=jQuery.scrollTo;e.stopOnUserInput=function(t){var i=e.window();i.one("mousedown.scroll DOMMouseScroll.scroll mousewheel.scroll keydown.scroll touchstart.scroll",function(e){(0<e.which||"mousedown"===e.type||"mousewheel"===e.type||"touchstart"===e.type)&&(i.stop(!0).off(".scroll"),"function"==typeof t&&t.call(this,e))})}}(),function(t){t.widget("ui.selectbox",t.ui.mouse,{widgetEventPrefix:"edit",options:{options:[],placeholder:"",placeholderPersist:!1,selectCallback:function(){}},_create:function(){t(this.element).addClass("ui-selectbox"),this.box=t("<div><span>"+this.options.placeholder+"</span></div>").addClass("box").append(this.element),this.menu=t("<ul></ul>");for(var e=0;e<this.options.options.length;e++)this.addOption(this.options.options[e])},addOption:function(e){t('<li><span class="icon"><span>'+e.title+"</span></li>").appendTo(this.menu)}}),t.extend(t.ui.editable,{version:"1.8.2"})}(jQuery),function($){$.fn.selectbox=function(settings,extra){if("string"!=typeof settings){var defaults={class:null,options:[],placeholder:"",placeholder_persist:!1,active_callback:null};return settings=$.extend(defaults,settings),this.each(function(){$(this).data("selectbox/settings",settings),build.call(this)})}function build(){var t=this,e=$(this).data("selectbox/settings");$(this).addClass("ui-selectbox-container");var i=$('<div class="ui-selectbox-box"></div>').appendTo($(this));$('<div class="ui-selectbox-placeholder">'+e.placeholder+"</div>").appendTo(i),$('<div class="ui-selectbox-arrow">&nabla;</div>').appendTo(i);i.bind("click",function(e){box_click_callback.call(t,e)});var n="ui-selectbox-dropdown";null!=e.class&&(n+=" "+e.class);var o=$('<div class="'+n+'"><ul></ul></div>');$(this).append(o),$(this).data("selectbox/option_index",0);for(var a=0;a<e.options.length;a++)add_option.call(this,e.options[a]);$(document.body).bind("click",function(e){document_body_click_callback.call(t,e)}),o.hide()}function document_body_click_callback(e){$(this).hasClass("ui-active")&&$(e.target).parents(".ui-selectbox-container")[0]!==$(this)[0]&&($(".ui-selectbox-dropdown",this).hide(),$(this).removeClass("ui-active"))}function box_click_callback(e){var t=$(this).data("selectbox/settings");$(".ui-selectbox-dropdown",this).is(":hidden")&&"function"==typeof t.active_callback&&t.active_callback.call(this),$(".ui-selectbox-dropdown",this).toggle(),$(this).toggleClass("ui-active"),$(".ui-selectbox-dropdown",this).css({position:"absolute",top:$(".ui-selectbox-box",this).outerHeight(!0)+"px",left:parseInt($(this).css("padding-left"),10)-$(".tlc",$(".ui-selectbox-dropdown",this)).outerWidth(!1)+"px"});var i=$(".ui-selectbox-box",this).outerWidth(!1)-$(".ui-selectbox-dropdown .tlc",this).width()-$(".ui-selectbox-dropdown .trc",this).width()-parseInt($(".ui-selectbox-dropdown",this).css("padding-left"),10)-parseInt($(".ui-selectbox-dropdown",this).css("padding-right"),10);$(".ui-selectbox-dropdown",this).css({"min-width":i+"px"})}function option_click_callback(e,t){$(this).data("selectbox/settings");if(!$(t).hasClass("ui-disabled")){/ui\-selectbox\-option\-(\d+)/.exec($(t).attr("class"))[1];"function"==typeof $(t).data("selectbox/option/onclick")&&$(t).data("selectbox/option/onclick").call(this,e,t),change_placeholder.call(this,$(t).text()),$(".ui-selectbox-dropdown",this).hide(),$(this).removeClass("ui-active")}}function change_placeholder(e){$(this).data("selectbox/settings").placeholder_persist||$(".ui-selectbox-placeholder",this).html(e)}function execute_option(option,settings){"function"==eval("typeof "+option)&&eval(option+".call(this, settings)")}function add_option(e){var t,i=this,n=$(this).data("selectbox/option_index");if(void 0!==e.optgroup&&!0===e.optgroup)t=$('<li class="ui-selectbox-optgroup ui-selectbox-optgroup-'+n+'">'+e.text+"</li>");else{var o="ui-selectbox-option ui-selectbox-option-"+n;void 0!==e.noselect&&!0===e.noselect?t=$('<li class="'+(o+=" ui-selectbox-option-noselect")+'">'+e.text+"</li>"):(t=$('<li class="'+o+'">'+e.text+"</li>")).bind("click",function(e){option_click_callback.call(i,e,this)})}"string"==typeof e.id&&$(t).attr("id",e.id),"string"==typeof e.class&&$(t).addClass(e.class),"string"==typeof e.divider&&("above"==e.divider?$(t).addClass("ui-selectbox-option-divider-above"):"below"==e.divider?$(t).addClass("ui-selectbox-option-divider-below"):"both"==e.divider&&$(t).addClass("ui-selectbox-option-divider-both")),"string"==typeof e.after?$(e.after,this).after(t):"string"==typeof e.before?$(e.before,this).before(t):$(".ui-selectbox-dropdown ul",this).append(t),$(t).data("selectbox/option/value",e.value),"function"==typeof e.onclick&&$(t).data("selectbox/option/onclick",e.onclick),n++,$(this).data("selectbox/option_index",n)}void 0!==extra&&execute_option.call(this,settings,extra)}}(jQuery),function(P){P.fn.tipTip=function(r){var s={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:0,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},afterEnter:function(){},exit:function(){},afterExit:function(){},cssClass:"",detectTextDir:!0};if(P("#tiptip_holder").length<=0){var e=P("<div>",{id:"tiptip_arrow_inner"}),D=P("<div>",{id:"tiptip_arrow"}).append(e),I=P("<div>",{id:"tiptip_content"}),$=P("<div>",{id:"tiptip_holder"}).append(D).append(I);P("body").append($)}else $=P("#tiptip_holder"),I=P("#tiptip_content"),D=P("#tiptip_arrow");return this.each(function(){var T=P(this),e=T.data("tipTip"),E=e&&e.options||P.extend({},s,r),t={holder:$,content:I,arrow:D,options:E,position:a};if(e)switch(r){case"show":n();break;case"hide":o();break;case"destroy":T.unbind(".tipTip").removeData("tipTip");break;case"position":a()}else{var i=!1;T.data("tipTip",{options:E}),"hover"==E.activation?T.bind("mouseenter.tipTip",function(){n()}).bind("mouseleave.tipTip",function(){E.keepAlive?$.one("mouseleave.tipTip",function(){o()}):o()}):"focus"==E.activation?T.bind("focus.tipTip",function(){n()}).bind("blur.tipTip",function(){o()}):"click"==E.activation?T.bind("click.tipTip",function(e){return e.preventDefault(),n(),!1}).bind("mouseleave.tipTip",function(){E.keepAlive?$.one("mouseleave.tipTip",function(){o()}):o()}):E.activation}function n(){var e;!1!==E.enter.call(T,t)&&(E.content?e=P.isFunction(E.content)?E.content.call(T,t):E.content:(e=E.content=T.attr(E.attribute),T.removeAttr(E.attribute)),e&&(I.html(e),$.hide().css({"max-width":E.maxWidth}),E.cssClass&&$.addClass(E.cssClass),a(),i&&clearTimeout(i),i=setTimeout(function(){$.stop(!0,!0).fadeIn(E.fadeIn)},E.delay),P(window).bind("resize.tipTip scroll.tipTip",a),T.addClass("tiptip_visible"),E.afterEnter.call(T,t)))}function o(){!1!==E.exit.call(T,t)&&(i&&clearTimeout(i),$.fadeOut(E.fadeOut),P(window).unbind("resize.tipTip scroll.tipTip"),T.removeClass("tiptip_visible"),E.afterExit.call(T,t))}function a(){$.removeAttr("class");var e,t,i,n,o,a,r=T.offset(),s=r.top,l=r.left,c=T.outerWidth(),d=T.outerHeight(),u=$.outerWidth(),h=$.outerHeight(),p="tip_top",f="tip_bottom",m="tip_left",g="tip_right",v=P(window),b=v.scrollTop(),A=v.scrollLeft(),y=v.width(),_=v.height(),w=E.detectTextDir&&(a=I.text(),M.test(a));function x(){i=p,e=s-h-E.edgeOffset-6,t=l+(c-u)/2}function k(){i=f,e=s+d+E.edgeOffset+6,t=l+(c-u)/2}function C(){i=m,e=s+(d-h)/2,t=l-u-E.edgeOffset-6}function S(){i=g,e=s+(d-h)/2,t=l+c+E.edgeOffset}("bottom"==E.defaultPosition?k:"top"==E.defaultPosition?x:"left"!=E.defaultPosition||w?"left"==E.defaultPosition&&w?S:"right"!=E.defaultPosition||w?"right"==E.defaultPosition&&w?C:k:S:C)(),i==m&&!w&&t<A||i==m&&w&&t-u<A?S():i==g&&!w&&A+y<t||i==g&&w&&A+y<t+u?C():i==p&&e<b?k():i==f&&b+_<e+h&&x(),i!=m&&i!=g||(_+b<e+h?e=_+b<s+d?s+d-h:_+b-h:e<b&&(e=s<b?s:b)),i!=p&&i!=f||(y+A<t+u?t=y+A<l+c?l+c-u:y+A-u:t<A&&(t=l<A?l:A)),$.css({left:Math.round(t),top:Math.round(e)}).removeClass(p).removeClass(f).removeClass(m).removeClass(g).addClass(i),i==p?(n=h,o=l-t+(c-12)/2):i==f?(n=0,o=l-t+(c-12)/2):i==m?(n=s-e+(d-12)/2,o=u):i==g&&(n=s-e+(d-12)/2,o=0),D.css({left:Math.round(o),top:Math.round(n)})}})};var M=new RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]")}(jQuery),function(c){function n(e,t,o){var a,r=this,s=e.add(this),l=e.find(o.tabs),i=t.jquery?t:e.children(t);l.length||(l=e.children()),i.length||(i=e.parent().find(t)),i.length||(i=c(t)),c.extend(this,{click:function(e,t){var i=l.eq(e);if("string"==typeof e&&e.replace("#","")&&(i=l.filter("[href*="+e.replace("#","")+"]"),e=Math.max(l.index(i),0)),o.rotate){var n=l.length-1;if(e<0)return r.click(n,t);if(n<e)return r.click(0,t)}if(!i.length){if(0<=a)return r;e=o.initialIndex,i=l.eq(e)}return e===a?r:((t=t||c.Event()).type="onBeforeClick",s.trigger(t,[e]),t.isDefaultPrevented()?void 0:(d[o.effect].call(r,e,function(){t.type="onClick",s.trigger(t,[e])}),a=e,l.removeClass(o.current),i.addClass(o.current),r))},getConf:function(){return o},getTabs:function(){return l},getPanes:function(){return i},getCurrentPane:function(){return i.eq(a)},getCurrentTab:function(){return l.eq(a)},getIndex:function(){return a},next:function(){return r.click(a+1)},prev:function(){return r.click(a-1)}}),c.each("onBeforeClick,onClick".split(","),function(e,t){c.isFunction(o[t])&&c(r).bind(t,o[t]),r[t]=function(e){return c(r).bind(t,e),r}}),o.history&&c.fn.history&&(c.tools.history.init(l),o.event="history"),l.each(function(t){c(this).bind(o.event,function(e){return r.click(t,e),e.preventDefault()})}),i.find("a[href^=#]").click(function(e){r.click(c(this).attr("href"),e)}),location.hash?r.click(location.hash):(0===o.initialIndex||0<o.initialIndex)&&r.click(o.initialIndex)}c.tools=c.tools||{version:"1.2.2"},c.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(e,t){d[e]=t}};var i,d={default:function(e,t){this.getPanes().hide().eq(e).show(),t.call()},fade:function(e,t){var i=this.getConf(),n=i.fadeOutSpeed,o=this.getPanes();n?o.fadeOut(n):o.hide(),o.eq(e).fadeIn(i.fadeInSpeed,t)},slide:function(e,t){this.getPanes().slideUp(200),this.getPanes().eq(e).slideDown(400,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getTabs().eq(e).attr("href"),t)}};c.tools.tabs.addEffect("horizontal",function(e,t){i=i||this.getPanes().eq(0).width(),this.getCurrentPane().animate({width:0},function(){c(this).hide()}),this.getPanes().eq(e).animate({width:i},function(){c(this).show(),t.call()})}),c.fn.tabs=function(e,t){var i=this.data("tabs");return i||(c.isFunction(t)&&(t={onBeforeClick:t}),t=c.extend({},c.tools.tabs.conf,t),this.each(function(){i=new n(c(this),e,t),c(this).data("tabs",i)}),t.api?i:this)}}(jQuery),function(p){function i(i,n){function e(e){var t=p(e);return t.length<2?t:i.parent().find(e)}var t,o,a,r=this,s=i.add(this),l=i.data("tabs"),c=!1,d=e(n.next).click(function(){l.next()}),u=e(n.prev).click(function(){l.prev()});p.extend(r,{getTabs:function(){return l},getConf:function(){return n},play:function(){if(!t){var e=p.Event("onBeforePlay");if(s.trigger(e),e.isDefaultPrevented())return r;c=!1,t=setInterval(l.next,n.interval),s.trigger("onPlay"),l.next()}},pause:function(){if(!t)return r;var e=p.Event("onBeforePause");if(s.trigger(e),e.isDefaultPrevented())return r;t=clearInterval(t),a=clearInterval(a),s.trigger("onPause")},stop:function(){r.pause(),c=!0}}),p.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(e,t){p.isFunction(n[t])&&r.bind(t,n[t]),r[t]=function(e){return r.bind(t,e)}}),n.autopause&&l.getTabs().add(d).add(u).add(l.getPanes()).hover(function(){r.pause(),o=clearInterval(o)},function(){c||(o=setTimeout(r.play,n.interval))});if(n.autoplay?a=setTimeout(r.play,n.interval):r.stop(),n.clickable&&l.getPanes().click(function(){l.next()}),!l.getConf().rotate){var h=n.disabledClass;l.getIndex()||u.addClass(h),l.onBeforeClick(function(e,t){t?(u.removeClass(h),t==l.getTabs().length-1?d.addClass(h):d.removeClass(h)):u.addClass(h)})}}var n;n=p.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3e3,clickable:!0,api:!1}},p.fn.slideshow=function(e){var t=this.data("slideshow");return t||(e=p.extend({},n.conf,e),this.each(function(){t=new i(p(this),e),p(this).data("slideshow",t)}),e.api?t:this)}}(jQuery),function(f){function m(e,t,i){var n=i.relative?e.position().top:e.offset().top,o=i.relative?e.position().left:e.offset().left,a=i.position[0];n-=t.outerHeight()-i.offset[0],o+=e.outerWidth()+i.offset[1];var r=t.outerHeight()+e.outerHeight();return"center"==a&&(n+=r/2),"bottom"==a&&(n+=r),a=i.position[1],e=t.outerWidth()+e.outerWidth(),"center"==a&&(o-=e/2),"left"==a&&(o-=e),{top:n,left:o}}function i(i,n){var o,a,r=this,s=i.add(r),l=0,c=0,d=i.attr("title"),u=g[n.effect],e=i.is(":input"),t=e&&i.is(":checkbox, :radio, select, :button"),h=i.attr("type"),p=n.events[h]||n.events[e?t?"widget":"input":"def"];if(!u)throw'Nonexistent effect "'+n.effect+'"';if(2!=(p=p.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+h;i.bind(p[0],function(e){n.predelay?(clearTimeout(l),c=setTimeout(function(){r.show(e)},n.predelay)):r.show(e)}).bind(p[1],function(e){n.delay?(clearTimeout(c),l=setTimeout(function(){r.hide(e)},n.delay)):r.hide(e)}),d&&n.cancelDefault&&(i.removeAttr("title"),i.data("title",d)),f.extend(r,{show:function(e){if(!o&&(d?o=f(n.layout).addClass(n.tipClass).appendTo(document.body).hide().append(d):n.tip?o=f(n.tip).eq(0):(o=i.next()).length||(o=i.parent().next()),!o.length))throw"Cannot find tooltip for "+i;if(r.isShown())return r;o.stop(!0,!0);var t=m(i,o,n);return(e=e||f.Event()).type="onBeforeShow",s.trigger(e,[t]),e.isDefaultPrevented()||(t=m(i,o,n),o.css({position:"absolute",top:t.top,left:t.left}),a=!0,u[0].call(r,function(){e.type="onShow",a="full",s.trigger(e)}),t=n.events.tooltip.split(/,\s*/),o.bind(t[0],function(){clearTimeout(l),clearTimeout(c)}),t[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&o.bind(t[1],function(e){e.relatedTarget!=i[0]&&i.trigger(p[1].split(" ")[0])})),r},hide:function(e){return o&&r.isShown()?((e=e||f.Event()).type="onBeforeHide",s.trigger(e),e.isDefaultPrevented()?void 0:(a=!1,g[n.effect][1].call(r,function(){e.type="onHide",a=!1,s.trigger(e)}),r)):r},isShown:function(e){return e?"full"==a:a},getConf:function(){return n},getTip:function(){return o},getTrigger:function(){return i}}),f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,t){f.isFunction(n[t])&&f(r).bind(t,n[t]),r[t]=function(e){return f(r).bind(t,e),r}})}f.tools=f.tools||{version:"1.2.2"},f.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,t,i){g[e]=[t,i]}};var g={toggle:[function(e){var t=this.getConf(),i=this.getTip();(t=t.opacity)<1&&i.css({opacity:t}),i.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};f.fn.tooltip=function(e){var t=this.data("tooltip");return t||("string"==typeof(e=f.extend(!0,{},f.tools.tooltip.conf,e)).position&&(e.position=e.position.split(/,?\s/)),this.each(function(){t=new i(f(this),e),f(this).data("tooltip",t)}),e.api?t:this)}}(jQuery),function(r){var e=r.tools.tooltip;r.extend(e.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!r.browser.msie});var s={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};e.addEffect("slide",function(e){var t=this.getConf(),i=this.getTip(),n=t.slideFade?{opacity:t.opacity}:{},o=s[t.direction]||s.up;n[o[1]]=o[0]+"="+t.slideOffset,t.slideFade&&i.css({opacity:0}),i.show().animate(n,t.slideInSpeed,e)},function(e){var t=this.getConf(),i=t.slideOffset,n=t.slideFade?{opacity:0}:{},o=s[t.direction]||s.up,a=""+o[0];t.bounce&&(a="+"==a?"-":"+"),n[o[1]]=a+"="+i,this.getTip().animate(n,t.slideOutSpeed,function(){r(this).hide(),e.call()})})}(jQuery),function(d){var e=d.tools.tooltip;e.dynamic={conf:{classNames:"top right bottom left"}},d.fn.dynamic=function(s){"number"==typeof s&&(s={speed:s});var l,c=(s=d.extend({},e.dynamic.conf,s)).classNames.split(/\s/);return this.each(function(){var e=d(this).tooltip().onBeforeShow(function(e,t){e=this.getTip();var i,n,o,a,r=this.getConf();l=l||[r.position[0],r.position[1],r.offset[0],r.offset[1],d.extend({},r)],d.extend(r,l[4]),r.position=[l[0],l[1]],r.offset=[l[2],l[3]],e.css({visibility:"hidden",position:"absolute",top:t.top,left:t.left}).show(),i=e,n=d(window),o=n.width()+n.scrollLeft(),a=n.height()+n.scrollTop(),function(e){for(var t=e.length;t--;)if(e[t])return;return 1}(t=[i.offset().top<=n.scrollTop(),o<=i.offset().left+i.width(),a<=i.offset().top+i.height(),n.scrollLeft()>=i.offset().left])||(t[2]&&(d.extend(r,s.top),r.position[0]="top",e.addClass(c[0])),t[3]&&(d.extend(r,s.right),r.position[1]="right",e.addClass(c[1])),t[0]&&(d.extend(r,s.bottom),r.position[0]="bottom",e.addClass(c[2])),t[1]&&(d.extend(r,s.left),r.position[1]="left",e.addClass(c[3])),(t[0]||t[2])&&(r.offset[0]*=-1),(t[1]||t[3])&&(r.offset[1]*=-1)),e.css({visibility:"visible"}).hide()});e.onBeforeShow(function(){var e=this.getConf();this.getTip(),setTimeout(function(){e.position=[l[0],l[1]],e.offset=[l[2],l[3]]},0)}),e.onHide(function(){this.getTip().removeClass(s.classNames)}),ret=e}),s.api?ret:this}}(jQuery),function(h){function t(e,t){var i=h(t);return i.length<2?i:e.parent().find(t)}function i(e,a){var r=this,s=e.add(r),l=e.children(),c=0,d=a.vertical;if(p=p||r,1<l.length&&(l=h(a.items,e)),h.extend(r,{getConf:function(){return a},getIndex:function(){return c},getSize:function(){return r.getItems().size()},getNaviButtons:function(){return i.add(u)},getRoot:function(){return e},getItemWrap:function(){return l},getItems:function(){return l.children(a.item).not("."+a.clonedClass)},move:function(e,t){return r.seekTo(c+e,t)},next:function(e){return r.move(1,e)},prev:function(e){return r.move(-1,e)},begin:function(e){return r.seekTo(0,e)},end:function(e){return r.seekTo(r.getSize()-1,e)},focus:function(){return p=r},addItem:function(e){return e=h(e),a.circular?(h(".cloned:last").before(e),h(".cloned:first").replaceWith(e.clone().addClass(a.clonedClass))):l.append(e),s.trigger("onAddItem",[e]),r},seekTo:function(e,t,i){if(a.circular&&0===e&&-1==c&&0!==t)return r;if(!a.circular&&e<0||e>r.getSize()||e<-1)return r;var n=e;e.jquery?e=r.getItems().index(e):n=r.getItems().eq(e);var o=h.Event("onBeforeSeek");return(i||(s.trigger(o,[e,t]),!o.isDefaultPrevented()&&n.length))&&(n=d?{top:-n.position().top}:{left:-n.position().left},c=e,p=r,void 0===t&&(t=a.speed),l.animate(n,t,a.easing,i||function(){s.trigger("onSeek",[e])})),r}}),h.each(["onBeforeSeek","onSeek","onAddItem"],function(e,t){h.isFunction(a[t])&&h(r).bind(t,a[t]),r[t]=function(e){return h(r).bind(t,e),r}}),a.circular){var n=r.getItems().slice(-1).clone().prependTo(l),o=r.getItems().eq(1).clone().appendTo(l);n.add(o).addClass(a.clonedClass),r.onBeforeSeek(function(e,t,i){if(!e.isDefaultPrevented()){if(-1==t)return r.seekTo(n,i,function(){r.end(0)}),e.preventDefault();t==r.getSize()&&r.seekTo(o,i,function(){r.begin(0)})}}),r.seekTo(0,0)}var i=t(e,a.prev).click(function(){r.prev()}),u=t(e,a.next).click(function(){r.next()});!a.circular&&1<r.getSize()&&r.onBeforeSeek(function(e,t){i.toggleClass(a.disabledClass,t<=0),u.toggleClass(a.disabledClass,t>=r.getSize()-1)}),a.mousewheel&&h.fn.mousewheel&&e.mousewheel(function(e,t){if(a.mousewheel)return r.move(t<0?1:-1,a.wheelSpeed||50),!1}),a.keyboard&&h(document).bind("keydown.scrollable",function(e){if(a.keyboard&&!e.altKey&&!e.ctrlKey&&!h(e.target).is(":input")&&("static"==a.keyboard||p==r)){var t=e.keyCode;if(d&&(38==t||40==t))return r.move(38==t?-1:1),e.preventDefault();if(!d&&(37==t||39==t))return r.move(37==t?-1:1),e.preventDefault()}}),h(r).trigger("onBeforeSeek",[a.initialIndex])}var p;h.tools=h.tools||{version:"1.2.2"},h.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",speed:400,vertical:!1,wheelSpeed:0}},h.fn.scrollable=function(e){var t=this.data("scrollable");return t||(e=h.extend({},h.tools.scrollable.conf,e),this.each(function(){t=new i(h(this),e),h(this).data("scrollable",t)}),e.api?t:this)}}(jQuery),function(r){var t=r.tools.scrollable;t.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},r.fn.autoscroll=function(e){"number"==typeof e&&(e={interval:e});var o,a=r.extend({},t.autoscroll.conf,e);return this.each(function(){var e=r(this).data("scrollable");e&&(o=e);var t,i,n=!0;e.play=function(){t||(n=!1,t=setInterval(function(){e.next()},a.interval),e.next())},e.pause=function(){t=clearInterval(t)},e.stop=function(){e.pause(),n=!0},a.autopause&&e.getRoot().add(e.getNaviButtons()).hover(function(){e.pause(),clearInterval(i)},function(){n||(i=setTimeout(e.play,a.interval))}),a.autoplay&&setTimeout(e.play,a.interval)}),a.api?o:this}}(jQuery),function(f){var e=f.tools.scrollable;e.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},f.fn.navigator=function(h){var p;return"string"==typeof h&&(h={navi:h}),h=f.extend({},e.navigator.conf,h),this.each(function(){function i(e,t,i){if(s.seekTo(t),!u)return i.preventDefault();location.hash&&(location.hash=e.attr("href").replace("#",""))}function n(){return l.find(h.naviItem||"> *")}function o(t){var e=f("<"+(h.naviItem||"a")+"/>").click(function(e){i(f(this),t,e)}).attr("href","#"+t);return 0===t&&e.addClass(d),h.indexed&&e.text(t+1),h.idPrefix&&e.attr("id",h.idPrefix+t),e.appendTo(l)}function a(e,t){(e=n().eq(t.replace("#",""))).length||(e=n().filter("[href="+t+"]")),e.click()}var e,t,r,s=f(this).data("scrollable"),l=(e=s.getRoot(),t=h.navi,(r=f(t)).length<2?r:e.parent().find(t)),c=s.getNaviButtons(),d=h.activeClass,u=h.history&&f.fn.history;s&&(p=s),s.getNaviButtons=function(){return c.add(l)},n().length?n().each(function(t){f(this).click(function(e){i(f(this),t,e)})}):f.each(s.getItems(),function(e){o(e)}),s.onBeforeSeek(function(e,t){var i=n().eq(t);!e.isDefaultPrevented()&&i.length&&n().removeClass(d).eq(t).addClass(d)}),s.onAddItem(function(e,t){t=o(s.getItems().index(t)),u&&t.history(a)}),u&&n().history(a)}),h.api?p:this}}(jQuery),function(f){function i(e,r){var t,s,l,c=this,d=e.add(c),u=f(window),h=f.tools.expose&&(r.mask||r.expose),p=Math.random().toString().slice(10);h&&("string"==typeof h&&(h={color:h}),h.closeOnClick=h.closeOnEsc=!1);var i=r.target||e.attr("rel");if(!(s=i?f(i):e).length)throw"Could not find Overlay: "+i;e&&-1==e.index(s)&&e.click(function(e){return c.load(e),e.preventDefault()}),f.extend(c,{load:function(e){if(c.isOpened())return c;var t=g[r.effect];if(!t)throw'Overlay: cannot find effect : "'+r.effect+'"';if(r.oneInstance&&f.each(m,function(){this.close(e)}),(e=e||f.Event()).type="onBeforeLoad",d.trigger(e),e.isDefaultPrevented())return c;l=!0,h&&f(s).expose(h);var i=r.top,n=r.left,o=s.outerWidth({margin:!0}),a=s.outerHeight({margin:!0});return"string"==typeof i&&(i="center"==i?Math.max((u.height()-a)/2,0):parseInt(i,10)/100*u.height()),"center"==n&&(n=Math.max((u.width()-o)/2,0)),t[0].call(c,{top:i,left:n},function(){l&&(e.type="onLoad",d.trigger(e))}),h&&r.closeOnClick&&f.mask.getMask().one("click",c.close),r.closeOnClick&&f(document).bind("click."+p,function(e){f(e.target).parents(s).length||c.close(e)}),r.closeOnEsc&&f(document).bind("keydown."+p,function(e){27==e.keyCode&&c.close(e)}),c},close:function(e){return c.isOpened()?((e=e||f.Event()).type="onBeforeClose",d.trigger(e),e.isDefaultPrevented()?void 0:(l=!1,g[r.effect][1].call(c,function(){e.type="onClose",d.trigger(e)}),f(document).unbind("click."+p).unbind("keydown."+p),h&&f.mask.close(),c)):c},getOverlay:function(){return s},getTrigger:function(){return e},getClosers:function(){return t},isOpened:function(){return l},getConf:function(){return r}}),f.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,t){f.isFunction(r[t])&&f(c).bind(t,r[t]),c[t]=function(e){return f(c).bind(t,e),c}}),(t=s.find(r.close||".close")).length||r.close||(t=f('<div class="close"></div>'),s.prepend(t)),t.click(function(e){c.close(e)}),r.load&&c.load()}f.tools=f.tools||{version:"1.2.2"},f.tools.overlay={addEffect:function(e,t,i){g[e]=[t,i]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!f.browser.msie||6<f.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var m=[],g={};f.tools.overlay.addEffect("default",function(e,t){var i=this.getConf(),n=f(window);i.fixed||(e.top+=n.scrollTop(),e.left+=n.scrollLeft()),e.position=i.fixed?"fixed":"absolute",this.getOverlay().css(e).fadeIn(i.speed,t)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)}),f.fn.overlay=function(e){var t=this.data("overlay");return t||(f.isFunction(e)&&(e={onBeforeLoad:e}),e=f.extend(!0,{},f.tools.overlay.conf,e),this.each(function(){t=new i(f(this),e),m.push(t),f(this).data("overlay",t)}),e.api?t:this)}}(jQuery),function(d){function u(e){var t=e.offset();return{top:t.top+e.height()/2,left:t.left+e.width()/2}}var e=d.tools.overlay,h=d(window);d.extend(e.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999}),e.addEffect("apple",function(e,t){var i=this.getOverlay(),n=this.getConf(),o=this.getTrigger(),a=this,r=i.outerWidth({margin:!0}),s=i.data("img");if(!s){var l=i.css("backgroundImage");if(!l)throw"background-image CSS property not set for overlay";l=l.slice(l.indexOf("(")+1,l.indexOf(")")).replace(/\"/g,""),i.css("backgroundImage","none"),(s=d('<img src="'+l+'"/>')).css({border:0,display:"none"}).width(r),d("body").append(s),i.data("img",s)}l=n.start.top||Math.round(h.height()/2);var c=n.start.left||Math.round(h.width()/2);o&&(l=(o=u(o)).top,c=o.left),s.css({position:"absolute",top:l,left:c,width:0,zIndex:n.zIndex}).show(),e.top+=h.scrollTop(),e.left+=h.scrollLeft(),e.position="absolute",i.css(e),s.animate({top:i.css("top"),left:i.css("left"),width:r},n.speed,function(){n.fixed&&(e.top-=h.scrollTop(),e.left-=h.scrollLeft(),e.position="fixed",s.add(i).css(e)),i.css("zIndex",n.zIndex+1).fadeIn(n.fadeInSpeed,function(){a.isOpened()&&!d(this).index(i)?t.call():i.hide()})})},function(e){var t=this.getOverlay().hide(),i=this.getConf(),n=this.getTrigger();t=t.data("img");var o={top:i.start.top,left:i.start.left,width:0};n&&d.extend(o,u(n)),i.fixed&&t.css({position:"absolute"}).animate({top:"+="+h.scrollTop(),left:"+="+h.scrollLeft()},0),t.animate(o,i.closeSpeed,e)})}(jQuery),function(E){function D(e,t){return 32-new Date(e,t,32).getDate()}function s(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e}function c(e,t,i){var n=e.getDate(),o=e.getDay(),a=e.getMonth();e=e.getFullYear();var r={d:n,dd:s(n),ddd:N[i].shortDays[o],dddd:N[i].days[o],m:a+1,mm:s(a+1),mmm:N[i].shortMonths[a],mmmm:N[i].months[a],yy:String(e).slice(2),yyyy:e};return t=t.replace(l,function(e){return e in r?r[e]:e.slice(1,e.length-1)}),d.html(t).html()}function I(e){return parseInt(e,10)}function $(e,t){return e.getYear()===t.getYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function P(e){if(e){if(e.constructor==Date)return e;if("string"==typeof e){var t=e.split("-");if(3==t.length)return new Date(I(t[0]),I(t[1])-1,I(t[2]));if(!/^-?\d+$/.test(e))return;e=I(e)}return(t=new Date).setDate(t.getDate()+e),t}}function n(a,d){function u(e,t,i){f=(w=e).getFullYear(),m=e.getMonth(),o=e.getDate(),(i=i||E.Event("api")).type="change",l.trigger(i,[e]),i.isDefaultPrevented()||(a.val(c(e,t.format,t.lang)),a.data("date",e),v.hide(i))}function i(e){e.type="onShow",l.trigger(e),E(document).bind("keydown.d",function(e){var t=e.keyCode;if(8==t)return a.val(""),v.hide(e);if(27==t)return v.hide(e);if(0<=E(O).index(t)){if(!g)return v.show(e),e.preventDefault();var i=E("#"+A.weeks+" a"),n=E("."+A.focus),o=i.index(n);return n.removeClass(A.focus),74==t||40==t?o+=7:75==t||38==t?o-=7:76==t||39==t?o+=1:72!=t&&37!=t||--o,(n=-1==o?(v.addMonth(-1),E("#"+A.weeks+" a:last")):35==o?(v.addMonth(),E("#"+A.weeks+" a:first")):i.eq(o)).addClass(A.focus),e.preventDefault()}return 34==t?v.addMonth():33==t?v.addMonth(-1):36==t?v.today():(13==t&&(E(e.target).is("select")||E("."+A.focus).click()),0<=E([16,17,18,9]).index(t))}),E(document).bind("click.d",function(e){var t=e.target;E(t).parents("#"+A.root).length||t==a[0]||n&&t==n[0]||v.hide(e)})}var n,h,p,f,m,o,g,v=this,b=new Date,A=d.css,y=N[d.lang],r=E("#"+A.root),_=r.find("#"+A.title),w=a.attr("data-value")||d.value||a.val(),x=a.attr("min")||d.min,k=a.attr("max")||d.max;if(w=P(w)||b,x=P(x||365*d.yearRange[0]),k=P(k||365*d.yearRange[1]),!y)throw"Dateinput: invalid language: "+d.lang;if("date"==a.attr("type")){var s=E("<input/>");E.each("name,readonly,disabled,value,required".split(","),function(e,t){s.attr(t,a.attr(t))}),a.replaceWith(s),a=s}a.addClass(A.input);var l=a.add(v);if(!r.length){if((r=E("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",A.root)).children().eq(0).attr("id",A.head).end().eq(1).attr("id",A.body).children().eq(0).attr("id",A.days).end().eq(1).attr("id",A.weeks).end().end().end().find("a").eq(0).attr("id",A.prev).end().eq(1).attr("id",A.next),_=r.find("#"+A.head).find("div").attr("id",A.title),d.selectors){var C=E("<select/>").attr("id",A.month),S=E("<select/>").attr("id",A.year);_.append(C.add(S))}for(var e=r.find("#"+A.days),t=0;t<7;t++)e.append(E("<span/>").text(y.shortDays[(t+d.firstDay)%7]));a.after(r)}d.trigger&&(n=E("<a/>").attr("href","#").addClass(A.trigger).click(function(e){return v.show(),e.preventDefault()}).insertAfter(a));var T=r.find("#"+A.weeks);S=r.find("#"+A.year),C=r.find("#"+A.month),E.extend(v,{show:function(e){if(!a.is("[readonly]")&&!g&&((e=e||E.Event()).type="onBeforeShow",l.trigger(e),!e.isDefaultPrevented())){E.each(M,function(){this.hide()}),g=!0,C.unbind("change").change(function(){v.setValue(S.val(),E(this).val())}),S.unbind("change").change(function(){v.setValue(E(this).val(),C.val())}),h=r.find("#"+A.prev).unbind("click").click(function(){return h.hasClass(A.disabled)||v.addMonth(-1),!1}),p=r.find("#"+A.next).unbind("click").click(function(){return p.hasClass(A.disabled)||v.addMonth(),!1}),v.setValue(w);var t=a.position();return r.css({top:t.top+a.outerHeight({margins:!0})+d.offset[0],left:t.left+d.offset[1]}),d.speed?r.show(d.speed,function(){i(e)}):(r.show(),i(e)),v}},setValue:function(i,e,t){var n;if(-1<=parseInt(e,10)?(i=I(i),e=I(e),t=I(t),n=new Date(i,e,t)):(i=(n=i||w).getYear()+1900,e=n.getMonth(),t=n.getDate()),-1==e?(e=11,i--):12==e&&(e=0,i++),!g)return u(n,d),v;m=e,f=i,t=(n=new Date(i,e,1-d.firstDay)).getDay();var o,a=D(i,e),r=D(i,e-1);if(d.selectors){for(C.empty(),E.each(y.months,function(e,t){x<new Date(i,e+1,-1)&&k>new Date(i,e,0)&&C.append(E("<option/>").html(t).attr("value",e))}),S.empty(),n=i+d.yearRange[0];n<i+d.yearRange[1];n++)x<new Date(n+1,-1,0)&&k>new Date(n,0,0)&&S.append(E("<option/>").text(n));C.val(e),S.val(i)}else _.html(y.months[e]+" "+i);T.empty(),h.add(p).removeClass(A.disabled);for(var s,l,c=0;c<42;c++)s=E("<a/>"),c%7==0&&(o=E("<div/>").addClass(A.week),T.append(o)),c<t?(s.addClass(A.off),l=r-t+c+1,n=new Date(i,e-1,l)):t+a<=c?(s.addClass(A.off),l=c-a-t+1,n=new Date(i,e+1,l)):(l=c-t+1,n=new Date(i,e,l),$(w,n)?s.attr("id",A.current).addClass(A.focus):$(b,n)&&s.attr("id",A.today)),x&&n<x&&s.add(h).addClass(A.disabled),k&&k<n&&s.add(p).addClass(A.disabled),s.attr("href","#"+l).text(l).data("date",n),o.append(s),s.click(function(e){var t=E(this);return t.hasClass(A.disabled)||(E("#"+A.current).removeAttr("id"),t.attr("id",A.current),u(t.data("date"),d,e)),!1});return A.sunday&&T.find(A.week).each(function(){var e=d.firstDay?7-d.firstDay:0;E(this).children().slice(e,1+e).addClass(A.sunday)}),v},setMin:function(e,t){return x=P(e),t&&w<x&&v.setValue(x),v},setMax:function(e,t){return k=P(e),t&&k<w&&v.setValue(k),v},today:function(){return v.setValue(b)},addDay:function(e){return this.setValue(f,m,o+(e||1))},addMonth:function(e){return this.setValue(f,m+(e||1),o)},addYear:function(e){return this.setValue(f+(e||1),m,o)},hide:function(e){if(g){if((e=e||E.Event()).type="onHide",l.trigger(e),E(document).unbind("click.d").unbind("keydown.d"),e.isDefaultPrevented())return;r.hide(),g=!1}return v},getConf:function(){return d},getInput:function(){return a},getCalendar:function(){return r},getValue:function(e){return e?c(w,e,d.lang):w},isOpen:function(){return g}}),E.each(["onBeforeShow","onShow","change","onHide"],function(e,t){E.isFunction(d[t])&&E(v).bind(t,d[t]),v[t]=function(e){return E(v).bind(t,e),v}}),a.bind("focus click",v.show).keydown(function(e){var t=e.keyCode;return!g&&0<=E(O).index(t)?(v.show(e),e.preventDefault()):!!(e.shiftKey||e.ctrlKey||e.altKey||9==t)||e.preventDefault()}),P(a.val())&&u(w,d)}E.tools=E.tools||{version:"1.2.2"};var e,M=[],O=[75,76,38,39,74,72,40,37],N={};(e=E.tools.dateinput={conf:{format:"mm/dd/yy",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:0,max:0,trigger:!1,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(e,i){E.each(i,function(e,t){i[e]=t.split(",")}),N[e]=i}}).localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var l=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,d=E("<a/>");E.expr[":"].date=function(e){var t=e.getAttribute("type");return t&&"date"==t||!!E(e).data("dateinput")},E.fn.dateinput=function(i){return this.data("dateinput")?this:(i=E.extend({},e.conf,i),E.each(i.css,function(e,t){t||"prefix"==e||(i.css[e]=(i.css.prefix||"")+(t||e))}),this.each(function(){var e=new n(E(this),i);M.push(e),e=e.getInput().data("dateinput",e),t=t?t.add(e):e}),t||this);var t}}(jQuery),function(y){function _(e,t){return(t=parseInt(e.css(t),10))?t:(e=e[0].currentStyle)&&e.width&&parseInt(e.width,10)}function w(e){return(e=e.data("events"))&&e.onSlide}function n(s,l){function n(e,t,i,n){if(void 0===i?i=t/u*m:n&&(i-=l.min),g&&(i=Math.round(i/g)*g),void 0!==t&&!g||(t=i*u/m),isNaN(i))return h;var o,a;t=Math.max(0,Math.min(t,u)),i=t/u*m,!n&&c||(i+=l.min),c&&(n?t=u-t:i=l.max-i),o=i,a=v,a=Math.pow(10,a),i=Math.round(o*a)/a;var r="click"==e.type;return A&&void 0!==d&&!r&&(e.type="onSlide",b.trigger(e,[i,t]),e.isDefaultPrevented())||(n=r?l.speed:0,r=r?function(){e.type="change",b.trigger(e,[i])}:null,c?(p.animate({top:t},n,r),l.progress&&f.animate({height:u-t+p.width()/2},n)):(p.animate({left:t},n,r),l.progress&&f.animate({width:t+p.width()/2},n)),d=i,s.val(i)),h}function i(){o=(c=l.vertical||_(a,"height")>_(a,"width"))?(u=_(a,"height")-_(p,"height"),a.offset().top+u):(u=_(a,"width")-_(p,"width"),a.offset().left)}function e(){i(),h.setValue(l.value||l.min)}var c,d,o,u,h=this,t=l.css,a=y("<div><div/><a href='#'/></div>").data("rangeinput",h);s.before(a);var p=a.addClass(t.slider).find("a").addClass(t.handle),f=a.find("div").addClass(t.progress);y.each("min,max,step,value".split(","),function(e,t){e=s.attr(t),parseFloat(e)&&(l[t]=parseFloat(e,10))});var m=l.max-l.min,g="any"==l.step?0:l.step,v=l.precision;if(void 0===v)try{v=g.toString().split(".")[1].length}catch(e){v=0}if("range"==s.attr("type")){var r=y("<input/>");y.each("name,readonly,disabled,required".split(","),function(e,t){r.attr(t,s.attr(t))}),r.val(l.value),s.replaceWith(r),s=r}s.addClass(t.input);var b=y(h).add(s),A=!0;y.extend(h,{getValue:function(){return d},setValue:function(e,t){return n(t||y.Event("api"),void 0,e,!0)},getConf:function(){return l},getProgress:function(){return f},getHandle:function(){return p},getInput:function(){return s},step:function(e,t){t=t||y.Event();var i="any"==l.step?1:l.step;h.setValue(d+i*(e||1),t)},stepUp:function(e){return h.step(e||1)},stepDown:function(e){return h.step(-e||-1)}}),y.each("onSlide,change".split(","),function(e,t){y.isFunction(l[t])&&y(h).bind(t,l[t]),h[t]=function(e){return y(h).bind(t,e),h}}),p.drag({drag:!1}).bind("dragStart",function(){A=w(y(h))||w(s)}).bind("drag",function(e,t,i){if(s.is(":disabled"))return!1;n(e,c?t:i)}).bind("dragEnd",function(e){e.isDefaultPrevented()||(e.type="change",b.trigger(e,[d]))}).click(function(e){return e.preventDefault()}),a.click(function(e){if(s.is(":disabled")||e.target==p[0])return e.preventDefault();i();var t=p.width()/2;n(e,c?u-o-t+e.pageY:e.pageX-o-t)}),l.keyboard&&s.keydown(function(e){if(!s.attr("readonly")){var t=e.keyCode,i=-1!=y([75,76,38,33,39]).index(t),n=-1!=y([74,72,40,34,37]).index(t);if((i||n)&&!(e.shiftKey||e.altKey||e.ctrlKey))return i?h.step(33==t?10:1,e):n&&h.step(34==t?-10:-1,e),e.preventDefault()}}),s.blur(function(e){var t=y(this).val();t!==d&&h.setValue(t,e)}),y.extend(s[0],{stepUp:h.stepUp,stepDown:h.stepDown}),e(),u||y(window).load(e)}var e,i,l;y.tools=y.tools||{version:"1.2.2"},e=y.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}},y.fn.drag=function(s){return document.ondragstart=function(){return!1},s=y.extend({x:!0,y:!0,drag:!0},s),i=i||y(document).bind("mousedown mouseup",function(e){var n=y(e.target);if("mousedown"==e.type&&n.data("drag")){var t=n.position(),o=e.pageX-t.left,a=e.pageY-t.top,r=!0;i.bind("mousemove.drag",function(e){var t=e.pageX-o;e=e.pageY-a;var i={};s.x&&(i.left=t),s.y&&(i.top=e),r&&(n.trigger("dragStart"),r=!1),s.drag&&n.css(i),n.trigger("drag",[e,t]),l=n}),e.preventDefault()}else try{l&&l.trigger("dragEnd")}finally{i.unbind("mousemove.drag"),l=null}}),this.data("drag",!0)},y.expr[":"].range=function(e){var t=e.getAttribute("type");return t&&"range"==t||!!y(e).filter("input").data("rangeinput")},y.fn.rangeinput=function(t){return this.data("rangeinput")?this:(t=y.extend(!0,{},e.conf,t),this.each(function(){var e=new n(y(this),y.extend(!0,{},t));e=e.getInput().data("rangeinput",e),i=i?i.add(e):e}),i||this);var i}}(jQuery),function(p){function n(o,e,d){var u=this,h=e.add(u);o=o.not(":button, :image, :reset, :submit"),p.extend(u,{getConf:function(){return d},getForm:function(){return e},getInputs:function(){return o},invalidate:function(e,t){if(!t){var i=[];p.each(e,function(e,t){(e=o.filter("[name="+e+"]")).length&&(e.trigger("OI",[t]),i.push({input:e,messages:[t]}))}),e=i,t=p.Event()}return t.type="onFail",h.trigger(t,[e]),t.isDefaultPrevented()||s[d.effect][0].call(u,e,t),u},reset:function(e){(e=e||o).removeClass(d.errorClass).each(function(){var e=p(this).data("msg.el");e&&(e.remove(),p(this).data("msg.el",null))})},checkValidity:function(e,c){if(!(e=(e=e||o).not(":disabled")).length)return!0;if((c=c||p.Event()).type="onBeforeValidate",h.trigger(c,[e]),c.isDefaultPrevented())return c.result;var t=[],i=d.errorInputEvent+".v";e.each(function(){var s=[],l=p(this).unbind(i).data("messages",s);if(p.each(m,function(){var e,t,i,n,o=this,a=o[0];if(l.filter(a).length&&!0!==(o=o[1].call(u,l,l.val()))){if(c.type="onBeforeFail",h.trigger(c,[l,a]),c.isDefaultPrevented())return!1;var r=l.attr(d.messageAttr);if(r)return!(s=[r]);e=s,t=a,i=o,!d.grouped&&e.length||(!1===i||p.isArray(i)?(t=(n=(n=f.messages[t.key||t]||f.messages["*"])[d.lang]||f.messages["*"].en).match(/\$\d/g))&&p.isArray(i)&&p.each(t,function(e){n=n.replace(this,i[e])}):n=i[d.lang]||i,e.push(n))}}),s.length&&(t.push({input:l,messages:s}),l.trigger("OI",[s]),d.errorInputEvent&&l.bind(i,function(e){u.checkValidity(l,e)})),d.singleError&&t.length)return!1});var n=s[d.effect];if(!n)throw'Validator: cannot find effect "'+d.effect+'"';return t.length?(u.invalidate(t,c),!1):(n[1].call(u,e,c),c.type="onSuccess",h.trigger(c,[e]),e.unbind(i),!0)}}),p.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(e,t){p.isFunction(d[t])&&p(u).bind(t,d[t]),u[t]=function(e){return p(u).bind(t,e),u}}),d.formEvent&&e.bind(d.formEvent,function(e){if(!u.checkValidity(null,e))return e.preventDefault()}),e.bind("reset",function(){u.reset()}),o[0]&&o[0].validity&&o.each(function(){this.oninvalid=function(){return!1}}),e[0]&&(e[0].checkValidity=u.checkValidity),d.inputEvent&&o.bind(d.inputEvent,function(e){u.checkValidity(p(this),e)}),o.filter(":checkbox, select").filter("[required]").change(function(e){var t=p(this);(this.checked||t.is("select")&&p(this).val())&&s[d.effect][1].call(u,t,e)})}p.tools=p.tools||{version:"1.2.2"};var f,a=/\[type=([a-z]+)\]/,i=/^-?[0-9]*(\.[0-9]+)?$/,o=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,r=/^(https?:\/\/)?([\da-z\.\-]+)\.([a-z\.]{2,6})([\/\w \.\-]*)*\/?$/i;f=p.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(i,e){p.each(e,function(e,t){f.messages[e]=f.messages[e]||{},f.messages[e][i]=t})},localizeFn:function(e,t){f.messages[e]=f.messages[e]||{},p.extend(f.messages[e],t)},fn:function(e,t,i){function n(){return this.getAttribute("type")==o}var o;p.isFunction(t)?i=t:("string"==typeof t&&(t={en:t}),this.messages[e.key||e]=t),(t=a.exec(e))&&(o=t[1],n.key="[type="+o+"]",e=n),m.push([e,i])},addEffect:function(e,t,i){s[e]=[t,i]}};var m=[],s={default:[function(e){var d=this.getConf();p.each(e,function(e,t){(e=t.input).addClass(d.errorClass);var i,n,o,a,r,s,l,c=e.data("msg.el");c||(c=p(d.message).addClass(d.messageClass).appendTo(document.body),e.data("msg.el",c)),c.css({visibility:"hidden"}).find("span").remove(),p.each(t.messages,function(e,t){p("<span/>").html(t).appendTo(c)}),c.outerWidth()==c.parent().width()&&c.add(c.find("p")).css({display:"inline"}),n=c,o=d,a=(i=e).offset().top,r=i.offset().left,s=o.position.split(/,?\s+/),l=s[0],s=s[1],a-=n.outerHeight()-o.offset[0],r+=i.outerWidth()+o.offset[1],o=n.outerHeight()+i.outerHeight(),"center"==l&&(a+=o/2),"bottom"==l&&(a+=o),i=i.outerWidth(),"center"==s&&(r-=(i+n.outerWidth())/2),"left"==s&&(r-=i),t={top:a,left:r},c.css({visibility:"visible",position:"absolute",top:t.top,left:t.left}).fadeIn(d.speed)})},function(e){var t=this.getConf();e.removeClass(t.errorClass).each(function(){var e=p(this).data("msg.el");e&&e.css({visibility:"hidden"})})}]};p.each("email,url,number".split(","),function(e,t){p.expr[":"][t]=function(e){return e.getAttribute("type")===t}}),p.fn.oninvalid=function(e){return this[e?"bind":"trigger"]("OI",e)},f.fn(":email","Please enter a valid email address",function(e,t){return!t||o.test(t)}),f.fn(":url","Please enter a valid URL",function(e,t){return!t||r.test(t)}),f.fn(":number","Please enter a numeric value.",function(e,t){return i.test(t)}),f.fn("[max]","Please enter a value smaller than $1",function(e,t){return e=e.attr("max"),parseFloat(t)<=parseFloat(e)||[e]}),f.fn("[min]","Please enter a value larger than $1",function(e,t){return e=e.attr("min"),parseFloat(t)>=parseFloat(e)||[e]}),f.fn("[required]","Please complete this mandatory field.",function(e,t){return e.is(":checkbox")?e.is(":checked"):!!t}),f.fn("[pattern]",function(e){return new RegExp("^"+e.attr("pattern")+"$").test(e.val())}),p.fn.validator=function(i){if(this.data("validator"))return this;if(i=p.extend(!0,{},f.conf,i),this.is("form"))return this.each(function(){var e=p(this),t=new n(e.find(":input"),e,i);e.data("validator",t)});var e=new n(this,this.eq(0).closest("form"),i);return this.data("validator",e)}}(jQuery),function(){function a(e,t){if(t)for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e}function n(e,t,i){if(c.isSupported(t.version))e.innerHTML=c.getHTML(t,i);else if(t.expressInstall&&c.isSupported([6,65]))e.innerHTML=c.getHTML(a(t,{src:t.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else if(e.innerHTML.replace(/\s/g,"")||(e.innerHTML="<h2>Flash version "+t.version+" or greater is required</h2><h3>"+(0<d[0]?"Your version is "+d:"You have no flash plugin installed")+"</h3>"+("A"==e.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+o+"'>here</a></p>"),"A"==e.tagName&&(e.onclick=function(){location.href=o})),t.onFail){var n=t.onFail.call(this);"string"==typeof n&&(e.innerHTML=n)}r&&(window[t.id]=document.getElementById(t.id)),a(this,{getRoot:function(){return e},getOptions:function(){return t},getConf:function(){return i},getApi:function(){return e.firstChild}})}var r=document.all,o="http://www.adobe.com/go/getflashplayer",e="function"==typeof jQuery,s=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,l={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(e,t,i){if("string"==typeof e&&(e=document.getElementById(e.replace("#",""))),e)return"string"==typeof t&&(t={src:t}),new n(e,a(a({},l),t),i)};var c=a(window.flashembed,{conf:l,getVersion:function(){var t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(e){try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");t=i&&i.GetVariable("$version")}catch(e){}}return(t=s.exec(t))?[t[1],t[3]]:[0,0]},asString:function(e){if(null==e)return null;var t=typeof e;switch("object"==t&&e.push&&(t="array"),t){case"string":return'"'+(e=(e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1")).replace(/^\s?(\d+\.?\d+)%/,"$1pct"))+'"';case"array":return"["+function(e,t){var i=[];for(var n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n]));return i}(e,function(e){return c.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":for(var i in t=[],e)e.hasOwnProperty(i)&&t.push('"'+i+'":'+c.asString(e[i]));return"{"+t.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(e,t){var i='<object width="'+(e=a({},e)).width+'" height="'+e.height+'" id="'+e.id+'" name="'+e.id+'"';for(var n in e.cachebusting&&(e.src+=(-1!=e.src.indexOf("?")?"&":"?")+Math.random()),i+=e.w3c||!r?' data="'+e.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',i+=">",(e.w3c||r)&&(i+='<param name="movie" value="'+e.src+'" />'),e.width=e.height=e.id=e.w3c=e.src=null,e.onFail=e.version=e.expressInstall=null,e)e[n]&&(i+='<param name="'+n+'" value="'+e[n]+'" />');if(e="",t){for(var o in t)t[o]&&(n=t[o],e+=o+"="+(/function|object/.test(typeof n)?c.asString(n):n)+"&");i+='<param name="flashvars" value=\''+(e=e.slice(0,-1))+"' />"}return i+="</object>"},isSupported:function(e){return d[0]>e[0]||d[0]==e[0]&&d[1]>=e[1]}}),d=c.getVersion();e&&(jQuery.tools=jQuery.tools||{version:"1.2.2"},jQuery.tools.flashembed={conf:l},jQuery.fn.flashembed=function(e,t){return this.each(function(){$(this).data("flashembed",flashembed(this,e,t))})})}(),function(i){function n(e){if(e){var t=a.contentWindow.document;t.open().close(),t.location.hash=e}}var o,a,r,t;i.tools=i.tools||{version:"1.2.2"},i.tools.history={init:function(e){t||(i.browser.msie&&i.browser.version<"8"?a||(a=i("<iframe/>").attr("src","javascript:false;").hide().get(0),i("body").append(a),setInterval(function(){var e=a.contentWindow.document;e=e.location.hash,o!==e&&i.event.trigger("hash",e)},100),n(location.hash||"#")):setInterval(function(){var e=location.hash;e!==o&&i.event.trigger("hash",e)},100),r=r?r.add(e):e,e.click(function(e){var t=i(this).attr("href");if(a&&n(t),"#"!=t.slice(0,1))return location.href="#"+t,e.preventDefault()}),t=!0)}},i(window).bind("hash",function(e,t){t?r.filter(function(){var e=i(this).attr("href");return e==t||e==t.replace("#","")}).trigger("history",[t]):r.eq(0).trigger("history",[t]),o=t,window.location.hash=o}),i.fn.history=function(e){return i.tools.history.init(this),this.bind("history",e)}}(jQuery),function(n){function o(){if(n.browser.msie){var e=n(document).height(),t=n(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e-t<20?t:e]}return[n(window).width(),n(document).height()]}function a(e){if(e)return e.call(n.mask)}var r,s,l,c,d,u;n.tools=n.tools||{version:"1.2.2"},r=n.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}},n.mask={load:function(e,t){if(c)return this;"string"==typeof e&&(e={color:e}),e=e||d,d=e=n.extend(n.extend({},r.conf),e),(s=n("#"+e.maskId)).length||(s=n("<div/>").attr("id",e.maskId),n("body").append(s));var i=o();return s.css({position:"absolute",top:0,left:0,width:i[0],height:i[1],display:"none",opacity:e.startOpacity,zIndex:e.zIndex}),e.color&&s.css("backgroundColor",e.color),!1===a(e.onBeforeLoad)||(e.closeOnEsc&&n(document).bind("keydown.mask",function(e){27==e.keyCode&&n.mask.close(e)}),e.closeOnClick&&s.bind("click.mask",function(e){n.mask.close(e)}),n(window).bind("resize.mask",function(){n.mask.fit()}),t&&t.length&&(u=t.eq(0).css("zIndex"),n.each(t,function(){var e=n(this);/relative|absolute|fixed/i.test(e.css("position"))||e.css("position","relative")}),l=t.css({zIndex:Math.max(e.zIndex+1,"auto"==u?0:u)})),s.css({display:"block"}).fadeTo(e.loadSpeed,e.opacity,function(){n.mask.fit(),a(e.onLoad)}),c=!0),this},close:function(){if(c){if(!1===a(d.onBeforeClose))return this;s.fadeOut(d.closeSpeed,function(){a(d.onClose),l&&l.css({zIndex:u})}),n(document).unbind("keydown.mask"),s.unbind("click.mask"),n(window).unbind("resize.mask"),c=!1}return this},fit:function(){if(c){var e=o();s.css({width:e[0],height:e[1]})}},getMask:function(){return s},isLoaded:function(){return c},getConf:function(){return d},getExposed:function(){return l}},n.fn.mask=function(e){return n.mask.load(e),this},n.fn.expose=function(e){return n.mask.load(e,this),this}}(jQuery),function(t){function e(e){switch(e.type){case"mousemove":return t.extend(e.data,{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY});case"DOMMouseScroll":t.extend(e,e.data),e.delta=-e.detail/3;break;case"mousewheel":e.delta=e.wheelDelta/120}return e.type="wheel",t.event.handle.call(this,e,e.delta)}t.fn.mousewheel=function(e){return this[e?"bind":"trigger"]("wheel",e)},t.event.special.wheel={setup:function(){t.event.add(this,i,e,{})},teardown:function(){t.event.remove(this,i,e)}};var i=t.browser.mozilla?"DOMMouseScroll"+(t.browser.version<"1.9"?" mousemove":""):"mousewheel"}(jQuery),function(p){p.extend(p.tree.plugins,{contextmenu:{object:p("<ul id='jstree-contextmenu' class='tree-context' />"),data:{t:!1,a:!1,r:!1},defaults:{class_name:"hover",items:{create:{label:"Create",icon:"create",visible:function(e,t){return 1!=e.length?0:t.check("creatable",e)},action:function(e,t){t.create(!1,t.get_node(e[0]))},separator_after:!0},rename:{label:"Rename",icon:"rename",visible:function(e,t){return 1==e.length&&t.check("renameable",e)},action:function(e,t){t.rename(e)}},remove:{label:"Delete",icon:"remove",visible:function(e,t){var i=!0;return p.each(e,function(){return 0==t.check("deletable",this)&&(i=!1),!1}),i},action:function(e,t){p.each(e,function(){t.remove(this)})}}}},show:function(e,t){var i=p.extend(!0,{},p.tree.plugins.contextmenu.defaults,t.settings.plugins.contextmenu);e=p(e),p.tree.plugins.contextmenu.object.empty();var n="";for(var o in i.items)if(i.items.hasOwnProperty(o)&&!1!==i.items[o]){var a=1;"function"==typeof i.items[o].visible&&(a=i.items[o].visible.call(null,p.tree.plugins.contextmenu.data.a,t)),-1!=a&&(!0===i.items[o].separator_before&&(n+="<li class='separator'><span>&nbsp;</span></li>"),n+='<li><a href="#" rel="'+o+'" class="'+o+" "+(0==a?"disabled":"")+'">',i.items[o].icon?n+="<ins "+(-1==i.items[o].icon.indexOf("/")?" class='"+i.items[o].icon+"' ":" style='background-image:url(\""+i.items[o].icon+"\");' ")+">&nbsp;</ins>":n+="<ins>&nbsp;</ins>",n+="<span>"+i.items[o].label+"</span></a></li>",!0===i.items[o].separator_after&&(n+="<li class='separator'><span>&nbsp;</span></li>"))}var r=e.children("a:visible").offset();p.tree.plugins.contextmenu.object.attr("class","tree-context tree-"+t.settings.ui.theme_name.toString()+"-context").html(n);var s=p.tree.plugins.contextmenu.object.height(),l=p.tree.plugins.contextmenu.object.width(),c=r.left,d=r.top+parseInt(e.children("a:visible").height())+2,u=p(window).height()+p(window).scrollTop(),h=p(window).width()+p(window).scrollLeft();u<d+s&&(d=Math.max(u-s-2,0)),h<c+l&&(c=Math.max(h-l-2,0)),p.tree.plugins.contextmenu.object.css({left:c,top:d}).stop(!1,!0).fadeIn("fast")},hide:function(){if(p.tree.plugins.contextmenu.data.t){var e=p.extend(!0,{},p.tree.plugins.contextmenu.defaults,p.tree.plugins.contextmenu.data.t.settings.plugins.contextmenu);p.tree.plugins.contextmenu.data.r&&p.tree.plugins.contextmenu.data.a&&p.tree.plugins.contextmenu.data.a.children("a, span").removeClass(e.class_name),p.tree.plugins.contextmenu.data={a:!1,r:!1,t:!1},p.tree.plugins.contextmenu.object.stop(!1,!0).fadeOut("fast")}},exec:function(e){if(0!=p.tree.plugins.contextmenu.data.t){var t=p.extend(!0,{},p.tree.plugins.contextmenu.defaults,p.tree.plugins.contextmenu.data.t.settings.plugins.contextmenu);try{t.items[e].action.apply(null,[p.tree.plugins.contextmenu.data.a,p.tree.plugins.contextmenu.data.t])}catch(e){}}},callbacks:{oninit:function(){if(!p.tree.plugins.contextmenu.css){p.tree.plugins.contextmenu.css=this.add_sheet({str:"#jstree-contextmenu { display:none; position:absolute; z-index:2000; list-style-type:none; margin:0; padding:0; left:-2000px; top:-2000px; } .tree-context { margin:20px; padding:0; width:180px; border:1px solid #979797; padding:2px; background:#f5f5f5; list-style-type:none; }.tree-context li { height:22px; margin:0 0 0 27px; padding:0; background:#ffffff; border-left:1px solid #e0e0e0; }.tree-context li a { position:relative; display:block; height:22px; line-height:22px; margin:0 0 0 -28px; text-decoration:none; color:black; padding:0; }.tree-context li a ins { text-decoration:none; float:left; width:16px; height:16px; margin:0 0 0 0; background-color:#f0f0f0; border:1px solid #f0f0f0; border-width:3px 5px 3px 6px; line-height:16px; }.tree-context li a span { display:block; background:#f0f0f0; margin:0 0 0 29px; padding-left:5px; }.tree-context li.separator { background:#f0f0f0; height:2px; line-height:2px; font-size:1px; border:0; margin:0; padding:0; }.tree-context li.separator span { display:block; margin:0px 0 0px 27px; height:1px; border-top:1px solid #e0e0e0; border-left:1px solid #e0e0e0; line-height:1px; font-size:1px; background:white; }.tree-context li a:hover { border:1px solid #d8f0fa; height:20px; line-height:20px; }.tree-context li a:hover span { background:#e7f4f9; margin-left:28px; }.tree-context li a:hover ins { background-color:#e7f4f9; border-color:#e7f4f9; border-width:2px 5px 2px 5px; }.tree-context li a.disabled { color:gray; }.tree-context li a.disabled ins { }.tree-context li a.disabled:hover { border:0; height:22px; line-height:22px; }.tree-context li a.disabled:hover span { background:#f0f0f0; margin-left:29px; }.tree-context li a.disabled:hover ins { border-color:#f0f0f0; background-color:#f0f0f0; border-width:3px 5px 3px 6px; }"})}},onrgtclk:function(e,t,i){var n=p.extend(!0,{},p.tree.plugins.contextmenu.defaults,t.settings.plugins.contextmenu);0!=(e=p(e)).size()&&(p.tree.plugins.contextmenu.data.t=t,e.children("a:eq(0)").hasClass("clicked")?(p.tree.plugins.contextmenu.data.r=!1,p.tree.plugins.contextmenu.data.a=t.selected_arr&&1<t.selected_arr.length?t.selected_arr:t.selected):(p.tree.plugins.contextmenu.data.a=e,p.tree.plugins.contextmenu.data.r=!0,e.children("a").addClass(n.class_name),i.target.blur()),p.tree.plugins.contextmenu.show(e,t),i.preventDefault(),i.stopPropagation())},onchange:function(){p.tree.plugins.contextmenu.hide()},beforedata:function(){p.tree.plugins.contextmenu.hide()},ondestroy:function(){p.tree.plugins.contextmenu.hide()}}}}),p(function(){p.tree.plugins.contextmenu.object.hide().appendTo("body"),p("#jstree-contextmenu a").live("click",function(e){return p(this).hasClass("disabled")||(p.tree.plugins.contextmenu.exec.apply(null,[p(this).attr("rel")]),p.tree.plugins.contextmenu.hide()),e.stopPropagation(),e.preventDefault(),!1}),p(document).bind("mousedown",function(e){0==p(e.target).parents("#jstree-contextmenu").size()&&p.tree.plugins.contextmenu.hide()})})}(jQuery),function(m){m.widget("ui.autoform",{options:{createURL:"",createData:{},updateURL:"",updateData:{},deleteURL:"",deleteData:{},dataID:"id",itemData:[],fields:[],delay:2e3,shortDelay:500,duration:2e3,activeAjaxCalls:0,sortable:!1,sortableSelector:"",updateOrderURL:"",updateOrder:{},updateOrderData:null,undelete:!0,confirmDelete:null,doNotSave:!1,check:function(){},checkDelete:function(){},onCreateItem:function(){},onCreateExistingItem:function(){},onCreateNewItem:function(){},onCreate:function(){},onUpdate:function(){},onDelete:function(){},onBeforeCreate:function(){},onBeforeUpdate:function(){},onCreateError:function(){},onUpdateError:function(){}},_create:function(){var n=this;this.element.addClass("ui-autoform"),this.items={},this.updateItems=[],this.newIndex=1;var e=this.options.itemData.length;if(!n.options.doNotSave){var t=window.onbeforeunload;window.onbeforeunload=function(e){return 0<n.options.activeAjaxCalls?"There are still some AJAX processes pending. If you leave the page now, you may lose any changes you have made.":t()}}for(var i=0;i<e;++i){var o=this._createItem(this.options.itemData[i]).appendTo(this.element);this.options.onCreateExistingItem.call(this.element,null,{item:o})}this._createNewItem().appendTo(this.element),n.options.sortable&&!n.options.doNotSave&&m(n.options.sortableSelector).sortable({items:"li:not(.ui-autoform-new-item)",cancel:"li.state-deleted",handle:".drag-handle",placeholder:"item ui-placeholder",create:function(e,t){n.updateOrder(".ui-autoform li:not(.ui-autoform-new-item)")},update:function(e,t){var i=m(t.item).attr("id");n.updateOrder(".ui-autoform li:not(.ui-autoform-new-item)",i),m(".list.sortable").sortable("option","disabled",!0),n._saveOrder()}});n.options.headers&&m(".sortable",n.options.headers).sortableList({container:n.element,exclude:".ui-autoform-new-item"})},_createNewItem:function(){this.options.activeAjaxCalls++;var e={};e[this.options.dataID]="new"+this.newIndex,this.newIndex++;var t=this._createItem(e,1).addClass("ui-autoform-new-item");return this.options.sortable&&!this.options.doNotSave&&m(".drag-handle",t).hide(),m(".actions",t).hide(),this.options.onCreateNewItem.call(this.element,null,{item:t}),this.options.activeAjaxCalls--,t},_createItem:function(e,t){var n=this;n.options.activeAjaxCalls++,void 0===t&&(t=0);var i,o=(e=m.extend({},e))[this.options.dataID],a=this.options.fields.length,r='id="'+o+'" class="item item-'+o+' ui-helper-clearfix">';r=this.options.sortable&&!this.options.doNotSave?"<li "+r+"</li>":"<div "+r+"</div>";var s=m(r);this.items[o]={state:"",savedValues:{},changedValues:{},currentValues:{},requiredValues:{},numChangedValues:0,focus:0};for(var l=0;l<a;++l){if("string"==typeof e[(i=jQuery.extend(!0,{},this.options.fields[l]))[1].name]?i[1].value=e[i[1].name].replace(/"/g,"&quot;")||"":void 0!==e[i[1].name]?i[1].value=e[i[1].name]:i[1].value="",n.options.doNotSave&&(i[1].temp_name=i[1].name,i[1].name=i[1].name+"-"+o),this.items[o].savedValues[i[1].name]=e[i[1].name],this.items[o].currentValues[i[1].name]=e[i[1].name],i[1].class=void 0===i[1].class?"":i[1].class+" ",i[1].class+=i[1].name+"-input item item-"+o,i[1].required=i[1].required||0,n.options.doNotSave&&(i[1].class+=" "+i[1].temp_name+"-input",delete i[1].temp_name),n.items[o].requiredValues[i[1].name]=t?i[1].required:0,n.items[o].savedValues[i[1].name]=i[1].value,"input"==i[0]){i[1].type=i[1].type||"text",i[1].size=i[1].size||16;var c="checkbox"==i[1].type?"change":"blur",d="<input";for(var u in i[1])"required"!=u&&("checkbox"!=i[1].type||"value"!=u?d+=" "+u+'="'+i[1][u]+'"':"1"!=i[1][u]&&!t||(d+=' checked="checked"'));"checkbox"==i[1].type&&(d+=' value="1"'),d+=" />"}else if("select"==i[0]){c="change",d="<select";for(var u in i[1])"required"!=u&&"heading"!=u&&(d+=" "+u+'="'+i[1][u]+'"');for(var h in d+=">",t&&void 0!==i[1].heading&&(this.items[o].currentValues[i[1].name]="",d+='<option value="" disabled="disabled" selected="selected">'+i[1].heading+"</option>"),i[2])null==this.items[o].currentValues[i[1].name]&&(this.items[o].currentValues[i[1].name]=h),d+='<option value="'+h+'"',(h==i[1].value&&!t||h==i[1].default&&t)&&(this.items[o].currentValues[i[1].name]=h,d+=' selected="selected"'),d+=">"+i[2][h]+"</option>";d+="</select>"}var p=m(d).bind(c,function(e){var t=m(this).parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];n.items[t].focus=!1,setTimeout(function(){0==n.items[t].focus&&n._checkDelete(t)},100)}).bind("focus",function(e){var t=m(this).parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];n.items[t].focus=!0}).bind("change keyup",function(e){var t=m(this).parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];n._checkItemChange(t,this,!1)}).bind("keydown",function(e){if("text"==m(this).attr("type")){var t=m(this).parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];13==e.keyCode&&n._checkItemChange(t,this,!0)}});m('<div class="ui-autoform-input-container '+i[1].name+'-container"></div>').append(p).appendTo(s)}n.options.sortable&&!n.options.doNotSave&&m('<div class="drag-handle" title="click and drag to reorder"></div>').appendTo(s);var f=m('<div class="actions"></div>').appendTo(s);return m('<div class="delete" title="delete"><span>delete</span></div>').click(function(e){function t(){var e=i.parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];n._deleteItem(e,!n.options.undelete)}var i=m(this);n.options.undelete?t():"function"==typeof n.options.confirmDelete?n.options.confirmDelete.call(i.parents(".item"),t):proboards.confirm("Are you sure you want to delete this entry?",t)}).appendTo(f),n.options.undelete&&m('<div class="undelete" title="undo delete"><span>undelete</span></div>').click(function(e){var t=m(this).parents(".item").attr("class").match(/item\-([^\-\s]+)/)[1];n._undeleteItem(t)}).appendTo(f),m('<div class="state"><span></span></div>').appendTo(s),this.options.onCreateItem.call(this.element,null,{item:s}),n.options.activeAjaxCalls--,s},_checkDelete:function(e){this.options.activeAjaxCalls++;var t=m("> .item-"+e,this.element),i=m("> .ui-autoform-new-item",this.element);t.hasClass("ui-autoform-new-item")||!0===this.options.checkDelete.call(this.element,null,{item:t})&&this._deleteItem(e);if(1<i.length)for(var n=0;n<i.length-1;++n){if(1==this.options.checkDelete.call(this.element,null,{item:i[n]})){e=m(i[n]).attr("class").match(/item\-([^\-\s]+)/)[1];this._deleteItem(e)}}this.options.activeAjaxCalls--},_checkItemChange:function(e,t,i){var n=this,o=t.getAttribute("name"),a=t.getAttribute("type"),r=(t=n.getInputValue(t),0);if("checkbox"==a&&(r=1),n.options.activeAjaxCalls++,t!=this.items[e].currentValues[o]||i){if((this.items[e].currentValues[o]=t)!=this.items[e].savedValues[o]||r?void 0!==this.items[e].changedValues[o]&&0!=this.items[e].changedValues[o]||(this.items[e].changedValues[o]=!0,++this.items[e].numChangedValues,1==this.items[e].requiredValues[o]&&(this.items[e].requiredValues[o]=0)):void 0!==this.items[e].changedValues[o]&&1==this.items[e].changedValues[o]&&(this.items[e].changedValues[o]=!1,--this.items[e].numChangedValues),void 0!==this.items[e].saveTimeout&&n.options.activeAjaxCalls--,clearTimeout(this.items[e].saveTimeout),this.items[e].saveTimeout=void 0,0==this.items[e].numChangedValues)"saved"==this.items[e].state||this.options.doNotSave||this._changeItemState(e);else{if(m(".item-"+e,this.element).hasClass("ui-autoform-new-item")&&0==m(this.element).children(".item-"+e).next().length){var s=this._createNewItem();s.hide().css({opacity:0}).appendTo(this.element).slideDown(500,function(){s.animate({opacity:1},{duration:500})})}this._changeItemState(e,"editing");var l=0;for(var c in this.items[e].requiredValues)0!=this.items[e].requiredValues[c]&&l++;if(0==l){var d=n.options.check.call(n.element,null,{item:m("> .item-"+e,n.element)});if(!0===d||n.options.doNotSave){var u=0;for(var h in this.items[e].currentValues)if(void 0===this.items[e].currentValues[h]||""==this.items[e].currentValues[h]){u=1;break}n.options.sortable&&!n.options.doNotSave&&(n.options.createData[e]=m(".ui-autoform li:not(.state-deleted)").length-1),i?(void 0!==n.items[e].saveTimeout&&n.options.activeAjaxCalls--,clearTimeout(n.items[e].saveTimeout),n.items[e].saveTimeout=void 0,n._saveItem(e)):1==u?(n.options.activeAjaxCalls++,this.items[e].saveTimeout=setTimeout(function(){n._saveItem(e),n.items[e].saveTimeout=void 0,n.options.activeAjaxCalls--},this.options.delay)):(n.options.activeAjaxCalls++,this.items[e].saveTimeout=setTimeout(function(){n._saveItem(e),n.items[e].saveTimeout=void 0,n.options.activeAjaxCalls--},this.options.shortDelay))}else n._errorItem(e,d)}}n.options.activeAjaxCalls--}else n.options.activeAjaxCalls--},_changeItemState:function(e,t,i){if(!this.options.doNotSave){this.options.activeAjaxCalls++;var n=m(".item-"+e,this.element);n.stop(!0,!0),n.removeClass("state-"+this.items[e].state),n.addClass("state-"+t),this.items[e].state=t,m("#"+e+" > .state > span").setStatus(t,{message:i}),"saved"==t&&setTimeout(function(){n.removeClass("state-"+t)},this.options.duration),this.options.activeAjaxCalls--}},setItemState:function(e,t){var i=m(e).attr("id");this._changeItemState(i,t)},_deleteItem:function(o,e){var a=this;a.options.activeAjaxCalls++,clearTimeout(a.items[o].saveTimeout),a.items[o].saveTimeout=void 0,a.options.activeAjaxCalls--;var t=m("#"+o,this.element),i=m.extend({id:o},this.options.deleteData);if(a.options.sortable&&!a.options.doNotSave){/position-(\d+)/i.test(m(t).attr("class"))&&(i.position=RegExp.$1)}e?t.hasClass("ui-autoform-new-item")||a.options.doNotSave?a._removeItem(o):proboards.ajax({url:this.options.deleteURL,data:i,type:"POST",dataType:"json",success:function(e){var t=m("> .item-"+o,a.element);t.addClass("ui-autoform-deleted-item"),a.options.onDelete.call(this.element,null,{item:t,data:e}),a._removeItem(o),a.updateOrder(".ui-autoform li:not(.ui-autoform-new-item)",o)}}):(this._disableItem(o),this._changeItemState(o,"loading"),t.hasClass("ui-autoform-new-item")?(a._changeItemState(o,"deleted"),!0===a.options.checkDelete.call(a.element,null,{item:m("> .item-"+o,a.element)})&&(a._removeItem(o),a.options.onDelete.call(this.element,null,{item:m("> .item-"+o,a.element)})),m(".ui-autoform").children(".item.state-error").each(function(){var e=a.options.check.call(m(".ui-autoform"),null,{item:m(this)},1);!0===e?a._saveItem(m(this).attr("id")):a._errorItem(m(this).attr("id"),e)})):a.options.doNotSave?(a.options.undelete&&!0!==a.options.checkDelete.call(a.element,null,{item:m("> .item-"+o,a.element)})||a._removeItem(o),m(".ui-autoform").children(".item.state-error").each(function(){var e=a.options.check.call(m(".ui-autoform"),null,{item:m(this)},1);!0===e?a._saveItem(m(this).attr("id")):a._errorItem(m(this).attr("id"),e)})):proboards.ajax({url:this.options.deleteURL,data:i,type:"POST",dataType:"json",success:function(e,t,i){a._changeItemState(o,"deleted"),a.options.undelete&&!0!==a.options.checkDelete.call(a.element,null,{item:m("> .item-"+o,a.element)})||a._removeItem(o),a.options.sortable&&a.updateOrder(".ui-autoform li:not(.ui-autoform-new-item)",o),m(".ui-autoform").children(".item.state-error").each(function(){var e=a.options.check.call(m(".ui-autoform"),null,{item:m(this)},1);!0===e?a._saveItem(m(this).attr("id")):a._errorItem(m(this).attr("id"),e)});var n=m("> .item-"+o,a.element);n.addClass("ui-autoform-deleted-item"),a.options.onDelete.call(this.element,null,{item:n,data:e})},error:function(e){a._errorItem(o,[null,e.error])}})),a.options.activeAjaxCalls--},_undeleteItem:function(e){this.options.activeAjaxCalls++;var t=m(".item-"+e,this.element),i=0;for(var n in this.items[e].currentValues)this.items[e].changedValues[n]=!0,++i;this.items[e].numChangedValues=i,this._enableItem(e),void 0!==this.items[e].saveTimeout&&this.options.activeAjaxCalls--,clearTimeout(this.items[e].saveTimeout),this.items[e].saveTimeout=void 0;var o=this.options.check.call(this.element,null,{item:m(".item-"+e,this.element)});if(!0===o){if(this.options.updateData.undelete=1,this.options.sortable){var a=m(".ui-autoform li").index(t);a=a-m(".ui-autoform li").slice(0,a).find(".state-deleted").length+1,this.options.updateData.position=a}this._saveItem(e)}else this._errorItem(e,o);this.options.activeAjaxCalls--},_saveItem:function(a){var r=this,t=m(".item-"+a,this.element);if(this.options.doNotSave)m(".actions",t).css("display","");else{var s,l,e,c,i;for(var n in r.options.activeAjaxCalls++,i=t.hasClass("ui-autoform-new-item")?(requestURL=this.options.createURL,s=this.options.sortable?{position:this.options.createData[a]}:m.extend({id:a},this.options.createData),l=!0,e=this.options.onBeforeCreate,c=this.options.onCreate,this.options.onCreateError):(requestURL=this.options.updateURL,s=m.extend({id:a},this.options.updateData),this.options.updateData.undelete=0,l=!1,e=this.options.onBeforeUpdate,c=this.options.onUpdate,this.options.onUpdateError),r.items[a].changedValues)1==r.items[a].changedValues[n]&&(s[n]=r.items[a].savedValues[n]=r.getInputValue(m("."+n+"-input",t)[0]));this._changeItemState(a,"loading"),e.call(this.element,null,{item:t,settings:s}),proboards.ajax({url:requestURL,data:s,type:"POST",dataType:"json",success:function(e,t,i){r._changeItemState(a,"saved"),r.items[a].changedValues={},r.items[a].numChangedValues=0;var n=m(r.element).children(".item-"+a),o=m("> .item-"+a,r.element);l?(o.removeClass("item-"+a).removeClass("ui-autoform-new-item").addClass("item-"+e[r.options.dataID]),n.attr("id",e[r.options.dataID]),r.options.sortable&&n.addClass("position-"+s.position),r.items[e[r.options.dataID]]=r.items[a]):r.options.sortable&&1==s.undelete&&r.updateOrder(".ui-autoform li:not(.ui-autoform-new-item)",a),c.call(this.element,null,{item:n,data:e})},error:function(e){r._errorItem(a,[null,e.error]),i.call(this.element,null,{item:t,data:e})}}),m(".actions",t).css("display",""),this.options.sortable&&m(".drag-handle",t).css("display",""),r.options.activeAjaxCalls--}},_errorItem:function(e,t){if(!this.options.doNotSave){this.options.activeAjaxCalls++;var i=m("div#"+e,this.element);this._changeItemState(e,"error",t[1]),m(".actions",i).css("display",""),this.options.sortable&&m(".drag-handle",i).css("display",""),this.options.activeAjaxCalls--}},_removeItem:function(e){var t=this.options.sortable&&!this.options.doNotSave?"li":"div",i=m(t+"#"+e,this.element);i.stop(!0,!0).animate({opacity:0},{duration:500,complete:function(){i.slideUp(500,function(){i.remove()})}})},_enableItem:function(e){var t=m(".item-"+e,this.element);m("input",t).removeAttr("disabled"),m("select",t).removeAttr("disabled")},_disableItem:function(e){var t=m(".item-"+e,this.element);m("input",t).attr("disabled","disabled"),m("select",t).attr("disabled","disabled")},_saveOrder:function(){var n=this;n.options.activeAjaxCalls++,proboards.ajax({url:n.options.updateOrderURL,data:n.options.updateOrder,type:"POST",dataType:"json",success:function(e,t,i){n._changeItemState(n.options.updateOrder.id,"saved",""),n.options.updateOrder={},m(n.options.sortableSelector).sortable("option","disabled",!1)},error:function(e){var t=["",e.error];n._errorItem(n.options.updateOrder.id,t)}}),n.options.activeAjaxCalls--},updateOrder:function(r,s){var l=this;l.options.activeAjaxCalls++;var c=m(r);m(c).filter(":not(.state-deleted):not(.ui-autoform-deleted-item)").each(function(){var e=m(this).attr("id"),t=m(c).filter(":not(.state-deleted):not(.ui-autoform-deleted-item)").index(this)+1,i=m(this).attr("class"),n=null;if(/position-(\d+)/i.test(i)&&(n=RegExp.$1),null===n?m(this).addClass("position-"+t).attr("tabindex",t):n!=t&&m(this).removeClass("position-"+n).addClass("position-"+t),s==e){var o={id:e,newPos:t,oldPos:n};if("function"==typeof l.options.updateOrderData){var a=l.options.updateOrderData.call(l,r,s);"object"==typeof a&&m.extend(o,a)}m(".ui-autoform.list").autoform("option","updateOrder",o)}}),l.options.activeAjaxCalls--},ignoreChange:function(e,t){var i=t.attr("name");this.items[e].currentValues[i]=t.val()},getInputValue:function(e){return"checkbox"==e.type?e.checked?1:0:e.value}}),m.extend(m.ui.autoform,{version:"1.8.5"})}(jQuery),function(d){d.widget("ui.autosearch",{options:{url:"/",data:{},cache:!0,pageCache:"",container:d(document),cacheExpiry:3e5,hash:!1,delay:500,nonDataKeys:["scrollTo","csrf_token","rc_challenge_field","rc_response_field","adcopy_challenge_field","adcopy_response_field"],minChars:3,defaultResponse:{total:0,page:1,limit:15,results:""},updateCache:function(e,t){return t.response},beforeSearch:null,search:null,afterSearch:null},_create:function(){this.baseData=d.extend({},this.options.data),this.cache={},this.data={},this.initialUrl=location.href,this.lastCallSuccess=!0,this.lastResponse={},this.lastRequestDataStr="",this.lastVal="",this.popped=!1,this.poppingState=!1,this.queue=[],this.queueTimeout=null,this.searching=!1;var i=this,e=this._getDataFromHash(this._getHash());if(this.element.val(e.q),this.element.addClass("ui-autosearch").bind("keyup.autosearch",function(e){var t=d.ui.keyCode;switch(e.keyCode){case t.ESCAPE:e.preventDefault();break;case t.ENTER:case t.NUMPAD_ENTER:return e.preventDefault(),!1;default:i.element.val()!=i.lastVal&&i.element.addClass("ui-typing"),clearTimeout(i.typing),i.typing=setTimeout(function(){i.element.removeClass("ui-typing");var e=i._cleanQuery(i.element.val());i._cleanQuery(i.data.q)!=e&&(0==e.length||e.length>=i.options.minChars)&&(i.data.page=1,i.search())},i.options.delay)}""==d(this).val()?d(this).removeClass("state-editing"):d(this).addClass("state-editing")}).bind("keydown.autosearch",function(e){var t=d.ui.keyCode;switch(e.keyCode){case t.UP:i._trigger("up",e),e.preventDefault();break;case t.DOWN:i._trigger("down",e),e.preventDefault();break;case t.PAGE_UP:i._trigger("pageUp",e),e.preventDefault();break;case t.PAGE_DOWN:i._trigger("pageDown",e),e.preventDefault();break;case t.ENTER:case t.NUMPAD_ENTER:i._trigger("enter",e),e.preventDefault();break;case t.TAB:i._trigger("tab",e);break;case t.ESCAPE:i._trigger("escape",e),e.preventDefault();break;default:i.element.val()!=i.lastVal&&i.element.addClass("ui-typing"),clearTimeout(i.typing),i.typing=setTimeout(function(){i.element.removeClass("ui-typing");var e=i._cleanQuery(i.element.val());i._cleanQuery(i.data.q)!=e&&(0==e.length||e.length>=i.options.minChars)&&(i.data.page=1,i.search())},i.options.delay)}}),d.pushStateSupport()&&i.options.hash&&(window.onpopstate=function(e){!i.popped&&location.href==i.initialUrl||(i.poppingState=!0,i.data=i._getDataFromHash(i._getHash()),i.data.q||(i.data.q=""),i.search(i.data.q,!0,e&&null!=e.state))}),this.options.hash&&!d.pushStateSupport()){null!=d("body").data("hash_interval")&&clearInterval(d("body").data("hash_interval"));var t=setInterval(function(){i.data=i._getDataFromHash(i._getHash()),i.data.q||(i.data.q=""),i._getDataStr(i._getRequestData())!=i.lastRequestDataStr&&i.search(i.data.q)},100);d("body").data("hash_interval",t)}},destroy:function(){this.element.unbind(".autosearch"),this.options.hash&&!d.pushStateSupport()&&clearInterval(d("body").data("hash_interval"))},_getDataFromHash:function(e){if(""==e)return{};for(var t={},i=e.split("&"),n=0;n<i.length;n++)if(-1!=i[n].indexOf("=")){var o=i[n].split("="),a=decodeURIComponent(o[1].replace(/\+/g," "));-1!=o[0].indexOf("[]")&&o[0].indexOf("[]")==o[0].length-2?(void 0===t[o[0]]&&(t[o[0]]=[]),t[o[0]].push(a)):t[o[0]]=a}return t},setData:function(e,t,i){if(-1==d.inArray(e,this.options.nonDataKeys)){"object"==typeof t&&-1==e.indexOf("[]")&&(e+="[]"),this.data[e]=t;var n=i&&1==i.replaceState,o=("filters[]"==e||"page"==e||"view"==e)&&(!i||i.scrollToTop),a="page"==e&&(!i||i.refreshAds),r=i&&i.ignorePending;this._search(n,o,a,r)}},setDataLite:function(e,t){-1==d.inArray(e,this.options.nonDataKeys)&&("object"==typeof t&&-1==e.indexOf("[]")&&(e+="[]"),this.data[e]=t)},getData:function(e){return this.data[e]},_getRequestData:function(){var e=d.extend(e,this.baseData,this.data);return e.q=void 0===e.q?"":this._cleanQuery(e.q),e},clearCache:function(e){e&&""!=e?(this._getDataStr(this._getRequestData())==e&&(this.lastCallSuccess=!1),this.cache[e]=""):(this.cache={},this.lastCallSuccess=!1)},_updateCache:function(){var e={};for(var t in this.lastResponse)e[t]=this.lastResponse[t];e.page&&(this.lastRequestDataStr=this.lastRequestDataStr.replace(/page=\d+/,"page="+e.page)),this.cache[this.lastRequestDataStr]=this.options.updateCache.call(this.element,null,{response:e})},search:function(e,t,i){void 0===e&&(e=this.element.val()),this.element.hasClass("state-editing")||e!=this.element.attr("placeholder")||(e=""),this.data.q=e,void 0===this.data.q&&(this.data.q=""),(""==this.data.q||this.data.q.length>=this.options.minChars)&&this._search(t,i)},_search:function(e,n,o,t){var a,r,s=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===t&&(t=!1),this.searching)return clearTimeout(this.queueTimeout),void(this.queueTimeout=setTimeout(function(){s._search(e,n,o,t)},200));if(this.searching=!0,this.element.addClass("ui-loading"),this._trigger("beforeSearch",null),a=this._getRequestData(),r=this._getDataStr(a),a.q!=this._cleanQuery(this.element.val())&&(this.element.val(a.q),this._trigger("change",null)),!d.pushStateSupport()&&this.options.hash){var i=this._getDataStr(this.data);if(!this._sameArguments(this._getHash(),i)){var l=this._getDataStr(this.data);l&&(window.location.hash=l)}}else if(d.pushStateSupport()&&this.options.hash){i=this._getDataStr(this.data);stateUrl=i?"?"+i:location.pathname,e?window.history.replaceState({},null,stateUrl):(window.history.pushState({},null,stateUrl),this.popped=!0)}if(this.options.cache&&this.lastCallSuccess&&this._updateCache(),this.lastCallSuccess=!1,this.options.cache&&"object"==typeof this.cache[r])this.lastResponse=this.cache[r],this._searchSuccess(a,this.cache[r],!0,n,o),this._searchComplete(a,this.cache[r]),this.lastCallSuccess=!0,s.poppingState=!1;else{var c={url:this.options.url,data:a,type:"POST",dataType:"json",ignorePending:t,success:function(e,t,i){s.lastCallSuccess=!0,s.lastResponse=e,s.options.cache&&setTimeout(function(){s.clearCache(r)},s.options.cacheExpiry),s._searchSuccess(a,e,!1,n,o)},complete:function(e){s._searchComplete(a,s.lastResponse),s.poppingState=!1}};"function"==typeof s.options.error&&(c.error=s.options.error),proboards.ajax(c)}this.lastRequestDataStr=r},_searchComplete:function(e,t){this.element.removeClass("ui-loading"),this.searching=!1,this._trigger("afterSearch",null,{request:e,response:t})},_searchSuccess:function(e,t,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=!1),this._trigger("search",null,{request:e,response:t,cached:i,scrollToTop:n,refreshAds:o})},_getDataStr:function(e){var t=[];for(var i in e)if(-1==d.inArray(i,this.options.nonDataKeys))if(d.isArray(e[i])){for(var n=0;n<e[i].length;n++)if(e[i][n]&&""!=e[i][n]){var o=i.replace(/\[\]$/,"");t.push(o+"[]="+encodeURIComponent(e[i][n]).replace(/%20/g,"+"))}}else e[i]&&""!=e[i]&&(d.pushStateSupport()&&"page"==i&&1==e[i]||t.push(i+"="+encodeURIComponent(e[i]).replace(/%20/g,"+")));return t.sort(),t.join("&")},_getHash:function(){if(!this.options.hash)return"";var e=d.pushStateSupport()?window.location.search:window.location.hash;return e=e&&e.substr(1)},_cleanQuery:function(e){return d.trim(e).replace(/\s{2,}/," ")},_sameArguments:function(e,t){for(n in e=e.split("&"),t=t.split("&"),e){var i=n.split("="),o=jQuery.inArray(n,t);if(-1!=o)t.splice(o,1);else if(-1==jQuery.inArray(i[0],this.options.nonDataKeys))return!1}for(n in t){i=n.split("=");if(-1==jQuery.inArray(i[0],this.options.nonDataKeys))return!1}return!0}}),d.extend(d.ui.autosearch,{version:"1.8.5"})}(jQuery),function(s){s.widget("ui.colorPicker",s.ui.mouse,{options:{noElement:!1,update:function(){},beforeShow:function(){},show:function(){},hide:function(){},autoUpdate:!0,autoOpen:!1,hex:"1979e6",allowTransparent:!1,pos:{my:"left top",at:"left bottom",of:null,offset:"0 2",collision:"flipfit"}},_create:function(){var e,n=this;this.colorPickerID="colorPicker",this.body=s(this.element).closest("body").get(0),void 0===this.body&&(this.body=document.body),this.colorPicker=s("#"+this.colorPickerID,this.body),0==this.colorPicker.length&&(s(this.body).append('<div id="'+this.colorPickerID+'"><div id="'+this.colorPickerID+'-container"><div id="'+this.colorPickerID+'-SV"></div><div id="'+this.colorPickerID+'-SV-selBG"><div id="'+this.colorPickerID+'-SV-selKnob"><div id="'+this.colorPickerID+'-SV-selKnobInside"></div></div></div><div id="'+this.colorPickerID+'-H"></div><div id="'+this.colorPickerID+'-H-selBG"><div id="'+this.colorPickerID+'-H-selKnob"></div></div><div id="'+this.colorPickerID+'-SV-selArea"></div><div id="'+this.colorPickerID+'-H-selArea"></div><div id="'+this.colorPickerID+'-faceplate"></div><div id="'+this.colorPickerID+'-text">Choose <span id="'+this.colorPickerID+'-title"></span> color:</div><div id="'+this.colorPickerID+'-preview" title="Currently selected color."></div><div id="'+this.colorPickerID+'-previous" title="Previous color: Click to reset."></div><div id="'+this.colorPickerID+'-input">Hex:<br /><input name="hex" type="text" value="" maxlength="6" /></div><div id="'+this.colorPickerID+'-ok-button"><input name="ok" type="button" value="OK" /></div><div id="'+this.colorPickerID+'-cancel-button"><input name="cancel" type="button" value="Cancel" /></div><div id="'+this.colorPickerID+'-close"><span>X</span></div><div id="'+this.colorPickerID+'-extras" class="hide"></div><div id="'+this.colorPickerID+'-transparent"><input id="transparent" name="transparent" type="checkbox" /><label for="transparent">transparent</label></div></div></div>'),this.colorPicker=s("#"+this.colorPickerID,this.body),s("#"+this.colorPickerID+"-transparent",this.colorPicker).height("19").css({bottom:"7px",left:"7px",position:"absolute"}).hide()),this.transparentDiv=s("#"+this.colorPickerID+"-transparent",this.colorPicker),this.transparentInput=this.colorPicker.find('input[name="transparent"]'),s("#"+this.colorPickerID+"-input input",this.colorPicker).bind("change.transparent keydown.transparent",function(){n.transparentInput.removeAttr("checked"),n.transparent=!1}),this.transparentInput.bind("click",function(){"checked"==s(this).attr("checked")?(n.setHex("ffffff"),n.transparent=!0):n.transparent=!1}),s(this.element).on("change",function(){var e=s(this).val();if("transparent"==e){n.transparent=!0;var t="ffffff";n._setPreviousHex(t),n.setHex(t),n._update()}else if(3==e.length||6==e.length){n.transparent=!1;t=e;t=n._validateHex(t),n._setPreviousHex(t),n.setHex(t),n._update()}}),this.colorPicker.hide(),this.options.noElement||s(this.element).addClass("ui-colorPicker"),this.options.pos.of||(this.options.pos.of=this.element),this.options.noElement||s(this.element).bind("mousedown.colorPicker focus.colorPicker",function(e){setTimeout(function(){n.show()},1)}),s(this.body).bind("mousedown.colorPicker",function(e){if(n.showing&&!n.dragging){for(var t=!1,i=e.target;!t&&i;)i===n.element[0]&&!n.options.noElement||i===n.colorPicker[0]?t=!0:i=i.parentNode;t?e.stopPropagation():n.hide()}}),s(this.body).bind("keydown.colorPicker",function(e){27==e.which&&n.hide()}),"input"==this.element[0].nodeName.toLowerCase()&&"text"==this.element[0].getAttribute("type")&&(e=s(this.element).val()),e=e||this.options.hex,e=this._validateHex(e),this._setPreviousHex(e),this.setHex(e),this.options.autoOpen&&s(this.colorPicker).show()},_validateHex:function(e){return e.match(/[^a-f0-9]/i)?"ff0000":e},isShowing:function(){return!this.colorPicker.is(":hidden")},show:function(e){var o=this;if(e=e||{},this.options.allowTransparent?(s("#"+this.colorPickerID+"-container",this.colorPicker).addClass("has-transparent-checkbox"),this.transparentDiv.show()):(s("#"+this.colorPickerID+"-container",this.colorPicker).removeClass("has-transparent-checkbox"),this.transparentDiv.hide()),s.extend(!0,this.options,e),this.showing){if(!this.options.noElement)return;this.hide()}if("function"!=typeof this.options.beforeShow||!1!==this.options.beforeShow.call(this.element,null,{})){this.options.title?s("#"+this.colorPickerID+"-title",this.colorPicker).text(this.options.title):s("#"+this.colorPickerID+"-title",this.colorPicker).hide(),this.colorPicker.show();var t=this.options.extraHTML;if(void 0!==t){"function"==typeof t&&(t=t.call(this.colorPicker));var i=this.colorPicker.width()-20;this.originalHeight=s("#"+this.colorPickerID+"-container",this.colorPicker).height(),s("#"+this.colorPickerID+"-extras",this.colorPicker).css({bottom:"inherit",left:"inherit",position:"relative",width:i+"px"}).html(t).show();var n=s("#"+this.colorPickerID+"-container",this.colorPicker).height()+s("#"+this.colorPickerID+"-extras",this.colorPicker).height()+10;s("#"+this.colorPickerID+"-container",this.colorPicker).height(n),s("#"+this.colorPickerID+"-extras",this.colorPicker).css({bottom:"10px",left:"10px",position:"absolute"})}if(this.colorPicker.position(o.options.pos),this.options.offset){var a={};void 0!==this.options.offset.top&&(a.top=this.options.offset.top),void 0!==this.options.offset.left&&(a.left=this.options.offset.left),this.colorPicker.css(a)}var r=null;r||"input"!=this.element[0].nodeName.toLowerCase()||"text"!=this.element[0].getAttribute("type")||(r=s(this.element).val()),r=r||(e.hex||this.hex||this.options.hex),this.options.allowTransparent&&("transparent"==r?(this.transparentInput.attr("checked","checked"),this.transparent=!0,r="ffffff"):(this.transparentInput.removeAttr("checked"),this.transparent=!1)),r=this._validateHex(r),this._setPreviousHex(r),this.setHex(r),this.options.autoUpdate?(s("#"+this.colorPickerID+"-ok-button",this.colorPicker).hide(),s("#"+this.colorPickerID+"-cancel-button",this.colorPicker).hide()):(s("#"+this.colorPickerID+"-ok-button input",this.colorPicker).unbind("click.colorPicker"),s("#"+this.colorPickerID+"-ok-button input",this.colorPicker).bind("click.colorPicker",function(){o._update()}),s("#"+this.colorPickerID+"-cancel-button input",this.colorPicker).unbind("click.colorPicker"),s("#"+this.colorPickerID+"-cancel-button input",this.colorPicker).bind("click.colorPicker",function(){o.hide()})),s("#"+this.colorPickerID+"-close",this.colorPicker).unbind("click.colorPicker"),s("#"+this.colorPickerID+"-close",this.colorPicker).bind("click.colorPicker",function(e){o.hide()}),s("#"+this.colorPickerID+"-previous",this.colorPicker).unbind("click.colorPicker"),s("#"+this.colorPickerID+"-previous",this.colorPicker).bind("click.colorPicker",function(e){o.setHex(o.previousHex),o.options.allowTransparent&&(o.previousTransparent?(o.transparentInput.attr("checked","checked"),o.transparent=!0):(o.transparentInput.removeAttr("checked"),o.transparent=!1))}),s("#"+this.colorPickerID+"-input input",this.colorPicker).unbind("keydown.colorPicker keyup.colorPicker change.colorPicker"),s("#"+this.colorPickerID+"-input input",this.colorPicker).bind("keydown.colorPicker keyup.colorPicker change.colorPicker",function(e){if("keydown"==e.type)return!(!e.ctrlKey&&!e.altKey)||!(e.shiftKey&&48<=e.which&&e.which<=57)&&(32!=e.which&&(!(71<=e.which&&e.which<=90)&&(188!=e.which&&190!=e.which&&191!=e.which&&192!=e.which&&(59!=e.which&&222!=e.which&&(219!=e.which&&220!=e.which&&221!=e.which&&(111!=e.which&&106!=e.which&&109!=e.which&&107!=e.which&&110!=e.which))))));"keyup"==e.type&&o.setHex(this.value),o.setHex(this.value)}),s(this.body).unbind("mouseup.colorPicker"),s(this.body).bind("mouseup.colorPicker",function(e){o._onMouseUp(e)}),s("#"+this.colorPickerID+"-SV-selArea",this.colorPicker).unbind("mousedown.colorPicker"),s("#"+this.colorPickerID+"-SV-selArea",this.colorPicker).bind("mousedown.colorPicker",function(e){if(this.style.cursor="none",s(o.body).bind("mousemove.colorPicker",function(e){o.dragging=!0;var t=s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).offset(),i=e.pageX-t.left,n=e.pageY-t.top;i<0&&(i=0),n<0&&(n=0),i>s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).width()&&(i=s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).width()),n>s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).height()&&(n=s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).height()),o.S=i/1.5,o.V=(150-n)/1.5,i-=Math.ceil(s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).width()/2),n-=Math.ceil(s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).height()/2),s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).css({left:i+"px",top:n+"px"}),o._updateColor()}),s(this).bind("mouseup.colorPicker",function(e){o._onMouseUp(e)}),!e.layerX){var t=s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).offset();e.layerX=e.clientX+o.body.scrollLeft+document.documentElement.scrollLeft-t.left,e.layerY=e.clientY+o.body.scrollTop+document.documentElement.scrollTop-t.top}o.S=e.layerX/1.5,o.V=(150-e.layerY)/1.5;var i=e.layerX-Math.ceil(s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).width()/2),n=e.layerY-Math.ceil(s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).height()/2);return s("#"+o.colorPickerID+"-SV-selKnob",o.colorPicker).css({left:i+"px",top:n+"px"}),o._updateColor(),e.stopPropagation(),!1}),s("#"+this.colorPickerID+"-H-selArea",this.colorPicker).unbind("mousedown.colorPicker"),s("#"+this.colorPickerID+"-H-selArea",this.colorPicker).bind("mousedown.colorPicker",function(e){if(this.style.cursor="none",s(o.body).bind("mousemove.colorPicker",function(e){o.dragging=!0;var t=s("#"+o.colorPickerID+"-H-selArea",o.colorPicker).offset(),i=e.pageY-t.top;i<0&&(i=0),i>s("#"+o.colorPickerID+"-H-selArea",o.colorPicker).height()&&(i=s("#"+o.colorPickerID+"-H-selArea",o.colorPicker).height()),o.H=i/1.5*360/100,360==o.H&&(o.H=0),i-=Math.ceil(s("#"+o.colorPickerID+"-H-selKnob",o.colorPicker).height()/2),s("#"+o.colorPickerID+"-H-selKnob",o.colorPicker).css({top:i+"px"}),o._updateColor()}),s(o.body).bind("mouseup.colorPicker",function(e){o._onMouseUp(e)}),!e.layerX){var t=s("#"+o.colorPickerID+"-SV-selArea",o.colorPicker).offset();e.layerX=e.clientX+o.body.scrollLeft+document.documentElement.scrollLeft-t.left,e.layerY=e.clientY+o.body.scrollTop+document.documentElement.scrollTop-t.top}o.H=e.layerY/1.5*360/100;var i=e.layerY-Math.ceil(s("#"+o.colorPickerID+"-H-selKnob",this.colorPicker).height()/2);return s("#"+o.colorPickerID+"-H-selKnob",this.colorPicker).css({top:i+"px"}),o._updateColor(),e.stopPropagation(),!1}),this.showing=!0,this.options.show&&this.options.show.call(this.element)}},hide:function(){if(this.showing){var e=s("#"+this.colorPickerID+"-input input",this.colorPicker).val();e&&""!=e&&this._setPreviousHex(e),s("#"+this.colorPickerID+"-extras",this.colorPicker).is(":visible")&&(s("#"+this.colorPickerID+"-container",this.colorPicker).height(this.originalHeight),s("#"+this.colorPickerID+"-extras",this.colorPicker).hide()),this.colorPicker.hide(),this.showing=!1,"function"==typeof this.options.hide&&this.options.hide()}},_onMouseUp:function(e){s("#"+this.colorPickerID+"-SV-selArea",this.b).unbind("mousemove.colorPicker"),s("#"+this.colorPickerID+"-SV-selArea",this.colorPicker).unbind("mouseup.colorPicker"),s("#"+this.colorPickerID+"-SV-selArea",this.colorPicker).css({cursor:"default"}),s("#"+this.colorPickerID+"-H-selArea",this.colorPicker).unbind("mousemove.colorPicker"),s("#"+this.colorPickerID+"-H-selArea",this.colorPicker).unbind("mouseup.colorPicker"),s("#"+this.colorPickerID+"-H-selArea",this.colorPicker).css({cursor:"default"}),s(this.body).unbind("mousemove.colorPicker"),this.dragging=!1},_updateColor:function(e){this.H||(this.H=0);var t=this._HSVtoRGB(this.H,this.S/100,this.V/100),i=this._RGBtoHEX(t[0],t[1],t[2]);this.hex=i,s("#"+this.colorPickerID+"-preview",this.colorPicker).css({backgroundColor:"#"+i}),e||(s("#"+this.colorPickerID+"-input input",this.colorPicker).val(i),this.options.allowTransparent&&(this.transparentInput.removeAttr("checked"),this.transparent=!1));t=this._HSVtoRGB(this.H,1,1),i=this._RGBtoHEX(t[0],t[1],t[2]);s("#"+this.colorPickerID+"-SV",this.colorPicker).css({backgroundColor:"#"+i}),this.options.autoUpdate&&this._update()},_update:function(){var e="";this.options.update&&(e=this.hex),this.options.allowTransparent&&this.transparent&&(e="transparent"),this.options.update.call(this.element,e)},getHex:function(){return s("#"+this.colorPickerID+"-input input",this.colorPicker).val()},setHex:function(e){if(e&&""!=e){var t=e.length;if(3==t||6==t){var i=3==t?e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2):e;s("#"+this.colorPickerID+"-input input",this.colorPicker).val()!=e&&s("#"+this.colorPickerID+"-input input",this.colorPicker).val(e);var n=this._HEXtoRGB(i),o=this._RGBtoHSV(n[0],n[1],n[2]);this.H=o[0],this.S=100*o[1],this.V=100*o[2],this._updateColor(!0),this._updateKnobs()}}},_setPreviousHex:function(e){s("#"+this.colorPickerID+"-previous",this.colorPicker).css({backgroundColor:"#"+e}),this.previousHex=e,this.options.allowTransparent&&(this.previousTransparent=!!this.transparent)},_updateKnobs:function(){var e,t;e=1.5*this.S-Math.ceil(s("#"+this.colorPickerID+"-SV-selKnob",this.colorPicker).width()/2),t=150-1.5*this.V-Math.ceil(s("#"+this.colorPickerID+"-SV-selKnob",this.colorPicker).height()/2),s("#"+this.colorPickerID+"-SV-selKnob",this.colorPicker).css({left:e,top:t}),t=this.H/360*150-Math.ceil(s("#"+this.colorPickerID+"-H-selKnob",this.colorPicker).height()/2),s("#"+this.colorPickerID+"-H-selKnob",this.colorPicker).css({top:t})},_HEXtoRGB:function(e){return e=e.replace(/^#/,""),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]},_RGBtoHEX:function(e,t,i){return e=e.toString(16),t=t.toString(16),i=i.toString(16),e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),e+t+i},_RGBtoHSV:function(e,t,i){var n,o=Math.max(e,t,i),a=o-Math.min(e,t,i);0==a?n=0:o==e?(n=(t-i)/a%6)<0&&(n+=6):o==t?n=(i-e)/a+2:o==i&&(n=(e-t)/a+4);var r,s=o/255;return r=0==a?0:a/s,[60*n,r/=255,s]},_HSVtoRGB:function(e,t,i){var n,o,a,r=i*t;Hp=e/60,X=r*(1-Math.abs(Hp%2-1)),Hp<1?(n=r,o=X,a=0):Hp<2?(n=X,o=r,a=0):Hp<3?(n=0,o=r,a=X):Hp<4?(n=0,o=X,a=r):Hp<5?(n=X,o=0,a=r):Hp<6&&(n=r,o=0,a=X);var s=i-r;return n+=s,o+=s,a+=s,n*=255,o*=255,a*=255,[n=Math.round(n),o=Math.round(o),a=Math.round(a)]}}),s.colorPicker=function(e,t){if("string"==typeof e)return s(document.body).colorPicker(e,t);s(document.body).colorPicker({noElement:!0})},s.extend(s.ui.colorPicker,{version:"1.8.2"})}(jQuery),function(a){a.widget("ui.combobox",{options:{position:{my:"left top",at:"left bottom",of:"mouse",collision:"flip",offset:"0 2"},onOpen:null,onClick:null,menuId:null},_create:function(){var n=this,e=n.options.menuId||n.element.next().attr("class");if(void 0!==e){var o=a("#"+e);o.addClass("c-menu"),void 0!==o&&n.element.on("click",function(t){if(o.is(":visible"))o.hide();else{a(".c-menu").hide();var e=a.extend({},n.options.position);"self"==e.of?e.of=n.element:"mouse"==e.of&&(e.of=t),a("html").is(".ie7")?(e.my="right top",e.at="right bottom"):o.width()<n.element.width()&&o.width(n.element.width()-6),n.options.onOpen&&n.options.onOpen.call(n.element,o),o.show(),o.position(e),o.unbind("click.cb").one("click.cb","li",function(){n.options.onClick&&n.options.onClick.call(n.element,this),o.hide()});var i=n.element.get(0).ownerDocument;a(i).on("mousedown.cb",function(e){0==a(e.target).closest(".c-menu").length&&a(e.target).closest(".combobox").get(0)!=a(t.target).closest(".combobox").get(0)&&(o.unbind("click.cb"),a(this).unbind("mousedown.cb"),o.hide())})}})}}}),a.extend(a.ui.combobox,{version:"1.8.2"})}(jQuery),function(c){c.widget("ui.contextMenu",c.ui.mouse,{options:{},_create:function(){var t=this;c(this.element).addClass("ui-menu-context"),c(document).bind("mouseup",function(e){t.documentMouseUp(e)}),c(this.element).bind("contextmenu.ui-contextMenu",function(e){return!1}),this.menu=c(this.element).menu()},documentMouseUp:function(e){for(var t=!1,i=e.target;!t&&i;)i===this.element[0]&&(t=!0),i=i.parentNode;t||c(this.element).hide()},attach:function(e){var t=this,i=e.type,n=e.selector,o=e.callback;if("bind"==i)c(n).bind("mousedown.ui-contextMenu",function(e){t._onElementMouseDown(e,this,o)}).bind("contextmenu.ui-contextMenu",function(e){return!1});else if("delegate"==i){var a=e.parent;c(a).on("mousedown.ui-contextMenu",n,function(e){t._onElementMouseDown(e,this,o)}).on("contextmenu.ui-contextMenu",n,function(e){return!1})}},detach:function(e,t){"unbind"==e?c(t).unbind("mousedown.ui-contextMenu").unbind("contextmenu.ui-contextMenu"):"die"==e&&c(t).die("mousedown.ui-contextMenu").die("contextmenu.ui-contextMenu")},_onElementMouseDown:function(a,r,s){var l=this;2==a.button&&(a.stopPropagation(),c(r).bind("mouseup.ui-contextMenu",function(e){e.stopPropagation(),c(r).unbind("mouseup.ui-contextMenu"),l.menu.menu("clearClickCallback"),l.menu.menu("setClickCallback",function(e){l._optionClick(e,a,r,s)});for(var t=a.clientX,i=a.clientY,n=a.target;n.ownerDocument&&n.ownerDocument.defaultView&&n.ownerDocument.defaultView.frameElement;){n=n.ownerDocument.defaultView.frameElement;var o=c(n).offset();t+=o.left,i+=o.top}return c(l.element).css({left:t,top:i}).show(),!1}))},_optionClick:function(e,t,i,n){for(var o=e.target;o&&"li"!=o.nodeName.toLowerCase();)o=o.parentNode;if(o){var a=c(o).attr("id");""!=a&&(n.call(this,t,a,i)||c(this.element).hide())}}}),c.extend(c.ui.sortable,{version:"1.8.2"})}(jQuery),function(n){n.widget("ui.counter",{options:{begin:null,end:null,toFixed:0,duration:null,interval:100,callback:function(){}},_create:function(){},_init:function(){var e=this;if(null!=this.options.end&&null!=this.options.duration&&(null==this.options.begin?(this.options.begin=Number(n(this.element).text()),"number"!=typeof this.options.begin&&(this.options.begin=0)):n(this.element).text(this.options.begin),this.options.begin!=this.options.end)){var t;t=this.options.begin<this.options.end?(this.direction="up",this.options.end-this.options.begin):(this.direction="down",this.options.begin-this.options.end);var i=Math.ceil(this.options.duration/this.options.interval);this.change_value=t/i,this.value=Number(this.options.begin),setTimeout(function(){e._tick()},this.options.interval)}},_tick:function(){var e=this;"up"==this.direction?(this.value+=this.change_value,this.value>this.options.end&&(this.value=Number(this.options.end))):(this.value-=this.change_value,this.value<this.options.end&&(this.value=Number(this.options.end))),n(this.element).text(this.value.toFixed(this.options.toFixed)),"up"==this.direction&&this.value>=this.options.end||"down"==this.direction&&this.value<=this.options.end?"function"==typeof this.options.callback&&this.options.callback.call(this):setTimeout(function(){e._tick()},this.options.interval)}}),n.extend(n.ui.counter,{version:"1.8.2"})}(jQuery),function(a){a.widget("ui.displaybox",{options:{friendlies:[],position:null},_create:function(){var o=this;this.element.addClass("ui-displaybox"),a(document).bind("mousedown.displaybox",function(e){if(!a(o.element).is(":hidden")&&e.target!=a(o.element)[0]&&a(e.target).parents(".ui-displaybox")[0]!=a(o.element)[0]){for(var t,i=e.target,n=o.options.friendlies.length;i&&"html"!=i.nodeName.toLowerCase();){for(t=0;t<n;++t)if(i===a(o.options.friendlies[t])[0])return;i=i.parentNode}o.element.hide()}})},toggle:function(e){this.element.is(":hidden")?this.show(e):this.hide()},hide:function(){this.element.hide()},show:function(e){e=e||this.options.position,this.element.show(),e&&this.element.position(e)}}),a.extend(a.ui.displaybox,{version:"1.8.5"})}(jQuery),function(m){m.widget("ui.filterlist",{options:{filters:[],values:[],change:null,delay:200,filters_only:!1,datePlaceholder:"yyyy-mm-dd",dateValidation:function(e){if(!new RegExp(/(\d{4})-(\d{2})-(\d{2})/).test(e))return!1;var t=parseInt(RegExp.$1,10),i=parseInt(RegExp.$2,10)-1,n=parseInt(RegExp.$3,10),o=new Date(Date.UTC(t,i,n)),a=o.getUTCFullYear(),r=o.getUTCMonth(),s=o.getUTCDate();return t==a&&i==r&&s==n}},_create:function(){var e,t,i=this,n="";if(this.element.addClass("ui-filterlist"),this.filter_index={},e=this.options.filters.length,this.options.filters_only){for(t=0;t<e;++t)this.filter_index[this.options.filters[t].name]=t;for(this.list=m('<div class="list simple"></div>').appendTo(this.element),t=0;t<e;++t)i._addSimpleFilter(t)}else{for(m(this.element).append('<div class="filters-title">Add Filters</div>'),this.filters=m('<ul class="filters"></ul>').appendTo(this.element),t=0;t<e;++t)n+='<li class="filter filter-'+t+' button">'+this.options.filters[t].display+"</li>",this.filter_index[this.options.filters[t].name]=t;this.filters.append(n),m("li",this.filters).bind("click.ui-filterlist",function(){if(!m(this).hasClass("title")){var e=m(this).attr("class").match(/filter\-([0-9]+)/);i._addFilter(e[1])}}),this.list=m('<div class="list"><table></table></div>').appendTo(this.element)}},cleanFilterVal:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},addFilter:function(e,t,i){if(void 0===this.filter_index[e])return!1;var n=this._addFilter(this.filter_index[e],t,i);return m(".filter-input",n).val(e+":"+t+":"+i),n},_addFilter:function(e,t,i){var n,o,a,l=this,r=this.options.filters[e],s=r.condition_input_options,c=r.value_input_type,d=parseInt(r.value_input_size)||16,u=r.value_input_options,h=m('<tr class="filter filter-'+e+'"></tr>');if(n='<td class="display">'+r.display+'<input class="filter-input" type="hidden" name="filters[]" value="" /></td>',s&&0!=s.length){for(n+='<td><select class="condition-input filter-condition-input">',o=s.length,a=0;a<o;++a){var p=s[a];n+='<option value="'+p[0]+'"'+(t&&t==p[0]?' selected="selected"':"")+">"+p[1]+"</option>"}n+="</select>"}else n+='<td class="condition-input">';if("date"==c)n+='<input class="filter-value-input date" type="text" value="'+(i?this.cleanFilterVal(i):"")+'" size="'+d+'" placeholder="'+this.options.datePlaceholder+'" />';else if("text"==c||"searchbox"==c||"ip"==c){n+='<input class="filter-value-input'+("text"==c?" count-value":"")+'" type="text" value="'+(i?this.cleanFilterVal(i):"")+'" size="'+d+'" />'}else if("select"==c&&"object"==typeof u){for(n+='<select class="filter-value-input">',o=u.length,a=0;a<o;++a){var f=u[a];n+='<option value="'+f[0]+'"'+(void 0!==f[2]?' style="'+f[2]+'"':"")+(i&&i==f[0]?' selected="selected"':"")+">"+f[1]+"</option>"}n+="</select>"}return n+='<div class="ui-filter-loading hide"></div></td><td><div class="filter-remove"><span>remove</span></div></td>',h.append(n),r.add_class&&m(".filter-value-input",h).addClass(r.add_class),m("> table",this.list).append(h),"custom"==this.options.filters[e].value_input_type&&this.options.filters[e].callback.call(this.element,h,m(".filter-input",h)),m(".filter-remove",h).on("click.ui-filterlist",function(){l.removeFilter(this.parentNode.parentNode)}),m(".filter-condition-input, .filter-value-input",h).not(".ui-searchbox-input").on("change.ui-filterlist, keyup.ui-filterlist",function(){var e=m(this),t=this.parentNode.parentNode,i=m(".filter-input",t);clearTimeout(e.data("timeout")),l._updateFilter(t);var n=i.data("old_value")||"",o=i.val(),a=n.split(":",3);if((""!=o.split(":",3)[2]||""!=a&&""!=a[2])&&o!=n){var r=!0,s="Make sure the date is valid and it is in the format: "+l.options.datePlaceholder+".";e.is(".date")&&!l.options.dateValidation(e.val())?(m.inputError(e,s),r=!1):e.is(".ip")&&!e.val().match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)?r=!1:e.is(".count-value")&&e.val().match(/[^\d,]/)&&(m.inputError(e,"This value must be a valid number."),r=!1),r&&(m(".ui-filter-loading",t).removeClass("hide"),clearTimeout(l.timeout),l.searching=!0,l.timeout=setTimeout(function(){m(".filter-input",t).data("old_value",o),l._change(),l.searching=!1},l.options.delay))}}),m(this.list).show(),h},addSimpleFilter:function(e,t,i){if(void 0===this.filter_index[e])return!1;var n=this._addSimpleFilter(this.filter_index[e],t,i);return m(".filter-input",n).val(e+":"+t+":"+i),n},_addSimpleFilter:function(e,t,i){var n=null;return 0==m(".filter-"+e).length?(n=m('<div class="filter filter-'+e+'"><div class="condition-input"></div><input class="filter-input" type="hidden" name="filters[]" value="" /></div>'),m(this.list).append(n),"custom"==this.options.filters[e].value_input_type&&this.options.filters[e].callback.call(this.element,n,m(".filter-input",n))):n=m(".filter-"+e),m(this.list).hide().show(),n},searching:function(){return this.searching},_updateFilter:function(e){var t="";if(""!=(m(".filter-value-input",e).val()||"")){var i=m(e).attr("class").match(/filter\-([0-9]+)/);t+=this.options.filters[i[1]].name+":",t+=(m(".filter-condition-input",e).val()||"eq")+":";var n=m(".filter-value-input",e)[0].getAttribute("placeholder");n&&n==m(".filter-value-input",e)[0].value||(t+=m(".filter-value-input",e).val()||"")}m(".filter-input",e).val(t)},refresh:function(){this._change()},_change:function(){var e,t=[],i=m(".filter-input",this.element),n=i.length;for(e=0;e<n;++e){var o=i[e].value.split(":",3);""!=i[e].value&&""!=o[2]&&t.push(i[e].value)}this._trigger("change",null,{values:t}),m(".ui-filter-loading",this.element).addClass("hide")},removeAll:function(e){var t,i=m(".list .filter",this.element),n=i.length;for(t=0;t<n;++t)this.removeFilter(i[t],e)},removeFilter:function(e,t){var i=m(".filter-input",e).val(),n=i.split(":",3);m(".filter-condition-input, .filter-value-input",e).unbind(".filter.edit"),clearTimeout(m(".filter-condition-input",e).data("timeout")),clearTimeout(m(".filter-value-input",e).data("timeout")),m(e).remove(),t||""==i||""==n[2]||this._change(),0==m("tr",this.list).length&&m(this.list).hide()}}),m.extend(m.ui.filterlist,{version:"1.8.5"})}(jQuery),function(g){g.widget("ui.form",{options:{create:function(){},beforeSubmit:function(){},submit:function(){},validations:[],errors:{},positionError:null},get_options:function(){return this.options},_create:function(){var e,t=this;for(e in this.existsRegexp=/(.*)\s+if\s+([^\s]+)\s+(!){0,1}exists/,this.inputIndex={},g('input[type="submit"]',this.element).removeData("form.disabled"),g(this.element).bind("submit",function(e){return t._submit(e)}),0==g(".ui-form-error").length&&g('<div class="ui-form-error"></div>').appendTo(document.body),g.style_checkboxes(),this.options.errors)break;e&&0<this.options.errors[e].length&&g.inputError(this.element[0].elements[e],this.options.errors[e][0],this.options.positionError)},_submit:function(e){return!g('input[type="submit"]:focus',this.element).data("form.disabled")&&(!1!==this.options.beforeSubmit.call(this.element[0],e)&&(!!this.validateAll()&&(g("input",this.element[0]).each(function(){g(this).attr("placeholder")!=g(this).val()||g(this).hasClass("state-editing")||g(this).val("")}),void 0!==g.data(this.element[0],"events")&&void 0!==g.data(this.element[0],"events").validated?(g(this.element).trigger("validated"),!1):!1!==this.options.submit.call(this.element[0],e)&&(g('input[type="submit"]',this.element).not(".no-disable").data("form.disabled",!0),!0))))},validateAll:function(){for(var e=this.options.validations,t=0,i=e.length;t<i&&t<100;t++)if(!this.validate(e[t]))return!1;return!0},validateSpecified:function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i]]=!0;var o=this.options.validations;for(i=0,n=o.length;i<n;i++){var a=o[i];if(t[a.field]&&!this.validate(a))return!1}return!0},validate:function(e,t){if(g("input").removeAttr("aria-invalid"),g("input").removeClass("has-error"),t){if(!e.opts.if_exists)return!0;if("object"!=typeof e.opts.if_exists&&(e.opts.if_exists=[e.opts.if_exists]),-1==g.inArray(t,e.opts.if_exists))return!0}if(e.opts.if_exists){"object"!=typeof e.opts.if_exists&&(e.opts.if_exists=[e.opts.if_exists]);for(var i=!0,n=0;n<e.opts.if_exists.length&&i;n++){if(void 0!==(l=this.element[0].elements[e.opts.if_exists[n]])){if(l.name==t)continue;if(l.length&&0<l.length){for(var o=l,a=null,r=0;r<o.length&&!a;r++)o[r].checked&&!o[r].disabled&&(a=o[r]);a&&""!=a.value&&0!=a.value||(i=!1)}else i=!l.disabled&&("checkbox"==l.type?l.checked:g.check_exists(g.getInputValue(l)))}}if(!i)return!0}if(e.opts.if_not_exists){"object"!=typeof e.opts.if_not_exists&&(e.opts.if_not_exists=[e.opts.if_not_exists]);var s=!0;for(n=0;n<e.opts.if_not_exists.length&&s;n++){var l;if(void 0!==(l=this.element[0].elements[e.opts.if_not_exists[n]])){if(l.name==t)continue;if(l.length&&0<l.length){for(o=l,a=null,r=0;r<o.length&&!a;r++)o[r].checked&&(a=o[r]);a&&""!=a.value&&0!=a.value&&(s=!1)}else s="checkbox"==l.type?!l.checked:!g.check_exists(g.getInputValue(l))}}if(!s)return!0}if("count"==e.name){var c,d=this.element[0].elements[e.field+"[]"],u=0;for(n=0;n<d.length;n++)""==g.trim(d[n].value)?c=c||d[n]:u++;return g.check_amount(u,e.opts)?!0:(c=c||d[d.length-1],g.inputError(c,e.message,this.options.positionError),!1)}if(void 0!==(l=this.element[0].elements[e.field])){var h=g.getInputValue(l);if(e.opts.fields){e.opts.values={};for(n=0;n<e.opts.fields.length;n++)e.opts.values[e.opts.fields[n]]=g.getInputValue(this.element[0].elements[e.opts.fields[n]])}if("function"!=typeof g["check_"+e.name])return alert("Invalid validation check: "+e.name+"."),!1;if(!g["check_"+e.name](h,e.opts)){if(void 0!==e.opts.area_of_effect){var p=g(e.opts.area_of_effect),f=p.offset();window.scrollTo(0,f.top),p.flashError(),l=p}return g.inputError(l,e.message,this.options.positionError),!1}}return!0}}),g.check_exists=function(e,t){if(t&&t.values)var i=t.values.message_mode;return"bbcode"==i?e=(e=e.replace(/\[\/?(b|i|p|u|s|em|div|sub|sup|font|span|strong)(\s+.*?)?\]/gim,"")).replace(/\[br\]/gi,""):"visual"==i&&(e=(e=e.replace(/<\/?(b|i|p|u|s|em|div|sub|sup|font|span|strong)(\s+.*?)?>/gim,"")).replace(/<br(\s?\/)?>/gi,"")),e=e.replace(/&nbsp;/g,""),""!=(e=g.trim(e))},g.check_date_format=function(e,t){if(""===e)return!0;var i=null,n=null,o=null;if(t.input_date_format&&t.input_date_regex){var a=new RegExp(t.input_date_regex),r=e.match(a);if(r){var s=t.input_date_format.replace(/[^dmY]/g,"").split("");for(r.shift();s.length;){var l=parseInt(r.shift(),10);switch(s.shift()){case"d":o=l;break;case"m":n=l;break;case"Y":i=l}}}}if(!i||!n||!o)return!1;var c=proboards.time.createDate(e,"00:00",{utc:!0});if(!c)return!1;var d=c.getUTCFullYear(),u=c.getUTCMonth()+1,h=c.getUTCDate();return i==d&&n==u&&h==o},g.check_time_format=function(e,t){return!(""!==e&&!/^(?:(?:(?:(?:0?[1-9])|(?:1[0-2])):[0-5][0-9]\s?[ap]m)|(?:(?:(?:[01]?[0-9])|(?:20|21|22|23)):[0-5][0-9]))$/i.test(e))},g.check_url=function(e,t){return new RegExp("^(?:(?:https?:)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff0-9-]{2,63})))(?::\\d{2,5})?(?:(?:/|\\?)\\S*)?$","i").test(e)},g.check_matching_values=function(e,t){return e==g('[name|="'+t.field+'"]').val()},g.check_date_range=function(e,t){var i=t.start_date||"start_date";return!(!g.check_date_format(e,t)||!g.check_date_format(t.values[i],t))&&proboards.time.createDate(t.values[i],"00:00",{utc:!0})<=proboards.time.createDate(e,"00:00",{utc:!0})},g.check_date_and_time_range=function(e,t){if(!g.check_date_range(e,t))return!1;var i=proboards.time.createDate(t.values.start_date,"00:00",{utc:!0}),n=proboards.time.createDate(e,"00:00",{utc:!0}),o=i.getTime()==n.getTime(),a=t.values.start_time,r=t.values.end_time;if(!(o&&a&&r))return!0;var s=t.values.start_time.split(":"),l=t.values.end_time.split(":"),c=parseInt(s[0]),d=parseInt(s[1].substr(0,2)),u=/(am|pm)/i;if(u.test(s[1])){var h=RegExp.$1.toLowerCase();"pm"==h&&12!=c?c+=12:"am"==h&&12==c&&(c=0)}var p=parseInt(l[0]),f=parseInt(l[1].substr(0,2));if(u.test(l[1])){var m=RegExp.$1.toLowerCase();"pm"==m&&12!=p?p+=12:"am"==m&&12==p&&(p=0)}return 60*c+d<=60*p+f},g.check_email=function(e,t){return!!(new RegExp("^[a-z0-9.!#$%&'\"*+-=?^`_{|}~\\\\ ]{1,63}@(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff0-9-]{2,63}))$","i").test(e)&&e.length<255)},g.check_value=function(e,t){return void 0!==t.case_sensitive&&t.case_sensitive?e==t.value:e.toString().toLowerCase()==t.value.toString().toLowerCase()},g.check_dollar=function(e,t){var i=void 0!==t.allow_sign&&t.allow_sign?"^\\$?":"^";return i+=void 0!==t.allow_commas&&t.allow_commas?"(\\d+|[1-9]\\d{0,2}(,\\d{3})*)":"\\d+",i+="(\\.[0-9]{2})?$",!!(i=new RegExp(i)).test(e)},g.check_amount=function(e,t){if(!g.check_numeric(e,t))return!1;if(void 0!==t.allow_commas&&t.allow_commas&&(e=e.toString().replace(",","")),e=parseFloat(e,10),void 0!==t.less_than){if(e<t.less_than)return!0}else if(void 0!==t.less_than_equal_to){if(e<=t.less_than_equal_to)return!0}else if(void 0!==t.equal_to){if(e==t.equal_to)return!0}else if(void 0!==t.not_equal_to){if(e!=t.not_equal_to)return!0}else if(void 0!==t.greater_than_equal_to){if(e>=t.greater_than_equal_to)return!0}else if(void 0!==t.greater_than){if(e>t.greater_than)return!0}else alert("Invalid amount check option provided.");return!1},g.check_length=function(e,t){if(e=e.toString(),void 0!==t.less_than){if(e.length<t.less_than)return!0}else if(void 0!==t.less_than_equal_to){if(e.length<=t.less_than_equal_to)return!0}else if(void 0!==t.equal_to){if(e.length===t.equal_to)return!0}else if(void 0!==t.greater_than_equal_to){if(e.length>=t.greater_than_equal_to)return!0}else if(void 0!==t.greater_than){if(e.length>t.greater_than)return!0}else alert("Invalid amount check option provided.");return!1},g.check_message_length=function(e,t){return"bbcode"!=g('input[name="message_mode"]').val()&&!t.bbcode||!((e=(e=e.replace(/\n/gm,"[br]")).replace(/\r/gm,"")).length>t.max_length)},g.check_numeric=function(e,t){var i=void 0!==t&&void 0!==t.allow_commas&&t.allow_commas?"^(\\d*|[1-9]\\d{0,2}(,\\d{3})*)$":"^\\d*$";return!!(i=new RegExp(i)).test(e)},g.check_regex=function(e,t){var i=!!new RegExp(t.regex,t.case_insensitive?"i":"").test(e);return t.negate?!i:i},g.clearInputError=function(){g(".ui-form-error").hide()},g.getInputValue=function(e){if(e.length&&1<e.length&&!g(e).is("select")){for(var t=null,i=0;i<e.length&&!t;i++)e[i].checked&&(t=e[i]);if(null==t)return"";e=t}return("checkbox"!=g(e).attr("type")||void 0!==g(e).attr("checked")&&""!=g(e).attr("checked"))&&(g(e).attr("placeholder")!=e.value||g(e).hasClass("state-editing"))&&e?e.value:""},g.inputError=function(e,t,i){var n=g(e),o=g(".ui-form-error");if(n.is(":hidden")){var a=g("."+n.attr("name")+"_alt");0<a.length&&(n=a.eq(0))}if(e=n.get(0),0==o.length&&(o=g('<div class="ui-form-error"></div>').appendTo(document.body)),o.one("click",g.clearInputError),n.addClass("has-error"),"function"==typeof i)i.call(n,t);else{var r;n.is(":hidden")?(n.show(),n.is('[type="hidden"]')?(e.type="text",(r=n.offset()).top+=n.outerHeight(),e.type="hidden"):r=n.offset(),n.hide()):r=n.offset(),r&&(r.top+=n.outerHeight(),o.css({top:r.top+"px",left:r.left+"px"})),o.text(t).attr("role","alert").show(),n.attr("aria-invalid","true");var s=n.get(0).tagName.toLowerCase();if(-1!=g.inArray(s,["a","input","select","textarea"]))n.focus().flashError();else{var l=n.offset().top-60;l<0&&(l=0),window.scrollTo(0,l)}}g.handleError(e)},g.handleError=function(e){0==(e=g(e)).filter(":visible").length&&(e=e.closest("body")),e.one("keypress.form click.form change.form",function(e){g.clearInputError()})},g.fn.flashError=function(e){var t=this;void 0===e&&(e="ui-error"),g(t).addClass(e),clearTimeout(i);var i=setTimeout(function(){g(t).removeClass(e),i=setTimeout(function(){g(t).addClass(e),i=setTimeout(function(){g(t).removeClass(e)},200)},200)},200)},g.fn.input_placeholder=function(e){return""==g(this).val()&&(g(this).val(e),g(this).addClass("ui-active")),g(this).addClass("ui-input-placeholder"),g(this).bind("focus",function(){g(this).val()==e&&(g(this).val(""),g(this).removeClass("ui-active"))}),g(this).bind("blur",function(){""==g(this).val()&&g(this).val(e),g(this).val()==e&&g(this).addClass("ui-active")}),this},g.style_checkboxes=function(){g(".styled_checkbox").each(function(){g(this);g(this).on("click",function(){g(this).parent().find("label").toggleClass("checked",g(this).prop("checked"))})})},g.extend(g.ui.form,{version:"1.8.2"})}(jQuery),function(e){e.widget("ui.loadingStatus",{options:{loadingClass:"loading",loadingCss:null,loadingText:"Saving...",successClass:"success",successCss:null,successText:"Saved",errorClass:"error",errorCss:null,errorText:"Error",successDisplayTime:3e3,errorDisplayTime:4e3},_create:function(){this.element.addClass("ui-status")},_init:function(){this.timeout=null,this.originalStyle=this.element.attr("style"),this.element.css("display",""),this.element.css("opacity",""),this.baseStyle=this.element.attr("style"),this.element.css("opacity",0).hide(),this.visible=!1},_destroy:function(){this.element.removeClass("ui-status").attr("style",this.originalStyle),e.Widget.prototype.destroy.call(this)},setStatus:function(e,t){var i=this,n=this.options;this.clearStatus("loading"==e),"loading"==e?(this.element.html(t||n.loadingText).addClass(n.loadingClass),n.loadingCss&&this.element.css(n.loadingCss),this.toggle(!0)):"success"==e?(this.element.html(t||n.successText).addClass(n.successClass),n.successCss&&this.element.css(n.successCss),i.toggle(!0),this.timeout=setTimeout(function(){i.toggle(!1)},n.successDisplayTime)):"error"==e&&(this.element.html(t||n.errorText).addClass(n.errorClass),n.errorCss&&this.element.css(n.errorCss),i.toggle(!0),this.timeout=setTimeout(function(){i.toggle(!1)},n.errorDisplayTime))},classes:function(){var e=this.options;return[e.loadingClass,e.successClass,e.errorClass]},clearStatus:function(e){clearTimeout(this.timeout),this.element.html("").removeClass(this.classes().join(" ")).attr("style",this.baseStyle),e&&(this.element.css("opacity",0).hide(),this.visible=!1)},toggle:function(e){var t=this;if(void 0===e&&(e=!this.visible),e!==this.visible){var i=e?{opacity:1}:{opacity:0},n=e?null:function(){t.element.hide()};this.element.animate(i,n),this.visible=e}}})}(jQuery),function(a){a.widget("ui.menu",{options:{showOn:"hover",show:null,hide:null,beforeShow:null,onClose:null,button:null,click:null,clickHide:!0,position:{my:"left top",at:"left top",of:"mouse",collision:"flipfit"},addedMenu:null,showDelay:0},_create:function(){var n=this;this.element.addClass("ui-menu ui-helper-clearfix").hide(),a("li:has(ul)",this.element).addClass("ui-menu-has-sub-menu"),a("li > a",this.element).on("mouseenter",function(e){var t=a(this).closest("li");a("> ul",t).removeClass("state-timeout-hiding");var i,n=t.parents("li"),o=n.length;for(i=0;i<o;++i)a("> ul",n[i]).removeClass("state-timeout-hiding")}),a("li:has(ul) > a",this.element).on("mouseenter",function(e){var t=a(this).closest("li");return clearTimeout(n.hidingTimeout),n._hideTimedOutMenus(),n._showMenu(a("> ul",t)),!1}),a("li > a",this.element).on("blur",function(e){n.element.addClass("state-timeout-hiding"),a(this).parentsUntil(n.element,"ul").addClass("state-timeout-hiding"),clearTimeout(n.hidingTimeout),n.hidingTimeout=setTimeout(function(){n._hideTimedOutMenus()},500)}),a("li:has(ul)",this.element).on("mouseleave",function(e){a("> ul",this).addClass("state-timeout-hiding"),clearTimeout(n.hidingTimeout),n.hidingTimeout=setTimeout(function(){n._hideTimedOutMenus()},500)}),a("li",this.element).append('<span class="arrow right"><span></span></span>').live("click.menu",function(e){a(this).hasClass("state-disabled")||(n._trigger("click",e,{item:this}),(!a(this).hasClass("no-hide")&&!a(this).hasClass("ui-menu-has-sub-menu")||a(this).hasClass("actionable"))&&n.options.clickHide&&n.hide()),e.stopPropagation()}),a(this.element).bind("contextmenu.ui-menu",function(e){if(n.disableContextMenu)return n.disableContextMenu=!1}).bind("mouseenter",function(){n.element.data("hotkey-open",!1)}),this.options.button&&"rightClick"==this.options.showOn&&a(this.options.button).bind("contextmenu.ui-menu",function(e){return e.preventDefault(),!1}),this.options.button&&(a("a:first",a(this.options.button)).on("mouseenter",function(e){if("hover"==n.options.showOn){var t=setTimeout(function(){n.show(e)},n.options.showDelay);a(this).data("timeout",t)}}),a("a:first",a(this.options.button)).on("mouseleave",function(e){"hover"==n.options.showOn&&clearTimeout(a(this).data("timeout"))}),a(this.options.button).bind("mousedown.ui-menu",function(e){("click"==n.options.showOn&&1==e.which||"rightClick"==n.options.showOn&&3==e.which)&&(n.element.is(":visible")?n.hide():n.show(e),n.disableContextMenu=!0)})),a(document).bind("mousedown.ui-menu",function(e){if(n.element.data("hotkey-open",!1),!n.element.is(":hidden")){for(var t=e.target,i=!1;!i&&t&&t.nodeName&&"body"!=t.nodeName.toLowerCase();)(t===n.element[0]||n.options.button&&t===a(n.options.button)[0]||n.options.addedMenu&&t===a(n.options.addedMenu)[0])&&(i=!0),t=t.parentNode;i||n.hide()}})},_showMenu:function(e){var t={my:"left top",at:"right top",of:a(e).parent("li"),offset:"-2 -3",collision:"flipfit"};a(e).show().position(t)},_hideMenu:function(e){a(e).hide()},_hideTimedOutMenus:function(){var e,t=a("ul.state-timeout-hiding",self.element),i=t.length;for(e=0;e<i;++e)a(t[e]).removeClass("state-timeout-hiding"),this._hideMenu(t[e])},show:function(e){if("function"!=typeof this.options.beforeShow||!1!==this.options.beforeShow.call(this.element)){if(this.element.show(),"rightClick"==this.options.showOn){var t=a.extend({},this.options.position);t.of=e,this.element.position(t)}else this.element.position(this.options.position);this._trigger("show")}},hide:function(){this.element.is(":hidden")||this.element.data("hotkey-open")||(this.element.hide(),this._trigger("hide"),this.options.onClose&&this.options.onClose.call())},clearClickCallback:function(){a("li",this.element).die("mouseup.ui-menu")},setClickCallback:function(t){var i=this;a("li",this.element).live("mouseup.ui-menu",function(e){e.stopPropagation(),t.call(i,e)})},showOption:function(e){a("li."+e,this.element).show()},hideOption:function(e){a("li."+e,this.element).hide()},showAllOptions:function(){a("li",this.element).show()},hideAllOptions:function(){a("li",this.element).hide()},enableOption:function(e){a("li."+e,this.element).removeClass("state-disabled")},disableOption:function(e){a("li."+e,this.element).addClass("state-disabled")},enableAllOptions:function(){a("li",this.element).removeClass("state-disabled")},disableAllOptions:function(){a("li",this.element).addClass("state-disabled")}}),a.extend(a.ui.menu,{version:"1.8.5"})}(jQuery),function(s){s.widget("ui.pagination",{options:{maxSlots:9,total:0,page:1,limit:10},_create:function(){var o=this;this.page=this.options.page,this.pages=Math.ceil(this.options.total/this.options.limit),this.options.limit<1&&(this.options.limit=1);var e=this.options.maxSlots;e<5&&(e=this.options.maxSlots=5),this.pivot=Math.ceil(e/2),this.evenSlots=e%2==0,this.element.hide().addClass("ui-pagination"),this.prevPage=s('<li class="ui-pagination-page ui-pagination-prev"><a>&laquo; Prev</a></li>');for(var t="",i=0;i<e;i++)t+='<li class="ui-pagination-page ui-pagination-slot"><a rel="norewrite"></a></li>';this.nextPage=s('<li class="ui-pagination-page ui-pagination-next"><a>Next &raquo;</a></li>'),this.element.append(this.prevPage,t,this.nextPage),s(".ui-pagination-page",this.element).hover(function(e){s(this).hasClass("state-disabled")||s(this).hasClass("state-selected")||s(this).addClass("state-hover")},function(e){s(this).removeClass("state-hover")}),s(this.element).on("click",".ui-pagination-page",function(e){if(!s(this).hasClass("state-disabled")&&!s(this).hasClass("state-selected")){var t=e.target;"a"==e.target.nodeName.toLowerCase()&&(t=t.parentNode);var i=s("a",t).text().replace(",","");if(-1!=i.indexOf("Prev"))n=o.page-1;else if(-1!=i.indexOf("Next"))n=o.page+1;else if(-1!=i.indexOf("..")){var n=parseInt(prompt("Enter a page number:",""),10);if(isNaN(n))return!1;n<1&&(n=1),n>o.pages&&(n=o.pages)}else n=i;o._trigger("change",e,{page:n,pages:o.pages})}return!1}),this.refresh(),this.element.show()},_commify:function(e){var t="";e=(e=(e=e.toString()).split("")).reverse();for(var i=0,n=0;i<e.length;i++)2<n&&(t+=",",n=0),t+=e[i],n++;return(t=(t=t.split("")).reverse()).join("")},gotoNextPage:function(){this.page!=this.pages&&this._trigger("change",null,{page:this.page+1,pages:this.pages})},gotoPreviousPage:function(){1!=this.page&&this._trigger("change",null,{page:this.page-1,pages:this.pages})},changeMaxSlots:function(e){this.options.maxSlots=e,this.pivot=Math.ceil(this.options.maxSlots/2),this.evenSlots=this.options.maxSlots%2==0,s(this.element).html(""),this.prevPage=s('<li class="ui-pagination-page ui-pagination-prev"><a href="">&laquo; Prev</a></li>').appendTo(s(this.element));for(var t=0;t<this.options.maxSlots;t++)s(this.element).append('<li class="ui-pagination-page ui-pagination-slot"><a></a></li>');this.nextPage=s('<li class="ui-pagination-page ui-pagination-next"><a href="">Next &raquo;</a></li>').appendTo(s(this.element))},refresh:function(e){e&&(void 0!==e.limit&&(this.options.limit=e.limit),void 0!==e.page&&(this.options.page=e.page),void 0!==e.total&&(this.options.total=e.total));var i=location.href;i.match(/page=\d+/)||(i+=location.search||location.hash?"&page=":"?page="),this.options.limit<1&&(this.options.limit=1);var n,o,t,a=this;if((n=Math.ceil(this.options.total/this.options.limit))<1&&(n=1),o=parseInt(this.options.page,10),n<o?o=n:o<1&&(o=1),t=n,this.page=o,this.pages=n,1==o?this.prevPage.addClass("state-disabled").children("a").attr("href",""):this.prevPage.removeClass("state-disabled").children("a").attr("href",i.replace(/page=\d*/,"page="+(o-1))),o==t?this.nextPage.addClass("state-disabled").children("a").attr("href",""):this.nextPage.removeClass("state-disabled").children("a").attr("href",i.replace(/page=\d*/,"page="+(o+1))),s(".ui-pagination-slot",this.element).show().removeClass("state-selected").removeClass("state-disabled"),n<=this.options.maxSlots)r=1,s(".ui-pagination-slot",this.element).each(function(e,t){r<=n?(s(t).children("a").text(a._commify(r)).attr("href",i.replace(/page=\d*/,"page="+r)),r==o&&s(t).addClass("state-selected")):s(t).hide(),r++});else{var r=1;s(".ui-pagination-slot",this.element).each(function(e,t){1==e&&o>a.pivot?(s(t).children("a").text("..").attr("href","#"),r=o<=n-a.pivot?o-(a.pivot-3):n-(a.options.maxSlots-a.pivot)-(a.pivot-3)):e==a.options.maxSlots-2&&o<n-(a.options.maxSlots-a.pivot)?(s(t).children("a").text("..").attr("href","#"),r=n):(s(t).children("a").text(a._commify(r)).attr("href",i.replace(/page=\d*/,"page="+r)),r==o&&s(t).addClass("state-selected"),r++)})}}}),s.extend(s.ui.pagination,{version:"1.8.5"})}(jQuery),function(a){a.widget("ui.passwordStrength",{options:{imageContainer:null,statusContainer:null,defaultCriteria:!0,additionalCriteria:null,visualImages:null,statusText:null},_create:function(){this.element;var e=this.options;if(e.imageContainer||e.statusContainer)e.imageContainer&&(e.imageContainer=a(e.imageContainer)),e.statusContainer&&(e.statusContainer=a(e.statusContainer));else{var t=a('<div class="ui-password-strength"></div>'),i=a("<div></div>"),n=a("<div></div>");t.append(i,n),this.element.after(t),this.generatedElem=t,e.imageContainer=i,e.statusContainer=n}var o=a("<img />");e.imageContainer.append(o),e.imageElem=o},_init:function(){var n=this;n._setup();var o=n.element,a=n.criteria,r=a.length;o.on("keyup.ps",function(){for(var e=o.val(),t=0,i=0;i<r;i++)"function"==typeof a[i]&&a[i].call(e)&&t++;n.strengthLevel=t,n._setVisual(),n._setStatus()}).trigger("keyup.ps")},_setup:function(){var e=this;e.strengthLevel=0,e.visualImages={0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATZJREFUeNrsmGEOgyAMhUeyS/jf+1/LQ6hhYmJiTAt9FWXR95ItS0FhpR8thBjjh6IoTN/01fd9tzeGEMTOmv0GDcuns3TUNoKjPbdhaH0Lm8yw+KezzqeVH5E5Sv+75BukPf0W7Ota7+3S+JJdGksb/9imjaP4ZVjBmaapGRy1Akt6jxcWqwOfKC1IS1ChfRRoTIBIdgSUGuu6gjPP860QWLOCd6GvguXpECG+LGWYUsbyZDP0+ctLtQ0cJGDQSZ7NCDUyhBcUS9+GZax5bXJztILigeXfgr4aOFup5glABADvc56zB3pOYamGA/D6y4EEjjc1o7szEqCWna3GeynqVMaxHL6sNa61/WzJRlHNwElnnNKNRA4cBj71SnDGcRSvCt98LUtRrssBiqJ0BcJCUbh+AgwAXe5qGKZgHg0AAAAASUVORK5CYII=",1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqBJREFUeNrsmF1u5CAMx23US8zzvq1W6v1P0UPsw5xhRhq8YGwwLDQhmqrRFEttEvOVSfzL3waJCJYtWzZnb/Hf3/ffBAEgxHCB5cgWzhG9+MLRSTsfia/TGJ+OTvundu6XfeEPkg/Ep2Pz/LFdr8M5goc/H7/i1WXPDxp9CFr/Zx+MUd+Nj8wVES977+ebbOoee79769nMtMfzjv8a37X199bv+XtrjdZv20brDJ7LlcGBxyM5QIBRMEDOOcDlCLqY+LzP8PAf6Xgv8Ikv9KE8PszNPrl2VM+v60EcQ3C/3w8BcxSWvQ/wFW0UpFtQzfYZQLMLkJ5/BpRnvFcGhx5exIUKOCRBLwFNGuAKBgkY6nNgwAn9A1DsI+3jRWEEUaQyh8CU4BJgYjOmm/wMnK2H8UxYXh2imWe5pTBbinVEzWbHf3mqxgFcAZECnrAENIJRD1UXJ/2dBDsUmBiSam5RGCxjyMmP97p286JgDM4RhTgKyp6+iHhKAPbe415QjsBytqB/HjghVSMFB3ydqiksAFlNYjunXV7VJKVs3JZhMikapPkiIPHdkTOiA7IsFHZH4MzUHrN1ykrV5gH48ZsDFGucnJpJ9KoKRCXxRYVyXYJFaUoNIw/bSQ0DtUCpqlifvgI04PARS9vtdjv01VsvftkXK46XVMuAYwt5V9K4rEwu1SERMHRGHsiULe21AAFUK46VGG3GjVRt2bLvVxyfFAcbcLg4R/OFRhPc2hVLU86vLCQ9mMBsuDVjeW7stC1bdsoaR6KfdLsZ6w0wMClUVYRE4Kx6yM5atTttVcYCqHA07a3iLFt2SnAena2sXG80eRfaolHgQhlAIhMRBO4nYKXhVO10o63+fYEng4P/bxYsW3YWw1UoL1s2b/8EGADc3ycBPHlyUwAAAABJRU5ErkJggg==",2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuJJREFUeNrsmNGO4yAMRW20PzFP+7JP+3Gr/et+Q2dSvEkbyPXFNI00K1UtSG3AGEgrH65BzUxGGWWUY+XH8vX155eJrpblqQr19SN2v+3G2/ZcSuL6Oj7BPIl9oT/NHjpXattg3FIj23V9o/dYfaK22Ga79mc/l+Rat/U3Zrs9y7bz++9PncsH/8FPtjGdjrxjsWM/+7LPkf6lHthP8+cD7dH6kT1aq7c+9/XW6fwvpys4kqfNmnSDYA8OBkUQGugzsBv0s12K7/zAcWWMCczh/avtHiwZoKohnz1stvnbOncu3tf3utWNwPn8/HyJnbQXpHtQHfXpQPMQIJH9CCjfsaGt4FxgdQYEAEKQQqhIPZRUwUFmm/pgsCNYJZiTeOhwfrSptEoi5t7DQScekAqFtG3uE7TPlfP5/JLQHIVqz2cPpkcV75Hx/z1V28CxVlkiaBRAiPqNbDmAgdUHIYE0bFMVHEfpXFG/mnL596oggEpYmfoOLPW3sg/Vl/JM4PQCSFUPjekF5VFYni3ovw0cu0xBGtU701h83sF+I3vy6hPaOWVTjG4BpfGpX4UBoTAIetuUQQgc5ycxQEJPA1hwjVdVnD2g3vpyQK7gwJ+B55VumtZTHPMKg4HOsJi1QK0qgEEvBIdLk+C8hIAgABWETKBkGB8pCY4XTl/FKdk0TeOq6e3AyVN7IWCsLEbKcsfmDum3uUzvBD1BgsEeqUqFZL2Fa2BhILRVkQYKAkiilE1iiMYG/LbgXNbIo2tkPlxHB26xdtdOlPJgoKIyJGnPHxE4HKAJILANoBrUBabIjjCkAAiFsVBvIGN1HuUNwZm+/PVyhaiFw+X5AIZrW7DTa6AoBoFpLWh1jgJY9ooTpXPOxulZJkCyNDeD0bmmuT0c4AxwXKoGKVUJamxnhoWvcbUDU4J+ac8PojvgmJ9fAjAcINqqTKgwATB8q2h0NY+Ko2kE0LsWHTcko4xyvPwTYADMMjEE7vo9DwAAAABJRU5ErkJggg==",3:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvRJREFUeNrsWVuOGkEMbEt7if3KT75ygdw+19kzwBIqMJsB213VDwRSpLSleeB2t4ehyo/GAJQlS5bMydv19Pnr+509dj2stmzp870NjPXm+KttZzTn2GX4GgQ2HZINnM6PIY0xHao1sF3h7P0z+nmIz5D1JdtB6/YrQOyiny0WXu7P55vVJj9+frOLvOefUAXPXe/Hs222mRm/3hP9x+V493rmn+mZL+U/jyk/4r18vH3dnSKSIUCu9CMCRSD07a3jFwncfhEkQIaxCGIQ3X3Nvz7gfZBn9wDP/kp6Riu1DtD2xRHDffX92NcD4qz9ejwe+z+TAGmPVLM2gjRDBGH6GaL0iDGccQp+Pyd/Af2MowAHlilGyAhKjNuLsQQ8NCI/2FoJ1IqElPWo303R80HMUWpS+NhWUVyR6HI6HA7TpJklVc+mR6bRjDcy/+Wl2p046KSLBNgmOfIUkMzDSirimpZxiHOQyyIFXojMo6L8HGmQnvcG9HQNyT2Pu++KRIowluYwEnl9izijRHmELP8a6J9GHNxKNXTIksoRaatIBZ15VMaxnh+4cg6cSIaaaEWXVBlwNwsbI8MMcVgOatoogpEsE6rvBzNOj1D/9ebAV48DXXoV1SeIPqPVvwAi40CvmW2UH9QNeQBUIRG+kJLIIvhgpNsQJPDPW72xxhxajoEHELSLXpmVTqfT2g57PnEaIKQZAu3sk8sfaxAQEGVYJ/r6zymqB7A2In/VQ+R1S1wTA7uB2SZ8ht7sYFmiIlejPEZvrSWv6HFUra9IgNgjEHKEZrcRhWm5MhDBkTYCMQB2lkn2+wDUorNRGSAQWPQf3YJv2Yq1m1svtoD+GuKcP1lrmcIUQsRTTesGTNMRMPQLDMwMbNafS0nlS68isosiISmXMEOCRwhjuuSSmzCz90teUarFxpiSgjWqDJCpQYVpMAbwGt+Gbe40WepDcskmSjXlj5FXjQ392TtKlMk/k21gvtkizivE1g7JkiXz8keAAQBaA14mwov2OQAAAABJRU5ErkJggg==",4:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+hJREFUeNrsWjGS2zAMJG6uSpsqTar8/1tp0/ruyI1sizKwXFDyJI1mrBmdKICkaGoXC1JnAMrreB2v47nj/frn88+vG306hVDMlf252K0kPn22Euu3SR2+b2u7ZsWWe7Skjre1pWa438qgdrj2+3hGOBHthmDn56/nMkpDYx8wjmV5bl1npbo+Kz23Gh5jFc/3dqx9Rp/zr2O8zmPs1z0f0e77urYprq8a6sTnYPCB3stSxvre2oqP9f7bz+/LLyk/ekC/Xn1wn9m9b2ZTvuw56lh8v9/vpS9ntkeFCeOQ+JH4NrtxvQj0cpCIow0bOAsBCxkhPJgRAQwqc30MZMvtGxFcX3UAnSYEAX8YI1972ZNAtS0O/G34rRgCDROFr7UkxLgBLV4lUNbrx8fHLkGU/Rmi7BHjsOJcp+VZghQJckx8fo6QEAOy3UylAjmgiDECn4HMAB4Jl9uzMiuTUhbl90FgUCBg+N2sMrEv6HlKVKwKQgzBBG7cnhCOKEyG29UiKAJu3Yu9XC6SJJntf5LhH4iDlB6jkuAAkUI4kESb349k4dSrlwv10SSgRyCxWsV2HPk1Ee+npYrTMBJuTKtGO4RKqfEqsrSk/3uAoeCDnqrF+0AQG5VDKkrmK6Pq+Po9VeuKc4o1DspXAPdeopYBXrV9jihIFSar3wRZZAoEFaFLSG/aDsEyZTlmj+TICBvGh6RfkB9lW6/5tqBrc+lyCEhwQCaw8xv1dWTUVNe+AsBOKnOifaptjYMym4lsNpQqYUdBEj8gFAZ5WjYQQCuIXqM4PzKVeEThDsoUyL3ft9GX9l8ioHvdkMIZtYdu1zccFEkahHJbkm5N1F7F1enGEK9nyk6+f0rirIqDgQC5kmxlYDoL3AcOEQwhGg5g9ZGWo7BR2uF8DMwNQBhBXqneEeIU21EiN8aGXEm2MRmpR9LflDgK1LaTUkHsnNp+6qXAr9qnCnM+4lS9xQEcADvylAsxHYAHJOXRnH4wKPoouU5YDyACqCakU3UzxfEArsh3zm7EeaPxiU2CRrOd/uZC6Rf0GiVL1eQc03xKlcGIBJXeMdAHhWISGNU9+efDNVX7TBJQ0gpBhNsLdfbqFnwq8lVnLx7wAjweuL7eQBYigx8LA6/Cf5+JZKgJgDllSnfPbLLbhgPb19BtszUPklTNp2FSeUxs/0PvEHOb3U2gDEE2Xwickzh9c8CRoxOCVaOJvLkRoNO2Lso398Iq7er0+ilYfUpFYKnJWBl4FZEQu6ngBPBHiBPGYIl6IO8f4rdiQlIkH4jl5sDk08p2b3PCpCSy+P1OksfORxx7/cvN63gdzx9/BRgArTdZhiaGbR4AAAAASUVORK5CYII=",5:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAAAMCAYAAAAqP4J7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA0dJREFUeNrsmt2S2yAMhdFMH2Xv+lx9/95vymmSxrEQRz/E2c5emMxsQgyCgD4dGa8AaGc5y1nWyo/bn5+fHzs9109yfen6VgT8+6lA2yLtEXzH7cj9L/L+2D/8G3urAmM7U9fvNphsdXRM8xM1R7nVjL17X/jr4/4mbXuxX7De0tQc5WEHDbTfPnc8x7Rtt7p93+eJwZa+fvs8re1jr6H66f3QdgZbHc+93/cW4/i2vx5jq2s/6nxNf/+C3MG5XF9PODQ0K8UBSdJu8O2gAGmbgdnf+SYz2xqkaaOiwFBx4KPg1KBYhktY4OncSa29FJhHf1E2hzVWjj8EF7MfAzhqT62jM5sS2HF9Qa9JJ3WtOH+ur3cU5rxMceCQgIwQpg7NXwxhykKUxI7NIeQqtQTOIlRyAAraphFwnMCiFGDv1uGC49mY9wDDvjGb0xhwxmX9lYPrjGOAwAYMUofz/fbdAM6KQ6PV7o2EtQeJ5nbhEsWhjm4+C+vDFGZKL9ou9UyNhvTVpLGvgvNG4BrggCMuODR11YGlo5T2WhURR0VsGjuN3wMnX1kbYw9s7boDEhLFueASOmAGTVSXEDYswehtWJQmeJtWStWC/P/tioP/oDhYUJz53oM7eeU3IFBAFIEwbcFcCQ4IGVgoQGTm8rzHmdKTNt4jWIn0YLLpj1TTI5JSVSIba7tdEweUoW93FhYLjhGpY/9m4AgBh7XN1iVre4euOKfK74lUqDpG5XAqS3HHVO0yA9AQKskQ7e2p1uCc2fVEwaKN6sGi6jQhgwDrwNC5SdHRigDg1VQtsC2iAxFZt57YQ7FtK6x5a2ungxVwMsWx1wkgQFFxbvc4GpTsvQyYPhzowQYwGII8lYJDnB7RBvUFxWlJWwsO1iPY2xXHg1HNUSrrY5UTibo2Z+2w6MRB2oWVRxsrJ5HZIxILzuf1ZaGwQEw37j2IKpkisIlnMGzSj2I0tI7Rk43R/Xty+nL8ecobDgCOn6pRwLGgOI0Ep8q8q8fpr0Cw8nywHQRne45DT5d6EHWY4wd9gUR9vEjdA7VYUZRqfr6avrSDTv5Kqta+AJzo5nkV1soJWRWYI+BUYcraSTOnqee/3JzlLMvlrwADAI42NJ/UjLbOAAAAAElFTkSuQmCC"},e.visualImages=a.extend(e.visualImages,e.options.visualImages),e.statusText={0:"",1:"VERY WEAK!",2:"WEAK",3:"AVERAGE",4:"STRONG",5:"VERY STRONG!"},e.statusText=a.extend(e.statusText,e.options.statusText);var t=e.options.additionalCriteria||[];if(e.options.defaultCriteria){var i={moreThan10Chars:function(){return 10<this.length},hasCapital:function(){return/[A-Z]/.test(this)},hasLowercase:function(){return/[a-z]/.test(this)},hasNumber:function(){return/[0-9]/.test(this)},hasSpecialChar:function(){return/[^A-z0-9]/.test(this)}};for(var n in i)i.hasOwnProperty(n)&&t.push(i[n])}e.criteria=t},_setOption:function(e,t){a.Widget.prototype._setOption.apply(this,arguments);!{defaultCriteria:!0,additionalCriteria:!0,visualImages:!0,statusText:!0}[e]||this._setup()},_setVisual:function(e){var t=isNaN(e)?this.strengthLevel:e,i=this.visualImages[t];i&&this.options.imageElem.attr("src",i)},_setStatus:function(e){var t=isNaN(e)?this.strengthLevel:e,i=this.statusText[t];i&&this.options.statusContainer.html(i)},_destroy:function(){this.element.off("keyup.ps"),this.generatedElem&&this.generatedElem.remove(),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($){$.widget("ui.poll",{options:{url:"/",openOrCloseUrl:"/",data:{},question:"",answers:[],maxAnswers:0,votes:0,preview:0,hasVoted:0,canVote:1,canClose:0,canOpen:0,votedFor:[],expired:0,expiresOn:0,viewVotes:0,viewVoters:0,cooldownTime:5e3,maxbarwidth:0,pollImgTitle:"Poll",pollImgAlt:"Poll",pollImgSrc:"",checkImgSrc:""},_create:function(){var i=this;this.element.addClass("ui-poll"),this.selectedAnswers={},this.selectedAnswerCount=0,this.lastSelectedAnswerID=0,this.answerIDs=[],this.answerVotes=[],this.answerHash={},$(this.element).append('<h3><span class="icon icon-poll"><img src="'+this.options.pollImgSrc+'" alt="'+this.options.pollImgAlt+'" title="'+this.options.pollImgTitle+'" /></span>'+this.options.question+"</h3>"),1<this.options.maxAnswers&&$(this.element).append('<p class="small note">You may select up to '+this.options.maxAnswers+" answer"+(1!=this.options.maxAnswers?"s":"")+".</p>");for(var e='<table class="results">',t=0;t<this.options.answers.length;t++)e+='<tr class="answer-'+this.options.answers[t].id+'"><td><div class="select-box"><img src="'+this.options.checkImgSrc+'" alt="+" /></div></td><td class="answer"><div>'+this.options.answers[t].text+'</div></td><td class="view-votes"><div class="poll-vote-bar"><div class="bar"></div><div class="rank"><div class="number"></div></div></div><span class="stats small"><span class="votes">0</span> vote<span class="plural">s</span> (<span class="percent">0</span>%)</span></td></tr>',this.answerIDs.push(this.options.answers[t].id),this.answerVotes.push(this.options.answers[t].votes),this.answerHash[this.options.answers[t].id]=this.options.answers[t];e+="</table>",$(this.element).append(e),$(".results tr",this.element).bind("mouseenter mouseleave",function(e){$(this).toggleClass("ui-hover")}),$(".results tr",this.element).bind("click",function(e){var t=$(this).attr("class").match(/answer\-(\d+)/);i._answerClick(t[1])}),$(this.element).append('<span class="total-votes note"></span>&nbsp;<span class="view-voters"><a href="#">View Voters</a></span><span class="poll-closed"></span>'),$(".view-voters a",this.element).bind("click",function(e){e.preventDefault(),0==$("#poll-voters").length&&($(document.body).append('<div id="poll-voters"></div>'),$("#poll-voters").dialog({autoOpen:!1,width:452,maxHeight:600,title:"Voters"})),proboards.ajax({url:proboards.route("voters"),data:i.options.data,dataType:"html",success:function(e){$("#poll-voters").html(e),$("#poll-voters").dialog("open"),553<$("#poll-voters").height()&&($("#poll-voters").dialog("option","height",600),$("#poll-voters").dialog("close"),$("#poll-voters").dialog("open"))}})}),$(this.element).append('<div class="loading note small"></div>'),this.determineMaxWidth(),this._update()},_update:function(){var t=this,e=$(".loading",this.element).html(""),i=$(".results .view-votes",this.element),n=$(".select-box",this.element),o=[];this.options.expired?o.push("This poll has expired or has been locked."):this.options.canVote?this.options.preview?o.push("This poll is in preview mode and is not accepting votes."):0!=this.options.expiresOn&&e.append("This poll will automatically lock on ",this.options.expiresOn,".<br />"):o.push("You may not vote in this poll."),1==this.options.viewVotes?o.push("The results of this poll are hidden until voted upon."):2!=this.options.viewVotes||this.options.expired?3==this.options.viewVotes&&o.push("The results of this poll are hidden for regular users."):o.push("The results of this poll are hidden until it is locked or expires."),e.append(o.join(" ")),this.options.votes=this.options.voters&&(this.options.votes<=0||this.options.votes<this.options.voters)?this.options.voters:this.options.votes,$(".total-votes",this.element).html("There "+(1==this.options.votes?"has":"have")+" been <b>"+this.options.votes+"</b> vote"+(1!=this.options.votes?"s":"")+" by <b>"+this.options.voters+"</b> voter"+(1!=this.options.voters?"s":"")+".");for(var a=0;a<this.options.votedFor.length;a++)this._selectAnswer(this.options.votedFor[a]);if(this.options.viewVoters||$(".view-voters",this.element).remove(),i.hide(),n.hide(),this.options.expired)if(n.hide(),3!=this.options.viewVotes&&i.show(),this.options.canOpen){var r={};for(var s in this.options.data)r[s]=this.options.data[s];r.type="open",$(".poll-closed a",this.element).unbind("click"),$(".poll-closed",this.element).html((this.options.viewVoters?"&nbsp;-&nbsp;":"")+'<a href="javascript:void(0);">Open Poll</a>'),$(".poll-closed a",this.element).bind("click",function(){proboards.confirm("Are you sure you want to open this poll?",function(){proboards.ajax({url:t.options.openOrCloseUrl,data:r,async:!0,type:"post",dataType:"json",success:function(e){t.options.expired=0,t._update()},error:function(e){$(".loading",t.element).html(e.error)}})})})}else $(".poll-closed",this.element).html("");else if(this.options.canVote&&n.show(),1!=this.options.viewVotes||this.options.hasVoted?2==this.options.viewVotes||3==this.options.viewVotes?i.remove():i.show():i.hide(),this.options.canClose){r={};for(var s in this.options.data)r[s]=this.options.data[s];r.type="close",$(".poll-closed a",this.element).unbind("click"),$(".poll-closed",this.element).html((this.options.viewVoters?"&nbsp;-&nbsp;":"")+'<a href="javascript:void(0);">Lock Poll</a>'),$(".poll-closed a",this.element).bind("click",function(){proboards.confirm("Are you sure you want to lock this poll?",function(){proboards.ajax({url:t.options.openOrCloseUrl,data:r,async:!0,type:"post",dataType:"json",success:function(e){e.error?$(".loading",t.element).html(e.error):(t.options.expired=1,t._update())}})})})}this.options.preview&&$(".poll-closed",this.element).remove();var l=[];for(a=0;a<this.options.answers.length;a++)this.options.answers[a].votes=this.options.answers[a].votes<0?0:this.options.answers[a].votes,l.push([this.options.answers[a].id,this.options.answers[a].votes]);l.sort(function(){return parseInt(arguments[1][1],10)-parseInt(arguments[0][1],10)});var c=0,d=0,u=0,h=!1,p=0==this.options.votes?0:parseInt(l[0][1]);for(a=0;a<l.length;a++){var f,m=0==this.options.votes?0:parseInt(l[a][1],10)/this.options.votes,g=0==this.options.votes?0:parseInt(l[a][1],10)/p,v=this.options.maxbarwidth*g+5;l[a][1]==u?c++:(d+=c+1,c=0),0==d&&(d=1,h=!0);var b=d.toString().substr(-1);f=b<4&&(d<10||20<d)?1==b?"st":2==b?"nd":"rd":"th",$(".answer-"+l[a][0]+" .poll-vote-bar",this.element).attr("class","").addClass("poll-vote-bar rank-"+(h?"0":d)),$(".answer-"+l[a][0]+" .poll-vote-bar .rank .number",this.element).html(d+f),$(".answer-"+l[a][0]+" .poll-vote-bar .bar",this.element).animate({width:v+"px"},1e3),1==l[a][1]?$(".answer-"+l[a][0]+" .stats .plural",this.element).hide():$(".answer-"+l[a][0]+" .stats .plural",this.element).show(),$(".answer-"+l[a][0]+" .stats .votes",this.element).counter({end:l[a][1],duration:1e3}),$(".answer-"+l[a][0]+" .stats .percent",this.element).counter({end:(100*m).toFixed(2),toFixed:2,duration:1e3}),u=l[a][1]}},_answerClick:function(e){if(this.options.canVote&&!this.options.preview&&!this.options.expired&&!$(".answer-"+e,this.element).hasClass("answer-cooling"))if($(".answer-"+e,self.element).addClass("answer-cooling"),setTimeout(function(){$(".answer-"+e,self.element).removeClass("answer-cooling")},this.options.cooldownTime),void 0!==this.selectedAnswers[e]&&1==this.selectedAnswers[e])this._unselectAnswer(e),this._onVoteInputClick(e,"retract");else{if(this.options.votedFor.length>=this.options.maxAnswers)return;this._selectAnswer(e),this._onVoteInputClick(e,"submit")}},_selectAnswer:function(e){if(!this.selectedAnswers[e]){if(this.selectedAnswerCount==this.options.maxAnswers&&0<this.options.maxAnswers){if(1!=this.options.maxAnswers)return;this._unselectAnswer(this.lastSelectedAnswerID)}$(".answer-"+e,this.element).addClass("ui-selected"),this.selectedAnswers[e]=!0,this.lastSelectedAnswerID=e,this.selectedAnswerCount++}},_unselectAnswer:function(e){this.selectedAnswers[e]&&($(".answer-"+e,this.element).removeClass("ui-selected"),this.selectedAnswers[e]=!1,this.selectedAnswerCount--)},_onVoteInputClick:function(id,type){var self=this;$(".vote-input",this.element).attr("disabled",!0);var data={};for(var key in this.options.data)data[key]=this.options.data[key];"submit"==type?(data.type="cast",data.answer_id=id,proboards.ajax({url:this.options.url,data:data,async:!0,type:"post",dataType:"json",success:function(response){self.answerHash[data.answer_id].votes++,self.options.votes++,self.options.hasVoted=1,self.options.votedFor=eval(response.answer_ids),1==eval(response.answer_ids).length&&self.options.voters++,self._update()},error:function(e){$(".loading",self.element).html(e.error)}})):"retract"==type&&(data.type="retract",data.answer_id=id,proboards.ajax({url:this.options.url,data:data,async:!0,type:"post",dataType:"json",success:function(response){self.answerHash[data.answer_id].votes--,self.options.votes--,self.options.votedFor=eval(response.answer_ids),0==eval(response.answer_ids).length&&(self.options.voters--,self.options.hasVoted=0),self._update()},error:function(e){$(".loading",self.element).html(e.error),self.options.canVote=0}}))},_cooldownVoteInput:function(e){},determineMaxWidth:function(){var e=$("h3",this.element).outerWidth(),t=$("table.results tr td:first",this.element).outerWidth(),i=0;$("table.results tr td.answer",this.element).each(function(){$(this).outerWidth()>i&&(i=$(this).outerWidth())});var n=parseInt(.4*e);n<i&&($("table.results tr td.answer div",this.element).css("width",n+"px").addClass("break-word"),i=n);var o=t+i+41+151;this.options.maxbarwidth=e-o}}),$.extend($.ui.poll,{version:"1.8.2"})}(jQuery),function(l){l.widget("ui.selectMenu",l.ui.mouse,{options:{container:null,status:null,statusClick:null,staticStatus:!1,click:null,menuOptions:{clickHide:!0,click:null},beforeShow:null,onTextClick:null,onOptionClick:null,onClose:null,updateText:!0,updateInput:null},_create:function(){var i=this;this.options.container?this.box=l(this.options.container).append('<div class="status"></div>').append('<div class="icon"><span class="arrow down"><span></span></span></div>'):this.box=l('<div class="ui-selectMenu-box"></div>').append('<div class="status"></div>').append('<div class="icon"><span class="arrow down"><span></span></span></div>').insertAfter(this.element),this.options.statusClick?(l(".status",this.box).bind("click.selectMenu",function(e){i._trigger("statusClick",e,{})}),l(".icon",this.box).bind("click.selectMenu",function(e){i._trigger("click",e,{})})):l(this.box).bind("click.selectMenu",function(e){i._trigger("click",e,{})});var e={};l.extend(!0,e,{type:"vertical",showOn:"click",button:this.box,position:{my:"right top",at:"right bottom",of:this.box,collision:"flipfit"},beforeShow:i.options.beforeShow,onClose:i.options.onClose},this.options.menuOptions),e.click=function(e,t){"function"==typeof i.options.menuOptions.click&&i.options.menuOptions.click.call(i.element,e,t),i.options.staticStatus||l(".status",i.box).html(l("a",t.item).html())},this.menu=l(this.element).menu(e).addClass("ui-selectMenu"),this.options.status?l(".status",this.box).html(this.options.status):l(".status",this.box).html(l("li:first-child",this.menu).attr("title"))},documentMouseUp:function(e){for(var t=!1,i=e.target;!t&&i;)i!==this.element[0]&&i!==this.options.menu[0]||(t=!0),i=i.parentNode;t||(this.hide(),this.options.onClose.call(this))},isShowing:function(){return!l(this.options.menu).is(":hidden")},menu:function(e,t){this.options.menu.menu(e,t)},getMenu:function(){return this.options.menu},_onMouseDown:function(r){var s=this;1==r.which&&(r.stopPropagation(),l(this.element).bind("mouseup.ui-selectMenu",function(e){if(l(this).unbind("mouseup.ui-selectMenu"),e.stopPropagation(),l(".ui-selectMenu").each(function(e,t){t!==s.element[0]&&(l(t).removeClass("state-active"),l(t).selectMenu("hide"))}),l(s.options.menu).is(":visible"))s.hide(),s.options.onClose.call(s);else{s.options.menu.menu("clearClickCallback"),s.options.menu.menu("setClickCallback",function(e){s._optionClick(e,r)});for(var t=l(s.element).offset(),i=(l(s.element).outerWidth(),l(s.element).outerHeight()),n=t.left,o=t.top+i,a=r.target;a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.frameElement;){a=a.ownerDocument.defaultView.frameElement,n+=(t=l(a).offset()).left,o+=t.top}l(s.options.menu).css({left:n,top:o}),s.show()}}))},reposition:function(){var e=l(self.element).offset(),t=(l(self.element).outerWidth(),l(self.element).outerHeight()),i=e.left,n=e.top+t;l(self.options.menu).css({left:i,top:n})},_optionClick:function(e,t){for(var i=e.target;i&&"li"!=i.nodeName.toLowerCase();)i=i.parentNode;if(i&&!l(i).hasClass("state-disabled")){var n=l(i).html(),o=l(i).attr("id");this.value=o,this.options.staticStatus||l(".status",this.element).html(n),this.options.updateInput&&l(this.options.updateInput).val(o.replace("value-","")),this.options.onOptionClick&&!1===this.options.onOptionClick.call(this.element,o)||(this.hide(),this.options.onClose.call(this))}},updateValue:function(e){if(this.value=e,!this.options.staticStatus){this.updateStatus(e);for(var t=l("li",this.options.menu),i=!1,n=0;n<t.length&&!i;n++)e==t[n].id&&(l(".status",this.element).html(l(t[n]).html()),i=!0);i||l(".status",this.element).html(this.options.status)}},updateStatus:function(e){l(".status",this.box).html(e)}}),l.extend(l.ui.sortable,{version:"1.8.2"})}(jQuery),function(s){var e=0;s.widget("ui.selectlist",{options:{listedItemFormat:"{item.name}",selectedItemFormat:"{item.name}",blockListFormat:"{item.item_id}",blockListOptionFormat:"{}",blockListOptions:[],id:"id",maxSelectable:0,maxSelectableApplies:!0,selection:null,select:null,deselect:null,getData:null,formId:0,checkedHash:{},isPendingList:0,onCreateItem:function(){},showAdded:!0,disabledMessage:""},_create:function(){this.element.addClass("ui-selectlist"),s(this.options.selection).addClass("ui-selectlist-selection"),this.options.index=e,++e,this.selectedIDsStr="",this.selectedIDs={},this.selectedCount=0,this.data={},this.options.maxSelectableApplies||(this.options.maxSelectable=0),this.refresh()},refresh:function(e){var t=this;if(this.element.empty(),e&&0!=e.length){this.empty=!1;for(var i=0;i<e.length;i++){var n=e[i][this.options.id];this.data[n]=e[i];var o=this._createListedItem(e[i]);void 0!==this.selectedIDs[n]&&s(o).addClass("state-selected"),0==i&&s(o).addClass("state-current"),this.element.append(o)}s("li",this.element).click(function(e){t.options.selection&&t.select()}).hover(function(e){s(".state-current",t.element).removeClass("state-current"),s(this).addClass("state-current")},function(e){})}else this.empty=!0,this.element.append('<li class="empty">No results found.</li>')},select:function(e,t,i){var n=null;if(void 0===e){if(!(n=s(".state-current",this.element)).is(":visible"))return;if(null==(e=this._getItemID(n)))return}else n=s(".item-"+e,this.element);if(void 0===this.selectedIDs[e])if(n.is(".disabled"))this.options.disabledMessage&&proboards.alert(this.options.disabledMessage);else if(0<this.options.maxSelectable&&this.selectedCount>=this.options.maxSelectable)0==s("#max-selectable-container").length?(s(document.body).append('<div id="max-selectable-container" style="text-align: justify;">You have already reached the maximum number of items you may select.</div>'),s("#max-selectable-container").dialog({autoOpen:!0,width:310,title:"Too Many Selections"})):s("#max-selectable-container").text("You have already reached the maximum number of items you may select.").dialog("open");else{if(0==this.selectedCount&&s(".empty",this.options.selection).hide(),0!==i&&this.options.showAdded){var o=this._createSelectedItem(this.data[e]);s(this.options.selection).append(o)}this.selectedIDs[e]=!0,++this.selectedCount,""!=this.selectedIDsStr&&(this.selectedIDsStr+=","),this.selectedIDsStr+=e,n.addClass("state-selected"),t||this._trigger("select",null,{id:e,ids:this.selectedIDsStr.split(","),itemData:this.data[e]})}else this.deselect(e)},deselect:function(e){var t;void 0===e&&null==(e=this._getItemID(s(".state-current",this.element)))||(void 0!==this.selectedIDs[e]?(s(".item-"+e,this.options.selection).remove(),this.selectedIDs[e]=void 0,--this.selectedCount,t=new RegExp("^"+e+"$|^"+e+",|,"+e+"$"),this.selectedIDsStr=this.selectedIDsStr.replace(t,""),t=new RegExp(","+e+","),this.selectedIDsStr=this.selectedIDsStr.replace(t,","),s(".item-"+e,this.element).removeClass("state-selected"),0==this.selectedCount&&s(".empty",this.options.selection).show(),this._trigger("deselect",null,{id:e,ids:""!=this.selectedIDsStr?this.selectedIDsStr.split(","):[]})):this.select(e))},manipulateIds:function(e,t){if("select"!=t&&"deselect"==t)for(var i=0;i<e.length;i++){var n,o=parseInt(e[i]);this.selectedIDs[o]=void 0,--this.selectedCount,n=new RegExp("^"+o+"$|^"+o+",|,"+o+"$"),this.selectedIDsStr=this.selectedIDsStr.replace(n,""),n=new RegExp(","+o+","),this.selectedIDsStr=this.selectedIDsStr.replace(n,",")}},next:function(){var e=s(".state-current",this.element);e=0==e.length?s("li:first",this.element):e[0].nextSibling?e[0].nextSibling:s("li:first",this.element),s(".state-current",this.element).removeClass("state-current"),s(e).addClass("state-current")},previous:function(){var e=s(".state-current",this.element);e=0==e.length?s("li:last",this.element):e[0].previousSibling?e[0].previousSibling:s("li:last",this.element),s(".state-current",this.element).removeClass("state-current"),s(e).addClass("state-current")},getData:function(){return this.options.getData()},_getItemID:function(e){if(void 0!==e&&0!=s(e).length){var t=s(e).attr("class").match(/item\-(\d+)/);return null==t?null:t[1]}},_createListedItem:function(e){var t=this._getFormattedHTML(this.options.listedItemFormat,e),i="item-"+e[this.options.id]+" ui-selectlist-item ui-selectlist-"+this.options.index+"-item ui-helper-clearfix";e.disabled&&(i+=" disabled");var n=s('<li class="'+i+'">\t\t\t\t<div class="content">'+t+"</div>\t\t\t</li>");return this.options.onCreateItem(n),n},_createSelectedItem:function(e){var i=this,t=e[this.options.id],n="";if(this.options.formId){for(var o=this.options.blockListOptions,a=0;a<o.length;a++)n+=this._getFormattedHTML(this.options.blockListOptionFormat,{form_id:this.options.formId,item_id:t,option_id:a,option_checked:this.options.checkedHash[t]&&1==this.options.checkedHash[t][a]?' checked="checked"':"",option_label:o[a]});n=n?this._getFormattedHTML(this.options.blockListFormat,{block_list_options:n}):""}var r=s('<li class="item-'+t+" ui-selectlist-item ui-selectlist-"+this.options.index+'-item ui-helper-clearfix">'+(n?'<div class="selectlist-wrapper">':"")+'<div class="content">'+this._getFormattedHTML(this.options.selectedItemFormat,e)+'</div><div class="close"><span>x</span></div>'+(this.options.isPendingList?this._getFormattedHTML(this.options.pendingListItemFormat,{item_id:t}):"")+(n?"</div>"+n:"")+"</li>");return s(".close",r).bind("click.selectlist",function(e){var t=s(e.target).parents(".ui-selectlist-item").attr("class").match(/item\-(\d+)/);i.deselect(t[1])}),n&&e.is_staff&&s(".block-list-1",r).remove(),r},_getFormattedHTML:function(e,t){var i=e;for(var n in t){var o=new RegExp("{item."+n+"}","g");i=i.replace(o,t[n])}return i},isSelected:function(e){return void 0!==this.itemData[e]},changeMaxSelectable:function(e){if(this.options.maxSelectableApplies){if(this.selectedCount>e)return!1;this.options.maxSelectable=e}return!0},getNumSelected:function(){return this.selectedCount},apply_selected:function(e,t){if(s.isArray(e)){this.refresh(e),this.options.loadingExisting=!0;for(var i=0;i<e.length;i++)this.select(e[i].id,null,t);this.options.loadingExisting=!1,this.refresh([])}}}),s.extend(s.ui.selectlist,{version:"1.8.5"})}(jQuery),function(o){o.widget("ui.slidable",{options:{autoChange:5e3,navigation:".navigation",items:".items",relative:!1,padding:10},_create:function(){var t=this;o(this.options.items).width(o(this.options.items).width()-2*this.options.padding),this.width=o(this.options.items).width(),this.actualWidth=this.width+2*this.options.padding;var e=o(this.options.items,this.element).children();if(this.itemContainer=o("<div></div>").css({position:"absolute",left:this.actualWidth+"px",width:this.actualWidth*e.length+"px"}),o(this.options.items,this.element).append(this.itemContainer),this.itemContainer.append(e),o(this.itemContainer).children().css({width:this.width+"px",float:"left"}),0<o(this.options.navigation,this.element).length){this.navigationContainer=o(this.options.navigation,this.element);var i=o('<span class="arrow left"><span></span></span>').bind("click",function(e){t._change(0)});o(this.navigationContainer).prepend(i),i=o('<span class="arrow right"><span></span></span>').bind("click",function(e){t._change(1)}),o(this.navigationContainer).append(i)}else o("#news .arrow.left").bind("click",function(e){t._change(0)}),o("#news .arrow.right").bind("click",function(e){t._change(1)});!1!==this.options.autoChange&&(this.options.autoChange<1e3&&(this.options.autoChange=1e3),this.itemContainer.bind("mouseenter",function(e){clearTimeout(t.autoChangeTimeout)}),this.itemContainer.bind("mouseleave",function(e){t.autoChangeTimeout=setTimeout(function(){t._change()},t.options.autoChange)})),t._change(2)},_change:function(e){var t=this;clearTimeout(this.autoChangeTimeout),(e=void 0===e?this.index+1:2==e?0:0==e?this.index-1:this.index+1)<0?e=this.itemContainer.children().length-1:e>this.itemContainer.children().length-1&&(e=0);var i=e*this.actualWidth*-1;if(this.itemContainer.stop().animate({left:i+"px"},750),this.index=e,this.options.relative){var n=o(this.itemContainer).children("div").eq(e).text();this.options.autoChange=this.calcChangeSpeed(n)}!1!==this.options.autoChange&&(this.autoChangeTimeout=setTimeout(function(){t._change()},this.options.autoChange))},calcChangeSpeed:function(e){return 1500+50*e.length}}),o.extend(o.ui.slidable,{version:"1.8.2"})}(jQuery),function(s){var a=getCaptchaTokenSetup("6Le9TbIUAAAAAJfenmoTsJ1DzFfWbmVzuaO00Sh6","store");s.widget("ui.stripe",{options:{useCaptcha:!1,stripeKey:"",paymentUrl:"",fieldNames:{cardList:"card_list",cardName:"card_name",cardNumber:"card_number",cardExpireMonth:"card_expiration_month",cardExpireYear:"card_expiration_year",cardSecurity:"card_security",cardAddress:"billing_address",cardAddress2:"billing_address_2",cardZip:"billing_zip",cardState:"billing_state",cardCountry:"billing_country",isNewCard:"is_new_card"},newCardFormElem:".new-card, #billing-address",removeCardUrl:"",removeCardButton:"#remove_card",removeableCardClass:".removeable",addDataOnSubmit:null,success:null,error:function(e){proboards.error(e.error)},onCardValidationError:function(){}},_create:function(){var o=this,t=this.element;t.on("validated",function(e){e.preventDefault();o.options.fieldNames;var t=o.options.addDataOnSubmit,i={};"function"==typeof t&&s.extend(i,t());var n=o._loading.bind(o,!1);if(o._isNewCard()){if(!o.validate())return;o._loading(!0),o.options.useCaptcha?a().then(createStoreToken).then(o._curryCreateStripeTokenForNewPayment(i)).then(o._sendPurchaseRequest.bind(o)).catch(o._promiseCatch).then(n):o._createStripeTokenForNewPayment({ajaxData:i}).then(o._sendPurchaseRequest.bind(o)).catch(o._promiseCatch).then(n)}else o._loading(!0),i.customer=s('select[name="'+o.options.fieldNames.cardList+'"]',o.element).val(),o._sendPurchaseRequest(i).catch(o._promiseCatch).then(n)}),o._setupCardSelection();s('input[type="text"], input[type="password"]',t).on("keydown",function(e){13==(e.keyCode||e.which)&&(e.preventDefault(),t.submit())})},_curryCreateStripeTokenForNewPayment:function(t){var i=this;return function(e){return i._createStripeTokenForNewPayment({ajaxData:t,storeToken:e})}},_createStripeTokenForNewPayment:function(o){var a=null,r=null,e=new Promise(function(e,t){a=e,r=t}),t=this.element,i=this.options.fieldNames,n={name:s('input[name="'+i.cardName+'"]',t),number:s('input[name="'+i.cardNumber+'"]',t),expire_month:s('select[name="'+i.cardExpireMonth+'"]',t),expire_year:s('select[name="'+i.cardExpireYear+'"]',t),security:s('input[name="'+i.cardSecurity+'"]',t),address:s('input[name="'+i.cardAddress+'"]',t),address2:s('input[name="'+i.cardAddress2+'"]',t),zip:s('input[name="'+i.cardZip+'"]',t),state:s('input[name="'+i.cardState+'"]',t),country:s('select[name="'+i.cardCountry+'"]',t)};return Stripe.setPublishableKey(this.options.stripeKey),Stripe.createToken({name:n.name.val(),number:n.number.val(),cvc:n.security.val(),exp_month:n.expire_month.val(),exp_year:n.expire_year.val(),address_line1:n.address.val(),address_line2:n.address2.val(),address_zip:n.zip.val(),address_state:n.state.val().toUpperCase(),address_country:n.country.val()},function(e,t){if(t.error)r({error:t.error.message});else{var i=o.ajaxData||{};o.storeToken&&(i.store_token=o.storeToken);var n=t.id;i.token=n,a(i)}}),e},_sendPurchaseRequest:function(i){var n=this;return new Promise(function(e,t){proboards.ajax({url:n.options.paymentUrl,data:i,success:n.options.success,error:n.options.error,complete:e})})},_promiseCatch:function(e){"object"==typeof e&&e.error&&"string"==typeof e.error?proboards.error(e.error):console.error(e)},_setupCardSelection:function(){var n=this,e=this.element,o=s('select[name="'+n.options.fieldNames.cardList+'"]',e),i=s('input[name="'+n.options.fieldNames.isNewCard+'"]',e),a=s(n.options.newCardFormElem),r=s(n.options.removeCardButton);o.on("change",function(e){var t="new"==s(this).val();r.toggle(!t),a.toggle(t),i.val(t?1:""),s.clearInputError()}).change(),r.on("click",function(e){e.preventDefault();var t=s("option:selected",o),i=n.options.removeableCardClass;if(i&&!t.is(i))return proboards.error("This card can only be removed when it is no longer being used to pay for any subscriptions.");proboards.confirm("Are you sure you wish to remove the card "+t.text()+"?",function(){o.prop("disabled",!0),proboards.ajax({url:n.options.removeCardUrl,data:{card:t.val()},success:function(){t.remove(),o.change()},complete:function(){o.prop("disabled",!1)}})})})},_loading:function(e){proboards.loading(e),s("#loading-dialog").dialog("option","title","Processing...")},_isNewCard:function(){var e=this.element;return"new"==s('select[name="'+this.options.fieldNames.cardList+'"]',e).val()},validate:function(){if(!this._isNewCard())return!0;var e=s(this.element),t=this.options.fieldNames;if(!e.data("form").validateAll())return!1;var i={number:s('input[name="'+t.cardNumber+'"]',e),expire_month:s('select[name="'+t.cardExpireMonth+'"]',e),expire_year:s('select[name="'+t.cardExpireYear+'"]',e),security:s('input[name="'+t.cardSecurity+'"]',e)};return Stripe.validateCardNumber(i.number.val())?Stripe.validateExpiry(i.expire_month.val(),i.expire_year.val())?!!Stripe.validateCVC(i.security.val())||(this.options.onCardValidationError.call(this,i.security),s.inputError(i.security,"Please enter a valid security number."),!1):(this.options.onCardValidationError.call(this,i.expire_year),s.inputError(i.expire_year,"Please enter a valid expiration date."),!1):(this.options.onCardValidationError.call(this,i.number),s.inputError(i.number,"Please enter a valid credit card number."),!1)}})}(jQuery),function(d){d.widget("ui.timepicker",{options:{onSelect:function(){},military:0},_create:function(){var n=this;n.element.hasClass("military")&&(n.options.military=1),this.element.addClass("ui-timepicker").bind("mousedown.ui-timepicker focus.ui-timepicker",function(){if(n.menu.is(":visible"))setTimeout(function(){n.menu.zIndex(n.element.zIndex()+1)},1);else{var e={my:"left top",at:"left bottom",of:d(n.element)};n.menu.show().position(e).position(e),setTimeout(function(){n.menu.zIndex(n.element.zIndex()+1)},1)}}).bind("click.ui-timerpicker",function(){this.select()}).bind("keydown.ui-timepicker",function(e){9==e.keyCode&&n.menu.hide()});var e=[],t=[12,1,2,3,4,5,6,7,8,9,10,11],i=["00","30"];n.options.military&&(t=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]);for(var o=0;o<t.length;o++){t[o];for(var a=0;a<i.length;a++){var r=t[o]+":"+i[a];e.push(r)}}if(!n.options.military){var s=e;e=[];var l=["AM","PM"];for(o=0;o<l.length;o++)for(a=0;a<s.length;a++)e.push(s[a]+" "+l[o])}var c="";for(o=0;o<e.length;o++)c+="<li>"+e[o]+"</li>";this.menu=d('<ul class="ui-timepicker-menu">'+c+"</ul>").hide().appendTo(document.body),""==this.element.val()&&this.setTime(e[0]),d("li",this.menu).bind("click.ui-timepicker",function(){n.element.val(d(this).text()),n.element.focus(),n.options.onSelect.call(n.element,this),setTimeout(function(){n.menu.hide()},1)}),d(document).bind("mousedown.ui-timepicker",function(e){for(var t=e.target,i=!0;i&&t&&"html"!=t.nodeName.toLowerCase();)t!==n.element[0]&&t!==n.menu[0]||(i=!1),t=t.parentNode;i&&n.menu.hide()})},setTime:function(){this.element.val(d("li:first-child",this.menu).text())},getTime:function(){var e=this.element.val();if(e){if(1==this.options.military){var t=/^(\d{1,2}):(\d{2})$/g.exec(e);return 3600*parseInt(t[1])+60*parseInt(t[2])}var i=(t=/^(\d\d?):(\d{2})\s?(am|pm)$/gi.exec(e))[3].toLowerCase(),n=parseInt(t[1]);return"pm"==i&&12!=n&&(n+=12),12==n&&"am"==i&&(n=0),3600*n+60*parseInt(t[2])}return 0}}),d.extend(d.ui.timepicker,{version:"1.8.5"})}(jQuery);var rangeType=window.getSelection&&(!$.browser.msie||9<parseInt($.browser.version))?"w3c":"ie";!function(y){y.widget("ui.wysiwyg",{editors:{},currentEditorName:"",menus:{},pressedButtons:[],controls:{fontName:{title:"Font Name"},foreColor:{title:"Font Color"},fontSize:{title:"Font Size"},bold:{title:"Bold",tag:"b"},italic:{title:"Italic",tag:"i"},underline:{title:"Underline",tag:"u"},strikethrough:{title:"Strike Through",tag:"s"},superscript:{title:"Superscript",tag:"sup"},subscript:{title:"Subscript",tag:"sub"},removeFormat:{title:"Remove Formatting"},justifyLeft:{title:"Justify Left",tag:"div",attrs:{align:"left"}},justifyCenter:{title:"Justify Center",tag:"div",attrs:{align:"center"}},justifyRight:{title:"Justify Right",tag:"div",attrs:{align:"right"}},justifyFull:{title:"Justify Full",tag:"div",attrs:{align:"justify"}},insertTable:{title:"Table"},insertUnorderedList:{title:"List"},insertHorizontalRule:{title:"Horizontal Rule"},createLink:{title:"Link"},createEmail:{title:"Email"},insertImage:{title:"Insert Image"},insertVideo:{title:"Insert Video"},insertUserLink:{title:"Insert User Link"},insertCode:{title:"Insert Code",tag:"code"},insertQuote:{title:"Insert Quote",tag:"quote"},insertSmiley:{title:"Insert Smiley"},insertEmbed:{title:"Insert Embed"}},tagCommandAlias:{b:"bold",strong:"bold",i:"italic",em:"italic",u:"underline",strike:"strikethrough",s:"strikethrough",sup:"superscript",sub:"subscript",div:[{command:"justifyLeft",attrs:{align:"left"}},{command:"justifyCenter",attrs:{align:"center"}},{command:"justifyRight",attrs:{align:"right"}},{command:"justifyFull",attrs:{align:"justify"}}],p:[{command:"justifyLeft",attrs:{align:"left"}},{command:"justifyCenter",attrs:{align:"center"}},{command:"justifyRight",attrs:{align:"right"}},{command:"justifyFull",attrs:{align:"justify"}}]},uneditableElements:"span.attachment_preview, span[atuser]",options:{varName:"",formId:"",editors:["visual","bbcode"],defaultEditor:"visual",defaultFormat:"visual",height:360},_create:function(){var s=this;this.element.hide(),this.container=y('<div class="ui-wysiwyg"></div>'),this.controlsContainer=y('<div class="controls ui-helper-clearfix"></div>'),this.editorContainer=y('<div class="editors"></div>');var l=this.editorContainer,c=this.options,e=(c.defaultFormat,c.defaultEditor);this.$nosmiles=y("#"+c.formId+"_"+c.varName+"_nosmiles_input"),isNaN(parseInt(this.$nosmiles.val()))&&this.$nosmiles.val(0);for(var t=c.editors.length;t--;){var i=this.options.editors[t];this.editors[i]=this["_"+i+"Editor"];var n=y('<div class="editor '+i+'-editor"></div>').height(c.height).hide();l.append(n)}if(this.container.append(this.controlsContainer).append(l).insertAfter(this.element),this.switchEditor(e),l.resizable({minWidth:400,maxWidth:y(this.container).parent().width(),minHeight:200,handles:"s",start:function(e,t){s.showOverlay()},stop:function(e,t){s.hideOverlay()},resize:function(e,t){var i=t.size.height,n=t.size.height-32;s.overlay.width(l.width()),s.overlay.height(n);for(var o=c.editors.length;o--;){var a=s.editors[c.editors[o]];y(a.container).height(n),y(a.resizable).height(n)}s.options.height=n;var r=y("div.ui-wysiwyg div.editors.ui-resizable").attr("style");r=r.replace(/height: \d+px/,"height: "+i+"px"),y("div.ui-wysiwyg div.editors.ui-resizable").attr("style",r)}}),-1<navigator.userAgent.toLowerCase().indexOf("opera")&&"bbcode"!=this.options.defaultEditor){var o=this.editors.visual,a=o.document.body.lastChild;if(null!==a){var r=o.getRange();r.setEndAfter(a),r.setStartAfter(a);var d=o.getSelection();d.addRange(r),d.collapseToEnd()}}/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase())&&y(".editor.visual-editor").css({"-webkit-overflow-scrolling":"touch",overflow:"auto"});var u=this.element.attr("tabindex");u&&y("textarea",this.container).attr("tabindex",u)},preload:function(e){y(e).each(function(){y("<img/>")[0].src=this})},startLoading:function(){0==y(".loadingOverlay",this.container).length&&(this.loadingOverlay=y('<div class="loadingOverlay"></div>').prependTo(this.editorContainer)),this.loadingOverlay.width(this.editorContainer.width()).height(this.editorContainer.height()).show()},stopLoading:function(){this.loadingOverlay.hide()},_getControl:function(e){if(void 0!==this.editors[this.currentEditorName].controls[e])return this.editors[this.currentEditorName].controls[e];proboards.alert("The "+e+" control could not be found.")},getContent:function(){return this.editors[this.currentEditorName].getContent()},setContent:function(e){this.editors[this.currentEditorName].setContent(e)},showOverlay:function(){this.overlay||(this.overlay=y('<div class="resize-overlay"></div>').appendTo(this.editorContainer)),this.overlay.width(this.editorContainer.width()),this.overlay.height(this.editorContainer.height()),this.overlay.show()},log:function(e){if(0==y(".wysiwyg-log").length&&y("<div></div>").addClass("wysiwyg-log").appendTo(document.body),"object"==typeof e){var t=e;for(var i in e='<b onclick="$(this.nextSibling.nextSibling).toggle();">object'+(null!=t&&void 0!==t.nodeName?" "+t.nodeName.toLowerCase():"")+'</b><br /><table width="100%" style="display: none;">',t)try{e+='<tr><td style="white-space: nowrap; padding-right: 10px; width: 15%;">'+i+"</td><td>"+t[i]+"</td></tr>"}catch(e){}e+="</table>"}y(".wysiwyg-log").append(e+"<br />")},execCommand:function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),this.focusOnSelected(),"visual"==this.currentEditorName){var n=this.editors.visual.genericSelection;if(0<y(n.startContainer()).closest("code").length||0<y(n.endContainer()).closest("code").length)return!1}var o=this.editors[this.currentEditorName];"function"==typeof o.beforeExecCommand&&o.beforeExecCommand.call(this,o);try{if("function"==typeof o.commands[e])o.commands[e].call(this,o,e,t,i);else if(void 0!==o.document&&!0===o.document.queryCommandEnabled(e)){o.document.execCommand(e,t,i),this.latestCommands||(this.latestCommands={});try{this.latestCommands[e]=o.document.queryCommandState(e)}catch(e){console.log("Error: ",e.message)}o.window&&o.window.focus()}else 0}catch(e){console.log("Error: ",e.message),this.log(e.message),0}"function"==typeof o.afterExecCommand&&o.afterExecCommand.call(this,o)},hideOverlay:function(){this.overlay&&this.overlay.hide()},switchEditor:function(t){var i=this,e=this.options,n=this.editors;if(this.currentEditorName&&this.currentEditorName===t)return this.element;if(void 0===n[t])return this.element;var o=!1;if(!n[t].built){o=!0;for(var a=e.editors.length;a--;){var r=e.editors[a],s=n[r],l=y("."+r+"-editor",this.editorContainer);s.build(this,l),s.controls=y.extend({},this.controls,s.controls),this._buildControls(r,s.controls,s.controlGroups),s.built=!0}}if(o){var c="visual"==(this.currentEditorName=t)?this.options.visualHtml:this.element.val();return this.setContent(c),y(".visual-editor",this.container).toggle("visual"==t),y(".bbcode-editor",this.container).toggle("bbcode"==t),this.element}""==this.currentEditorName&&(this.currentEditorName="visual"==t?"bbcode":"visual");c=this.editors[this.currentEditorName].getContent();function d(){y("#menu-item-visual").toggleClass("ui-active","visual"==i.currentEditorName),y("#menu-item-bbcode").toggleClass("ui-active","bbcode"==i.currentEditorName)}var u=y("#"+this.options.formId+"_"+this.options.varName+"_mode_input");return!1===this.readyToSwitch?d():(this.readyToSwitch=!1,c=this["visual"==t?"bbcode2html":"html2bbcode"].call(this,c,{success:function(e){y("."+i.currentEditorName+"-editor",i.container).hide(),y("."+t+"-editor",i.container).show(),i.currentEditorName=t,u.val(t),i.setContent(e)},error:d,complete:function(){i.readyToSwitch=!0}})),this.element},_buildControls:function(e,t,i){for(var n=this,o=y('<div class="'+e+'-editor ui-helper-clearfix"></div>'),a=i.length,r=0;r<a;r++){for(var s=y('<div class="group ui-helper-clearfix"></div>'),l=i[r].length,c=0;c<l;c++){for(var d=y("<ul></ul>"),u=i[r][c].length,h=0;h<u;h++){var p=i[r][c][h],f=t[p],m=wysiwyg_buttons[p],g=wysiwyg_buttons[p+"-active"];if(" "!=p){var v="";if(null!=m&&(v+='<img class="inactive" alt="" src="'+m+'" />'),null!=g&&(v+='<img class="active" alt="" src="'+g+'" />'),"fontName"==p||"foreColor"==p||"fontSize"==p||"insertSmiley"==p||"insertUserLink"==p||"insertEmbed"==p)this._createSelectMenu(p,f).addClass("button button-"+p).attr("title",f.title).append(v).appendTo(d);else y('<li class="button button-'+p+'" title="'+f.title+'" data-control="'+p+'">'+v+"</li>").bind("click",function(e){n.execCommand(y(this).data("control"))}).appendTo(d)}}s.append(d)}o.append(s),this.controlsContainer.append(o)}var b=this.editors[e],A="visual"==e?"keypress.wysiwyg":"keyup.wysiwyg";y(b.bindable).on(A,function(e){var t=((e=e||window.event).ctrlKey?"ctrl+":"")+String.fromCharCode(e.which).toLowerCase();if(b.controlShortcuts[t])return void 0!==e.cancelBubble&&(e.cancelBubble=!0),void 0!==e.stopPropagation&&e.stopPropagation(),void 0!==e.preventDefault&&e.preventDefault(),n.execCommand(b.controlShortcuts[t]),!1}),"bbcode"==e&&y(b.bindable).on("keydown.wysiwyg keypress.wysiwyg",function(e){var t=((e=e||window.event).ctrlKey?"ctrl+":"")+String.fromCharCode(e.which).toLowerCase();if(b.controlShortcuts[t])return void 0!==e.cancelBubble&&(e.cancelBubble=!0),void 0!==e.stopPropagation&&e.stopPropagation(),void 0!==e.preventDefault&&e.preventDefault(),!1})},_createSelectMenu:function(e,t){var i=this["_get"+e.substr(0,1).toUpperCase()+e.substr(1)+"Menu"](t);return this.menus[e]=i.menu,i.button},_closeAllMenus:function(){for(var e in this.menus)y(this.menus[e]).menu("hide");y.colorPicker("hide")},_getFontNameMenu:function(e){var n=this,t=y("<li></li>").addClass("selectMenuButton");return{menu:y("<ul></ul>").addClass("select_menu_list").append('<li class="arial"><a style="font-family: arial;">Arial</a></li><li class="comic_sans_ms"><a style="font-family: comic sans ms;">Comic Sans MS</a></li><li class="courier_new"><a style="font-family: courier new;">Courier New</a></li><li class="georgia"><a style="font-family: georgia;">Georgia</a></li><li class="impact"><a style="font-family: impact;">Impact</a></li><li class="times_new_roman"><a style="font-family: times new roman;">Times New Roman</a></li><li class="trebuchet_ms"><a style="font-family: trebuchet ms;">Trebuchet MS</a></li><li class="verdana"><a style="font-family: verdana;">Verdana</a></li>').appendTo(t).selectMenu({status:"Font Face",staticStatus:!0,updateInput:!1,onShow:function(e){n.showOverlay()},onHide:function(e){n.hideOverlay()},menuOptions:{position:{my:"left top",at:"left bottom",of:this.box,collision:"flipfit"},click:function(e,t){var i=y(t.item).attr("class").replace(/_/g," ");n.execCommand("fontName",!1,i)}}}),button:t}},_getFontSizeMenu:function(e){var n=this,t=y("<li></li>").addClass("selectMenuButton");return{menu:y("<ul></ul>").addClass("select_menu_list").append('<li class="1" style="font-size: 8pt;"><a>1 (8pt)</a></li><li class="2" style="font-size: 10pt;"><a>2 (10pt)</a></li><li class="3" style="font-size: 12pt;"><a>3 (12pt)</a></li><li class="4" style="font-size: 14pt;"><a>4 (14pt)</a></li><li class="5" style="font-size: 18pt;"><a>5 (18pt)</a></li><li class="6" style="font-size: 24pt;"><a>6 (24pt)</a></li><li class="7" style="font-size: 36pt;"><a>7 (36pt)</a></li>').appendTo(t).selectMenu({status:"Font Size",staticStatus:!0,updateInput:!1,onShow:function(e){n.showOverlay()},onHide:function(e){n.hideOverlay()},menuOptions:{position:{my:"left top",at:"left bottom",of:this.box,collision:"flipfit"},click:function(e,t){var i=y(t.item).attr("class");n.execCommand("fontSize",!1,i)}}}),button:t}},_getForeColorMenu:function(e){var d=this,u=y("<li></li>");return y(u).colorPicker({extraHTML:function(){var e;d.editors[d.currentEditorName].iframe?e=d.editors[d.currentEditorName].document.body.innerHTML.match(/color="{0,1}#{0,1}[a-f0-9]{6}"{0,1}/gi):e=d.editors[d.currentEditorName].textarea.value.match(/color="{0,1}#{0,1}[a-f0-9]{6}"{0,1}/gi);var t={},i=y("<tbody></tbody>");if(null==e&&(e=[]),0==e.length)return"";for(var n=0,o=y("<tr></tr>"),a=0;a<e.length;a++){var r=e[a].replace(/color=/,"").replace(/"/,"").replace(/#/,"").replace(/"/,"");if(!t[r]){6==n&&(i.append(o),o=y("<tr></tr>"),n=0);var s=y("<div></div>").css({width:"15px",height:"15px",backgroundColor:"#"+r,margin:"2px"}).bind("mouseenter",function(){y(this).css({margin:"1px",border:"1px solid #827"})}).bind("mouseleave",function(){y(this).css({margin:"2px",border:"none"})}).bind("click",function(){var e,t=y(this).css("background-color");if(e=t.match(/rgb\((\d+), (\d+), (\d+)\)/)){var i=parseInt(e[1],10).toString(16),n=parseInt(e[2],10).toString(16),o=parseInt(e[3],10).toString(16);i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),t=i+n+o}y("#foreColorPreview").css({backgroundColor:"#"+t}),d.execCommand("foreColor",!1,t),y(u).colorPicker("hide")}),l=y("<td></td>").append(s);o.append(l),n++,t[r]=!0}}for(;n<4;){s=y('<div class="wysiwyg-missing-tds"></div>');o.append(y("<td></td>").append(s)),n++}i.append(o);var c=y("<table></table>").append(i);return y("<div><strong>Previously Used Colors:</strong><br /></div>").append(c)},autoUpdate:!1,update:function(e){y(this).colorPicker("hide"),y("#foreColorPreview").css({backgroundColor:"#"+e}),d.execCommand("foreColor",!1,e)}}),{menu:null,button:u}},_getInsertSmileyMenu:function(e){for(var d=this,t=y("<li></li>"),i="",n=this.options.smiles,u=this.$nosmiles,o=n.length,a=0;a<o;a++){var r=n[a];i+='<li class="'+r+'"><a><img src="'+n[++a]+'" alt="'+r+'" title="'+r+'" /></a></li>'}proboards.data("nosmiles")&&0!=proboards.data("nosmiles")?(i+='<li style="display: block; text-align: center;" class="no-smiles no-hide"><a href="#">Enable Smiles</a></li>',u.val(1)):i+='<li style="display: block; text-align: center;" class="no-smiles"><a href="#">Disable Smiles</a></li>';var s=y('<ul class="wysiwyg-smiley-menu"></ul>');return s.addClass("smiley-menu").append(i).appendTo(document.body).menu({button:t,position:{my:"right top",at:"right bottom",of:t,collision:"flipfit"},showOn:"click",clickHide:!0,click:function(e,t){e.preventDefault();var i=y(t.item).attr("class"),n=y("> a > img",t.item).attr("src"),o=y(this),a=y("> .no-smiles",o),r=y("> .no-smiles > a",o),s=y(this).data("menu");if(-1==i.indexOf("no-smiles"))d.execCommand("insertSmiley",!1,{symbol:i,url:n});else{if("visual"==d.currentEditorName){var l=[];l.push(function(e){d.setContent(e);var t=d.editors.visual,i=t.range||t.getRange();window.getSelection?(i.selectNodeContents(i.commonAncestorContainer),i.collapse(!1),t.selection.collapseToEnd()):i.moveStart("textedit")}),1==u.val()?(u.val(0),a.addClass("no-hide"),l.push(function(){r.html("Disable Smiles"),s.enableAllOptions()})):(u.val(1),r.html("Enable Smiles"),a.removeClass("no-hide"),s.disableAllOptions(),s.enableOption("no-smiles"));var c=d.editors[d.currentEditorName].getContent();d.html2bbcode2html.call(d,c,{success:function(e){for(var t=l.length,i=0;i<t;i++)l[i].call(this,e)}})}else 1==u.val()?(u.val(0),r.html("Disable Smiles"),a.addClass("no-hide"),s.enableAllOptions()):(u.val(1),r.html("Enable Smiles"),a.removeClass("no-hide"),s.disableAllOptions(),s.enableOption("no-smiles"));y(this).menu("show")}return!1}}),""!=u.val()&&0!=u.val()&&s.menu("disableAllOptions").menu("enableOption","no-smiles"),{menu:s,button:t}},_getInsertEmbedMenu:function(e){var i=this,t=y("<li></li>"),n="";n+='<li class="facebook-logo" title="Facebook" data-embed-type="facebook"><a><i class="social-icon icon-facebook-squared"></i></a></li>',n+='<li class="twitter-logo" title="Twitter" data-embed-type="twitter"><a><i class="social-icon icon-twitter-squared"></i></a></li>',n+='<li class="linkedin-logo" title="LinkedIn" data-embed-type="linkedin"><a><i class="social-icon icon-linkedin-squared"></i></a></li>',n+='<li class="pinterest-logo" title="Pinterest" data-embed-type="pinterest"><a><i class="social-icon icon-pinterest-circled"></i></a></li>',n+='<li class="spotify-logo" title="Spotify" data-embed-type="spotify"><a><i class="social-icon icon-spotify"></i></a></li>',n+='<li class="instagram-logo" title="Instagram" data-embed-type="instagram"><a><img src="'+proboards.image_path()+'/icons/social/instagram-logo.png" alt="Instagram" /></a></li>',n+='<li class="indiegogo-logo" title="Indiegogo" data-embed-type="indiegogo"><a><img src="'+proboards.image_path()+'/icons/social/indiegogo-logo.png" alt="Indiegogo" /></a></li>',n+='<li class="kickstarter-logo" title="Kickstarter" data-embed-type="kickstarter"><a><img src="'+proboards.image_path()+'/icons/social/kickstarter-logo.png" alt="Kickstarter" /></a></li>',n+='<li class="gdoc-logo" title="Google Drive&#8482;" data-embed-type="gdoc"><a><img src="'+proboards.image_path()+'/icons/social/gdoc-logo.png" alt="Google Drive&#8482;" /></a></li>';var o=y('<ul class="wysiwyg-embed-menu"></ul>');return o.addClass("embed-menu").append(n).appendTo(document.body).menu({button:t,position:{my:"right top",at:"right bottom",of:t,collision:"flipit"},showOn:"click",clickHide:!0,click:function(e,t){e.preventDefault();y(t.item);return i.execCommand("insertEmbed",t),y(this).menu("show"),!1}}),{menu:o,button:t}},_getInsertUserLinkMenu:function(e){var n=this,t=y("<li></li>"),o=y("<div></div>").addClass("wysiwyg-menu").addClass("search-menu").appendTo(document.body),a=y('<input type="hidden" />').appendTo(o);return o.menu({button:t,position:{my:"right top",at:"right bottom",of:t,collision:"flipfit"},showOn:"click",beforeShow:function(){if("visual"==n.currentEditorName){n.focusOnSelected();var e=n.editors.visual.genericSelection;if(0<y(e.startContainer()).closest("code").length||0<y(e.endContainer()).closest("code").length)return!1}},show:function(){if(0==y(".user-search",o).length){proboards.search.create_user_search({container:o,displayboxId:"at-user",input:a,change:function(e,t){"select"==t.type&&(n.execCommand("insertUserLink",!1,{id:t.itemData.id,username:t.itemData.username}),y("."+i+"-selectlist").selectlist("deselect",t.itemData.id),y("."+i+"-displaybox").hide(),o.menu("hide"))}});var i=y(".user-search",o).attr("id");y("."+i+"-input").autosearch("option","enter",function(){y("."+i+"-selectlist").selectlist("select")}),y("input.search-input",o).prop("autofocus",!0),y(this).menu("hide").menu("show")}else setTimeout(function(){y("input.search-input",o).trigger("focus")},100)},addedMenu:"#at-user",clickHide:!1,click:function(e,t){return!1}}),{menu:o,button:t}},_insertTablePrompt:function(e){this._prompt({title:"Insert Table",fields:[{title:"Columns",name:"cols",input:!0,type:"number",value:2,size:8,required:!0,className:"short",min:1,max:50},{title:"Rows",name:"rows",input:!0,type:"number",value:2,size:8,required:!0,className:"short",min:1,max:100},{title:"Cellpadding",name:"cellpadding",input:!0,type:"number",value:3,size:8,required:!0,className:"short",min:0},{title:"Cellspacing",name:"cellspacing",input:!0,type:"number",value:0,size:8,required:!0,className:"short",min:0},{title:"Border",name:"border",input:!0,type:"checkbox",checked:0,size:8,required:!1}],callback:e,ieWidth:175})},_insertEmbedPrompt:function(f,e){var t=f.name,m=y(e).data("embed-type");if("Visual"==t)var i=function(e){var t=f.window.document,i=t.createElement("span");for(var n in i.setAttribute("class","wysiwyg-embed "+m),e)if(e.hasOwnProperty(n)){var o=e[n];i.setAttribute(n,o)}if("kickstarter"==m||"indiegogo"==m||"instagram"==m||"gdoc"==m){var a=t.createElement("img");a.setAttribute("src",proboards.image_path()+"/icons/social/"+m+"-logo-lg.png"),a.setAttribute("alt",m.charAt(0).toUpperCase()+m.substring(1))}else{var r=t.createElement("i"),s="icon-";s+="facebook"==m||"linkedin"==m?m+"-squared":"pinterest"==m?m+"-circled":m,r.setAttribute("class",s)}var l="Your "+("linkedin"==m?"LinkedIn":"gdoc"==m?"Google Drive\u2122":m.charAt(0).toUpperCase()+m.substring(1))+" embed will appear here after you post...",c=t.createTextNode(l);void 0!==r?i.appendChild(r):void 0!==a&&i.appendChild(a);var d=t.createDocumentFragment(),u=t.createElement("br"),h=t.createElement("br"),p=t.createElement("br");i.appendChild(c),d.appendChild(u),d.appendChild(i),d.appendChild(h),d.appendChild(p),f.replaceSelection(d)};else i=function(e){var t=0,i=0;void 0!==f.textarea.selectionStart&&(t=f.textarea.selectionStart,i=f.textarea.selectionEnd),0!=i&&(f.textarea.selectionStart=t,f.textarea.selectionEnd=i);var n=[],o="["+m+" ";for(var a in e)if(e.hasOwnProperty(a)){var r=a+'="'+e[a]+'"';n.push(r)}o+=(n=n.join(" "))+"]",f.replaceSelection(o),void 0!==f.textarea.selectionStart?f.textarea.selectionStart=f.textarea.selectionEnd:(f.range.collapse(!1),f.range.select())};var n={callback:i,ieWidth:625,buttonText:"Embed"};if(e.is("li.facebook-logo"))y.extend(n,{title:"Embed Facebook Post",fields:[{title:"<b>Facebook Post URL<b/>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URL:</b><br>https://www.facebook.com/ProBoardsFreeForums/posts/149123345105824</div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Facebook embed help</a></div><div class="help-content hide"><h4>How do I find a Facebook post URL?</h4><p>Use the following steps to find a Facebook post URL:<br /><ol><li>Navigate to the <a href="https://www.facebook.com/">Facebook</a> page with the post you want to share.</li><li>Click on the post\'s <b>timestamp</b> link (next to the audience selector).</li><li>After the page loads, copy the URL from the browser\'s address bar.</li></ol></p><h4>What type of Facebook posts are supported?</h4><p>Only <b>public</b> posts from Facebook Pages and profiles can be embedded.</p></div></div>'});else if(e.is("li.twitter-logo")){var o={title:"Embed Tweet",fields:[{title:"<b>Tweet URL</b>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URL:</b><br>https://twitter.com/proboards/status/2114706069</div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Twitter embed help</a></div><div class="help-content hide"><h4>How do I find a Tweet URL?</h4><p>Use the following steps to find a Tweet URL:<br /><ol><li>Locate the Tweet on <a href="https://twitter.com/" target="_blank">Twitter</a>.</li><li>Click on the Tweet. This will expand the Tweet, showing more information about when the Tweet was posted towards the bottom.</li><li>Click on <b>Details</b> next to the Tweet\'s timestamp.</li><li>Copy the URL from the browser\'s address bar.</li></ol></p></div></div>'};"Visual"==f.name&&(o.callback=function(e){var t=e.url,i=f.window.document.createElement("img");i.setAttribute("src",proboards.image_path()+"/bbcode/twitter-preview.png"),i.setAttribute("tweet_url",t),i.setAttribute("alt","Twitter Placeholder"),f.replaceSelection(i)}),y.extend(n,o)}else e.is("li.linkedin-logo")?y.extend(n,{title:"Embed LinkedIn Profile",fields:[{title:"<b>LinkedIn Profile URL</b>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URLs:</b><br><ul><li><div class="embed-url-title">Member Profile:</div>https://www.linkedin.com/in/jeffweiner08</li><li><div class="embed-url-title">Company Profile:</div>https://www.linkedin.com/company/linkedin</li></ul></div><br /><div class="embed-help"><div class="help-title"><a href="#">Show LinkedIn embed help</a></div><div class="help-content hide"><h4>How do I find a LinkedIn profile URL?</h4><p>Use the following steps to find a LinkedIn profile URL:<br /><ol><li>Navigate to the <a href="https://www.linkedin.com/">LinkedIn</a> <b>member</b> or <b>company</b> profile page.</li><li>Copy the URL from the browser\'s address bar.</li></ol></p></div></div>'}):e.is("li.instagram-logo")?y.extend(n,{title:"Embed Instagram Post",fields:[{title:"<b>Instagram Post URL</b>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URLs:</b><br><ul><li><div class="embed-url-title">Short:</div>http://instagr.am/p/bNd86MSFv6</li><li><div class="embed-url-title">Long:</div>http://instagram.com/p/bNd86MSFv6</li></ul></div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Instagram embed help</a></div><div class="help-content hide"><h4>How do I find an Instagram post URL?</h4><p>Use the following steps to find an Instagram post URL:<br />&nbsp;- From the Instagram homepage:<ol style="margin-bottom:5px;"><li>Locate the <a href="http://instagram.com/">Instagram</a> post.</li><li>Click on the <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAQCAMAAADUOCSZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjE4RERBNzRCNDQzMTFFMzk3MTRDNjJBQzA0OTdDRDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjE4RERBNzNCNDQzMTFFMzk3MTRDNjJBQzA0OTdDRDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiBNYWNpbnRvc2giPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0iRThEOTQ0NTRGMUE1NEMwRjg5QTU3QTQwQUUyQzJCQjEiIHN0UmVmOmRvY3VtZW50SUQ9IkU4RDk0NDU0RjFBNTRDMEY4OUE1N0E0MEFFMkMyQkIxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7HpxSgAAAL1QTFRF9PT08/Pz9fX18vLy8PDwk5OT8fHx9vb29/f3j4+PpKSk6enpw8PDn5+f6OjooaGhnp6emJiYnZ2dmpqaoKCg29vbxcXF5OTkra2t+vr6mZmZwMDA1dXVkJCQtbW1lpaWtLS0+fn5lJSU4uLim5ubnJyc0NDQsrKypaWl1NTUycnJxMTEpqam2NjYlZWVkpKSl5eX0tLSoqKi5ubmurq6+Pj44+Pj1tbWs7Oz6urq7+/v6+vr7Ozs7u7u7e3tmerH7wAAANhJREFUeNqskEVuRTEMRR14/BnKzMwU0/6XVSeTjip1UEu+snx8Eyegv4TAT2nJRUtdCLMSCkkiwZQxMkshJICMxL5mVI7eZjh7JEU3MGjwKTWcQF9BrInmkfZierd2bm/Vf7rm+urlGdDONeI/ptVhrzQ+qVbKffUwO3WC+R5/P58tljp5OlssJ8P5zni+diJqJKbLrnqDeLTffTl/8NhtBUeUPQyboxvikEa3Q1vTxm4KQhptNyLwDRLW7XFgCe/bplw2yC+VorUQq6IKmsIf/u0/yLcAAwBKH0wXq5lr6QAAAABJRU5ErkJggg==" alt="ellipse button"> button towards the bottom right of the post.</li><li>Select <b>View Photo Page</b>.</li><li>After the page loads, copy the URL from the browser\'s address bar.</li></ol>&nbsp;- From an Instagram user\'s page:<ol><li>Click on the user\'s <b>post</b> that you want to share.</li><li>After the Instagram post pops up, copy the URL from the browser\'s address bar.</li></ol></p></div></div>'}):e.is("li.pinterest-logo")?y.extend(n,{title:"Embed Pinterest Pin/Board",fields:[{title:"<b>Pinterest Pin/Board URL</b>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URLs:</b><br><ul><li><div class="embed-url-title">Pin:</div>https://www.pinterest.com/pin/99360735500167749/</li><li><div class="embed-url-title">Board:</div>https://www.pinterest.com/pinterest/official-news/</li></ul></div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Pinterest embed help</a></div><div class="help-content hide"><h4>How do I find a Pinterest pin or board URL?</h4><p>Use the following steps to find a Pinterest pin or board URL:<br />&nbsp;- Pinterest board:<ol><li>Navigate to the user\'s <a href="http://www.pinterest.com/" target="_blank">Pinterest</a> page.</li><li>Click on the <b>board</b> that you want to share.</li><li>After the board page loads, copy the URL from the browser\'s address bar.</li></ol>&nbsp;- Pinterest pin:<ol><li>Navigate to the <a href="http://www.pinterest.com/" target="_blank">Pinterest</a> board that contains the pin you want to share (check the steps listed above if you need help on how to find a board). </li><li>Click on the <b>pin</b> you want to share.</li><li>After the pin pops up, copy the URL from the browser\'s address bar.</li></ol></p></div></div>'}):e.is("li.spotify-logo")?y.extend(n,{title:"Embed Spotify",fields:[{title:"<b>Spotify URL/URI</b>",name:"data-id",input:!0,type:"text",value:"",required:!0},{title:"<b>Size</b>",name:"size",value:"large",selectMenu:!0,options:[["large","Large"],["compact","Compact"]],required:!0}],extraInfo:'<div class="embed-info"><b>Example URLs:</b><br><ul><li><div class="embed-url-title">Track:</div>http://open.spotify.com/track/7n9Q6bXSjm74uCtajkddPt</li><li><div class="embed-url-title">Album:</div>http://open.spotify.com/album/112eEMM7VwHVEknE4hHjjY</li><li><div class="embed-url-title">Playlist:</div>http://open.spotify.com/user/topsify/playlist/4hiQvXxxJJqsWNVlMkaERP</li></ul><b>Example URIs:</b><br><ul><li><div class="embed-url-title">Track:</div>spotify:track:7n9Q6bXSjm74uCtajkddPt</li><li><div class="embed-url-title">Album:</div>spotify:album:112eEMM7VwHVEknE4hHjjY</li><li><div class="embed-url-title">Playlist:</div>spotify:user:topsify:playlist:4hiQvXxxJJqsWNVlMkaERP</li></ul></div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Spotify embed help</a></div><div class="help-content hide"><h4>How do I find a Spotify URL/URI?</h4><p>Use the following steps to find a Spotify URL/URI:<br />&nbsp;- Spotify URL:<ol><li>From within the <a href="https://www.spotify.com" target="_blank">Spotify</a> App right-click any song, album, or playlist.</li><li>Select <b>Copy HTTP Link</b>.</li></ol></p>&nbsp;- Spotify URI:<ol><li>From within the <a href="https://www.spotify.com" target="_blank">Spotify</a> App right-click any song, album, or playlist.</li><li>Select <b>Copy Spotify URI</b>.</li></ol></p></div></div>'}):e.is("li.indiegogo-logo")?y.extend(n,{title:"Embed IndieGoGo Campaign",fields:[{title:"<b>Indiegogo Campaign URL</b>",name:"url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-info"><b>Example URL:</b><br>https://www.indiegogo.com/projects/bluesmart-world-s-first-smart-connected-carry-on</div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Indiegogo embed help</a></div><div class="help-content hide"><h4>How do I find an Indiegogo campaign URL?</h4><p>Use the following steps to find an Indiegogo campaign URL:<br /><ol><li>Navigate to the <a href="https://www.indiegogo.com/" target="_blank">Indiegogo</a> <b>campaign</b> page.</li><li>Copy the URL from the browser\'s address bar.</li></ol></p></div></div>'}):e.is("li.kickstarter-logo")?y.extend(n,{title:"Embed Kickstarter Project",fields:[{title:"<b>Kickstarter Project URL</b>",name:"url",input:!0,type:"text",value:"",required:!0},{title:"<b>Embed Type</b>",name:"type",value:"card",selectMenu:!0,options:[["card","Card"],["video","Video"]],required:!0}],extraInfo:'<div class="embed-info"><b>Example URL:</b><br>https://www.kickstarter.com/projects/1916334303/video-games-live-level-4-lets-do-it-again</div><br /><div class="embed-help"><div class="help-title"><a href="#">Show Kickstarter embed help</a></div><div class="help-content hide"><h4>How do I find a Kickstarter project URL?</h4><p>Use the following steps to find a Kickstarter project URL:<br /><ol><li>Navigate to the <a href="https://www.kickstarter.com/" target="_blank">Kickstarter</a> <b>project</b> page.</li><li>Copy the URL from the browser\'s address bar.</li></ol></p></div></div>'}):e.is("li.gdoc-logo")&&y.extend(n,{title:"Embed from Google Drive&#8482;",fields:[{title:"<b>Google Drive&#8482; URL</b>",name:"data-url",input:!0,type:"text",value:"",required:!0}],extraInfo:'<div class="embed-help"><div class="help-title"><a href="#">Show Google Drive&#8482; help</a></div><div class="help-content hide"><h4>How do I embed a Google Drive&#8482; document?</h4><ol><li>In the document you wish to embed, go to File -> Publish to the web.</li><li>In the Link tab, click the Publish button. This will only appear on documents still set as private.</li><li>When the document is published, copy the link the page will provide into the box above.</li></ol><h4>What types of documents are supported?</h4><p>You can embed documents, spreadsheets, forms and presentations.</p></div></div>'});this._prompt(n);var a=y(".embed-url-title");if(a.length){var r=0;a.each(function(){y(this).width()>r&&(r=y(this).width())}),a.width(r+1)}var s=y(".embed-help"),l=y(".help-title a"),c=y(".help-content");s.css("maxWidth",y(".ui-dialog form").width()),l.on("click",function(e){e.preventDefault(),c.slideToggle(c.hasClass("hide")),l.text(function(){return 0==y(this).text().indexOf("Show")?y(this).text().replace("Show","Hide"):0==y(this).text().indexOf("Hide")?y(this).text().replace("Hide","Show"):void 0}),c.hasClass("hide")?c.removeClass("hide"):c.addClass("hide")})},_insertListPrompt:function(e){this._prompt({title:"Insert List",fields:[{title:"Number of items",name:"count",input:!0,type:"number",value:3,size:8,required:!0,className:"short",min:1,max:1e3},{title:"List Style",name:"list_type",value:"disc",selectMenu:!0,options:[["disc","&#9679; List Item"],["circle","&#9675; List Item"],["square","&#9632; List Item"],["decimal","1, 2, 3 ..."],["upper-alpha","A, B, C ..."],["lower-alpha","a, b, c ..."],["upper-roman","I, II, III ..."],["lower-roman","i, ii, iii ..."]],required:!0}],callback:e,ieWidth:250})},_createLinkPrompt:function(e,t){var i=this.editors[this.currentEditorName].getSelectedText(),n="http://";i&&-1!=i.indexOf("http")&&(n=i);var o=[];o.push({title:"Text",name:"text",input:!0,type:"text",value:i||"link",size:20,required:!0}),o.push({title:"URL",name:"href",input:!0,type:"text",value:n,size:20,required:!0}),this._prompt({title:"Create Link",fields:o,callback:t,ieWidth:400})},_createEmailPrompt:function(e,t){var i=this.editors[this.currentEditorName].getSelectedText(),n="";i&&-1!=i.indexOf("@")&&(n=i);var o=[];o.push({title:"Text",name:"text",input:!0,type:"text",value:i||"link",size:20,required:!0}),o.push({title:"Email Address",name:"email",input:!0,type:"text",value:n,size:20,required:!0}),this._prompt({title:"Insert Email",fields:o,callback:t,ieWidth:450})},_insertImagePrompt:function(e){var t=this.editors[this.currentEditorName].getSelectedText(),i="http://";t&&-1!=t.indexOf("http")&&(i=t);var n=[];n.push({title:"Image URL",name:"src",input:!0,type:"text",value:i,size:20,required:!0}),n.push({title:"Alt Text",name:"alt",input:!0,type:"text",value:t||"",size:20,required:!1}),this._prompt({title:"Insert Image",fields:n,callback:e,ieWidth:425})},_insertVideoPrompt:function(e){var t=this.editors[this.currentEditorName].getSelectedText(),i=[];i.push({title:"Video URL",name:"url",input:!0,type:"text",value:t||"",size:20,required:!0}),i.push({title:"Size",name:"size",selectMenu:!0,value:"default",options:[["default","Default"],["small","Small"],["medium","Medium"],["large","Large"]],required:!0}),this._prompt({title:"Insert Video",fields:i,extraInfo:'<div id="video-list-info"><h1>Supported Video Sites</h1><ul><li><a href="http://www.dailymotion.com" target="_blank">Dailymotion</a></li><li><a href="http://www.metacafe.com" target="_blank">Metacafe</a></li><li><a href="http://www.myspace.com/video" target="_blank">MySpace videos</a></li><li><a href="http://www.twitch.tv" target="_blank">Twitch.tv</a></li><li><a href="http://vimeo.com" target="_blank">Vimeo</a></li><li><a href="http://www.youtube.com" target="_blank">YouTube</a></li><li><a href="http://www.imgur.com" target="_blank">Imgur GIFV</a></li><li>And any direct link to .wmv / .avi / .mpg / .mov / .mp4 / .ogv / .webm</li></ul></div>',callback:e,ieWidth:425})},_getTags:function(e,t,i){for(var n=e.length-1,o=0,a=[],r=0;o<=n&&r<100;){var s=e.indexOf(t,o);if(-1==s){var l=e.substr(o,n-o+1);a.push({text:l}),o=1+n}else{var c=e.indexOf(i,s);if(-1==c){l=e.substr(o,n-o+1);a.push({text:l}),o=n}else{var d=e.indexOf(t,s);if(d<c&&(s=d),o<s){l=e.substr(o,s-o);a.push({text:l})}l=e.substr(s+1,c-s-1);var u=this._getTag(l);u?a.push(u):a.push({text:t+l+i}),o=c+1}}r++}return a},_getTag:function(e){var t,i;t=0==e.indexOf("/")?(e=e.substr(1),!(i=!1)):!(i=!0),e.lastIndexOf("/")==e.length-1&&(t=!0,e=(e=e.substr(0,e.length-1)).replace(/\s*$/,""));var n,o={},a=e.indexOf(" ");if(-1==a)n=e;else{n=e.substr(0,a);for(var r=(e=e.substr(a+1)).split("="),s="",l="",c=0;c<r.length;c++)""==s?s=r[c]:c+1==r.length?(l=r[c].replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),o[s]=l):(a=r[c].lastIndexOf(" "),l=r[c].substr(0,a).replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),o[s]=l,s=r[c].substr(a+1))}return{name:n,attrs:o,open:i,close:t}},_correctRange:function(e){if(void 0!==e.startContainer&&!e.collapsed){for(;"#text"==e.startContainer.nodeName.toLowerCase()&&e.startOffset==e.startContainer.length&&0<e.startContainer.length||"#text"!=e.startContainer.nodeName.toLowerCase()&&e.startOffset==e.startContainer.childNodes.length&&0<e.startContainer.childNodes.length;)null==e.startContainer.nextSibling?e.setStart(e.startContainer.parentNode,e.startContainer.parentNode.childNodes.length):e.setStart(e.startContainer.nextSibling,0);for(;0==e.endOffset;){if(null==e.endContainer.previousSibling)e.setEnd(e.endContainer.parentNode,0);else i="#text"==(t=e.endContainer.previousSibling).nodeName.toLowerCase()?t.length:t.childNodes.length,e.setEnd(t,i)}for(;0==e.startOffset&&0<e.startContainer.childNodes.length&&"#text"!=e.startContainer.nodeName.toLowerCase();)e.setStart(e.startContainer.childNodes[0],0);for(;e.endOffset==e.endContainer.childNodes.length-1&&0<e.endContainer.childNodes.length&&"#text"!=e.endContainer.nodeName.toLowerCase();){var t,i;i="#text"==(t=e.endContainer.childNodes[e.endContainer.childNodes.length-1]).nodeName.toLowerCase()?t.length:t.childNodes.length,e.setEnd(t,i)}}},_prompt:function(u){void 0===u.dialog&&(u.dialog={}),0==y(this.dialog).length&&(this.dialog=y("<div></div>").hide().appendTo(document.body).dialog({autoOpen:!1,height:"auto",width:"auto",dialogClass:"wysiwyg-dialog",close:function(){y.clearInputError()}})),y(".wysiwyg-dialog .ui-dialog-content").css("overflow","visible");var e,h=this,t=y("<table></table>"),i=u.fields,n=u.extraInfo,o=i.length,a=u.buttonText||u.title;for(e=0;e<o;++e){var r=y('<tr><td class="pad-bottom">'+i[e].title+":&nbsp;</td></tr>"),s=y('<td class="pad-bottom"></td>');if(i[e].input)"textarea"==i[e].type?s.append('<textarea name="'+i[e].name+'" rows="'+(i[e].rows?i[e].rows:8)+'" cols="'+(i[e].cols?i[e].cols:30)+'"'+(i[e].required?' required="required"':"")+">"+(null!=i[e].value?i[e].value:"")+"</textarea>"):s.append('<input name="'+i[e].name+'"'+(i[e].className?' class="'+i[e].className+'"':"")+(i[e].checked?' checked="checked"':"")+' type="'+i[e].type+'" value="'+(null!=i[e].value?i[e].value:"")+'" size="'+(i[e].size?i[e].size:16)+'"'+(i[e].required?' required="required"':"")+(i[e].min?' min="'+i[e].min+'"':"")+(i[e].max?' max="'+i[e].max+'"':"")+(i[e].placeholder?' placeholder="'+i[e].placeholder+'"':"")+" />");else if(i[e].selectMenu){for(var l=y('<input id="wysiwyg-input-'+i[e].name+'" type="hidden" name="'+i[e].name+'" value="'+i[e].value+'" />'),c="",d=0;d<i[e].options.length;d++)i[e].value&&i[e].value==i[e].options[d][0]&&(text=i[e].options[d][1]),c+='<li class="value-'+i[e].options[d][0]+'"><a>'+i[e].options[d][1]+"</a></li>";var p=y('<ul class="select_menu_list list-style ui-menu ui-selectMenu hide"></ul>').append(c),f=y("<div></div>").addClass("selectMenuButton").append(p);p.selectMenu({status:i[e].options[0][1],updateInput:l,menuOptions:{click:function(e,t){y(t.item).parents(".select_menu_list").data("selectMenu").option("updateInput").val(y(t.item).attr("class").replace("value-",""))}}});s.append(l),s.append(f)}else if(i[e].select){var m='<select name="'+i[e].name+'">';for(d=0;d<i[e].options.length;d++)m+='<option value="'+i[e].options[d][0]+'"'+(i[e].value==i[e].options[d][0]?' selected="selected"':"")+">"+i[e].options[d][1]+"</option>";m+="</select>",s.append(m)}r.append(s),t.append(r)}var g=y("<form></form>").bind("submit.wysiwyg",function(e){void 0!==e.cancelBubble&&(e.cancelBubble=!0),void 0!==e.stopPropagation&&e.stopPropagation(),void 0!==e.preventDefault&&e.preventDefault();var t,i=!1,n={},o=this.elements,a=o.length;for(t=0;t<a;++t){var r=o[t].getAttribute("required"),s=(o[t].name,o[t].value),l=o[t].getAttribute("type"),c=o[t].getAttribute("min")?parseInt(o[t].getAttribute("min")):null,d=o[t].getAttribute("max")?parseInt(o[t].getAttribute("max")):null;if(null!=r&&"required"==r&&""==s){i=!0,y.inputError(o[t],"This field is required.");break}if("number"==l&&!s.match(/^-?[0-9]+$/)){i=!0,y.inputError(o[t],"This field must be an integer.");break}if(c&&(intVal=parseInt(s),intVal<c)){i=!0,y.inputError(o[t],"This field must be at least "+c+".");break}if(d&&(intVal=parseInt(s),intVal>d)){i=!0,y.inputError(o[t],"This field cannot be more than "+d+".");break}n[o[t].name]="border"==o[t].name?o[t].checked:o[t].value}return i||(h.dialog.dialog("close"),u.callback.call(this,n)),!1}).append(t);for(option in this.dialog.html("").append(g,n),u.dialog.height="auto",u.dialog.width="auto",y("html").is(".ie7")&&(u.dialog.width=u.ieWidth),u.dialog.buttons=[{text:a,click:function(){y("form",this).submit()}}],u.dialog.title=u.title,u.dialog.open=function(){proboards.dialogEnter(y(this))},u.dialog)this.dialog.dialog("option",option,u.dialog[option]);this.dialog.dialog("open"),setTimeout(function(){y("div.ui-dialog tr:first-child td input:visible").eq(0).focus().select()},0)},_onButtonClick:function(e){this.buttons[e].command&&this.execCommand(this.buttons[e].command,!1,!1)},_getSelection:function(){var e;if("bbcode"!=this.currentEditorName)return this.editors[this.currentEditorName].window.getSelection?e=this.editors[this.currentEditorName].window.getSelection():this.editors[this.currentEditorName].document.selection&&(e=this.editors[this.currentEditorName].document.selection.createRange()),e&&(this.editors[this.currentEditorName].selection=e),this.editors[this.currentEditorName].selection},_getRange:function(e){if((e=e||this._getSelection()).getRangeAt){if(0==e.rangeCount)(t=this.editors.wysiwyg.document.createRange()).setStart(this.editors.wysiwyg.document.body,0),t.setEnd(this.editors.wysiwyg.document.body,0),e.addRange(t);return e.getRangeAt(0)}var t;return(t=this.editors.wysiwyg.document.createRange()).setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),t},getContentFor:function(e){if("bbcode"==e||"visual"!=e)if(this.currentEditorName&&"wysiwyg"==this.currentEditorName&&this.editors.wysiwyg){for(var t=this.editors.wysiwyg.document.body.innerHTML;null!=t.match(/<br\s*\/?>$/)||t.match(/\s+$/)||t.match(/(&nbsp;)+$/);)t=t.replace(/<br\s*\/?>/,"").replace(/\s+$/,"").replace(/(&nbsp;)+$/,"");if("visual"==e)return t;if("bbcode"==e)return this.html2bbcode(t)}else{if(!this.currentEditorName||"bbcode"!=this.currentEditorName||!this.editors.bbcode)return;if("visual"==e)return this.bbcode2html(y(this.editors.bbcode.textarea).val());if("bbcode"==e)return y(this.editors.bbcode.textarea).val()}},_updateSelection:function(){this.editors.wysiwyg.window.getSelection?this.selection=this.editors.wysiwyg.window.getSelection():this.editors.wysiwyg.document.selection&&(this.selection=this.editors.wysiwyg.document.selection.createRange())},_updateButtonStates:function(){if("bbcode"!=this.currentEditorName){var e=this._getSelection(),t=this._getRange(e);this._correctRange(t);var i=t.commonAncestorContainer;y(".button.ui-active",this.controlsContainer).removeClass("ui-active");for(var n,o="",a="",r="";"body"!=i.nodeName.toLowerCase();)this.buttonStateIndex[i.nodeName.toLowerCase()]&&y(".button-"+this.buttonStateIndex[i.nodeName.toLowerCase()],this.controlsContainer).addClass("ui-active"),"font"==i.nodeName.toLowerCase()&&(""==o&&""!=i.face&&(o=i.face),""==a&&""!=i.color&&(a=i.color),""==r&&""!=i.size&&(r=i.size)),i=i.parentNode;if(n=a.match(/rgb\((\d+), (\d+), (\d+)\)/)){var s=parseInt(n[1],10).toString(16),l=parseInt(n[2],10).toString(16),c=parseInt(n[3],10).toString(16);s.length<2&&(s="0"+s),l.length<2&&(l="0"+l),c.length<2&&(c="0"+c),a=s+l+c}""==a&&(a="000000"),a=a.replace("#",""),y("#foreColorPreview").css({backgroundColor:"#"+a})}},_removeNode:function(e){var t=e.parentNode;for(t.removeChild(e);0==t.childNodes.length&&"body"!=t.nodeName.toLowerCase();)(t=(e=t).parentNode).removeChild(e)},_nodeIsEmpty:function(e,t){void 0===t&&(t=0);for(var i=0;i<t;++i)0;if("#text"==e.nodeName.toLowerCase())return!(!e.isElementContentWhitespace||""!=e.data);if(1==e.childNodes.length&&"br"==e.childNodes[0].nodeName.toLowerCase())return!0;var n=e.childNodes,o=n.length;for(i=0;i<o;++i)if(!this._nodeIsEmpty(n[i],t+1))return!1;return!0},_transferChildNodes:function(e,t){for(e.childNodes.length;0<e.childNodes.length;)t.appendChild(e.childNodes[0])},_cleanTags:function(e,t){void 0===t&&(t=0);for(var i=0;i<t;++i)0;for(void 0===e&&(e=this.editors.wysiwyg.document.body.childNodes[0]);null!=e;)if(this._nodeIsEmpty(e)){var n=e.nextSibling;this._removeNode(e),e=n}else{if(null!=e.nextSibling&&"#text"!=e.nodeName.toLowerCase()&&"#text"!=e.nextSibling.nodeName.toLowerCase())for(var o=!0;o;)if("#text"!=e.nodeName.toLowerCase()&&null!=e.nextSibling&&"#text"!=e.nextSibling.nodeName.toLowerCase())if(e.nodeName.toLowerCase()!=e.nextSibling.nodeName.toLowerCase()){var a,r,s,l;for(a=r=e,s=e.nextSibling.nodeName.toLowerCase(),l=!1;1==r.childNodes.length&&!l;)"#text"!=(r=r.childNodes[0]).nodeName.toLowerCase()&&r.nodeName.toLowerCase()==s&&(l=!0);if(l){(c=r.parentNode).removeChild(r),a.parentNode.insertBefore(r,a.nextSibling),this._transferChildNodes(r,c),r.appendChild(a),e=r}else{for(a=r=e.nextSibling,s=e.nodeName.toLowerCase(),l=!1;1==r.childNodes.length&&!l;)"#text"!=(r=r.childNodes[0]).nodeName.toLowerCase()&&r.nodeName.toLowerCase()==s&&(l=!0);var c;if(l)(c=r.parentNode).removeChild(r),a.parentNode.insertBefore(r,a.nextSibling),this._transferChildNodes(r,c),r.appendChild(a);else o=!1}}else{var d=e.nextSibling;this._transferChildNodes(d,e),e.parentNode.removeChild(d)}else o=!1;"#text"!=e.nodeName.toLowerCase()&&this._cleanTags(e.childNodes[0],t+1),e=e.nextSibling}},_splitParentsUntilNodeName:function(e,t,i){for(var n=e.parentNode,o=!1;!o;){this._compareTagToNode(t,i,n)&&(o=!0);for(var a=this.editors.wysiwyg.document.createElement(n.nodeName),r=e.nextSibling;r;)r.isElementContentWhitespace?n.removeChild(r):a.appendChild(r),r=e.nextSibling;if(0<a.childNodes.length&&n.parentNode.insertBefore(a,n.nextSibling),o)n.parentNode.insertBefore(e,n.nextSibling),this._removeEmptyTextNodes(n),0==n.childNodes.length&&n.parentNode.removeChild(n);else{var s=this.editors.wysiwyg.document.createElement(n.nodeName);s.appendChild(e),n.parentNode.insertBefore(s,n.nextSibling),e=s,this._removeEmptyTextNodes(n),0==n.childNodes.length&&n.parentNode.removeChild(n)}n=e.parentNode}return e},_compareTagToNode:function(e,t,i){if(i.nodeName.toLowerCase()!=e)return!1;var n,o=0,a=0,r=i.attributes;r.length;for(n=0;n<r;++n){var s=i.attributes[n].nodeName.toLowerCase();0!=s.indexOf("_")&&(t[s]&&""!=t[s]&&(i.removeAttribute(s),++o),++a)}return o==a},_compareTagToParentNodes:function(e,t,i){for(i=i.parentNode;i&&"body"!=i.nodeName.toLowerCase();){if(this._compareTagToNode(e,t,i))return!0;i=i.parentNode}return!1},_insertAroundSelection:function(e,t){var i=this._getSelection(),n=this._getRange(i);if(n.collapsed){var o=n.commonAncestorContainer;this._compareTagToParentNodes(e,t,o)?(a=this.editors.wysiwyg.document.createTextNode(""),n.insertNode(a),this._splitParentsUntilNodeName(a,e,t)):(a=this._createNode(e,t),n.insertNode(a)),n.selectNodeContents(a)}else{this._correctRange(n);var a;o=n.commonAncestorContainer;if(!this._compareTagToNode(e,t,o)&&!this._compareTagToParentNodes(e,t,o)){r=n.extractContents();this._clearAllTaggedBranches(r.childNodes,e,t),a=this._createNode(e,t);s=r.firstChild,l=r.lastChild;return}var r=n.extractContents();a=this.editors.wysiwyg.document.createTextNode(""),n.insertNode(a),this._splitParentsUntilNodeName(a,e,t);var s=r.firstChild,l=r.lastChild;a.parentNode.insertBefore(r,a),a.parentNode.removeChild(a),n.setStartBefore(s),l.nextSibling?n.setEnd(l.nextSibling,0):n.setEnd(l,l.childNodes.length);var c=this;setTimeout(function(){c._cleanTags()},1)}},_createNode:function(e,t){var i=this.editors.wysiwyg.document.createElement(e);for(var n in t)i[n]=t[n];return i},_clearAllTaggedBranches:function(e,t,i){for(var n=0;n<e.length;n++){var o=e[n];if(this._compareTagToNode(t,i,o)){for(var a=o.childNodes;0<a.length;)o.parentNode.insertBefore(a[0],o);o.parentNode.removeChild(o),n--}else"#text"!=o.nodeName.toLowerCase()&&this._clearAllTaggedBranches(o.childNodes,t,i)}},_removeEmptyTextNodes:function(e){for(var t=e.childNodes,i=0;i<t.length;i++)t[i].isElementContentWhitespace&&""==t[i].wholeText&&e.removeChild(t[i])},_insertAfterSelection:function(e,t){var i=this._createNode(e,t),n=this._getSelection(),o=this._getRange(n);o.collapse(!1),o.insertNode(i),this._cleanTags()},_replaceSelected:function(e){var t=this._getSelection();if(this.editors.wysiwyg.window.getSelection){var i=this._getRange(t);i.deleteContents(),i.insertNode(e),i.setEndAfter(e),t.addRange(i),t.collapseToEnd&&t.collapseToEnd(),this.editors.wysiwyg.window.focus()}else this.wysiwyg_editor.selection&&(t.pasteHTML(e.innerHTML),t.collapse(!1),t.select())},overwriteSelection:function(e){var t=this.editors[this.currentEditorName];"BBCode"==t.name?t.replaceSelection(e):"Visual"==t.name&&t.replaceSelection(t.document.createTextNode(e))},focusOnSelected:function(){var e=this.editors[this.currentEditorName];e.window?e.window.focus():e.textarea.focus(),e.editable.focus(),y.browser.msie&&e.window&&(e.selection&&e.selection.addRange&&e.selection.addRange(e.range),e.range&&e.range.select&&e.range.select())}}),y.extend(y.ui.wysiwyg,{version:"1.8.5"})}(jQuery),function(f){f.extend(f.ui.wysiwyg.prototype,{_visualEditor:{name:"Visual",controls:{},controlGroups:[[["fontName","fontSize"],["foreColor","bold","italic","underline","strikethrough","superscript","subscript","removeFormat"]],[["justifyLeft","justifyCenter","justifyRight","justifyFull","insertTable","insertUnorderedList","insertHorizontalRule"],["createLink","createEmail","insertImage","insertVideo","insertUserLink","insertCode","insertQuote","insertSmiley","insertEmbed"]]],controlShortcuts:{"ctrl+b":"bold","ctrl+i":"italic","ctrl+u":"underline"},commands:{fontName:function(e,t,i,n){e.document.execCommand(t,!1,n)},foreColor:function(e,t,i,n){e.document.execCommand(t,!1,n)},fontSize:function(e,t,i,n){e.document.execCommand(t,!1,n)},removeFormat:function(e,t,i,n){e.document.execCommand(t,!1,null)},insertTable:function(s,e,t,i){s.getSelection(),s.getRange();this._insertTablePrompt(function(e){if(!(parseInt(e.rows,10)<=0||parseInt(e.cols)<=0)){var t=s.document.createElement("table");0!=e.cellspacing&&(t.style.borderCollapse="separate",t.style.borderSpacing=e.cellspacing+"px");for(var i=s.document.createElement("tbody"),n=0;n<e.rows;n++){for(var o=s.document.createElement("tr"),a=0;a<e.cols;a++){var r=s.document.createElement("td");r.innerHTML="Row "+(n+1)+" column "+(a+1),e.border&&(r.style.border="1px solid #000"),0!=e.cellpadding&&(r.style.padding=e.cellpadding+"px"),o.appendChild(r)}i.appendChild(o)}t.appendChild(i),s.replaceSelection(t),f(t).before("<br>").after("<br>"),void 0!==s.range.selectNodeContents?(s.getRange(),s.range.selectNodeContents(t.getElementsByTagName("td")[0]),s.window.focus()):(s.getRange(),s.range.findText("Row 1 column 1"),s.range.select())}})},insertUnorderedList:function(r,e,t,i){var s=r.getSelection(),l=r.getRange(),c=document.createElement("li"),d=void 0!==r.range.collapsed?r.range.collapsed:!(0<r.range.boundingWidth);this._insertListPrompt(function(e){if(d)c.innerHTML="List item 1";else if(r.window.getSelection)c.appendChild(l.extractContents());else{var t=l.text;t=t.replace(/\n/g,"<br>"),c.innerHTML=t}if(0!=e.count){var i;(i="disc"==e.list_type||"circle"==e.list_type||"square"==e.list_type?r.document.createElement("ul"):r.document.createElement("ol")).style.listStyleType=e.list_type,i.appendChild(c);for(var n=1;n<e.count;++n){var o=r.document.createElement("li");o.innerHTML="List item "+(n+1),i.appendChild(o)}if(r.replaceSelection(i),r.window.getSelection){l.collapse(!1);var a=r.document.createElement("br");l.insertNode(a),l.setEndAfter(a),s.removeAllRanges(),s.addRange(l),s.collapseToEnd()}else l.pasteHTML("<br>"),l.select();void 0!==r.range.selectNodeContents?(r.getRange(),r.range.selectNodeContents(i.getElementsByTagName("li")[0]),r.window.focus()):(r.getRange(),r.range.findText(c.nodeValue),r.range.select())}else l.select?l.select():r.window.focus()})},createLink:function(i,e,t,n){i.range||(i.range=i.getRange());var o=void 0!==i.range.collapsed?i.range.collapsed:!(0<i.range.boundingWidth);this._createLinkPrompt(o,function(e){var t=i.document.createElement("a");t.setAttribute("href",e.href),void 0!==e.text?(t.innerHTML=e.text,i.replaceSelection(t)):i.surroundSelection(t)})},createEmail:function(i,e,t,n){i.range||(i.range=i.getRange());var o=void 0!==i.range.collapsed?i.range.collapsed:!(0<i.range.boundingWidth);this._createEmailPrompt(o,function(e){var t=i.document.createElement("a");t.setAttribute("href","mailto:"+e.email),void 0!==e.text?(t.innerHTML=e.text,i.replaceSelection(t)):i.surroundSelection(t)})},insertImage:function(i,e,t,n){this._insertImagePrompt(function(e){var t=f(i.window.document.createElement("img"));-1==e.src.indexOf(":")&&(e.src="http://"+e.src),t.attr("src",e.src),t.attr("alt",e.alt),proboards.data("display_large_images")||t.attr("style","max-width:100%;"),i.replaceSelection(t.get(0))})},insertVideo:function(i,e,t,n){this._insertVideoPrompt(function(e){var t=i.document.createElement("img");t.setAttribute("src",proboards.image_path()+"/bbcode/video-preview.png"),t.setAttribute("video",e.url.replace('"',"&quot;")),t.setAttribute("alt","Video Preview"),"default"==e.size||"small"!=e.size&&"medium"!=e.size&&"large"!=e.size||t.setAttribute("size",e.size),i.replaceSelection(t)})},insertEmbed:function(e,t,i,n){this._insertEmbedPrompt(e,f(i.item))},insertUserLink:function(e,t,i,n){var o=e.document.createTextNode("@"+n.username);e.replaceSelection(o)},insertCode:function(e,t,i,n){var o=e.document.createElement("code"),a=(e.getSelection(),e.getRange());if(void 0!==e.range.collapsed?e.range.collapsed:!(0<e.range.boundingWidth))o.innerHTML="insert code here",f.browser.msie&&7==parseInt(f.browser.version)&&(o.innerHTML+="<br>");else if(e.window.getSelection){var r=a.extractContents();o.appendChild(r)}else{var s=a.text;s=s.replace(/\n/g,"<br>"),o.innerHTML=s}e.replaceSelection(o),f(o).before("<br>").after("<br>")},insertQuote:function(e,t,i,n){var o=e.document.createElement("div");o.setAttribute("class","quote_body");e.getSelection();var a=e.getRange();if(void 0!==e.range.collapsed?e.range.collapsed:!(0<e.range.boundingWidth))o.innerHTML="insert quote here";else if(e.window.getSelection){var r=a.extractContents();o.appendChild(r)}else{var s=a.text;s=s.replace(/\n/g,"<br>"),o.innerHTML=s}var l=e.document.createElement("div");l.setAttribute("class","quote no_header"),l.appendChild(o),e.replaceSelection(l),f(l).before("<br>").after("<br>")},insertSmiley:function(e,t,i,n){var o="";if(parseInt(this.$nosmiles.val()))o=e.document.createTextNode(" "+n.symbol);else{var a=null;e.document.createRange?a=e.document.createTextNode(" "):(a=e.document.createElement("span")).setAttribute("class","remove-me"),e.replaceSelection(a),e.range.collapse(!1),e.getSelection(),o=e.document.createElement("img");var r=n.symbol.replace(/</g,"&lt;").replace(/>/g,"&gt;");o.setAttribute("text",r),o.setAttribute("alt"," "+r),o.setAttribute("src",n.url)}e.replaceSelection(o),e.range.collapse(!1);var s=e.getSelection();s.collapseToEnd&&s.collapseToEnd(),e.document.createRange?(s.removeAllRanges(),s.addRange(e.range)):f(e.document).find(".remove-me").replaceWith(" ")},addAttachment:function(e,t,i,n){var o=e.document.createElement("span");o.setAttribute("class","attachment_preview"),o.setAttribute("attachment",n.id),-1==n.thumbnail.indexOf("/uploader/no-preview.png")&&n.thumbnail?(o.setAttribute("thumbnail",1),o.innerHTML='<img src="'+n.thumbnail+'" />'):o.innerHTML='<a href="#">'+n.filename+"</a> ("+n.size+")",e.replaceSelection(o)},removeAttachment:function(e,t,i,n){f('span[attachment="'+n.id+'"]',e.document).remove()},removeAttachments:function(e,t,i,n){f("span[attachment]",e.document).remove()}},build:function(e,t){var u=this,i='<!DOCTYPE HTML><html><head><meta charset="UTF-8">'+proboards.data("css_wysiwyg_style")+proboards.data("css_wysiwyg_non_editable")+"<title></title></head><body></body></html>",n=f("<iframe></iframe>").height(t.height()).appendTo(t);this.parent=e,this.container=t,this.iframe=n[0],this.window=this.iframe.contentWindow,this.document=this.window.document,this.document.designMode="On",this.document.open(),this.document.write(i),this.document.close(),this.resizable=this.iframe,this.editable=this.document.body,this.bindable=this.document,this.genericSelection=new proboards.genericSelection(u.window);var h=this.genericSelection;f(this.document).bind("mousedown.wysiwyg",function(e){f(document).trigger("mousedown",e)}),f(this.document).bind("blur.wysiwyg",function(){u.getRange()}),BlockFix.init({window:u.window,selector:this.parent.uneditableElements});function p(){var e,t=new proboards.genericSelection(u.window);0<f(t.startContainer()).closest("code").length||0<f(t.endContainer()).closest("code").length?e=u.document.createTextNode("\t"):(e=u.document.createElement("span")).innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;";var i=u.getRange();i.insertNode(e),i.setStartAfter(e),i.setEndAfter(e)}var o,a=navigator.userAgent.toLowerCase();-1<a.indexOf("applewebkit")?f(this.document).bind("keydown.wysiwyg",function(e){if(!e.ctrlKey||e.which!=Keys.b&&e.which!=Keys.i&&e.which!=Keys.u){if(13==e.which){if(!u.shiftADiv()&&u.window.getSelection){var t=u.getRange(),i=u.document.createElement("br"),n=u.document.createElement("br");if("LI"==t.endContainer.parentElement.nodeName||"LI"==t.endContainer.nodeName)return!0;var o=u.getSelection().focusOffset,a=t.endContainer.parentElement;a.normalize();var r=a.childNodes.length-1,s=t.endContainer,l=null;if(null!=s){var c=s.isEqualNode(a.childNodes[r]);l=s.nextSibling}t.deleteContents(),t.insertNode(i),t.setStartAfter(i),t.setEndAfter(i),null!=s&&t.collapse(!1);var d=u.getSelection().focusOffset;"Text"!=t.endContainer&&d<=o&&c&&null==l&&"HTML"!=a.nodeName&&(t.insertNode(n),t.setStartAfter(n),t.setEndAfter(n)),u.selection.removeAllRanges(),u.selection.addRange(t),u.selection.collapseToEnd&&u.selection.collapseToEnd()}return!(e.cancelBubble=!0)}9==e.which&&(p(),e.preventDefault(),e.stopPropagation())}else if(0<f(h.startContainer()).closest("code").length||0<f(h.endContainer()).closest("code").length)return e.stopImmediatePropagation(),!1}):-1<a.indexOf("opera")?f(this.document).bind("keypress.wysiwyg",function(e){if(13==e.which){if(u.shiftADiv())return e.preventDefault(),e.stopPropagation(),!1;var t=u.getRange(),i=u.document.createElement("br");if("LI"==t.endContainer.parentNode.nodeName||"LI"==t.endContainer.nodeName)return!0;t.deleteContents(),t.insertNode(i),t.setStartAfter(i),t.setEndAfter(i),u.selection.removeAllRanges(),u.selection.addRange(t),u.selection.collapseToEnd(),e.preventDefault(),e.stopPropagation()}else 9==e.which&&(p(),e.preventDefault(),e.stopPropagation())}):-1<a.indexOf("msie")?f(this.document).bind("keydown.wysiwyg",function(e){var t=new proboards.genericSelection(u.window);if(!e.ctrlKey||e.which!=Keys.b&&e.which!=Keys.i&&e.which!=Keys.u){if(13==e.which){var i=u.document.createElement("br");if(u.window.getSelection){if(u.shiftADiv())return!(e.cancelBubble=!0);if("LI"==(n=u.getRange()).endContainer.parentNode.nodeName||"LI"==n.endContainer.nodeName)return!0;n.deleteContents(),n.insertNode(i),n.setEndAfter(i),u.selection.addRange(n),u.selection.collapseToEnd&&u.selection.collapseToEnd()}else if(u.document.selection){if(u.shiftADiv())return!(e.cancelBubble=!0);if("LI"==(n=u.getRange()).parentElement().nodeName)return!0;n.pasteHTML(i.outerHTML),n.select()}return!(e.cancelBubble=!0)}if(9==e.which){if(u.window.getSelection)p();else if(u.document.selection){var n=u.getRange(),o=u.document.createElement("span");o.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;","CODE"==n.parentElement().nodeName?n.pasteHTML(o.innerHTML):n.pasteHTML(o.outerHTML),n.select()}return!(e.cancelBubble=!0)}}else if(0<f(t.startContainer()).closest("code").length||0<f(t.endContainer()).closest("code").length)return e.stopImmediatePropagation(),!1}):f(this.document).bind("keydown.wysiwyg",function(e){if(13==e.which){if(u.shiftADiv())return e.preventDefault(),e.stopPropagation(),!1}else 9==e.which&&(p(),e.preventDefault(),e.stopPropagation())}),f(this.document.body).on("paste.wyswiwyg",function(e){if(u.window.clipboardData)e.preventDefault(),u.replaceSelection(u.breakText(u.window.clipboardData.getData("Text"),u.document));else if(e.originalEvent.clipboardData)e.preventDefault(),u.replaceSelection(u.breakText(e.originalEvent.clipboardData.getData("text/plain"),u.document));else{var t=f("body",u.document),i=u.getSelection(),n=u.range||u.getRange(),o=f('<div style="visibility: hidden;"></div>');t.append(o);var a=u.document.createRange();a.selectNodeContents(o.get(0)),i.removeAllRanges(),i.addRange(a),setTimeout(function(){i.removeAllRanges(),i.addRange(n),u.replaceSelection(u.plainText(o.contents(),u.document)),o.remove()},0)}}),f(this.document).bind("keyup.wysiwyg mouseup.wysiwyg",function(e){var t=u.getRange();o&&(t.startContainer?t.startContainer===o.startContainer&&t.startOffset==o.startOffset&&t.endContainer===o.endContainer&&t.endOffset==o.endOffset||(u.parent.latestCommands={}):t.offsetLeft==o.offsetLeft&&t.offsetTop==o.offsetTop||(u.parent.latestCommands={})),o=t,u.updateControlStates()}),this.tableContextMenu=f('<ul><li><a><span>Row</span></a><ul><li id="insertRowBefore"><a><span class="icon"></span><span>Insert row before</span></a></li><li id="insertRowAfter"><a><span class="icon"></span><span>Insert row after</span></a></li><li id="deleteRow"><a><span class="icon"></span><span>Delete row</span></a></li></ul></li><li><a><span>Column</span></a><ul><li id="insertColumnBefore"><a><span class="icon"></span><span>Insert column before</span></a></li><li id="insertColumnAfter"><a><span class="icon"></span><span>Insert column after</span></a></li><li id="deleteColumn"><a><span class="icon"></span><span>Delete column</span></a></li></ul></li><li class="separator"></li><li id="deleteTable"><a><span class="icon"></span><span>Delete table</span></a></li></ul>').appendTo(document.body).hide().contextMenu(),this.tableContextMenu.contextMenu("attach",{type:"delegate",parent:this.document.body,selector:"table",callback:function(e,t,i){if(t){var n=e.target,o=f(n).closest("table").find("td"),a="";if(o.length){a=o.attr("style");for(var r=1;r<o.length;++r)if(a!=o.eq(r).attr("style")){a="";break}""!=a&&(a=' style="'+a+'"')}if(t.match(/Row/)){for(;n&&"tr"!=n.nodeName.toLowerCase();)n=n.parentNode;if(!n)return}else if(t.match(/Column/)){for(;n&&"td"!=n.nodeName.toLowerCase();)n=n.parentNode;if(!n)return}if("insertRowBefore"==t){for(var s=f(n).children("td").length,l=f("<tr></tr>"),c=0;c<s;c++)l.append("<td"+a+"><br /></td>");f(n).before(l)}else if("insertRowAfter"==t){for(s=f(n).children("td").length,l=f("<tr></tr>"),c=0;c<s;c++)l.append("<td"+a+"><br /></td>");f(n).after(l)}else if("deleteRow"==t){if(0==f(n).siblings("tr").length)for(;n&&"table"!=n.nodeName.toLowerCase();)n=n.parentNode;f(n).remove()}else if("insertColumnBefore"==t){var d=f(n).index();f(n).parent().parent().find("tr").each(function(){f(f(this).children("td")[d]).before("<td"+a+"><br /></td>")})}else if("insertColumnAfter"==t){d=f(n).index();f(n).parent().parent().find("tr").each(function(){f(f(this).children("td")[d]).after("<td"+a+"><br /></td>")})}else if("deleteColumn"==t){if(0==f(n).siblings("td").length){for(;n&&"table"!=n.nodeName.toLowerCase();)n=n.parentNode;f(n).remove()}else{d=f(n).index();f(n).parent().parent().find("tr").each(function(){f(f(this).children("td")[d]).remove()})}}else"deleteTable"==t&&(f(i).remove(),u.document.body.focus())}}})},getContent:function(){for(var e=this.document.getElementsByTagName("span"),t=0;t<e.length;t++){var i=e[t];if(null!=i.getAttribute("atuser")||"attachment_preview"==i.className){var n=f("a",i).first();n.length&&""==f.trim(n.html())&&n.remove(),""==f.trim(f(i).html())&&f(i).remove()}}return this.document.body.innerHTML},setContent:function(e){f("body",this.document).html(e)},beforeExecCommand:function(t){try{t.document.execCommand("styleWithCSS",!1,!1)}catch(e){try{t.document.execCommand("useCSS",!1,!1)}catch(e){}}try{t.document.execCommand("enableObjectResizing",!0,!0)}catch(e){}},afterExecCommand:function(e){e.updateControlStates(),f("code",e.document).each(function(){f(this).html(e.plainText(f(this).contents(),e.document))})},replaceSelection:function(e){this.window.focus();var t=this.getSelection(),i=this.range||this.getRange();if(this.window.getSelection)i.deleteContents(),i.insertNode(e),"#document-fragment"!=e.nodeName.toLowerCase()&&(i.setStartAfter(e),i.setEndAfter(e)),t.removeAllRanges(),t.addRange(i),t.collapseToEnd();else if(this.document.selection){if("#text"==e.nodeName.toLowerCase())i.pasteHTML(e.nodeValue);else if("#document-fragment"==e.nodeName.toLowerCase()){for(var n="",o=0;o<e.childNodes.length;o++)n+="#text"==e.childNodes[o].nodeName.toLowerCase()?e.childNodes[o].nodeValue:e.childNodes[o].outerHTML;i.pasteHTML(n)}else{n=e.outerHTML;"table"!=e.nodeName.toLowerCase()&&"code"!=e.nodeName.toLowerCase()&&"div"!=e.nodeName.toLowerCase()||(n="<br>"+e.outerHTML+"<br>"),i.pasteHTML(n)}i.collapse(!1),i.select()}},surroundSelection:function(e){var t=this.selection||this.getSelection();if(this.window.getSelection){var i=(n=this.range||this.getRange()).extractContents();e.appendChild(i),n.insertNode(e),n.collapse(!0),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n),t.collapseToEnd()}else if(this.document.selection){var n=this.range||this.getRange();e.innerHTML=n.text,n.pasteHTML(e.outerHTML),n.collapse(!1),n.select()}this.window.focus()},getSelectedText:function(){var e=this.range||this.getRange();return(void 0!==e&&void 0!==e.collapsed?e.collapsed:!(0<e.boundingWidth))?null:this.window.getSelection?f(e.cloneContents()).text():e.text},getSelection:function(){var e;return this.window.getSelection?e=this.window.getSelection():this.document.selection&&(e=this.document.selection),e&&(this.selection=e),this.selection},getRange:function(e){var t;return(e=e||this.getSelection()).getRangeAt?0==e.rangeCount?((t=this.document.createRange()).setStart(this.document.body,0),t.setEnd(this.document.body,0),e.addRange(t)):t=e.getRangeAt(0):t=e.createRange(),t&&(this.range=t),this.range},updateControlStates:function(){f(".button.state-active",this.parent.controlsContainer).removeClass("state-active");var e=this.range?this.range:this.getRange();if(void 0!==e.commonAncestorContainer||void 0!==e.parentElement){var t=e.commonAncestorContainer?e.commonAncestorContainer:e.parentElement();if(null!==t){this.parent._correctRange(e);for(var i="";t&&"body"!=t.nodeName.toLowerCase();){var n=t.nodeName.toLowerCase();if(void 0!==this.parent.tagCommandAlias[n])if("object"==typeof this.parent.tagCommandAlias[n]){var o={},a=t.attributes.length;for(d=0;d<a;++d)if(o[t.attributes[d].name]=t.attributes[d].value,"style"==t.attributes[d].name&&-1!=t.attributes[d].value.indexOf("text-align")){var r=t.attributes[d].value.substr(12);o.align=r.slice(0,r.length-1)}var s=this.parent.tagCommandAlias[n];a=s.length;e:for(d=0;d<a;++d)if(void 0!==s[d].attrs){var l=!0;t:for(var c in s[d].attrs){if("align"==c&&""!=i){l=!1;break t}if(void 0===s[d].attrs[c]||void 0===o[c]||s[d].attrs[c]!=o[c]){l=!1;break t}}if(l){-1!=s[d].command.indexOf("justify")&&(i=s[d].command),f(".button-"+s[d].command,this.parent.controlsContainer).addClass("state-active");break e}}else f(".button-"+s[d].command,this.parent.controlsContainer).addClass("state-active")}else f(".button-"+this.parent.tagCommandAlias[n],this.parent.controlsContainer).addClass("state-active");t=t.parentNode}if(void 0!==this.parent.latestCommands)for(var c in this.parent.latestCommands)this.parent.latestCommands[c]?f(".button-"+c,this.parent.controlsContainer).addClass("state-active"):f(".button-"+c,this.parent.controlsContainer).removeClass("state-active");var d,u=["justifyLeft","justifyCenter","justifyRight","justifyFull"];a=u.length;if(""==i)for(var c in this.parent.latestCommands)this.parent.latestCommands[c]&&-1!=c.indexOf("justify")&&(i=c);for(d=0;d<a;++d)u[d]!=i&&(void 0!==this.parent.latestCommands&&delete this.parent.latestCommands[u[d]],f(".button-"+u[d],this.parent.controlsContainer).removeClass("state-active"))}}},plainText:function(e,t,i){var n=this,o=t.createDocumentFragment();return e.each(function(){if(this==i)return!1;3==this.nodeType?o.appendChild(t.createTextNode(this.nodeValue)):f(this).is("br")?o.appendChild(t.createElement("br")):o.appendChild(n.plainText(f(this).contents(),t))}),o},breakText:function(e,t){for(var i=e.split("\n"),n=t.createDocumentFragment(),o=0;o<i.length;o++){var a=i[o];!f.browser.msie&&-1==navigator.userAgent.indexOf("Trident")||(a=a.replace("\r",""),parseInt(f.browser.version)<9&&(a=a.replace("\t","&nbsp;&nbsp;&nbsp;&nbsp;"))),n.appendChild(t.createTextNode(a)),o<i.length-1&&n.appendChild(t.createElement("br"))}return n},nodesBetween:function(e,t){for(var i=[],n=e.nextSibling;n&&n!=t;)i.push(n),n=n.nextSibling;return i},log:function(e){this.parent.log(e)}}})}(jQuery),function(s){s.extend(s.ui.wysiwyg.prototype,{_bbcodeEditor:{name:"BBCode",controls:{},controlGroups:[[["fontName","fontSize"],["foreColor","bold","italic","underline","strikethrough","superscript","subscript"]],[["justifyLeft","justifyCenter","justifyRight","justifyFull","insertTable","insertUnorderedList","insertHorizontalRule"],["createLink","createEmail","insertImage","insertVideo","insertUserLink","insertCode","insertQuote","insertSmiley","insertEmbed"]]],controlShortcuts:{"ctrl+b":"bold","ctrl+i":"italic","ctrl+u":"underline"},commands:{fontName:function(e,t,i,n){e.surroundSelection("font",{face:n},!0)},foreColor:function(e,t,i,n){e.surroundSelection("font",{color:n},!0)},fontSize:function(e,t,i,n){e.surroundSelection("font",{size:n},!0)},bold:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},italic:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},underline:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},strikethrough:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},superscript:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},subscript:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},justifyLeft:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},justifyCenter:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},justifyRight:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},justifyFull:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0)},insertTable:function(r,e,t,i){var s=0,l=0;void 0!==r.textarea.selectionStart&&(s=r.textarea.selectionStart,l=r.textarea.selectionEnd),this._insertTablePrompt(function(e){if(!(parseInt(e.rows,10)<=0||parseInt(e.cols)<=0)){var t;t=0!=e.cellspacing?'[table style="border-collapse: separate; border-spacing: '+e.cellspacing+'px;"][tbody]\n':"[table][tbody]\n";for(var i=0;i<e.rows;i++){t+="[tr]\n";for(var n=0;n<e.cols;n++){var o="";e.border&&(o+="border: 1px solid #000;"),0!=e.cellpadding&&(""!=o&&(o+=" "),o+="padding: "+e.cellpadding+"px;"),t+=""!=o?'[td style="'+o+'"]Row '+(i+1)+" column "+(n+1)+"[/td]\n":"[td]Row "+(i+1)+" column "+(n+1)+"[/td]\n"}t+="[/tr]\n"}t+="[/tbody][/table]\n",0!=l&&(r.textarea.selectionStart=s,r.textarea.selectionEnd=l),r.replaceSelection(t);var a="Row 1 column 1";void 0!==r.textarea.selectionStart?(r.textarea.selectionStart=r.textarea.value.indexOf(a,r.textarea.selectionStart),r.textarea.selectionEnd=r.textarea.selectionStart+a.length,r.textarea.focus()):(r.range.findText(a),r.range.select())}})},insertUnorderedList:function(o,e,t,i){var a="List item 1",r=0,s=0;void 0!==o.textarea.selectionStart?(r=o.textarea.selectionStart,s=o.textarea.selectionEnd,o.textarea.selectionStart!=o.textarea.selectionEnd&&(a=o.textarea.value.substring(o.textarea.selectionStart,o.textarea.selectionEnd))):o.selection&&(""!=o.selection.createRange().text?a=o.selection.createRange().text:o.getRange()),this._insertListPrompt(function(e){if(0!=e.count){var t,i="\n["+(t="disc"==e.list_type||"circle"==e.list_type||"square"==e.list_type?"ul":"ol")+' type="'+e.list_type+'"]\n';i+="[li]"+a+"[/li]\n";for(var n=1;n<e.count;++n)i+="[li]List item "+(n+1)+"[/li]\n";i+="[/"+t+"]",0!=s&&(o.textarea.selectionStart=r,o.textarea.selectionEnd=s),o.replaceSelection(i),void 0!==o.textarea.selectionStart?(o.textarea.selectionStart=o.textarea.value.indexOf(a,o.textarea.selectionStart),o.textarea.selectionEnd=o.textarea.selectionStart+a.length,o.textarea.focus()):(o.range.findText(a),o.range.select())}else o.selection?o.range.select():(o.textarea.selectionStart=o.textarea.selectionEnd,o.textarea.focus())})},insertHorizontalRule:function(e,t,i,n){e.replaceSelection("[hr]"),void 0!==e.textarea.selectionStart?e.textarea.selectionStart=e.textarea.selectionEnd:(e.range.collapse(!1),e.range.select())},createLink:function(i,e,t,n){var o=!0,a=0,r=0;void 0!==i.textarea.selectionStart?(o=i.textarea.selectionStart==i.textarea.selectionEnd,a=i.textarea.selectionStart,r=i.textarea.selectionEnd):o=!i.range||!(0<i.range.boundingWidth),this._createLinkPrompt(o,function(e){if(0!=r&&(i.textarea.selectionStart=a,i.textarea.selectionEnd=r),void 0!==e.text){var t='[a href="'+e.href+'"]'+e.text+"[/a]";i.replaceSelection(t)}else i.surroundSelection("a",{href:e.href}),void 0===i.textarea.selectionStart&&(i.range.collapse(!1),i.range.move("character",4));void 0!==i.textarea.selectionStart?i.textarea.selectionStart=i.textarea.selectionEnd:(i.range.collapse(!1),i.range.select())})},createEmail:function(i,e,t,n){var o=!0,a=0,r=0;void 0!==i.textarea.selectionStart?(o=i.textarea.selectionStart==i.textarea.selectionEnd,a=i.textarea.selectionStart,r=i.textarea.selectionEnd):o=!i.range||!(0<i.range.boundingWidth),this._createEmailPrompt(o,function(e){if(0!=r&&(i.textarea.selectionStart=a,i.textarea.selectionEnd=r),void 0!==e.text){var t='[a href="mailto:'+e.email+'"]'+e.text+"[/a]";i.replaceSelection(t)}else i.surroundSelection("a",{href:"mailto:"+e.email}),void 0===i.textarea.selectionStart&&(i.range.collapse(!1),i.range.move("character",4));void 0!==i.textarea.selectionStart?i.textarea.selectionStart=i.textarea.selectionEnd:(i.range.collapse(!1),i.range.select())})},insertImage:function(i,e,t,n){var o=0,a=0;void 0!==i.textarea.selectionStart&&(o=i.textarea.selectionStart,a=i.textarea.selectionEnd),this._insertImagePrompt(function(e){0!=a&&(i.textarea.selectionStart=o,i.textarea.selectionEnd=a),-1==e.src.indexOf(":")&&(e.src="http://"+e.src),""==e.alt&&(e.alt=" ");var t='[img src="'+e.src+'" alt="'+e.alt+'"]';i.replaceSelection(t),void 0!==i.textarea.selectionStart?i.textarea.selectionStart=i.textarea.selectionEnd:(i.range.collapse(!1),i.range.select())})},insertVideo:function(n,e,t,i){var o=0,a=0;void 0!==n.textarea.selectionStart&&(o=n.textarea.selectionStart,a=n.textarea.selectionEnd),this._insertVideoPrompt(function(e){0!=a&&(n.textarea.selectionStart=o,n.textarea.selectionEnd=a);var t="";"default"==e.size||"small"!=e.size&&"medium"!=e.size&&"large"!=e.size||(t+=' size="'+e.size+'"');var i="[video"+t+"]"+e.url+"[/video]";n.replaceSelection(i),void 0!==n.textarea.selectionStart?n.textarea.selectionStart=n.textarea.selectionEnd:(n.range.collapse(!1),n.range.select())})},insertUserLink:function(e,t,i,n){var o="@"+n.username;e.replaceSelection(o),void 0!==e.textarea.selectionStart?e.textarea.selectionStart=e.textarea.selectionEnd:(e.range.collapse(!1),e.range.select())},insertCode:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0,"insert code here")},insertQuote:function(e,t,i,n){var o=this._getControl(t);e.surroundSelection(o.tag,o.attrs,!0,"insert quote here")},insertSmiley:function(e,t,i,n){var o=" "+n.symbol;e.replaceSelection(o),void 0!==e.textarea.selectionStart?(e.textarea.selectionStart=e.textarea.selectionEnd,-1<navigator.userAgent.toLowerCase().indexOf("msie")&&e.range.collapse(!1)):(e.range.collapse(!1),e.range.select())},insertEmbed:function(e,t,i,n){this._insertEmbedPrompt(e,s(i.item))},addAttachment:function(e,t,i,n){var o="";o=-1==n.thumbnail.indexOf("/uploader/no-preview.png")&&n.thumbnail?'[attachment id="'+n.id+'" thumbnail="1"]':'[attachment id="'+n.id+'"]',e.replaceSelection(o),void 0!==e.textarea.selectionStart?e.textarea.selectionStart=e.textarea.selectionEnd:(e.range.collapse(!1),e.range.select())},removeAttachment:function(e,t,i,n){this.setContent(this.getContent().replace(new RegExp('\\[attachment id="'+n.id+'".*?\\]',"g"),""))},removeAttachments:function(e,t,i,n){this.setContent(this.getContent().replace(new RegExp("\\[attachment.+?\\]","g"),""))}},build:function(e,t){var i=this;this.parent=e;var n=s('<textarea style="width: 100%; border: 0; padding: 0;"></textarea>').height(t.height()).appendTo(t);this.container=t,this.textarea=n[0],this.resizable=this.textarea,this.editable=this.textarea,this.bindable=this.textarea,s.browser.msie&&parseInt(s.browser.version)<10&&s(this.textarea).bind("keyup.wysiwyg mouseup.wysiwyg",function(){i.getRange()})},getContent:function(){return this.textarea.value},setContent:function(e){this.textarea.value=e},surroundSelection:function(e,t,i,n){var o,a;if(void 0===n&&(n=""),o="["+e,t)for(var r in t)o+=" "+r+'="'+t[r]+'"';if(o+="]",a="[/"+e+"]",void 0!==this.textarea.selectionStart){this.textarea.scrollTop;var s=this.textarea.value.substr(0,this.textarea.selectionStart),l=this.textarea.value.substr(this.textarea.selectionEnd,this.textarea.value.length-this.textarea.selectionEnd),c=this.textarea.value.substr(this.textarea.selectionStart,this.textarea.selectionEnd-this.textarea.selectionStart);""==c&&(c=n),this.textarea.value=s+o+c+a+l,this.textarea.focus(),i?(this.textarea.selectionStart=s.length+o.length,this.textarea.selectionEnd=this.textarea.selectionStart+c.length):(this.textarea.selectionStart=s.length,this.textarea.selectionEnd=this.textarea.selectionStart+o.length+c.length+a.length)}else{var d=this.range||this.getRange(),u=d.text;""==u&&(u=n),""==u&&(u=this.textarea.innerText,this.textarea.value=""),d.text=o+u+a,""!=u?d.findText(u,-1*u.length):(d.moveStart("character",-1*a.length),d.moveEnd("character",-1*a.length)),d.select()}},replaceSelection:function(e){s(this.textarea).replaceSelection(e),s(this.textarea).focus()},getSelectedText:function(){this.textarea.focus();var e=this.getRange();return"w3c"==rangeType?this.textarea.selectionStart==this.textarea.selectionEnd?null:this.textarea.value.substr(this.textarea.selectionStart,this.textarea.selectionEnd-this.textarea.selectionStart):0==e.compareEndPoints("StartToEnd",e)?null:e.text},getSelection:function(){return this.selection="w3c"==rangeType?window.getSelection():document.selection,this.selection},getRange:function(e){if(e=e||this.getSelection()){if("w3c"==rangeType){if(0==e.rangeCount){var t=document.createRange();t.setStart(document.body,0),t.setEnd(document.body,0),e.addRange(t)}this.range=e.getRangeAt(0)}else this.range=e.createRange();return this.range}},log:function(e){this.parent.log(e)}},html2bbcode:function(t,i){var n=this,o="";if(i=i||{},void 0!==this.html&&void 0!==this.html[t])o=this.html[t],"function"==typeof i.success&&i.success.call(n,o),"function"==typeof i.complete&&i.complete.call(n);else{void 0===this.html&&(this.html=new Array);var a={};s(".template-download").each(function(e){var t=s(this).find("input"),i=s(this).find(".preview img");a[t.val()]={id:t.val(),thumbnail_url:i.attr("src")}}),this.startLoading(),t=proboards.validateUnicode(t),proboards.ajax({url:proboards.route("filter_html2bbcode"),data:{html:t,attachments:JSON.stringify(a)},dataType:"json",success:function(e){o=e.bbcode,n.html[t]=e.bbcode,"function"==typeof i.success&&i.success.call(n,o)},error:function(){throw"function"==typeof i.error&&i.error.call(n),"There was an error while trying to load the BBCode editor."},complete:function(){n.stopLoading(),"function"==typeof i.complete&&i.complete.call(n)}})}return o},bbcode2html:function(t,i){var n=this,o="",a=parseInt(n.$nosmiles.val());if(i=i||{},void 0!==this.bbcode&&void 0!==this.bbcode[t]&&void 0!==this.bbcode[t][a])o=this.bbcode[t][a],"function"==typeof i.success&&i.success.call(n,o),"function"==typeof i.complete&&i.complete.call(n);else{void 0===this.bbcode&&(this.bbcode={});var r={};s(".template-download").each(function(e){var t=s(this).find("input"),i=s(this).find(".preview img"),n=s(this).find(".name span"),o=s(this).find(".size");r[t.val()]={id:t.val(),thumbnail_url:i.attr("src"),file_name:s.trim(n.text()),file_size:s.trim(o.text())}}),this.startLoading(),t=proboards.validateUnicode(t),proboards.ajax({url:proboards.route("filter_bbcode2html"),data:{bbcode:t,nosmiles:a,attachments:JSON.stringify(r)},dataType:"json",success:function(e){o=e.html,void 0===n.bbcode[t]&&(n.bbcode[t]={}),n.bbcode[t][a]=e.html,"function"==typeof i.success&&i.success.call(n,o)},error:function(){throw"function"==typeof i.error&&i.error.call(n),"There was an error while trying to load the Preview Editor."},complete:function(){n.stopLoading(),"function"==typeof i.complete&&i.complete.call(n)}})}return o},html2bbcode2html:function(t,i){var n=this,o="",a=parseInt(n.$nosmiles.val());return i=i||{},void 0!==this.bbcode&&void 0!==this.bbcode[t]&&void 0!==this.bbcode[t][a]?(o=this.bbcode[t][a],"function"==typeof i.success&&i.success.call(n,o)):(void 0===this.bbcode&&(this.bbcode={}),this.startLoading(),t=proboards.validateUnicode(t),proboards.ajax({url:proboards.route("filter_html2bbcode2html"),data:{html:t,nosmiles:a},dataType:"json",success:function(e){o=e.html,void 0===n.bbcode[t]&&(n.bbcode[t]={}),n.bbcode[t][a]=e.html,"function"==typeof i.success&&i.success.call(n,o)},error:function(){throw"There was an error while trying to manipulate content."},complete:function(){n.stopLoading()}})),o}})}(jQuery),function(a){a.extend(a.ui.wysiwyg.prototype._visualEditor,{checkAtStart:function(){if(window.getSelection){var e=(i=this.getRange()).startContainer,t=this.getSelection();if("#text"==e.nodeName&&(e=e.parentNode),t.rangeCount)return(o=(n=t.getRangeAt(0)).cloneRange()).selectNodeContents(e),o.setEnd(n.startContainer,n.startOffset),""==o.toString()}else if(document.selection){var i,n,o;e=(i=this.getRange()).parentElement();return(o=(n=i).duplicate()).moveToElementText(e),o.setEndPoint("EndToStart",n),""==o.text}return!1},shiftADiv:function(){var e=this.getRange(),t=this.document.createElement("br"),i=".quote, code";if(window.getSelection&&this.checkAtStart()){var n=e.commonAncestorContainer;if((o=a(n).parents(i)).length)return o.eq(0).before(t),!0}else if(document.selection&&this.checkAtStart()){n=e.parentElement();var o=a(n);if(a(n).is(i)||(o=a(n).parents(i)),o.length)return o.eq(0).before(t),!0}return!1}})}(jQuery);var BlockFix={init:function(e){$(e.window.document).bind("click mouseup"+($.browser.opera?" keypress":" keydown"),{window:e.window,selector:e.selector},BlockFix.handler)},keepClean:function(e){var t=e.data;e.which||e.keyCode,e.type;setTimeout(function(){var e=new proboards.genericSelection(t.window);if(!$(e.container()).is(t.selection.container)||e.offset()!=t.selection.offset){try{$(t.node).text().length||$(t.node).remove()}catch(e){}$(t.bind).unbind("keydown click mouseup",t.handler)}},10)},handler:function(e){var t=new proboards.genericSelection(e.data.window),i=$(t.startContainer()).closest(e.data.selector);if("click"==e.type&&t.collapsed()){if(i.length){var n=t.offset();0!=n&&n!=i.text().length&&(t.selectNode(i.get(0)),e.preventDefault())}}else if("mouseup"!=e.type||t.collapsed()){if("keydown"==e.type||"keypress"==e.type){var o=e.which||e.keyCode;$.browser.opera&&"keypress"==e.type&&e.which==e.keyCode&&97<=o&&o<=122&&(o-=32);var a=Keys.modifies_text(o);if(i.length&&a&&o!=Keys.del&&o!=Keys.backspace){t.collapsed()||t.remove();var r=t.offset()?"after":"before",s=document.createTextNode("_");if(i[r](s),"after"==r){var l=document.createTextNode("_");i[r](l);var c=function(){1==l.nodeValue.length?$(l).remove():l.nodeValue=l.nodeValue.substr(1),32===o&&t.move(1,"start",!0),$(this).unbind("keyup keydown",c)};$.browser.safari&&-1==navigator.userAgent.toLowerCase().indexOf("chrome")?$(this).bind("keyup keydown",c):setTimeout(c,1)}t.selectNode(s);var d=function(e){BlockFix.keepClean(e)};return void $(this).bind("keydown click mouseup",{node:s,handler:d,bind:this,window:e.data.window,selection:{offset:t.offset(),container:t.container()}},d)}r="none";o==Keys.right||o==Keys.del?r="right":o!=Keys.left&&o!=Keys.backspace||(r="left");var u=o==Keys.backspace||o==Keys.del;if("none"==r||u&&!t.collapsed())i.length&&a&&i.remove();else{var h="left"==r?"start":"end",p=t.move("left"==r?-1:1,h,!1),f=t[h+"Container"](p),m=$(f).closest(e.data.selector);if(m.length){s=document.createTextNode("");m["right"!=r||u?"before":"after"](s),t.selectNode(s),u&&m.remove();d=function(e){BlockFix.keepClean(e)};return $(this).bind("keydown click mouseup",{node:s,handler:d,bind:this,window:e.data.window,selection:{offset:t.offset(),container:t.container()}},d),e.preventDefault(),!1}}}}else{var g,v=$(t.startContainer()).closest(e.data.selector),b=$(t.endContainer()).closest(e.data.selector);if(!v.length&&!b.length)return;if(e.preventDefault(),v.length&&(g=t.selectNode(v.get(0),"start")),b.length&&(g=t.selectNode(b.get(0),"end")),$.browser.opera)return void setTimeout(function(){g.apply()},1)}}};function reverse(e){return e.toString().split("").reverse().join("")}function interpret_iframe_transport(t,i){if(null!=i.dataType&&i.dataType.match(/iframe/)){var n=i.result[0].body.innerText;try{i.result=$.parseJSON(n,{throwError:!0})}catch(e){return t.responseText=JSON.stringify({error:n}),i.error(t,i),!1}}return!0}function check_control_bar(){var e=$("#wrapper").width(),t=$("#content .control-bar"),i=$(t).find(".ui-pagination").width(),n=$(t).find(".controls").width(),o=$(t).find(".ui-search").width();0<i&&0<n&&0<o&&e<i+n+o&&$(t).addClass("center")}function check_control_bar_ie(){var e=$("#content .control-bar");27<$(e).find(".ui-pagination").height()&&($(e).find(".controls").after('<br class="clear" />'),$(e).addClass("center"))}!function($){var forum_format_regex=/^[a-z0-9\-]+$/,email_format_regex=/^[A-Za-z0-9\_\-\.\+]+\@[A-Za-z0-9\-\_]+\.[A-Za-z0-9\-\.]+$/,date_format_regexp=/^(\d{4})\-(\d{1,2})\-(\d{1,2})$/,length_regexp=/^length\s+([^\s]+)\s+(.*)/;$.validate=function(type,value){var options={};if(length_regexp.test(type)){var matches=length_regexp.exec(type);options.operator=matches[1],options.value=matches[2],type="length"}var func_name="validate_"+type;return"function"!=eval("typeof "+func_name)||eval(func_name+".call(this, value, options)");function validate_length(e,t){return"=="==t.operator&&e.length==t.value||(">="==t.operator&&e.length>=t.value||(">"==t.operator&&e.length>t.value||("<="==t.operator&&e.length<=t.value||("<"==t.operator&&e.length<t.value||"!="==t.operator&&e.length!=t.value))))}function validate_forum_format(e,t){return!!forum_format_regex.test(e)}function validate_email_format(e,t){return!!email_format_regex.test(e)}function validate_date(e,t){var i=date_format_regexp.exec(e);!function(e,t,i){function n(e,t){var i,n=[31,28,31,30,31,30,31,31,30,31,30,31][t-1];return 2==t&&((i=e)%400==0||i%100!=0&&i%4==0)&&n++,n}if(!(t<1||12<t)){var n=n(e,t);if(!(i<1||n<i));}}(i[1],i[2],i[3])}function validate_date_format(e,t){return!!date_format_regexp.test(e)}}}(jQuery),function(o){void 0===o.fn.each2&&o.extend(o.fn,{each2:function(e){for(var t=o([0]),i=-1,n=this.length;++i<n&&(t.context=t[0]=this[i])&&!1!==e.call(t[0],i,t););return this}})}(jQuery),function(_,y){"use strict";function r(e){var t=_(document.createTextNode(""));e.before(t),t.before(e),t.remove()}function s(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return I[e]||e})}function d(e,t){for(var i=0,n=t.length;i<n;i+=1)if(p(e,t[i]))return i;return-1}function p(e,t){return e===t||e!==y&&t!==y&&(null!==e&&null!==t&&(e.constructor===String?e+""==t+"":t.constructor===String&&t+""==e+""))}function c(e,t,i){var n,o,a;if(null===e||e.length<1)return[];for(o=0,a=(n=e.split(t)).length;o<a;o+=1)n[o]=i(n[o]);return n}function a(e){return e.outerWidth(!1)-e.width()}function u(t){var i="keyup-change-value";t.on("keydown",function(){_.data(t,i)===y&&_.data(t,i,t.val())}),t.on("keyup",function(){var e=_.data(t,i);e!==y&&t.val()!==e&&(_.removeData(t,i),t.trigger("keyup-change"))})}function h(t,i,n){var o;return n=n||y,function(){var e=arguments;window.clearTimeout(o),o=window.setTimeout(function(){i.apply(n,e)},t)}}function f(e){e.preventDefault(),e.stopPropagation()}function m(e,t,i){var n,o,a=[];(n=_.trim(e.attr("class")))&&_((n=""+n).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(n=_.trim(t.attr("class")))&&_((n=""+n).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&((o=i(this))&&a.push(o))}),e.attr("class",a.join(" "))}function l(e,t,i,n){var o=s(e.toUpperCase()).indexOf(s(t.toUpperCase())),a=t.length;return o<0?void i.push(n(e)):(i.push(n(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(n(e.substring(o,o+a))),i.push("</span>"),void i.push(n(e.substring(o+a,e.length))))}function e(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function g(r){var e,s=null,t=r.quietMillis||100,l=r.url,c=this;return function(a){window.clearTimeout(e),e=window.setTimeout(function(){var e=r.data,t=l,i=r.transport||_.fn.select2.ajaxDefaults.transport,n={type:r.type||"GET",cache:r.cache||!1,jsonpCallback:r.jsonpCallback||y,dataType:r.dataType||"json"},o=_.extend({},_.fn.select2.ajaxDefaults.params,n);e=e?e.call(c,a.term,a.page,a.context):null,t="function"==typeof t?t.call(c,a.term,a.page,a.context):t,s&&"function"==typeof s.abort&&s.abort(),r.params&&(_.isFunction(r.params)?_.extend(o,r.params.call(c)):_.extend(o,r.params)),_.extend(o,{url:t,dataType:r.dataType,data:e,success:function(e){var t=r.results(e,a.page,a);a.callback(t)},error:function(e,t,i){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:i};a.callback(n)}}),s=i.call(c,o)},t)}}function v(e){var t,i,n=e,s=function(e){return""+e.text};_.isArray(n)&&(n={results:i=n}),!1===_.isFunction(n)&&(i=n,n=function(){return i});var o=n();return o.text&&(s=o.text,_.isFunction(s)||(t=o.text,s=function(e){return e[t]})),function(o){var a,r=o.term,i={results:[]};return""===r?void o.callback(n()):(a=function(e,t){var i,n;if((e=e[0]).children){for(n in i={},e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.children=[],_(e.children).each2(function(e,t){a(t,i.children)}),(i.children.length||o.matcher(r,s(i),e))&&t.push(i)}else o.matcher(r,s(e),e)&&t.push(e)},_(n().results).each2(function(e,t){a(t,i.results)}),void o.callback(i))}}function w(t){var a=_.isFunction(t);return function(i){var n=i.term,o={results:[]},e=a?t(i):t;_.isArray(e)&&(_(e).each(function(){var e=this.text!==y,t=e?this.text:this;""!==n&&!i.matcher(n,t)||o.results.push(e?this:{id:this,text:this})}),i.callback(o))}}function b(e,t){if(_.isFunction(e))return 1;if(e){if("string"==typeof e)return 1;throw new Error(t+" must be a string, function, or falsy value")}}function x(e,t){if(_.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return e.apply(t,i)}return e}function n(){var i=this;_.each(arguments,function(e,t){i[t].remove(),i[t]=null})}function t(e,t){function i(){}return((i.prototype=new e).constructor=i).prototype.parent=e.prototype,i.prototype=_.extend(i.prototype,t),i}if(window.Select2===y){var i,o,A,k,C,S,T,E={x:0,y:0},D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return 112<=(e=e.which?e.which:e)&&e<=123}},I={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};S=_(document),$=1,k=function(){return $++},i=t(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(e){var a,t,i,n,o,r=".select2-results";this.opts=e=this.prepareOpts(e),this.id=e.id,e.element.data("select2")!==y&&null!==e.element.data("select2")&&e.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=_(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=_("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(e.element.attr("id")||"autogen"+k()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",e.element.attr("title")),this.body=_(document.body),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",e.element.attr("style")),this.container.css(x(e.containerCss,this.opts.element)),this.container.addClass(x(e.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",f),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(e.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",f),this.results=a=this.container.find(r),this.search=t=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",f),this.results.on("mousemove",function(e){E!==y&&E.x===e.pageX&&E.y===e.pageY||_(e.target).trigger("mousemove-filtered",e)}),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),i=80,n=this.results,o=h(i,function(e){n.trigger("scroll-debounced",e)}),n.on("scroll",function(e){0<=d(e.target,n.get())&&o(e)}),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),_(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),_(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),_.fn.mousewheel&&a.mousewheel(function(e,t,i,n){var o=a.scrollTop();0<n&&o-n<=0?(a.scrollTop(0),f(e)):n<0&&a.get(0).scrollHeight-a.scrollTop()+n<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),f(e))}),u(t),t.on("keyup-change input paste",this.bind(this.updateResults)),t.on("focus",function(){t.addClass("select2-focused")}),t.on("blur",function(){t.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(e){0<_(e.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=y,_.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==e.maximumInputLength&&this.search.attr("maxlength",e.maximumInputLength);var s=e.element.prop("disabled");s===y&&(s=!1),this.enable(!s);var l=e.element.prop("readonly");l===y&&(l=!1),this.readonly(l),T=T||function(){var e=_("<div class='select2-measure-scrollbar'></div>");e.appendTo(document.body);var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",e.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,t=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&i._sync&&e.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,t!==y&&(t.container.remove(),t.liveRegion.remove(),t.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),n.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:p(e.attr("locked"),"locked")||p(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(b){var r,e,t,i,A=this;if("select"===(r=b.element).get(0).tagName.toLowerCase()&&(this.select=e=b.element),e&&_.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in b)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),b.debug=b.debug||_.fn.select2.defaults.debug,b.debug&&console&&console.warn&&(null!=b.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=b.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=b.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=b.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=b.ajax&&null!=b.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=b.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=b.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=b.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=b.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=b.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=b.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),b.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=b.element.data("tags")){var n=b.element.data("tags");_.isArray(n)||(n=[]),b.element.data("select2Tags",n)}if(null!=b.sorter&&(b.sortResults=b.sorter),null!=b.selectOnClose&&(b.selectOnBlur=b.selectOnClose),null!=b.ajax&&_.isFunction(b.ajax.processResults)&&(b.ajax.results=b.ajax.processResults),null!=b.language){var o=b.language;_.isFunction(o.noMatches)&&(b.formatNoMatches=o.noMatches),_.isFunction(o.searching)&&(b.formatSearching=o.searching),_.isFunction(o.inputTooShort)&&(b.formatInputTooShort=o.inputTooShort),_.isFunction(o.inputTooLong)&&(b.formatInputTooLong=o.inputTooLong),_.isFunction(o.loadingMore)&&(b.formatLoading=o.loadingMore),_.isFunction(o.maximumSelected)&&(b.formatSelectionTooBig=o.maximumSelected)}if("function"!=typeof(b=_.extend({},{populateResults:function(e,t,f){var m,g=this.opts.id,v=this.liveRegion;(m=function(e,t,i){var n,o,a,r,s,l,c,d,u,h,p=[];for(n=0,o=(e=b.sortResults(e,t,f)).length;n<o;n+=1)r=!(s=!0===(a=e[n]).disabled)&&g(a)!==y,l=a.children&&0<a.children.length,(c=_("<li></li>")).addClass("select2-results-dept-"+i),c.addClass("select2-result"),c.addClass(r?"select2-result-selectable":"select2-result-unselectable"),s&&c.addClass("select2-disabled"),l&&c.addClass("select2-result-with-children"),c.addClass(A.opts.formatResultCssClass(a)),c.attr("role","presentation"),(d=_(document.createElement("div"))).addClass("select2-result-label"),d.attr("id","select2-result-label-"+k()),d.attr("role","option"),(h=b.formatResult(a,d,f,A.opts.escapeMarkup))!==y&&(d.html(h),c.append(d)),l&&((u=_("<ul></ul>")).addClass("select2-result-sub"),m(a.children,u,i+1),c.append(u)),c.data("select2-data",a),p.push(c[0]);t.append(p),v.text(b.formatMatches(e.length))})(t,e,0)}},_.fn.select2.defaults,b)).id&&(t=b.id,b.id=function(e){return e[t]}),_.isArray(b.element.data("select2Tags"))){if("tags"in b)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+b.element.attr("id");b.tags=b.element.data("select2Tags")}if(e?(b.query=this.bind(function(n){var e,t,o,i={results:[],more:!1},a=n.term;o=function(e,t){var i;e.is("option")?n.matcher(a,e.text(),e)&&t.push(A.optionToData(e)):e.is("optgroup")&&(i=A.optionToData(e),e.children().each2(function(e,t){o(t,i.children)}),0<i.children.length&&t.push(i))},e=r.children(),this.getPlaceholder()!==y&&0<e.length&&((t=this.getPlaceholderOption())&&(e=e.not(t))),e.each2(function(e,t){o(t,i.results)}),n.callback(i)}),b.id=function(e){return e.id}):"query"in b||("ajax"in b?((i=b.element.data("ajax-url"))&&0<i.length&&(b.ajax.url=i),b.query=g.call(b.element,b.ajax)):"data"in b?b.query=v(b.data):"tags"in b&&(b.query=w(b.tags),b.createSearchChoice===y&&(b.createSearchChoice=function(e){return{id:_.trim(e),text:_.trim(e)}}),b.initSelection===y&&(b.initSelection=function(e,t){var i=[];_(c(e.val(),b.separator,b.transformVal)).each(function(){var e={id:this,text:this},t=b.tags;_.isFunction(t)&&(t=t()),_(t).each(function(){return p(this.id,e.id)?(e=this,!1):void 0}),i.push(e)}),t(i)}))),"function"!=typeof b.query)throw"query function not defined for Select2 "+b.element.attr("id");if("top"===b.createSearchChoicePosition)b.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===b.createSearchChoicePosition)b.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof b.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return b},monitorSource:function(){var e,i=this.opts.element,t=this;i.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===y&&(e=!1),this.enable(!e);var t=i.prop("readonly");t===y&&(t=!1),this.readonly(t),this.container&&(m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",t._sync)}),(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==y&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new e(function(e){_.each(e,t._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var t=_.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=_.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===y&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===y&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,t,i,n,o,a=this.dropdown,r=this.container,s=r.offset(),l=r.outerHeight(!1),c=r.outerWidth(!1),d=a.outerHeight(!1),u=_(window),h=u.width(),p=u.height(),f=u.scrollLeft()+h,m=u.scrollTop()+p,g=s.top+l,v=s.left,b=g+d<=m,A=s.top-d>=u.scrollTop(),y=a.outerWidth(!1);a.hasClass("select2-drop-above")?(t=!0,!A&&b&&(t=!(i=!0))):(t=!1,!b&&A&&(t=i=!0)),i&&(a.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=a.outerHeight(!1),f=u.scrollLeft()+h,m=u.scrollTop()+p,g=s.top+l,v=s.left,y=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=_(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),c<(y=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:T.width))?c=y:y=c,d=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(g-=(e=this.body.offset()).top,v-=e.left),!(v+y<=f)&&s.left+f+r.outerWidth(!1)>y&&(v=s.left+this.container.outerWidth(!1)-y),n={left:v,width:c},t?(this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above"),d=a.outerHeight(!1),n.top=s.top-d,n.bottom="auto"):(n.top=g,n.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),n=_.extend(n,x(this.opts.dropdownCss,this.opts.element)),a.css(n)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=_.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),S.on("mousemove.select2Event",function(e){E.x=e.pageX,E.y=e.pageY}),!0)},opening:function(){var n,e=this.containerEventName,t="scroll."+e,i="resize."+e,o="orientationchange."+e;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(n=_("#select2-drop-mask")).length&&((n=_(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body),n.on("mousedown touchstart click",function(e){r(n);var t,i=_("#select2-drop");0<i.length&&((t=i.data("select2")).opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),_("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){_(this).on(i+" "+t+" "+o,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,t="scroll."+e,i="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){_(this).off(t).off(i).off(n)}),this.clearDropdownAlignmentPreference(),_("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),S.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(_.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==y&&(this.search.val(e),this.search.select(),!0)},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,t,i,n,o,a,r,s,l=this.results;if(!((t=this.highlight())<0)){if(0==t)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=(s=((i=_(e[t])).offset()||{}).top||0)+i.outerHeight(!0),t===e.length-1&&(0<(r=l.find("li.select2-more-results")).length&&(n=r.offset().top+r.outerHeight(!0))),(o=l.offset().top+l.outerHeight(!1))<n&&l.scrollTop(l.scrollTop()+(n-o)),(a=s-l.offset().top)<0&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var t=this.findHighlightableChoices(),i=this.highlight();-1<i&&i<t.length;){var n=_(t[i+=e]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var t,i,n=this.findHighlightableChoices();return 0===arguments.length?d(n.filter(".select2-highlighted")[0],n.get()):(e>=n.length&&(e=n.length-1),e<0&&(e=0),this.removeHighlight(),(t=_(n[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",t.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(t.text()),void((i=t.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var t=_(e.target).closest(".select2-result-selectable");if(0<t.length&&!t.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(t))}else 0==t.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,o=this,a=this.search.val(),r=this.context;0===i.length||i.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:a,page:n,context:r}),o.postprocessResults(e,!1,!1),!0===e.more?(i.detach().appendTo(t).html(o.opts.escapeMarkup(x(o.opts.formatLoadMore,o.opts.element,n+1))),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):i.remove(),o.positionDropdown(),o.resultsPage=n,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})}))},tokenize:function(){},updateResults:function(i){function n(){r.removeClass("select2-active"),c.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(s.text()):c.liveRegion.text(c.opts.formatMatches(s.find('.select2-result-selectable:not(".select2-selected")').length))}function o(e){s.html(e),n()}var e,t,a,r=this.search,s=this.results,l=this.opts,c=this,d=r.val(),u=_.data(this.container,"select2-last-term");if((!0===i||!u||!p(d,u))&&(_.data(this.container,"select2-last-term",d),!0===i||!1!==this.showSearchInput&&this.opened())){a=++this.queryCount;var h=this.getMaximumSelectionSize();if(1<=h&&(e=this.data(),_.isArray(e)&&e.length>=h&&b(l.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+x(l.formatSelectionTooBig,l.element,h)+"</li>");if(r.val().length<l.minimumInputLength)return o(b(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+x(l.formatInputTooShort,l.element,r.val(),l.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&r.val().length>l.maximumInputLength)return void o(b(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+x(l.formatInputTooLong,l.element,r.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+x(l.formatSearching,l.element)+"</li>"),r.addClass("select2-active"),this.removeHighlight(),(t=this.tokenize())!=y&&null!=t&&r.val(t),this.resultsPage=1,l.query({element:l.element,term:r.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(e){var t;if(a==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(e.hasError!==y&&b(l.formatAjaxError,"formatAjaxError"))return void o("<li class='select2-ajax-error'>"+x(l.formatAjaxError,l.element,e.jqXHR,e.textStatus,e.errorThrown)+"</li>");if(this.context=e.context===y?null:e.context,this.opts.createSearchChoice&&""!==r.val()&&((t=this.opts.createSearchChoice.call(c,r.val(),e.results))!==y&&null!==t&&c.id(t)!==y&&null!==c.id(t)&&0===_(e.results).filter(function(){return p(c.id(this),c.id(t))}).length&&this.opts.createSearchChoicePosition(e.results,t)),0===e.results.length&&b(l.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+x(l.formatNoMatches,l.element,r.val())+"</li>"),void(this.showSearch&&this.showSearch(r.val()));s.empty(),c.opts.populateResults.call(this,s,e.results,{term:r.val(),page:this.resultsPage,context:null}),!0===e.more&&b(l.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.escapeMarkup(x(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(e,i),n(),this.opts.element.trigger({type:"select2-loaded",items:e})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var n;(n=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var e,t=n[0],i=n.val().length;n.focus(),(0<t.offsetWidth||0<t.offsetHeight)&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(i,i):t.createTextRange&&((e=t.createTextRange()).collapse(!1),e.select()))},0)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==y?e.text():y)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==y)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===_.trim(e.text())&&""===e.val())return e}},initContainerWidth:function(){var e=function(){var e,t,i,n,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"!==this.opts.width&&"resolve"!==this.opts.width)return _.isFunction(this.opts.width)?this.opts.width():this.opts.width;if("string"==typeof(e=this.opts.element.attr("style")))for(n=0,o=(t=e.split(";")).length;n<o;n+=1)if(null!==(i=t[n].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=i.length)return i[1];return"resolve"===this.opts.width?0<(e=this.opts.element.css("width")).indexOf("%")?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}.call(this);null!==e&&this.container.css("width",e)}}),o=t(i,{createContainer:function(){return _(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,t,i;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(e=this.search.get(0)).createTextRange?((t=e.createTextRange()).collapse(!1),t.select()):e.setSelectionRange&&(i=this.search.val().length,e.setSelectionRange(i,i))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(_.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){_("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),n.call(this,"selection","focusser")},initContainer:function(){var t,e,i=this.container,n=this.dropdown,o=k();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),e=_("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(e.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||e.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(_("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===D.PAGE_UP||e.which===D.PAGE_DOWN)return void f(e);switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void f(e);case D.ENTER:return this.selectHighlighted(),void f(e);case D.TAB:return void this.selectHighlighted({noFocus:!0});case D.ESC:return this.cancel(e),void f(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&1<this.results.length&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.ESC){if(!1===this.opts.openOnEnter&&e.which===D.ENTER)return void f(e);if(e.which==D.DOWN||e.which==D.UP||e.which==D.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void f(e)}return e.which==D.DELETE||e.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(e)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(0<=this.opts.minimumResultsForSearch){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){var t;this.isInterfaceEnabled()&&(this.clear(),(t=e).preventDefault(),t.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(e){r(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(_.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(e)})),n.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){f(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(_.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(_.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(_.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var i=_.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==y&&null!==e&&(t.updateSelection(e),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==y&&((e=this.getPlaceholderOption())!==y&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===y||null===this.opts.element.val())},prepareOpts:function(){var r=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===r.element.get(0).tagName.toLowerCase()?r.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in r&&(r.initSelection=r.initSelection||function(e,t){var o=e.val(),a=null;r.query({matcher:function(e,t,i){var n=p(o,r.id(i));return n&&(a=i),n},callback:_.isFunction(t)?function(){t(a)}:_.noop})}),r},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===y?y:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==y){if(this.select&&this.getPlaceholderOption()===y)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return p(o.id(t.data("select2-data")),o.opts.element.val())?(n=e,!1):void 0}),!1!==i&&(!0===t&&0<=n?this.highlight(n):this.highlight(0)),!0===t){var a=this.opts.minimumResultsForSearch;0<=a&&this.showSearch(function i(e){var n=0;return _.each(e,function(e,t){t.children?n+=i(t.children):n++}),n}(e.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),_(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),p(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var t,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),null!==e&&(t=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),t!==y&&n.append(t),(i=this.opts.formatSelectionCssClass(e,n))!==y&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==y&&this.container.addClass("select2-allowclear")},val:function(){var e,t=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],1<arguments.length&&(t=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),t&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(t);if(this.opts.initSelection===y)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),t&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var t,i=!1;return 0===arguments.length?((t=this.selection.data("select2-data"))==y&&(t=null),t):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),1<arguments.length&&(i=arguments[1]),void(e?(t=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:t})):this.clear(i)))}}),A=t(i,{createContainer:function(){return _(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in l&&(l.initSelection=l.initSelection||function(e,a){var r=c(e.val(),l.separator,l.transformVal),s=[];l.query({matcher:function(e,t,i){var n=_.grep(r,function(e){return p(e,l.id(i))}).length;return n&&s.push(i),n},callback:_.isFunction(a)?function(){for(var e=[],t=0;t<r.length;t++)for(var i=r[t],n=0;n<s.length;n++){var o=s[n];if(p(i,l.id(o))){e.push(o),s.splice(n,1);break}}a(e)}:_.noop})}),l},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){_("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),n.call(this,"searchContainer","selection")},initContainer:function(){var r,e=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=r=this.container.find(e);var t=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){t.search[0].focus(),t.selectChoice(_(this))}),this.search.attr("id","s2id_autogen"+k()),this.search.prev().text(_("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var t=r.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),n=t.next(".select2-search-choice:not(.select2-locked)"),o=function(e){var t=0,i=0;if("selectionStart"in(e=_(e)[0]))t=e.selectionStart,i=e.selectionEnd-t;else if("selection"in document){e.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),t=n.text.length-i}return{offset:t,length:i}}(this.search);if(t.length&&(e.which==D.LEFT||e.which==D.RIGHT||e.which==D.BACKSPACE||e.which==D.DELETE||e.which==D.ENTER)){var a=t;return e.which==D.LEFT&&i.length?a=i:e.which==D.RIGHT?a=n.length?n:null:e.which===D.BACKSPACE?this.unselect(t.first())&&(this.search.width(10),a=i.length?i:n):e.which==D.DELETE?this.unselect(t.first())&&(this.search.width(10),a=n.length?n:null):e.which==D.ENTER&&(a=null),this.selectChoice(a),f(e),void(a&&a.length||this.open())}if((e.which===D.BACKSPACE&&1==this.keydowns||e.which==D.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(r.find(".select2-search-choice:not(.select2-locked)").last()),void f(e);if(this.selectChoice(null),this.opened())switch(e.which){case D.UP:case D.DOWN:return this.moveHighlight(e.which===D.UP?-1:1),void f(e);case D.ENTER:return this.selectHighlighted(),void f(e);case D.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case D.ESC:return this.cancel(e),void f(e)}if(e.which!==D.TAB&&!D.isControl(e)&&!D.isFunctionKey(e)&&e.which!==D.BACKSPACE&&e.which!==D.ESC){if(e.which===D.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==D.PAGE_UP&&e.which!==D.PAGE_DOWN||f(e),e.which===D.ENTER&&f(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(_.Event("select2-blur"))})),this.container.on("click",e,this.bind(function(e){this.isInterfaceEnabled()&&(0<_(e.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(_.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",e,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(_.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==y&&null!==e&&(t.updateSelection(e),t.close(),t.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),t=this.getMaxSearchWidth();e!==y&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(0<t?t:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(_.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var t={},i=[],n=this;_(e).each(function(){n.id(this)in t||(t[n.id(this)]=0,i.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(i),n.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=y&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var t=this.getVal(),i=this;_(e).each(function(){t.push(i.createChoice(this))}),this.setVal(t)},createChoice:function(e){var t,i,n=!e.locked,o=_("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=_("<li class='select2-search-choice select2-locked'><div></div></li>"),r=n?o:a,s=this.id(e);return(t=this.opts.formatSelection(e,r.find("div"),this.opts.escapeMarkup))!=y&&r.find("div").replaceWith(_("<div></div>").html(t)),(i=this.opts.formatSelectionCssClass(e,r.find("div")))!=y&&r.addClass(i),n&&r.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(_(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),f(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",e),r.insertBefore(this.searchContainer),s},unselect:function(e){var t,i,n=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(t=e.data("select2-data")){var o=_.Event("select2-removing");if(o.val=this.id(t),o.choice=t,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;0<=(i=d(this.id(t),n));)n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2(function(e,t){0<=d(r.id(t.data("select2-data")),n)&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&r.highlight(0),!this.opts.createSearchChoice&&0<!o.filter(".select2-result:not(.select2-selected)").length&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&b(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+x(r.opts.formatNoMatches,r.opts.element,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,i,n,o=a(this.search);e=function(e){if(!C){var t=e[0].currentStyle||window.getComputedStyle(e[0],null);(C=_(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:t.fontSize,fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,textTransform:t.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),_(document.body).append(C)}return C.text(e.val()),C.width()}(this.search)+10,t=this.search.offset().left,(n=(i=this.selection.width())-(t-this.selection.offset().left)-o)<e&&(n=i-o),n<40&&(n=i-o),n<=0&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:c(e=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(e){if(this.select)this.select.val(e);else{var t=[],i={};_(e).each(function(){this in i||(t.push(this),i[this]=0)}),this.opts.element.val(0===t.length?"":t.join(this.opts.separator))}},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)if(p(this.opts.id(t[i]),this.opts.id(e[n]))){t.splice(i,1),i--,e.splice(n,1);break}return{added:t,removed:e}},val:function(e,i){var n,o=this;if(0===arguments.length)return this.getVal();if((n=this.data()).length||(n=[]),!e&&0!==e)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(e),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===y)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var t=_.map(e,o.id);o.setVal(t),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(n,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],t=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(t.opts.id(_(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,t){var i,n,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return _(this).data("select2-data")}).get():(n=this.data(),e=e||[],i=_.map(e,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),void(t&&this.triggerChange(this.buildChangeDetails(n,this.data()))))}}),_.fn.select2=function(){var e,t,i,n,o,a=Array.prototype.slice.call(arguments,0),r=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],s=["opened","isFocused","container","dropdown"],l=["val","data"],c={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])(e=0===a.length?{}:_.extend({},a[0])).element=_(this),"select"===e.element.get(0).tagName.toLowerCase()?o=e.element.prop("multiple"):(o=e.multiple||!1,"tags"in e&&(e.multiple=o=!0)),(t=o?new window.Select2.class.multi:new window.Select2.class.single).init(e);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(d(a[0],r)<0)throw"Unknown method: "+a[0];if(n=y,(t=_(this).data("select2"))===y)return;if(i=a[0],n="container"===i?t.container:"dropdown"===i?t.dropdown:(c[i]&&(i=c[i]),t[i].apply(t,a.slice(1))),0<=d(a[0],s)||0<=d(a[0],l)&&1==a.length)return!1}}),n===y?this:n},_.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var o=[];return l(this.text(e),i.term,o,n),o.join("")},transformVal:function(e){return _.trim(e)},formatSelection:function(e,t,i){return e?i(this.text(e)):y},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,t){return y},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==y?null:e.id},text:function(e){return e&&this.data&&this.data.text?_.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(e,t){return 0<=s(""+t).toUpperCase().indexOf(s(""+e).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(e,t,i,n){var o,a,r,s,l,c=e,d=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return y;for(;;){for(a=-1,r=0,s=n.tokenSeparators.length;r<s&&(l=n.tokenSeparators[r],!(0<=(a=e.indexOf(l))));r++);if(a<0)break;if(o=e.substring(0,a),e=e.substring(a+l.length),0<o.length&&((o=n.createSearchChoice.call(this,o,t))!==y&&null!==o&&n.id(o)!==y&&null!==n.id(o))){for(d=!1,r=0,s=t.length;r<s;r++)if(p(n.id(o),n.id(t[r]))){d=!0;break}d||i(o)}}return c!==e?e:void 0},escapeMarkup:e,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,t){return y},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!(("ontouchstart"in window||0<navigator.msMaxTouchPoints)&&e.opts.minimumResultsForSearch<0)}},_.fn.select2.locales=[],_.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,i){return"Loading failed"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},_.extend(_.fn.select2.defaults,_.fn.select2.locales.en),_.fn.select2.ajaxDefaults={transport:_.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:g,local:v,tags:w},util:{debounce:h,markMatch:l,escapeMarkup:e,stripDiacritics:s},class:{abstract:i,single:o,multi:A}}}var $}(jQuery),window.Modernizr=function(n,d,r){function i(e){g.cssText=e}function a(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var n=e[i];if(!o(n,"-")&&g[n]!==r)return"pfx"!=t||n}return!1}function e(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+_.join(n+" ")+n).split(" ");return a(t,"string")||a(t,"undefined")?s(o,t):function(e,t,i){for(var n in e){var o=t[e[n]];if(o!==r)return!1===i?e[n]:a(o,"function")?o.bind(i||t):o}return!1}(o=(e+" "+w.join(n+" ")+n).split(" "),t,i)}function l(e,t,i,n){var o,a,r,s=d.createElement("div"),l=d.body,c=l||d.createElement("body");if(parseInt(i,10))for(;i--;)(r=d.createElement("div")).id=n?n[i]:f+(i+1),s.appendChild(r);return o=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),s.id=f,(l?s:c).innerHTML+=o,c.appendChild(s),l||(c.style.background="",p.appendChild(c)),a=t(s,e),l?s.parentNode.removeChild(s):c.parentNode.removeChild(c),!!a}var t,c,u,h={},p=d.documentElement,f="modernizr",m=d.createElement(f),g=m.style,v=d.createElement("input"),b=":)",A=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",_=y.split(" "),w=y.toLowerCase().split(" "),x={},k={},C={},S=[],T=S.slice,E=(u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e,t){t=t||d.createElement(u[e]||"div");var i=(e="on"+e)in t;return i||(t.setAttribute||(t=d.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),i=a(t[e],"function"),a(t[e],"undefined")||(t[e]=r),t.removeAttribute(e))),t=null,i}),D={}.hasOwnProperty;for(var I in c=a(D,"undefined")||a(D.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return D.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(n){var o=this;if("function"!=typeof o)throw new TypeError;var a=T.call(arguments,1),r=function(){if(this instanceof r){function e(){}e.prototype=o.prototype;var t=new e,i=o.apply(t,a.concat(T.call(arguments)));return Object(i)===i?i:t}return o.apply(n,a.concat(T.call(arguments)))};return r}),x.flexbox=function(){return e("flexWrap")},x.postmessage=function(){return!!n.postMessage},x.indexedDB=function(){return!!e("indexedDB",n)},x.hashchange=function(){return E("hashchange",n)&&(d.documentMode===r||7<d.documentMode)},x.history=function(){return!!n.history&&!!history.pushState},x.draganddrop=function(){var e=d.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},x.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),o(g.backgroundColor,"rgba")},x.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),o(g.backgroundColor,"rgba")||o(g.backgroundColor,"hsla")},x.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},x.backgroundsize=function(){return e("backgroundSize")},x.borderimage=function(){return e("borderImage")},x.borderradius=function(){return e("borderRadius")},x.boxshadow=function(){return e("boxShadow")},x.textshadow=function(){return""===d.createElement("div").style.textShadow},x.opacity=function(){return e="opacity:.55",i(A.join(e+";")+(t||"")),/^0.55$/.test(g.opacity);var e,t},x.cssanimations=function(){return e("animationName")},x.csscolumns=function(){return e("columnCount")},x.cssgradients=function(){var e="background-image:";return i((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+A.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),o(g.backgroundImage,"gradient")},x.cssreflections=function(){return e("boxReflect")},x.csstransforms=function(){return!!e("transform")},x.csstransforms3d=function(){var i=!!e("perspective");return i&&"webkitPerspective"in p.style&&l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,t){i=9===e.offsetLeft&&3===e.offsetHeight}),i},x.csstransitions=function(){return e("transition")},x.fontface=function(){var a;return l('@font-face {font-family:"font";src:url("https://")}',function(e,t){var i=d.getElementById("smodernizr"),n=i.sheet||i.styleSheet,o=n?n.cssRules&&n.cssRules[0]?n.cssRules[0].cssText:n.cssText||"":"";a=/src/i.test(o)&&0===o.indexOf(t.split(" ")[0])}),a},x.generatedcontent=function(){var t;return l(['#modernizr:after{content:"',b,'";visibility:hidden}'].join(""),function(e){t=1<=e.offsetHeight}),t},x.video=function(){var e=d.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return t},x.audio=function(){var e=d.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},x.localstorage=function(){try{return localStorage.setItem(f,f),localStorage.removeItem(f),!0}catch(e){return!1}},x.sessionstorage=function(){try{return sessionStorage.setItem(f,f),sessionStorage.removeItem(f),!0}catch(e){return!1}},x.applicationcache=function(){return!!n.applicationCache},x)c(x,I)&&(t=I.toLowerCase(),h[t]=x[I](),S.push((h[t]?"":"no-")+t));return h.input||(h.input=function(e){for(var t=0,i=e.length;t<i;t++)C[e[t]]=e[t]in v;return C.list&&(C.list=!!d.createElement("datalist")&&!!n.HTMLDataListElement),C}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var t,i,n,o=0,a=e.length;o<a;o++)v.setAttribute("type",i=e[o]),(t="text"!==v.type)&&(v.value=b,v.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&v.style.WebkitAppearance!==r?(p.appendChild(v),t=(n=d.defaultView).getComputedStyle&&"textfield"!==n.getComputedStyle(v,null).WebkitAppearance&&0!==v.offsetHeight,p.removeChild(v)):/^(search|tel)$/.test(i)||(t=/^(url|email)$/.test(i)?v.checkValidity&&!1===v.checkValidity():v.value!=b)),k[e[o]]=!!t;return k}("search tel url email datetime date month week time datetime-local number range color".split(" "))),h.addTest=function(e,t){if("object"==typeof e)for(var i in e)c(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==r)return h;t="function"==typeof t?t():t,p.className+=" "+(t?"":"no-")+e,h[e]=t}return h},i(""),m=v=null,function(e,l){function c(){var e=f.elements;return"string"==typeof e?e.split(" "):e}function d(e){var t=s[e[n]];return t||(t={},r++,e[n]=r,s[r]=t),t}function u(e,t,i){return t=t||l,p?t.createElement(e):(n=(i=i||d(t)).cache[e]?i.cache[e].cloneNode():a.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e)).canHaveChildren&&!o.test(e)?i.frag.appendChild(n):n;var n}function t(e){var t,i,n,o,a,r,s=d(e=e||l);return!f.shivCSS||h||s.hasCSS||(s.hasCSS=(o="article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}",a=(n=e).createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement,a.innerHTML="x<style>"+o+"</style>",!!r.insertBefore(a.lastChild,r.firstChild))),p||(t=e,(i=s).cache||(i.cache={},i.createElem=t.createElement,i.createFrag=t.createDocumentFragment,i.frag=i.createFrag()),t.createElement=function(e){return f.shivMethods?u(e,t,i):i.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return i.createElem(e),i.frag.createElement(e),'c("'+e+'")'})+");return n}")(f,i.frag)),e}var h,p,i=e.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,n="_html5shiv",r=0,s={};!function(){try{var e=l.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,p=1==e.childNodes.length||function(){l.createElement("a");var e=l.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){p=h=!0}}();var f={elements:i.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==i.shivCSS,supportsUnknownElements:p,shivMethods:!1!==i.shivMethods,type:"default",shivDocument:t,createElement:u,createDocumentFragment:function(e,t){if(e=e||l,p)return e.createDocumentFragment();for(var i=(t=t||d(e)).frag.cloneNode(),n=0,o=c(),a=o.length;n<a;n++)i.createElement(o[n]);return i}};e.html5=f,t(l)}(this,d),h._version="2.6.1",h._prefixes=A,h._domPrefixes=w,h._cssomPrefixes=_,h.mq=function(e){var t,i=n.matchMedia||n.msMatchMedia;return i?i(e).matches:(l("@media "+e+" { #"+f+" { position: absolute; } }",function(e){t="absolute"==(n.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),t)},h.hasEvent=E,h.testProp=function(e){return s([e])},h.testAllProps=e,h.testStyles=l,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+S.join(" "),h}(this,this.document),function(e,h){function u(e){return"[object Function]"==o.call(e)}function p(e){return"string"==typeof e}function f(){}function m(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function g(){var e=y.shift();_=1,e?e.t?b(function(){("c"==e.t?v.injectCss:v.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),g()):_=0}function t(e,t,i,n,o){return _=0,t=t||"j",p(e)?function(i,n,e,t,o,a,r){function s(e){if(!c&&m(l.readyState)&&(u.r=c=1,_||g(),l.onload=l.onreadystatechange=null,e))for(var t in"img"!=i&&b(function(){x.removeChild(l)},50),C[n])C[n].hasOwnProperty(t)&&C[n][t].onload()}r=r||v.errorTimeout;var l=h.createElement(i),c=0,d=0,u={t:e,s:n,e:o,a:a,x:r};1===C[n]&&(d=1,C[n]=[]),"object"==i?l.data=n:(l.src=n,l.type=i),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){s.call(this,d)},y.splice(t,0,u),"img"!=i&&(d||2===C[n]?(x.insertBefore(l,w?null:A),b(s,r)):C[n].push(l))}("c"==t?l:r,e,t,this.i++,i,n,o):(y.splice(this.i++,0,e),1==y.length&&g()),this}function s(){var e=v;return e.loader={load:t,i:0},e}var i,v,n=h.documentElement,b=e.setTimeout,A=h.getElementsByTagName("script")[0],o={}.toString,y=[],_=0,a="MozAppearance"in n.style,w=a&&!!h.createRange().compareNode,x=w?n:A.parentNode,r=(n=e.opera&&"[object Opera]"==o.call(e.opera),n=!!h.attachEvent&&!n,a?"object":n?"script":"img"),l=n?"script":r,c=Array.isArray||function(e){return"[object Array]"==o.call(e)},k=[],C={},S={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};(v=function(e){function d(e,t,i,n,o){var a=function(e){e=e.split("!");var t,i,n,o=k.length,a=e.pop(),r=e.length;for(a={url:a,origUrl:a,prefixes:e},i=0;i<r;i++)n=e[i].split("="),(t=S[n.shift()])&&(a=t(a,n));for(i=0;i<o;i++)a=k[i](a);return a}(e),r=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(t=t&&(u(t)?t:t[e]||t[n]||t[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,t,i,n,o):(C[a.url]?a.noexec=!0:C[a.url]=1,i.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":void 0,a.noexec,a.attrs,a.timeout),(u(t)||u(r))&&i.load(function(){s(),t&&t(a.origUrl,o,n),r&&r(a.origUrl,o,n),C[a.url]=2})))}function t(e,t){function i(i,e){if(i){if(p(i))e||(s=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),d(i,s,t,0,a);else if(Object(i)===i)for(o in n=function(){var e,t=0;for(e in i)i.hasOwnProperty(e)&&t++;return t}(),i)i.hasOwnProperty(o)&&(e||--n||(u(s)?s=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:s[o]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),c()}}(l[o])),d(i[o],s,t,o,a))}else e||c()}var n,o,a=!!e.test,r=e.load||e.both,s=e.callback||f,l=s,c=e.complete||f;i(a?e.yep:e.nope,!!r),r&&i(r)}var i,n,o=this.yepnope.loader;if(p(e))d(e,0,o,0);else if(c(e))for(i=0;i<e.length;i++)p(n=e[i])?d(n,0,o,0):c(n)?v(n):Object(n)===n&&t(n,o);else Object(e)===e&&t(e,o)}).addPrefix=function(e,t){S[e]=t},v.addFilter=function(e){k.push(e)},v.errorTimeout=1e4,null==h.readyState&&h.addEventListener&&(h.readyState="loading",h.addEventListener("DOMContentLoaded",i=function(){h.removeEventListener("DOMContentLoaded",i,0),h.readyState="complete"},0)),e.yepnope=s(),e.yepnope.executeStack=g,e.yepnope.injectJs=function(e,t,i,n,o,a){var r,s,l=h.createElement("script");n=n||v.errorTimeout;for(s in l.src=e,i)l.setAttribute(s,i[s]);t=a?g:t||f,l.onreadystatechange=l.onload=function(){!r&&m(l.readyState)&&(r=1,t(),l.onload=l.onreadystatechange=null)},b(function(){r||t(r=1)},n),o?l.onload():A.parentNode.insertBefore(l,A)},e.yepnope.injectCss=function(e,t,i,n,o,a){var r;n=h.createElement("link"),t=a?g:t||f;for(r in n.href=e,n.rel="stylesheet",n.type="text/css",i)n.setAttribute(r,i[r]);o||(A.parentNode.insertBefore(n,A),b(t,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(h,p){"use strict";function e(){if(!("scrollBehavior"in p.documentElement.style)){var e=h.HTMLElement||h.Element,r=468,l={scroll:h.scroll||h.scrollTo,scrollBy:h.scrollBy,elScroll:e.prototype.scroll||d,scrollIntoView:e.prototype.scrollIntoView},c=h.performance&&h.performance.now?h.performance.now.bind(h.performance):Date.now;h.scroll=h.scrollTo=function(){n(arguments[0])?l.scroll.call(h,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):o.call(h,p.body,~~arguments[0].left,~~arguments[0].top)},h.scrollBy=function(){n(arguments[0])?l.scrollBy.call(h,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):o.call(h,p.body,~~arguments[0].left+(h.scrollX||h.pageXOffset),~~arguments[0].top+(h.scrollY||h.pageYOffset))},e.prototype.scroll=e.prototype.scrollTo=function(){if(n(arguments[0]))l.elScroll.call(this,arguments[0].left||arguments[0],arguments[0].top||arguments[1]);else{var e=arguments[0].left,t=arguments[0].top;o.call(this,this,"number"==typeof e?e:this.scrollLeft,"number"==typeof t?t:this.scrollTop)}},e.prototype.scrollBy=function(){var e=arguments[0];"object"==typeof e?this.scroll({left:e.left+this.scrollLeft,top:e.top+this.scrollTop,behavior:e.behavior}):this.scroll(this.scrollLeft+e,this.scrollTop+arguments[1])},e.prototype.scrollIntoView=function(){if(n(arguments[0]))l.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);else{var e=function(e){for(var t,i,n;t=(e=e.parentNode)===p.body,i=e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth,n="visible"===h.getComputedStyle(e,null).overflow,!t&&(!i||n););return t=i=n=null,e}(this),t=e.getBoundingClientRect(),i=this.getBoundingClientRect();e!==p.body?(o.call(this,e,e.scrollLeft+i.left-t.left,e.scrollTop+i.top-t.top),h.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):h.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}}function d(e,t){this.scrollLeft=e,this.scrollTop=t}function n(e){if("object"!=typeof e||null===e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return 1;if("object"!=typeof e||"smooth"!==e.behavior)throw new TypeError("behavior not valid")}function u(e){var t,i,n,o,a=(c()-e.startTime)/r;o=a=1<a?1:a,t=.5*(1-Math.cos(Math.PI*o)),i=e.startX+(e.x-e.startX)*t,n=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,i,n),i===e.x&&n===e.y||h.requestAnimationFrame(u.bind(h,e))}function o(e,t,i){var n,o,a,r,s=c();r=e===p.body?(o=(n=h).scrollX||h.pageXOffset,a=h.scrollY||h.pageYOffset,l.scroll):(o=(n=e).scrollLeft,a=e.scrollTop,d),u({scrollable:n,method:r,startTime:s,startX:o,startY:a,x:t,y:i})}}"object"==typeof exports?module.exports={polyfill:e}:e()}(window,document),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";var p=/gecko\/\d/i.test(navigator.userAgent),e=/MSIE \d/.test(navigator.userAgent),t=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),y=e||t,_=y&&(e?document.documentMode||6:t[1]),f=/WebKit\//.test(navigator.userAgent),i=f&&/Qt\/\d+\.\d+/.test(navigator.userAgent),n=/Chrome\//.test(navigator.userAgent),m=/Opera\//.test(navigator.userAgent),l=/Apple Computer/.test(navigator.vendor),o=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),c=/PhantomJS/.test(navigator.userAgent),r=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),d=r||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),g=r||/Mac/.test(navigator.platform),a=/win/i.test(navigator.platform),s=m&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);(s=s&&Number(s[1]))&&15<=s&&(f=!(m=!1));var u=g&&(i||m&&(null==s||s<12.11)),h=p||y&&9<=_,v=!1,b=!1;function A(e,t){if(!(this instanceof A))return new A(e,t);this.options=t=t?da(t):{},da(Wi,t,!1),M(t);var i=t.value;"string"==typeof i&&(i=new so(i,t.mode)),this.doc=i;var n=new A.inputStyles[t.inputStyle](this),o=this.display=new w(e,i,n);D(o.wrapper.CodeMirror=this),T(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!d&&o.input.focus(),j(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Zo,keySeq:null,specialChars:null};var a=this;for(var r in y&&_<11&&setTimeout(function(){a.display.input.reset(!0)},20),function(o){var a=o.display;Ro(a.scroller,"mousedown",qt(o,ti)),Ro(a.scroller,"dblclick",y&&_<11?qt(o,function(e){if(!Vo(o,e)){var t=ei(o,e);if(t&&!ni(o,e)&&!Zt(o.display,e)){Po(e);var i=o.findWordAt(t);Le(o.doc,i.anchor,i.head)}}}):function(e){Vo(o,e)||Po(e)});h||Ro(a.scroller,"contextmenu",function(e){wi(o,e)});var i,n={end:0};function r(){a.activeTouch&&(i=setTimeout(function(){a.activeTouch=null},1e3),(n=a.activeTouch).end=+new Date)}function s(e,t){if(null==t.left)return 1;var i=t.left-e.left,n=t.top-e.top;return 400<i*i+n*n}Ro(a.scroller,"touchstart",function(e){if(!function(e){if(1==e.touches.length){var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}}(e)){clearTimeout(i);var t=+new Date;a.activeTouch={start:t,moved:!1,prev:t-n.end<=300?n:null},1==e.touches.length&&(a.activeTouch.left=e.touches[0].pageX,a.activeTouch.top=e.touches[0].pageY)}}),Ro(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Ro(a.scroller,"touchend",function(e){var t=a.activeTouch;if(t&&!Zt(a,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var i,n=o.coordsChar(a.activeTouch,"page");i=!t.prev||s(t,t.prev)?new De(n,n):!t.prev.prev||s(t,t.prev.prev)?o.findWordAt(n):new De(de(n.line,0),Me(o.doc,de(n.line+1,0))),o.setSelection(i.anchor,i.head),o.focus(),Po(e)}r()}),Ro(a.scroller,"touchcancel",r),Ro(a.scroller,"scroll",function(){a.scroller.clientHeight&&(ri(o,a.scroller.scrollTop),si(o,a.scroller.scrollLeft,!0),zo(o,"scroll",o))}),Ro(a.scroller,"mousewheel",function(e){ui(o,e)}),Ro(a.scroller,"DOMMouseScroll",function(e){ui(o,e)}),Ro(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={simple:function(e){Vo(o,e)||No(e)},start:function(e){!function(e,t){if(y&&(!e.state.draggingText||new Date-oi<100))return No(t);if(Vo(e,t)||Zt(e.display,t))return;if(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!l){var i=Aa("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),m&&i.parentNode.removeChild(i)}}(o,e)},drop:qt(o,ai)};var e=a.input.getField();Ro(e,"keyup",function(e){bi.call(o,e)}),Ro(e,"keydown",qt(o,vi)),Ro(e,"keypress",qt(o,Ai)),Ro(e,"focus",ua(yi,o)),Ro(e,"blur",ua(_i,o))}(this),function(){if(Da)return;(function(){var e;Ro(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ea(Qt)},100))}),Ro(window,"blur",function(){Ea(_i)})})(),Da=!0}(),Ot(this),this.curOp.forceUpdate=!0,ho(this,i),t.autofocus&&!d||a.hasFocus()?setTimeout(ua(yi,this),20):_i(this),Vi)Vi.hasOwnProperty(r)&&Vi[r](this,t[r],Bi);H(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Gi.length;++s)Gi[s](this);Nt(this),f&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function w(e,t,i){var n=this;this.input=i,n.scrollbarFiller=Aa("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Aa("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Aa("div",null,"CodeMirror-code"),n.selectionDiv=Aa("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Aa("div",null,"CodeMirror-cursors"),n.measure=Aa("div",null,"CodeMirror-measure"),n.lineMeasure=Aa("div",null,"CodeMirror-measure"),n.lineSpace=Aa("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Aa("div",[Aa("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Aa("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Aa("div",null,null,"position: absolute; height: "+Ko+"px; width: 1px;"),n.gutters=Aa("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Aa("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Aa("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),y&&_<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),f||p&&d||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function x(e){e.doc.mode=A.getMode(e.options,e.doc.modeOption),k(e)}function k(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Qe(e,100),e.state.modeGen++,e.curOp&&Bt(e)}function C(n){var o=Et(n.display),a=n.options.lineWrapping,r=a&&Math.max(5,n.display.scroller.clientWidth/Dt(n.display)-3);return function(e){if(Mn(n.doc,e))return 0;var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;i++)e.widgets[i].height&&(t+=e.widgets[i].height);return a?t+(Math.ceil(e.text.length/r)||1)*o:t+o}}function S(e){var t=e.doc,i=C(e);t.iter(function(e){var t=i(e);t!=e.height&&go(e,t)})}function T(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vt(e)}function E(e){D(e),Bt(e),setTimeout(function(){q(e)},20)}function D(e){var t=e.display.gutters,i=e.options.gutters;ya(t);for(var n=0;n<i.length;++n){var o=i[n],a=t.appendChild(Aa("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&((e.display.lineGutter=a).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",I(e)}function I(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function $(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Tn(n);){n=(o=t.find(0,!0)).from.line,i+=o.from.ch-o.to.ch}for(n=e;t=En(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function P(e){var i=e.display,t=e.doc;i.maxLine=po(t,t.first),i.maxLineLength=$(i.maxLine),i.maxLineChanged=!0,t.iter(function(e){var t=$(e);t>i.maxLineLength&&(i.maxLineLength=t,i.maxLine=e)})}function M(e){var t=ra(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function O(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+it(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+ot(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function N(e,t,i){this.cm=i;var n=this.vert=Aa("div",[Aa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=Aa("div",[Aa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(o),Ro(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ro(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedOverlay=!1,y&&_<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function L(){}function j(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&Ca(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new A.scrollbarModel[i.options.scrollbarStyle](function(e){i.display.wrapper.insertBefore(e,i.display.scrollbarFiller),Ro(e,"mousedown",function(){i.state.focused&&setTimeout(function(){i.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?si:ri)(i,e)},i),i.display.scrollbars.addClass&&Sa(i.display.wrapper,i.display.scrollbars.addClass)}function R(e,t){t=t||O(e);var i=e.display.barWidth,n=e.display.barHeight;F(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&G(e),F(e,O(e)),i=e.display.barWidth,n=e.display.barHeight}function F(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function z(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-tt(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,a=bo(t,n),r=bo(t,o);if(i&&i.ensure){var s=i.ensure.from.line,l=i.ensure.to.line;s<a?r=bo(t,Ao(po(t,a=s))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=r&&(a=bo(t,Ao(po(t,l))-e.wrapper.clientHeight),r=l)}return{from:a,to:Math.max(r,a+1)}}function q(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=V(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,a=n+"px",r=0;r<i.length;r++)if(!i[r].hidden){e.options.fixedGutter&&i[r].gutter&&(i[r].gutter.style.left=a);var s=i[r].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function H(e){if(e.options.lineNumbers){var t=e.doc,i=W(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(Aa("div",[Aa("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,r=o.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-r)+1,n.lineNumWidth=n.lineNumInnerWidth+r,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",I(e),1}}}function W(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function V(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function U(e,t,i){var n=e.display;this.viewport=t,this.visible=z(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=at(e),this.force=i,this.dims=Q(e),this.events=[]}function B(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Kt(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Xt(e))return!1;H(e)&&(Kt(e),t.dims=Q(e));var o=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),r=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(n.first,i.viewFrom)),i.viewTo>r&&i.viewTo-r<20&&(r=Math.min(o,i.viewTo)),b&&(a=$n(e.doc,a),r=Pn(e.doc,r));var s=a!=i.viewFrom||r!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;!function(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Ut(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Ut(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Jt(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Ut(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Jt(e,i))));n.viewTo=i}(e,a,r),i.viewOffset=Ao(po(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var l=Xt(e);if(!s&&0==l&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=xa();return 4<l&&(i.lineDiv.style.display="none"),function(i,e,t){var n=i.display,o=i.options.lineNumbers,a=n.lineDiv,r=a.firstChild;function s(e){var t=e.nextSibling;return f&&g&&i.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var l=n.view,c=n.viewFrom,d=0;d<l.length;d++){var u=l[d];if(!u.hidden)if(u.node&&u.node.parentNode==a){for(;r!=u.node;)r=s(r);var h=o&&null!=e&&e<=c&&u.lineNumber;u.changes&&(-1<ra(u.changes,"gutter")&&(h=!1),Z(i,u,c,t)),h&&(ya(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(W(i.options,c)))),r=u.node.nextSibling}else{var p=re(i,u,c,t);a.insertBefore(p,r)}c+=u.size}for(;r;)r=s(r)}(e,i.updateLineNumbers,t.dims),4<l&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&xa()!=c&&c.offsetHeight&&c.focus(),ya(i.cursorDiv),ya(i.selectionDiv),i.gutters.style.height=0,s&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Qe(e,400)),!(i.updateLineNumbers=null)}function Y(e,t){t.force;for(var i=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=at(e))0;else if(i&&null!=i.top&&(i={top:Math.min(e.doc.height+it(e.display)-rt(e),i.top)}),t.visible=z(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!B(e,t))break;G(e);var o=O(e);Ye(e),J(e,o),R(e,o)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function K(e,t){var i=new U(e,t);if(B(e,i)){G(e),Y(e,i);var n=O(e);Ye(e),J(e,n),R(e,n),i.finish()}}function J(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var i=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=i+"px",e.display.gutters.style.height=Math.max(i+ot(e),t.clientHeight)+"px"}function G(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o,a=t.view[n];if(!a.hidden){if(y&&_<8){var r=a.node.offsetTop+a.node.offsetHeight;o=r-i,i=r}else{var s=a.node.getBoundingClientRect();o=s.bottom-s.top}var l=a.line.height-o;if(o<2&&(o=Et(t)),(.001<l||l<-.001)&&(go(a.line,o),X(a.line),a.rest))for(var c=0;c<a.rest.length;c++)X(a.rest[c])}}}function X(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function Q(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,a=t.gutters.firstChild,r=0;a;a=a.nextSibling,++r)i[e.options.gutters[r]]=a.offsetLeft+a.clientLeft+o,n[e.options.gutters[r]]=a.clientWidth;return{fixedPos:V(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Z(e,t,i,n){for(var o=0;o<t.changes.length;o++){var a=t.changes[o];"text"==a?ie(e,t):"gutter"==a?oe(e,t,i,n):"class"==a?ne(t):"widget"==a&&ae(e,t,n)}t.changes=null}function ee(e){return e.node==e.text&&(e.node=Aa("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),y&&_<8&&(e.node.style.zIndex=2)),e.node}function te(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Gn(e,t)}function ie(e,t){var i=t.text.className,n=te(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,ne(t)):i&&(t.text.className=i)}function ne(e){!function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var i=ee(e);e.background=i.insertBefore(Aa("div",null,t),i.firstChild)}}(e),e.line.wrapClass?ee(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function oe(e,t,i,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ee(t),r=t.gutter=Aa("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px");if(e.display.input.setUneditable(r),a.insertBefore(r,t.text),t.line.gutterClass&&(r.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=r.appendChild(Aa("div",W(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=o.hasOwnProperty(l)&&o[l];c&&r.appendChild(Aa("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function ae(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild;n;n=o){var o=n.nextSibling;"CodeMirror-linewidget"==n.className&&t.node.removeChild(n)}se(e,t,i)}function re(e,t,i,n){var o=te(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),ne(t),oe(e,t,i,n),se(e,t,n),t.node}function se(e,t,i){if(le(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)le(e,t.rest[n],t,i,!1)}function le(e,t,i,n,o){if(t.widgets)for(var a=ee(i),r=0,s=t.widgets;r<s.length;++r){var l=s[r],c=Aa("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),ce(l,c,i,n),e.display.input.setUneditable(c),o&&l.above?a.insertBefore(c,i.gutter||i.text):a.appendChild(c),Ho(l,"redraw")}}function ce(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}N.prototype=da({update:function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+a+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&0<e.clientHeight&&(0==n&&this.overlayHack(),this.checkedOverlay=!0),{right:i?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=g&&!o?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;function t(e){Lo(e)!=i.vert&&Lo(e)!=i.horiz&&qt(i.cm,ti)(e)}var i=this;Ro(this.vert,"mousedown",t),Ro(this.horiz,"mousedown",t)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},N.prototype),L.prototype=da({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},L.prototype),A.scrollbarModel={native:N,null:L},U.prototype.signal=function(e,t){Bo(e,t)&&this.events.push(arguments)},U.prototype.finish=function(){for(var e=0;e<this.events.length;e++)zo.apply(null,this.events[e])};var de=A.Pos=function(e,t){if(!(this instanceof de))return new de(e,t);this.line=e,this.ch=t},ue=A.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function he(e){return de(e.line,e.ch)}function pe(e,t){return ue(e,t)<0?t:e}function fe(e,t){return ue(e,t)<0?e:t}function me(e){e.state.focused||(e.display.input.focus(),yi(e))}function ge(e){return e.options.readOnly||e.doc.cantEdit}var ve=null;function be(e,t,i,n){var o=e.doc;e.display.shift=!1,n=n||o.sel;var a=La(t),r=null;e.state.pasteIncoming&&1<n.ranges.length&&(ve&&ve.join("\n")==t?r=n.ranges.length%ve.length==0&&sa(ve,La):a.length==n.ranges.length&&(r=sa(a,function(e){return[e]})));for(var s=n.ranges.length-1;0<=s;s--){var l=n.ranges[s],c=l.from(),d=l.to();l.empty()&&(i&&0<i?c=de(c.line,c.ch-i):e.state.overwrite&&!e.state.pasteIncoming&&(d=de(d.line,Math.min(po(o,d.line).text.length,d.ch+oa(a).length))));var u=e.curOp.updateInput,h={from:c,to:d,text:r?r[s%r.length]:a,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(Ei(e.doc,h),Ho(e,"inputRead",e,h),t&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&l.head.ch<100&&(!s||n.ranges[s-1].head.line!=l.head.line)){var p=e.getModeAt(l.head),f=xi(h);if(p.electricChars){for(var m=0;m<p.electricChars.length;m++)if(-1<t.indexOf(p.electricChars.charAt(m))){Ri(e,f.line,"smart");break}}else p.electricInput&&p.electricInput.test(po(o,f.line).text.slice(0,f.ch))&&Ri(e,f.line,"smart")}}Li(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Ae(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,a={anchor:de(o,0),head:de(o+1,0)};i.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:i}}function ye(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function _e(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Zo,this.inaccurateSelection=!1,this.hasSelection=!1}function we(){var e=Aa("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Aa("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?e.style.width="1000px":e.setAttribute("wrap","off"),r&&(e.style.border="1px solid black"),ye(e),t}function xe(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Zo,this.gracePeriod=!1}function ke(e,t){var i=ct(e,t.line);if(!i||i.hidden)return null;var n=po(e.doc,t.line),o=st(i,n,t.line),a=yo(n);a&&Ka(a,t.ch);var r=ft(o.map,t.ch,"left");return r.offset="right"==r.collapse?r.end:r.start,r}function Ce(e,t){return t&&(e.bad=!0),e}function Se(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return Ce(e.clipPos(de(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var a=e.display.view[o];if(a.node==n)return Te(a,t,i)}}function Te(c,e,t){var i=c.text.firstChild,n=!1;if(!e||!wa(i,e))return Ce(de(vo(c.line),0),!0);if(e==i&&(n=!0,e=i.childNodes[t],t=0,!e)){var o=c.rest?oa(c.rest):c.line;return Ce(de(vo(o),o.text.length),n)}var a=3==e.nodeType?e:null,r=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,t=t&&a.nodeValue.length);r.parentNode!=i;)r=r.parentNode;var d=c.measure,u=d.maps;function s(e,t,i){for(var n=-1;n<(u?u.length:0);n++)for(var o=n<0?d.map:u[n],a=0;a<o.length;a+=3){var r=o[a+2];if(r==e||r==t){var s=vo(n<0?c.line:c.rest[n]),l=o[a]+i;return(i<0||r!=e)&&(l=o[a+(i?1:0)]),de(s,l)}}}var l=s(a,r,t);if(l)return Ce(l,n);for(var h=r.nextSibling,p=a?a.nodeValue.length-t:0;h;h=h.nextSibling){if(l=s(h,h.firstChild,0))return Ce(de(l.line,l.ch-p),n);p+=h.textContent.length}var f=r.previousSibling;for(p=t;f;f=f.previousSibling){if(l=s(f,f.firstChild,-1))return Ce(de(l.line,l.ch+p),n);p+=h.textContent.length}}function Ee(e,t){this.ranges=e,this.primIndex=t}function De(e,t){this.anchor=e,this.head=t}function Ie(e,t){var i=e[t];e.sort(function(e,t){return ue(e.from(),t.from())}),t=ra(e,i);for(var n=1;n<e.length;n++){var o=e[n],a=e[n-1];if(0<=ue(a.to(),o.from())){var r=fe(a.from(),o.from()),s=pe(a.to(),o.to()),l=a.empty()?o.from()==o.head:a.from()==a.head;n<=t&&--t,e.splice(--n,2,new De(l?s:r,l?r:s))}}return new Ee(e,t)}function $e(e,t){return new Ee([new De(e,t||e)],0)}function Pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Me(e,t){if(t.line<e.first)return de(e.first,0);var i,n,o,a=e.first+e.size-1;return t.line>a?de(a,po(e,a).text.length):(n=po(e,(i=t).line).text.length,null==(o=i.ch)||n<o?de(i.line,n):o<0?de(i.line,0):i)}function Oe(e,t){return t>=e.first&&t<e.first+e.size}function Ne(e,t,i,n){if(e.cm&&e.cm.display.shift||e.extend){var o=t.anchor;if(n){var a=ue(i,o)<0;a!=ue(n,o)<0?(o=i,i=n):a!=ue(i,n)<0&&(i=n)}return new De(o,i)}return new De(n||i,i)}function Le(e,t,i,n){qe(e,new Ee([Ne(e,e.sel.primary(),t,i)],0),n)}function je(e,t,i){for(var n=[],o=0;o<e.sel.ranges.length;o++)n[o]=Ne(e,e.sel.ranges[o],t[o],null);qe(e,Ie(n,e.sel.primIndex),i)}function Re(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,qe(e,Ie(o,e.sel.primIndex),n)}function Fe(e,t,i,n){qe(e,$e(t,i),n)}function ze(e,t,i){var n=e.history.done,o=oa(n);o&&o.ranges?He(e,n[n.length-1]=t,i):qe(e,t,i)}function qe(e,t,i){He(e,t,i),function(e,t,i,n){var o=e.history,a=n&&n.origin;i==o.lastSelOp||a&&o.lastSelOrigin==a&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==a||function(e,t,i,n){var o=t.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,a,oa(o.done),t))?o.done[o.done.length-1]=t:Co(t,o.done);o.lastSelTime=+new Date,o.lastSelOrigin=a,o.lastSelOp=i,n&&!1!==n.clearRedo&&xo(o.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function He(e,t,i){var n,o,a;(Bo(e,"beforeSelectionChange")||e.cm&&Bo(e.cm,"beforeSelectionChange"))&&(n=e,a={ranges:(o=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new De(Me(n,e[t].anchor),Me(n,e[t].head))}},zo(n,"beforeSelectionChange",n,a),n.cm&&zo(n.cm,"beforeSelectionChange",n.cm,a),t=a.ranges!=o.ranges?Ie(a.ranges,a.ranges.length-1):o);var r=i&&i.bias||(ue(t.primary().head,e.sel.primary().head)<0?-1:1);We(e,Ue(e,t,r,!0)),i&&!1===i.scroll||!e.cm||Li(e.cm)}function We(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Uo(e.cm)),Ho(e,"cursorActivity",e))}function Ve(e){We(e,Ue(e,e.sel,null,!1))}function Ue(e,t,i,n){for(var o,a=0;a<t.ranges.length;a++){var r=t.ranges[a],s=Be(e,r.anchor,i,n),l=Be(e,r.head,i,n);!o&&s==r.anchor&&l==r.head||((o=o||t.ranges.slice(0,a))[a]=new De(s,l))}return o?Ie(o,t.primIndex):t}function Be(e,t,i,n){var o=!1,a=t,r=i||1;e.cantEdit=!1;e:for(;;){var s=po(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],d=c.marker;if((null==c.from||(d.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(d.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(n&&(zo(d,"beforeCursorEnter"),d.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!d.atomic)continue;var u=d.find(r<0?-1:1);if(0==ue(u,a)&&(u.ch+=r,u.ch<0?u=u.line>e.first?Me(e,de(u.line-1)):null:u.ch>s.text.length&&(u=u.line<e.first+e.size-1?de(u.line+1,0):null),!u)){if(o)return n?(e.cantEdit=!0,de(e.first,0)):Be(e,t,i,!0);o=!0,u=t,r=-r}a=u;continue e}}return a}}function Ye(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ke(e,t){for(var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),r=0;r<i.sel.ranges.length;r++)if(!1!==t||r!=i.sel.primIndex){var s=i.sel.ranges[r],l=s.empty();(l||e.options.showCursorWhenSelecting)&&Je(e,s,o),l||Ge(e,s,a)}return n}function Je(e,t,i){var n=xt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),o=i.appendChild(Aa("div","\xa0","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=i.appendChild(Aa("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Ge(o,e,t){var i=o.display,a=o.doc,r=document.createDocumentFragment(),n=nt(o.display),f=n.left,m=Math.max(i.sizerWidth,at(o)-i.sizer.offsetLeft)-n.right;function g(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),r.appendChild(Aa("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==i?m-e:i)+"px; height: "+(n-t)+"px"))}function s(i,l,c){var d,u,n=po(a,i),h=n.text.length;function p(e,t){return wt(o,de(i,e),"div",n,t)}return function(e,t,i,n){if(!e)return n(t,i,"ltr");for(var o=!1,a=0;a<e.length;++a){var r=e[a];(r.from<i&&r.to>t||t==i&&r.to==t)&&(n(Math.max(r.from,t),Math.min(r.to,i),1==r.level?"rtl":"ltr"),o=!0)}o||n(t,i,"ltr")}(yo(n),l||0,null==c?h:c,function(e,t,i){var n,o,a,r=p(e,"left");if(e==t)o=a=(n=r).left;else{if(n=p(t-1,"right"),"rtl"==i){var s=r;r=n,n=s}o=r.left,a=n.right}null==l&&0==e&&(o=f),3<n.top-r.top&&(g(o,r.top,null,r.bottom),o=f,r.bottom<n.top&&g(o,r.bottom,null,n.top)),null==c&&t==h&&(a=m),(!d||r.top<d.top||r.top==d.top&&r.left<d.left)&&(d=r),(!u||n.bottom>u.bottom||n.bottom==u.bottom&&n.right>u.right)&&(u=n),o<f+1&&(o=f),g(o,n.top,a-o,n.bottom)}),{start:d,end:u}}var l=e.from(),c=e.to();if(l.line==c.line)s(l.line,l.ch,c.ch);else{var d=po(a,l.line),u=po(a,c.line),h=In(d)==In(u),p=s(l.line,l.ch,h?d.text.length+1:null).end,v=s(c.line,h?0:null,c.ch).start;h&&(p.top<v.top-2?(g(p.right,p.top,null,p.bottom),g(f,v.top,v.left,v.bottom)):g(p.right,p.top,v.left-p.right,p.bottom)),p.bottom<v.top&&g(f,p.bottom,null,v.top)}t.appendChild(r)}function Xe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Qe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,ua(Ze,e))}function Ze(s){var l=s.doc;if(l.frontier<l.first&&(l.frontier=l.first),!(l.frontier>=s.display.viewTo)){var c=+new Date+s.options.workTime,d=Qi(l.mode,et(s,l.frontier)),u=[];l.iter(l.frontier,Math.min(l.first+l.size,s.display.viewTo+500),function(e){if(l.frontier>=s.display.viewFrom){var t=e.styles,i=Vn(s,e,d,!0);e.styles=i.styles;var n=e.styleClasses,o=i.classes;o?e.styleClasses=o:n&&(e.styleClasses=null);for(var a=!t||t.length!=e.styles.length||n!=o&&(!n||!o||n.bgClass!=o.bgClass||n.textClass!=o.textClass),r=0;!a&&r<t.length;++r)a=t[r]!=e.styles[r];a&&u.push(l.frontier),e.stateAfter=Qi(l.mode,d)}else Bn(s,e.text,d),e.stateAfter=l.frontier%5==0?Qi(l.mode,d):null;if(++l.frontier,+new Date>c)return Qe(s,s.options.workDelay),!0}),u.length&&zt(s,function(){for(var e=0;e<u.length;e++)Yt(s,u[e],"text")})}}function et(i,n,e){var o=i.doc,a=i.display;if(!o.mode.startState)return!0;var r=function(e,t,i){for(var n,o,a=e.doc,r=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;r<s;--s){if(s<=a.first)return a.first;var l=po(a,s-1);if(l.stateAfter&&(!i||s<=a.frontier))return s;var c=ea(l.text,null,e.options.tabSize);(null==o||c<n)&&(o=s-1,n=c)}return o}(i,n,e),s=r>o.first&&po(o,r-1).stateAfter;return s=s?Qi(o.mode,s):Zi(o.mode),o.iter(r,n,function(e){Bn(i,e.text,s);var t=r==n-1||r%5==0||r>=a.viewFrom&&r<a.viewTo;e.stateAfter=t?Qi(o.mode,s):null,++r}),e&&(o.frontier=r),s}function tt(e){return e.lineSpace.offsetTop}function it(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function nt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=_a(e.measure,Aa("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function ot(e){return Ko-e.display.nativeBarWidth}function at(e){return e.display.scroller.clientWidth-ot(e)-e.display.barWidth}function rt(e){return e.display.scroller.clientHeight-ot(e)-e.display.barHeight}function st(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(n=0;n<e.rest.length;n++)if(vo(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function lt(e,t,i,n){return ut(e,dt(e,t),i,n)}function ct(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Jt(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function dt(e,t){var i=vo(t),n=ct(e,i);n&&!n.text?n=null:n&&n.changes&&Z(e,n,i,Q(e));var o=st(n=n||function(e,t){var i=vo(t=In(t)),n=e.display.externalMeasured=new Vt(e.doc,t,i);n.lineN=i;var o=n.built=Gn(e,n);return n.text=o.pre,_a(e.display.lineMeasure,o.pre),n}(e,t),t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function ut(e,t,i,n,o){t.before&&(i=-1);var a,r=i+(n||"");return t.cache.hasOwnProperty(r)?a=t.cache[r]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,i){var n=e.options.lineWrapping,o=n&&at(e);if(!t.measure.heights||n&&t.measure.width!=o){var a=t.measure.heights=[];if(n){t.measure.width=o;for(var r=t.text.firstChild.getClientRects(),s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];2<Math.abs(l.bottom-c.bottom)&&a.push((l.bottom+c.top)/2-i.top)}}a.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(a=function(e,t,i,n){var o,a=ft(t.map,i,n),r=a.node,s=a.start,l=a.end,c=a.collapse;if(3==r.nodeType){for(var d=0;d<4;d++){for(;s&&ba(t.line.text.charAt(a.coverStart+s));)--s;for(;a.coverStart+l<a.coverEnd&&ba(t.line.text.charAt(a.coverStart+l));)++l;if(y&&_<9&&0==s&&l==a.coverEnd-a.coverStart)o=r.parentNode.getBoundingClientRect();else if(y&&e.options.lineWrapping){var u=ga(r,s,l).getClientRects();o=u.length?u["right"==n?u.length-1:0]:pt}else o=ga(r,s,l).getBoundingClientRect()||pt;if(o.left||o.right||0==s)break;l=s,--s,c="right"}y&&_<11&&(o=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Fa)return Fa;var t=_a(e,Aa("span","x")),i=t.getBoundingClientRect(),n=ga(t,0,1).getBoundingClientRect();return Fa=1<Math.abs(i.left-n.left)}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,o))}else{0<s&&(c=n="right"),o=e.options.lineWrapping&&1<(u=r.getClientRects()).length?u["right"==n?u.length-1:0]:r.getBoundingClientRect()}if(y&&_<9&&!s&&(!o||!o.left&&!o.right)){var h=r.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Dt(e.display),top:h.top,bottom:h.bottom}:pt}var p=o.top-t.rect.top,f=o.bottom-t.rect.top,m=(p+f)/2,g=t.view.measure.heights;for(d=0;d<g.length-1&&!(m<g[d]);d++);var v=d?g[d-1]:0,b=g[d],A={left:("right"==c?o.right:o.left)-t.rect.left,right:("left"==c?o.left:o.right)-t.rect.left,top:v,bottom:b};o.left||o.right||(A.bogus=!0);e.options.singleCursorHeightPerLine||(A.rtop=p,A.rbottom=f);return A}(e,t,i,n)).bogus||(t.cache[r]=a)),{left:a.left,right:a.right,top:o?a.rtop:a.top,bottom:o?a.rbottom:a.bottom}}_e.prototype=da({init:function(t){var i=this,n=this.cm,e=this.wrapper=we(),o=this.textarea=e.firstChild;function a(e){if(n.somethingSelected())ve=n.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,o.value=ve.join("\n"),aa(o));else{var t=Ae(n);ve=t.text,"cut"==e.type?n.setSelections(t.ranges,null,Go):(i.prevInput="",o.value=t.text.join("\n"),aa(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}t.wrapper.insertBefore(e,t.wrapper.firstChild),r&&(o.style.width="0px"),Ro(o,"input",function(){y&&9<=_&&i.hasSelection&&(i.hasSelection=null),i.poll()}),Ro(o,"paste",function(){if(f&&!n.state.fakedLastChar&&!(new Date-n.state.lastMiddleDown<200)){var e=o.selectionStart,t=o.selectionEnd;o.value+="$",o.selectionEnd=t,o.selectionStart=e,n.state.fakedLastChar=!0}n.state.pasteIncoming=!0,i.fastPoll()}),Ro(o,"cut",a),Ro(o,"copy",a),Ro(t.scroller,"paste",function(e){Zt(t,e)||(n.state.pasteIncoming=!0,i.focus())}),Ro(t.lineSpace,"selectstart",function(e){Zt(t,e)||Po(e)})},prepareSelection:function(){var e=this.cm,t=e.display,i=e.doc,n=Ke(e);if(e.options.moveInputWithCursor){var o=xt(e,i.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),r=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+r.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+r.left-a.left))}return n},showSelection:function(e){var t=this.cm.display;_a(t.cursorDiv,e.cursors),_a(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,i,n=this.cm,o=n.doc;if(n.somethingSelected()){this.prevInput="";var a=o.sel.primary(),r=(t=Ra&&(100<a.to().line-a.from().line||1e3<(i=n.getSelection()).length))?"-":i||n.getSelection();this.textarea.value=r,n.state.focused&&aa(this.textarea),y&&9<=_&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",y&&9<=_&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!d||xa()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,function e(){i.poll()||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))})},poll:function(){var e=this.cm,t=this.textarea,i=this.prevInput;if(!e.state.focused||ja(t)&&!i||ge(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var n=t.value;if(n==i&&!e.somethingSelected())return!1;if(y&&9<=_&&this.hasSelection===n||g&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||i||(i="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,r=Math.min(i.length,n.length);a<r&&i.charCodeAt(a)==n.charCodeAt(a);)++a;var s=this;return zt(e,function(){be(e,n.slice(a),i.length-a),1e3<n.length||-1<n.indexOf("\n")?t.value=s.prevInput="":s.prevInput=n}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){y&&9<=_&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){var i=this,n=i.cm,o=n.display,a=i.textarea,t=ei(n,e),r=o.scroller.scrollTop;if(t&&!m){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(t)&&qt(n,qe)(n.doc,$e(t),Go);var s=a.style.cssText;if(i.wrapper.style.position="absolute",a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(y?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",f)var l=window.scrollY;if(o.input.focus(),f&&window.scrollTo(null,l),o.input.reset(),n.somethingSelected()||(a.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=n.doc.sel,clearTimeout(o.detectingSelectAll),y&&9<=_&&d(),h){No(e);var c=function(){Fo(window,"mouseup",c),setTimeout(u,20)};Ro(window,"mouseup",c)}else setTimeout(u,50)}function d(){if(null!=a.selectionStart){var e=n.somethingSelected(),t="\u200b"+(e?a.value:"");a.value="\u21da",a.value=t,i.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=n.doc.sel}}function u(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",a.style.cssText=s,y&&_<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=r),null!=a.selectionStart){(!y||y&&_<9)&&d();var e=0,t=function(){o.selForContextMenu==n.doc.sel&&0==a.selectionStart&&0<a.selectionEnd&&"\u200b"==i.prevInput?qt(n,en.selectAll)(n):e++<10?o.detectingSelectAll=setTimeout(t,500):o.input.reset()};o.detectingSelectAll=setTimeout(t,200)}}},setUneditable:la,needsContentAttribute:!1},_e.prototype),xe.prototype=da({init:function(e){var o=this,a=o.cm,t=o.div=e.lineDiv;function i(e){if(a.somethingSelected())ve=a.getSelections(),"cut"==e.type&&a.replaceSelection("",null,"cut");else{var t=Ae(a);ve=t.text,"cut"==e.type&&a.operation(function(){a.setSelections(t.ranges,0,Go),a.replaceSelection("",null,"cut")})}if(e.clipboardData&&!r)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",ve.join("\n"));else{var i=we(),n=i.firstChild;a.display.lineSpace.insertBefore(i,a.display.lineSpace.firstChild),n.value=ve.join("\n");var o=document.activeElement;aa(n),setTimeout(function(){a.display.lineSpace.removeChild(i),o.focus()},50)}}t.contentEditable="true",ye(t),Ro(t,"paste",function(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");t&&(e.preventDefault(),a.replaceSelection(t,null,"paste"))}),Ro(t,"compositionstart",function(e){var t=e.data;if(o.composing={sel:a.doc.sel,data:t,startData:t},t){var i=a.doc.sel.primary(),n=a.getLine(i.head.line).indexOf(t,Math.max(0,i.head.ch-t.length));-1<n&&n<=i.head.ch&&(o.composing.sel=$e(de(i.head.line,n),de(i.head.line,n+t.length)))}}),Ro(t,"compositionupdate",function(e){o.composing.data=e.data}),Ro(t,"compositionend",function(e){var t=o.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||o.applyComposition(t),o.composing==t&&(o.composing=null)},50))}),Ro(t,"touchstart",function(){o.forceCompositionEnd()}),Ro(t,"input",function(){o.composing||o.pollContent()||zt(o.cm,function(){Bt(a)})}),Ro(t,"copy",i),Ro(t,"cut",i)},prepareSelection:function(){var e=Ke(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),i=Se(this.cm,e.anchorNode,e.anchorOffset),n=Se(this.cm,e.focusNode,e.focusOffset);if(!i||i.bad||!n||n.bad||0!=ue(fe(i,n),t.from())||0!=ue(pe(i,n),t.to())){var o=ke(this.cm,t.from()),a=ke(this.cm,t.to());if(o||a){var r=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(o){if(!a){var l=r[r.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;a={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:r[0].measure.map[2],offset:0};try{var d=ga(o.node,o.offset,a.offset,a.node)}catch(e){}d&&(e.removeAllRanges(),e.addRange(d),s&&null==e.anchorNode?e.addRange(s):p&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){_a(this.cm.display.cursorDiv,e.cursors),_a(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return wa(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var t=this;this.selectionInEditor()?this.pollSelection():zt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var i=Se(t,e.anchorNode,e.anchorOffset),n=Se(t,e.focusNode,e.focusOffset);i&&n&&zt(t,function(){qe(t.doc,$e(i,n),Go),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,i=t.display,n=t.doc.sel.primary(),o=n.from(),a=n.to();if(o.line<i.viewFrom||a.line>i.viewTo-1)return!1;if(o.line==i.viewFrom||0==(e=Jt(t,o.line)))var r=vo(i.view[0].line),s=i.view[0].node;else r=vo(i.view[e].line),s=i.view[e-1].node.nextSibling;var l=Jt(t,a.line);if(l==i.view.length-1)var c=i.viewTo-1,d=i.view[l].node;else c=vo(i.view[l+1].line)-1,d=i.view[l+1].node.previousSibling;for(var u=La(function(l,e,t,c,d){var u="",h=!1;function p(e){if(1==e.nodeType){var t=e.getAttribute("cm-text");if(null!=t)return""==t&&(t=e.textContent.replace(/\u200b/g,"")),void(u+=t);var i,n=e.getAttribute("cm-marker");if(n){var o=l.findMarks(de(c,0),de(d+1,0),(s=+n,function(e){return e.id==s}));return void(o.length&&(i=o[0].find())&&(u+=fo(l.doc,i.from,i.to).join("\n")))}if("false"==e.getAttribute("contenteditable"))return;for(var a=0;a<e.childNodes.length;a++)p(e.childNodes[a]);/^(pre|div|p)$/i.test(e.nodeName)&&(h=!0)}else if(3==e.nodeType){var r=e.nodeValue;if(!r)return;h&&(u+="\n",h=!1),u+=r}var s}for(;p(e),e!=t;)e=e.nextSibling;return u}(t,s,d,r,c)),h=fo(t.doc,de(r,0),de(c,po(t.doc,c).text.length));1<u.length&&1<h.length;)if(oa(u)==oa(h))u.pop(),h.pop(),c--;else{if(u[0]!=h[0])break;u.shift(),h.shift(),r++}for(var p=0,f=0,m=u[0],g=h[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=oa(u),A=oa(h),y=Math.min(b.length-(1==u.length?p:0),A.length-(1==h.length?p:0));f<y&&b.charCodeAt(b.length-f-1)==A.charCodeAt(A.length-f-1);)++f;u[u.length-1]=b.slice(0,b.length-f),u[0]=u[0].slice(p);var _=de(r,p),w=de(c,h.length?oa(h).length-f:0);return 1<u.length||u[0]||ue(_,w)?(Mi(t.doc,u,_,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&qt(this.cm,be)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),qt(this.cm,be)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:la,resetPosition:la,needsContentAttribute:!0},xe.prototype),A.inputStyles={textarea:_e,contenteditable:xe},Ee.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(0!=ue(i.anchor,n.anchor)||0!=ue(i.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new De(he(this.ranges[t].anchor),he(this.ranges[t].head));return new Ee(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t=t||e;for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=ue(t,n.from())&&ue(e,n.to())<=0)return i}return-1}},De.prototype={from:function(){return fe(this.anchor,this.head)},to:function(){return pe(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var ht,pt={left:0,right:0,top:0,bottom:0};function ft(e,t,i){for(var n,o,a,r,s=0;s<e.length;s+=3){var l=e[s],c=e[s+1];if(t<l?(o=0,a=1,r="left"):t<c?a=(o=t-l)+1:(s==e.length-3||t==c&&e[s+3]>t)&&(o=(a=c-l)-1,c<=t&&(r="right")),null!=o){if(n=e[s+2],l==c&&i==(n.insertLeft?"left":"right")&&(r=i),"left"==i&&0==o)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)n=e[2+(s-=3)],r="left";if("right"==i&&o==c-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)n=e[(s+=3)+2],r="right";break}}return{node:n,start:o,end:a,collapse:r,coverStart:l,coverEnd:c}}function mt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function gt(e){e.display.externalMeasure=null,ya(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)mt(e.display.view[t])}function vt(e){gt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function bt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function At(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function yt(e,t,i,n){if(t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var a=jn(t.widgets[o]);i.top+=a,i.bottom+=a}if("line"==n)return i;n=n||"local";var r=Ao(t);if("local"==n?r+=tt(e.display):r-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();r+=s.top+("window"==n?0:At());var l=s.left+("window"==n?0:bt());i.left+=l,i.right+=l}return i.top+=r,i.bottom+=r,i}function _t(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=bt(),o-=At();else if("local"==i||!i){var a=e.display.sizer.getBoundingClientRect();n+=a.left,o+=a.top}var r=e.display.lineSpace.getBoundingClientRect();return{left:n-r.left,top:o-r.top}}function wt(e,t,i,n,o){return yt(e,n=n||po(e.doc,t.line),lt(e,n,t.ch,o),i)}function xt(n,e,o,a,r,s){function l(e,t){var i=ut(n,r,e,t?"right":"left",s);return t?i.left=i.right:i.right=i.left,yt(n,a,i,o)}function t(e,t){var i=c[t],n=i.level%2;return e==Ha(i)&&t&&i.level<c[t-1].level?(e=Wa(i=c[--t])-(i.level%2?0:1),n=!0):e==Wa(i)&&t<c.length-1&&i.level<c[t+1].level&&(e=Ha(i=c[++t])-i.level%2,n=!1),n&&e==i.to&&e>i.from?l(e-1):l(e,n)}a=a||po(n.doc,e.line),r=r||dt(n,a);var c=yo(a),i=e.ch;if(!c)return l(i);var d=t(i,Ka(c,i));return null!=za&&(d.other=t(i,za)),d}function kt(e,t){var i=0;t=Me(e.doc,t);e.options.lineWrapping||(i=Dt(e.display)*t.ch);var n=po(e.doc,t.line),o=Ao(n)+tt(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function Ct(e,t,i,n){var o=de(e,t);return o.xRel=n,i&&(o.outside=!0),o}function St(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Ct(n.first,0,!0,-1);var o=bo(n,i),a=n.first+n.size-1;if(a<o)return Ct(n.first+n.size-1,po(n,a).text.length,!0,1);t<0&&(t=0);for(var r=po(n,o);;){var s=Tt(e,r,o,t,i),l=En(r),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&0<s.xRel))return s;o=vo(r=c.to.line)}}function Tt(i,n,o,e,t){var a=t-Ao(n),r=!1,s=2*i.display.wrapper.clientWidth,l=dt(i,n);function c(e){var t=xt(i,de(o,e),"line",n,l);return r=!0,a>t.bottom?t.left-s:a<t.top?t.left+s:(r=!1,t.left)}var d=yo(n),u=n.text.length,h=Va(n),p=Ua(n),f=c(h),m=r,g=c(p),v=r;if(g<e)return Ct(o,p,v,1);for(;;){if(d?p==h||p==Ga(n,h,1):p-h<=1){for(var b=e<f||e-f<=g-e?h:p,A=e-(b==h?f:g);ba(n.text.charAt(b));)++b;return Ct(o,b,b==h?m:v,A<-1?-1:1<A?1:0)}var y=Math.ceil(u/2),_=h+y;if(d){_=h;for(var w=0;w<y;++w)_=Ga(n,_,1)}var x=c(_);e<x?(p=_,g=x,(v=r)&&(g+=1e3),u=y):(h=_,f=x,m=r,u-=y)}}function Et(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ht){ht=Aa("pre");for(var t=0;t<49;++t)ht.appendChild(document.createTextNode("x")),ht.appendChild(Aa("br"));ht.appendChild(document.createTextNode("x"))}_a(e.measure,ht);var i=ht.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),ya(e.measure),i||1}function Dt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Aa("span","xxxxxxxxxx"),i=Aa("pre",[t]);_a(e.measure,i);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return 2<o&&(e.cachedCharWidth=o),o||10}var It,$t,Pt=null,Mt=0;function Ot(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Mt},Pt?Pt.ops.push(e.curOp):e.curOp.ownsGroup=Pt={ops:[e.curOp],delayedCallbacks:[]}}function Nt(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i]();for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++](o.cm)}}while(i<t.length)}(t)}finally{Pt=null;for(var i=0;i<t.ops.length;i++)t.ops[i].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)Lt(t[i]);for(i=0;i<t.length;i++)n=t[i],n.updatedDisplay=n.mustUpdate&&B(n.cm,n.update);var n;for(i=0;i<t.length;i++)jt(t[i]);for(i=0;i<t.length;i++)Rt(t[i]);for(i=0;i<t.length;i++)Ft(t[i])}(t)}}function Lt(e){var t,i,n=e.cm,o=n.display;!(i=(t=n).display).scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=ot(t)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=ot(t)+"px",i.scrollbarsClipped=!0),e.updateMaxLine&&P(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<o.viewFrom||e.scrollToPos.to.line>=o.viewTo)||o.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new U(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function jt(e){var t=e.cm,i=t.display;e.updatedDisplay&&G(t),e.barMeasure=O(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=lt(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+ot(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-at(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Rt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&si(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&J(t,e.barMeasure),!e.updatedDisplay&&e.startHeight==t.doc.height||R(t,e.barMeasure),e.selectionChanged&&Xe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&me(e.cm)}function Ft(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&Y(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==e.scrollTop||i.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,e.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||i.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-at(t),e.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,q(t)),e.scrollToPos){var o=function(e,t,i,n){null==n&&(n=0);for(var o=0;o<5;o++){var a=!1,r=xt(e,t),s=i&&i!=t?xt(e,i):r,l=Oi(e,Math.min(r.left,s.left),Math.min(r.top,s.top)-n,Math.max(r.left,s.left),Math.max(r.bottom,s.bottom)+n),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=l.scrollTop&&(ri(e,l.scrollTop),1<Math.abs(e.doc.scrollTop-c)&&(a=!0)),null!=l.scrollLeft&&(si(e,l.scrollLeft),1<Math.abs(e.doc.scrollLeft-d)&&(a=!0)),!a)break}return r}(t,Me(n,e.scrollToPos.from),Me(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(Vo(e,"scrollCursorIntoView"))return;var i=e.display,n=i.sizer.getBoundingClientRect(),o=null;t.top+n.top<0?o=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1);if(null!=o&&!c){var a=Aa("div","\u200b",null,"position: absolute; top: "+(t.top-i.viewOffset-tt(e.display))+"px; height: "+(t.bottom-t.top+ot(e)+i.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}(t,o)}var a=e.maybeHiddenMarkers,r=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||zo(a[s],"hide");if(r)for(s=0;s<r.length;++s)r[s].lines.length&&zo(r[s],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&zo(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function zt(e,t){if(e.curOp)return t();Ot(e);try{return t()}finally{Nt(e)}}function qt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ot(e);try{return t.apply(e,arguments)}finally{Nt(e)}}}function Ht(e){return function(){if(this.curOp)return e.apply(this,arguments);Ot(this);try{return e.apply(this,arguments)}finally{Nt(this)}}}function Wt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ot(e);try{return t.apply(this,arguments)}finally{Nt(e)}}}function Vt(e,t,i){this.line=t,this.rest=function(e){var t,i;for(;t=En(e);)e=t.find(1,!0).line,(i=i||[]).push(e);return i}(t),this.size=this.rest?vo(oa(this.rest))-i+1:1,this.node=this.text=null,this.hidden=Mn(e,t)}function Ut(e,t,i){for(var n,o=[],a=t;a<i;a=n){var r=new Vt(e.doc,po(e.doc,a),a);n=a+r.size,o.push(r)}return o}function Bt(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n=n||0;var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)b&&$n(e.doc,t)<o.viewTo&&Kt(e);else if(i<=o.viewFrom)b&&Pn(e.doc,i+n)>o.viewFrom?Kt(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)Kt(e);else if(t<=o.viewFrom){(a=Gt(e,i,i+n,1))?(o.view=o.view.slice(a.index),o.viewFrom=a.lineN,o.viewTo+=n):Kt(e)}else if(i>=o.viewTo){var a;(a=Gt(e,t,t,-1))?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Kt(e)}else{var r=Gt(e,t,t,-1),s=Gt(e,i,i+n,1);r&&s?(o.view=o.view.slice(0,r.index).concat(Ut(e,r.lineN,s.lineN)).concat(o.view.slice(s.index)),o.viewTo+=n):Kt(e)}var l=o.externalMeasured;l&&(i<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(o.externalMeasured=null))}function Yt(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[Jt(e,t)];if(null!=a.node){var r=a.changes||(a.changes=[]);-1==ra(r,i)&&r.push(i)}}}function Kt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Jt(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function Gt(e,t,i,n){var o,a=Jt(e,t),r=e.display.view;if(!b||i==e.doc.first+e.doc.size)return{index:a,lineN:i};for(var s=0,l=e.display.viewFrom;s<a;s++)l+=r[s].size;if(l!=t){if(0<n){if(a==r.length-1)return null;o=l+r[a].size-t,a++}else o=l-t;t+=o,i+=o}for(;$n(e.doc,i)!=i;){if(a==(n<0?0:r.length-1))return null;i+=n*r[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:i}}function Xt(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function Qt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Zt(e,t){for(var i=Lo(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return 1}function ei(e,t,i,n){var o=e.display;if(!i&&"true"==Lo(t).getAttribute("cm-not-content"))return null;var a,r,s=o.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,r=t.clientY-s.top}catch(t){return null}var l,c=St(e,a,r);if(n&&1==c.xRel&&(l=po(e.doc,c.line).text).length==c.ch){var d=ea(l,l.length,e.options.tabSize)-l.length;c=de(c.line,Math.max(0,Math.round((a-nt(e.display).left)/Dt(e.display))-d))}return c}function ti(e){var t=this.display;if(!(t.activeTouch&&t.input.supportsTouch()||Vo(this,e)))if(t.shift=e.shiftKey,Zt(t,e))f||(t.scroller.draggable=!1,setTimeout(function(){t.scroller.draggable=!0},100));else if(!ni(this,e)){var i,n=ei(this,e);switch(window.focus(),jo(e)){case 1:n?function(e,t,i){y?setTimeout(ua(me,e),0):e.curOp.focus=!0;var n,o=+new Date;$t&&$t.time>o-400&&0==ue($t.pos,i)?n="triple":It&&It.time>o-400&&0==ue(It.pos,i)?(n="double",$t={time:o,pos:i}):(n="single",It={time:o,pos:i});var a,r=e.doc.sel,s=g?t.metaKey:t.ctrlKey;e.options.dragDrop&&Pa&&!ge(e)&&"single"==n&&-1<(a=r.contains(i))&&!r.ranges[a].empty()?function(t,i,n,o){var a=t.display,r=qt(t,function(e){f&&(a.scroller.draggable=!1),t.state.draggingText=!1,Fo(document,"mouseup",r),Fo(a.scroller,"drop",r),Math.abs(i.clientX-e.clientX)+Math.abs(i.clientY-e.clientY)<10&&(Po(e),o||Le(t.doc,n),f||y&&9==_?setTimeout(function(){document.body.focus(),a.input.focus()},20):a.input.focus())});f&&(a.scroller.draggable=!0);t.state.draggingText=r,a.scroller.dragDrop&&a.scroller.dragDrop();Ro(document,"mouseup",r),Ro(a.scroller,"drop",r)}(e,t,i,s):function(m,e,g,v,t){var a=m.display,b=m.doc;Po(e);var A,y,_=b.sel,i=_.ranges;t&&!e.shiftKey?(y=b.sel.contains(g),A=-1<y?i[y]:new De(g,g)):(A=b.sel.primary(),y=b.sel.primIndex);if(e.altKey)v="rect",t||(A=new De(g,g)),g=ei(m,e,!0,!0),y=-1;else if("double"==v){var n=m.findWordAt(g);A=m.display.shift||b.extend?Ne(b,A,n.anchor,n.head):n}else if("triple"==v){var o=new De(de(g.line,0),Me(b,de(g.line+1,0)));A=m.display.shift||b.extend?Ne(b,A,o.anchor,o.head):o}else A=Ne(b,A,g);t?-1==y?(y=i.length,qe(b,Ie(i.concat([A]),y),{scroll:!1,origin:"*mouse"})):1<i.length&&i[y].empty()&&"single"==v&&!e.shiftKey?(qe(b,Ie(i.slice(0,y).concat(i.slice(y+1)),0)),_=b.sel):Re(b,y,A,Xo):(qe(b,new Ee([A],y=0),Xo),_=b.sel);var w=g;var r=a.wrapper.getBoundingClientRect(),s=0;function l(e){var t=++s,i=ei(m,e,!0,"rect"==v);if(i)if(0!=ue(i,w)){m.curOp.focus=!0,function(e){if(0!=ue(w,e))if(w=e,"rect"==v){for(var t=[],i=m.options.tabSize,n=ea(po(b,g.line).text,g.ch,i),o=ea(po(b,e.line).text,e.ch,i),a=Math.min(n,o),r=Math.max(n,o),s=Math.min(g.line,e.line),l=Math.min(m.lastLine(),Math.max(g.line,e.line));s<=l;s++){var c=po(b,s).text,d=ta(c,a,i);a==r?t.push(new De(de(s,d),de(s,d))):c.length>d&&t.push(new De(de(s,d),de(s,ta(c,r,i))))}t.length||t.push(new De(g,g)),qe(b,Ie(_.ranges.slice(0,y).concat(t),y),{origin:"*mouse",scroll:!1}),m.scrollIntoView(e)}else{var u=A,h=u.anchor,p=e;if("single"!=v){if("double"==v)var f=m.findWordAt(e);else f=new De(de(e.line,0),Me(b,de(e.line+1,0)));h=0<ue(f.anchor,h)?(p=f.head,fe(u.from(),f.anchor)):(p=f.anchor,pe(u.to(),f.head))}(t=_.ranges.slice(0))[y]=new De(Me(b,h),p),qe(b,Ie(t,y),Xo)}}(i);var n=z(a,b);(i.line>=n.to||i.line<n.from)&&setTimeout(qt(m,function(){s==t&&l(e)}),150)}else{var o=e.clientY<r.top?-20:e.clientY>r.bottom?20:0;o&&setTimeout(qt(m,function(){s==t&&(a.scroller.scrollTop+=o,l(e))}),50)}}function c(e){s=1/0,Po(e),a.input.focus(),Fo(document,"mousemove",d),Fo(document,"mouseup",u),b.history.lastSelOrigin=null}var d=qt(m,function(e){(jo(e)?l:c)(e)}),u=qt(m,c);Ro(document,"mousemove",d),Ro(document,"mouseup",u)}(e,t,i,n,s)}(this,e,n):Lo(e)==t.scroller&&Po(e);break;case 2:f&&(this.state.lastMiddleDown=+new Date),n&&Le(this.doc,n),setTimeout(function(){t.input.focus()},20),Po(e);break;case 3:h?wi(this,e):((i=this).state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,_i(i))},100))}}}function ii(e,t,i,n,o){try{var a=t.clientX,r=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Po(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(r>l.bottom||!Bo(e,i))return Oo(t);r-=l.top-s.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var d=s.gutters.childNodes[c];if(d&&d.getBoundingClientRect().right>=a)return o(e,i,e,bo(e.doc,r),e.options.gutters[c],t),Oo(t)}}function ni(e,t){return ii(e,t,"gutterClick",!0,Ho)}var oi=0;function ai(e){var n=this;if(!Vo(n,e)&&!Zt(n.display,e)){Po(e),y&&(oi=+new Date);var o=ei(n,e,!0),t=e.dataTransfer.files;if(o&&!ge(n))if(t&&t.length&&window.FileReader&&window.File)for(var a=t.length,r=Array(a),s=0,i=function(e,t){var i=new FileReader;i.onload=qt(n,function(){if(r[t]=i.result,++s==a){var e={from:o=Me(n.doc,o),to:o,text:La(r.join("\n")),origin:"paste"};Ei(n.doc,e),ze(n.doc,$e(o,xi(e)))}}),i.readAsText(e)},l=0;l<a;++l)i(t[l],l);else{if(n.state.draggingText&&-1<n.doc.sel.contains(o))return n.state.draggingText(e),void setTimeout(function(){n.display.input.focus()},20);try{if(r=e.dataTransfer.getData("Text")){if(n.state.draggingText&&!(g?e.altKey:e.ctrlKey))var c=n.listSelections();if(He(n.doc,$e(o,o)),c)for(l=0;l<c.length;++l)Mi(n.doc,"",c[l].anchor,c[l].head,"drag");n.replaceSelection(r,"around","paste"),n.display.input.focus()}}catch(e){}}}}function ri(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,p||K(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),p&&K(e),Qe(e,100))}function si(e,t,i){(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,q(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}var li=0,ci=null;y?ci=-.53:p?ci=15:n?ci=-.7:l&&(ci=-1/3);var di=function(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}};function ui(e,t){var i=di(t),n=i.x,o=i.y,a=e.display,r=a.scroller;if(n&&r.scrollWidth>r.clientWidth||o&&r.scrollHeight>r.clientHeight){if(o&&g&&f)e:for(var s=t.target,l=a.view;s!=r;s=s.parentNode)for(var c=0;c<l.length;c++)if(l[c].node==s){e.display.currentWheelTarget=s;break e}if(n&&!p&&!m&&null!=ci)return o&&ri(e,Math.max(0,Math.min(r.scrollTop+o*ci,r.scrollHeight-r.clientHeight))),si(e,Math.max(0,Math.min(r.scrollLeft+n*ci,r.scrollWidth-r.clientWidth))),Po(t),void(a.wheelStartX=null);if(o&&null!=ci){var d=o*ci,u=e.doc.scrollTop,h=u+a.wrapper.clientHeight;d<0?u=Math.max(0,u+d-50):h=Math.min(e.doc.height,h+d+50),K(e,{top:u,bottom:h})}li<20&&(null==a.wheelStartX?(a.wheelStartX=r.scrollLeft,a.wheelStartY=r.scrollTop,a.wheelDX=n,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=r.scrollLeft-a.wheelStartX,t=r.scrollTop-a.wheelStartY,i=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,i&&(ci=(ci*li+i)/(li+1),++li)}},200)):(a.wheelDX+=n,a.wheelDY+=o))}}function hi(e,t,i){if("string"==typeof t&&!(t=en[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{ge(e)&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=Jo}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}A.wheelEventPixels=function(e){var t=di(e);return t.x*=ci,t.y*=ci,t};var pi=new Zo;function fi(e,t,i,n){var o=e.state.keySeq;if(o){if(an(t))return"handled";pi.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),t=o+" "+t}var a=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=on(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&on(t,e.options.extraKeys,i,e)||on(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&Ho(e,"keyHandled",e,t,i),"handled"!=a&&"multi"!=a||(Po(i),Xe(e)),o&&!a&&/\'$/.test(t)?(Po(i),!0):!!a}function mi(t,e){var i=rn(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?fi(t,"Shift-"+i,e,function(e){return hi(t,e,!0)})||fi(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return hi(t,e)}):fi(t,i,e,function(e){return hi(t,e)}))}var gi=null;function vi(e){if(this.curOp.focus=!0,!Vo(this,e)){y&&_<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var i,n=mi(this,e);m&&(gi=n?t:null,!n&&88==t&&!Ra&&(g?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||(i=this.display.lineDiv,Sa(i,"CodeMirror-crosshair"),Ro(document,"keyup",o),Ro(document,"mouseover",o))}function o(e){18!=e.keyCode&&e.altKey||(Ca(i,"CodeMirror-crosshair"),Fo(document,"keyup",o),Fo(document,"mouseover",o))}}function bi(e){16==e.keyCode&&(this.doc.sel.shift=!1),Vo(this,e)}function Ai(e){if(!(Zt(this.display,e)||Vo(this,e)||e.ctrlKey&&!e.altKey||g&&e.metaKey)){var t=e.keyCode,i=e.charCode;if(m&&t==gi)return gi=null,void Po(e);if(!m||e.which&&!(e.which<10)||!mi(this,e)){var n,o=String.fromCharCode(null==i?t:i);if(!fi(n=this,"'"+o+"'",e,function(e){return hi(n,e,!0)}))this.display.input.onKeyPress(e)}}}function yi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(zo(e,"focus",e),e.state.focused=!0,Sa(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),f&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Xe(e))}function _i(e){e.state.delayingBlurEvent||(e.state.focused&&(zo(e,"blur",e),e.state.focused=!1,Ca(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function wi(e,t){var i,n;Zt(e.display,t)||(n=t,Bo(i=e,"gutterContextMenu")&&ii(i,n,"gutterContextMenu",!1,zo))||e.display.input.onContextMenu(t)}var xi=A.changeEnd=function(e){return e.text?de(e.from.line+e.text.length-1,oa(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};function ki(e,t){if(ue(e,t.from)<0)return e;if(ue(e,t.to)<=0)return xi(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=xi(t).ch-t.to.ch),de(i,n)}function Ci(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new De(ki(o.anchor,t),ki(o.head,t)))}return Ie(i,e.sel.primIndex)}function Si(e,t,i){return e.line==t.line?de(i.line,e.ch-t.ch+i.ch):de(i.line+(e.line-t.line),e.ch)}function Ti(o,e,t){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(i.update=function(e,t,i,n){e&&(this.from=Me(o,e)),t&&(this.to=Me(o,t)),i&&(this.text=i),void 0!==n&&(this.origin=n)}),zo(o,"beforeChange",o,i),o.cm&&zo(o.cm,"beforeChange",o.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ei(e,t,i){if(e.cm){if(!e.cm.curOp)return qt(e.cm,Ei)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Bo(e,"beforeChange")||e.cm&&Bo(e.cm,"beforeChange"))||(t=Ti(e,t,!0))){var n=v&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=ra(n,i)||(n=n||[]).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],a=0;a<n.length;++a)for(var r=n[a],s=r.find(0),l=0;l<o.length;++l){var c=o[l];if(!(ue(c.to,s.from)<0||0<ue(c.from,s.to))){var d=[l,1],u=ue(c.from,s.from),h=ue(c.to,s.to);(u<0||!r.inclusiveLeft&&!u)&&d.push({from:c.from,to:s.from}),(0<h||!r.inclusiveRight&&!h)&&d.push({from:s.to,to:c.to}),o.splice.apply(o,d),l+=d.length-1}}return o}(e,t.from,t.to);if(n)for(var o=n.length-1;0<=o;--o)Di(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text});else Di(e,t)}}function Di(e,i){if(1!=i.text.length||""!=i.text[0]||0!=ue(i.from,i.to)){var t=Ci(e,i);ko(e,i,t,e.cm?e.cm.curOp.id:NaN),Pi(e,i,t,bn(e,i));var n=[];uo(e,function(e,t){t||-1!=ra(n,e.history)||($o(e.history,i),n.push(e.history)),Pi(e,i,null,bn(e,i))})}}function Ii(e,t,i){if(!e.cm||!e.cm.state.suppressEdits){for(var n,o=e.history,a=e.sel,r="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,l=0;l<r.length&&(n=r[l],i?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=r.length){for(o.lastOrigin=o.lastSelOrigin=null;(n=r.pop()).ranges;){if(Co(n,s),i&&!n.equals(e.sel))return void qe(e,n,{clearRedo:!1});a=n}var c=[];Co(a,s),s.push({changes:c,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;var d=Bo(e,"beforeChange")||e.cm&&Bo(e.cm,"beforeChange");for(l=n.changes.length-1;0<=l;--l){var u=n.changes[l];if(u.origin=t,d&&!Ti(e,u,!1))return void(r.length=0);c.push(wo(e,u));var h=l?Ci(e,u):oa(r);Pi(e,u,h,yn(e,u)),!l&&e.cm&&e.cm.scrollIntoView({from:u.from,to:xi(u)});var p=[];uo(e,function(e,t){t||-1!=ra(p,e.history)||($o(e.history,u),p.push(e.history)),Pi(e,u,null,yn(e,u))})}}}}function $i(e,t){if(0!=t&&(e.first+=t,e.sel=new Ee(sa(e.sel.ranges,function(e){return new De(de(e.anchor.line+t,e.anchor.ch),de(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Bt(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Yt(e.cm,n,"gutter")}}function Pi(e,t,i,n){if(e.cm&&!e.cm.curOp)return qt(e.cm,Pi)(e,t,i,n);if(t.to.line<e.first)$i(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);$i(e,o),t={from:de(e.first,0),to:de(t.to.line+o,t.to.ch),text:[oa(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:de(a,po(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=fo(e,t.from,t.to),i=i||Ci(e,t),e.cm?function(e,t,i){var n=e.doc,o=e.display,a=t.from,r=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=vo(In(po(n,a.line))),n.iter(l,r.line+1,function(e){if(e==o.maxLine)return s=!0}));-1<n.sel.contains(t.from,t.to)&&Uo(e);no(n,t,i,C(e)),e.options.lineWrapping||(n.iter(l,a.line+t.text.length,function(e){var t=$(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));n.frontier=Math.min(n.frontier,a.line),Qe(e,400);var c=t.text.length-(r.line-a.line)-1;t.full?Bt(e):a.line!=r.line||1!=t.text.length||io(e.doc,t)?Bt(e,a.line,r.line+1,c):Yt(e,a.line,"text");var d=Bo(e,"changes"),u=Bo(e,"change");if(u||d){var h={from:a,to:r,text:t.text,removed:t.removed,origin:t.origin};u&&Ho(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):no(e,t,n),He(e,i,Go)}}function Mi(e,t,i,n,o){if(ue(n=n||i,i)<0){var a=n;n=i,i=a}"string"==typeof t&&(t=La(t)),Ei(e,{from:i,to:n,text:t,origin:o})}function Oi(e,t,i,n,o){var a=e.display,r=Et(e.display);i<0&&(i=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=rt(e),c={};l<o-i&&(o=i+l);var d=e.doc.height+it(a),u=i<r,h=d-r<o;if(i<s)c.scrollTop=u?0:i;else if(s+l<o){var p=Math.min(i,(h?d:o)-l);p!=s&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,m=at(e)-(e.options.fixedGutter?a.gutters.offsetWidth:0),g=m<n-t;return g&&(n=t+m),t<10?c.scrollLeft=0:t<f?c.scrollLeft=Math.max(0,t-(g?0:10)):m+f-3<n&&(c.scrollLeft=n+(g?0:10)-m),c}function Ni(e,t,i){null==t&&null==i||ji(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=i&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+i)}function Li(e){ji(e);var t=e.getCursor(),i=t,n=t;e.options.lineWrapping||(i=t.ch?de(t.line,t.ch-1):t,n=de(t.line,t.ch+1)),e.curOp.scrollToPos={from:i,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function ji(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=kt(e,t.from),n=kt(e,t.to),o=Oi(e,Math.min(i.left,n.left),Math.min(i.top,n.top)-t.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+t.margin);e.scrollTo(o.scrollLeft,o.scrollTop)}}function Ri(e,t,i,n){var o,a=e.doc;null==i&&(i="add"),"smart"==i&&(a.mode.indent?o=et(e,t):i="prev");var r=e.options.tabSize,s=po(a,t),l=ea(s.text,null,r);s.stateAfter&&(s.stateAfter=null);var c,d=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&((c=a.mode.indent(o,s.text.slice(d.length),s.text))==Jo||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>a.first?ea(po(a,t-1).text,null,r):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/r);p;--p)h+=r,u+="\t";if(h<c&&(u+=na(c-h)),u!=d)Mi(a,u,de(t,0),de(t,d.length),"+input");else for(p=0;p<a.sel.ranges.length;p++){var f=a.sel.ranges[p];if(f.head.line==t&&f.head.ch<d.length){Re(a,p,new De(h=de(t,d.length),h));break}}s.stateAfter=null}function Fi(e,t,i,n){var o=t,a=t;return"number"==typeof t?a=po(e,Pe(e,t)):o=vo(t),null==o?null:(n(a,o)&&e.cm&&Yt(e.cm,o,i),a)}function zi(t,e){for(var i=t.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var a=e(i[o]);n.length&&ue(a.from,oa(n).to)<=0;){var r=n.pop();if(ue(r.from,a.from)<0){a.from=r.from;break}}n.push(a)}zt(t,function(){for(var e=n.length-1;0<=e;e--)Mi(t.doc,"",n[e].from,n[e].to,"+delete");Li(t)})}function qi(n,e,o,t,a){var r=e.line,s=e.ch,i=o,l=po(n,r),c=!0;function d(e){var t,i=(a?Ga:Xa)(l,s,o,!0);if(null==i){if(e||!((t=r+o)<n.first||t>=n.first+n.size?c=!1:l=po(n,r=t)))return c=!1;s=a?(o<0?Ua:Va)(l):o<0?l.text.length:0}else s=i;return 1}if("char"==t)d();else if("column"==t)d(!0);else if("word"==t||"group"==t)for(var u=null,h="group"==t,p=n.cm&&n.cm.getHelper(e,"wordChars"),f=!0;!(o<0)||d(!f);f=!1){var m=l.text.charAt(s)||"\n",g=fa(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||f||g||(g="s"),u&&u!=g){o<0&&(o=1,d());break}if(g&&(u=g),0<o&&!d(!f))break}var v=Be(n,de(r,s),i,!0);return c||(v.hitSide=!0),v}function Hi(e,t,i,n){var o,a=e.doc,r=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+i*(s-(i<0?1.5:.5)*Et(e.display))}else"line"==n&&(o=0<i?t.bottom+3:t.top-3);for(;;){var l=St(e,r,o);if(!l.outside)break;if(i<0?o<=0:o>=a.height){l.hitSide=!0;break}o+=5*i}return l}A.prototype={constructor:A,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,Vi.hasOwnProperty(e)&&qt(this,Vi[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](sn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Ht(function(e,t){var i=e.token?e:A.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,Bt(this)}),removeOverlay:Ht(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Bt(this)}}),indentLine:Ht(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Oe(this.doc,e)&&Ri(this,e,t,i)}),indentSelection:Ht(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(Ri(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex&&Li(this));else{var a=o.from(),r=o.to(),s=Math.max(i,a.line);i=Math.min(this.lastLine(),r.line-(r.ch?0:1))+1;for(var l=s;l<i;++l)Ri(this,l,e);var c=this.doc.sel.ranges;0==a.ch&&t.length==c.length&&0<c[n].from().ch&&Re(this.doc,n,new De(a,c[n].to()),Go)}}}),getTokenAt:function(e,t){return Hn(this,e,t)},getLineTokens:function(e,t){return Hn(this,de(e),t,!0)},getTokenTypeAt:function(e){e=Me(this.doc,e);var t,i=Un(this,po(this.doc,e.line)),n=0,o=(i.length-1)/2,a=e.ch;if(0==a)t=i[2];else for(;;){var r=n+o>>1;if((r?i[2*r-1]:0)>=a)o=r;else{if(!(i[2*r+1]<a)){t=i[2*r+2];break}n=1+r}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?A.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!Xi.hasOwnProperty(t))return i;var n=Xi[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&i.push(n[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var r=n[o[t][a]];r&&i.push(r)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(a=0;a<n._global.length;a++){var s=n._global[a];s.pred(o,this)&&-1==ra(i,s.val)&&i.push(s.val)}return i},getStateAfter:function(e,t){var i=this.doc;return et(this,(e=Pe(i,null==e?i.first+i.size-1:e))+1,t)},cursorCoords:function(e,t){var i=this.doc.sel.primary();return xt(this,null==e?i.head:"object"==typeof e?Me(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return wt(this,Me(this.doc,e),t||"page")},coordsChar:function(e,t){return St(this,(e=_t(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=_t(this,{top:e,left:0},t||"page").top,bo(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var i=!1,n=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:n<e&&(e=n,i=!0);var o=po(this.doc,e);return yt(this,o,{top:0,left:0},t||"page").top+(i?this.doc.height-Ao(o):0)},defaultTextHeight:function(){return Et(this.display)},defaultCharWidth:function(){return Dt(this.display)},setGutterMarker:Ht(function(e,i,n){return Fi(this.doc,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[i]=n)&&ma(t)&&(e.gutterMarkers=null),1})}),clearGutter:Ht(function(t){var i=this,e=i.doc,n=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,Yt(i,n,"gutter"),ma(e.gutterMarkers)&&(e.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!Oe(this.doc,e))return null;var t=e;if(!(e=po(this.doc,e)))return null}else{if(null==(t=vo(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var a,r,s,l,c,d,u=this.display,h=(e=xt(this,Me(this.doc,e))).bottom,p=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),u.sizer.appendChild(t),"over"==n)h=e.top;else if("above"==n||"near"==n){var f=Math.max(u.wrapper.clientHeight,this.doc.height),m=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?h=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(h=e.bottom),p+t.offsetWidth>m&&(p=m-t.offsetWidth)}t.style.top=h+"px",t.style.left=t.style.right="","right"==o?(p=u.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?p=0:"middle"==o&&(p=(u.sizer.clientWidth-t.offsetWidth)/2),t.style.left=p+"px"),i&&(a=this,s=h,l=(r=p)+t.offsetWidth,c=h+t.offsetHeight,null!=(d=Oi(a,r,s,l,c)).scrollTop&&ri(a,d.scrollTop),null!=d.scrollLeft&&si(a,d.scrollLeft))},triggerOnKeyDown:Ht(vi),triggerOnKeyPress:Ht(Ai),triggerOnKeyUp:bi,execCommand:function(e){if(en.hasOwnProperty(e))return en[e](this)},findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var a=0,r=Me(this.doc,e);a<t&&!(r=qi(this.doc,r,o,i,n)).hitSide;++a);return r},moveH:Ht(function(t,i){var n=this;n.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?qi(n.doc,e.head,t,i,n.options.rtlMoveVisually):t<0?e.from():e.to()},Qo)}),deleteH:Ht(function(i,n){var e=this.doc.sel,o=this.doc;e.somethingSelected()?o.replaceSelection("",null,"+delete"):zi(this,function(e){var t=qi(o,e.head,i,n,!1);return i<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,i,n){var o=1,a=n;t<0&&(o=-1,t=-t);for(var r=0,s=Me(this.doc,e);r<t;++r){var l=xt(this,s,"div");if(null==a?a=l.left:l.left=a,(s=Hi(this,l,o,i)).hitSide)break}return s},moveV:Ht(function(n,o){var a=this,r=this.doc,s=[],l=!a.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(e){if(l)return n<0?e.from():e.to();var t=xt(a,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left);var i=Hi(a,t,n,o);return"page"==o&&e==r.sel.primary()&&Ni(a,null,wt(a,i,"div").top-t.top),i},Qo),s.length)for(var e=0;e<r.sel.ranges.length;e++)r.sel.ranges[e].goalColumn=s[e]}),findWordAt:function(e){var t=po(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");(e.xRel<0||n==t.length)&&i?--i:++n;for(var a=t.charAt(i),r=fa(a,o)?function(e){return fa(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!fa(e)};0<i&&r(t.charAt(i-1));)--i;for(;n<t.length&&r(t.charAt(n));)++n}return new De(de(e.line,i),de(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?Sa:Ca)(this.display.cursorDiv,"CodeMirror-overwrite"),zo(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==xa()},scrollTo:Ht(function(e,t){null==e&&null==t||ji(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-ot(this)-this.display.barHeight,width:e.scrollWidth-ot(this)-this.display.barWidth,clientHeight:rt(this),clientWidth:at(this)}},scrollIntoView:Ht(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:de(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)ji(this),this.curOp.scrollToPos=e;else{var i=Oi(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Ht(function(e,t){var i=this;function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&gt(this);var o=i.display.viewFrom;i.doc.iter(o,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Yt(i,o,"widget");break}++o}),i.curOp.forceUpdate=!0,zo(i,"refresh",this)}),operation:function(e){return zt(this,e)},refresh:Ht(function(){var e=this.display.cachedTextHeight;Bt(this),this.curOp.forceUpdate=!0,vt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),I(this),(null==e||.5<Math.abs(e-Et(this.display)))&&S(this),zo(this,"refresh",this)}),swapDoc:Ht(function(e){var t=this.doc;return t.cm=null,ho(this,e),vt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ho(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Yo(A);var Wi=A.defaults={},Vi=A.optionHandlers={};function Ui(e,t,n,i){A.defaults[e]=t,n&&(Vi[e]=i?function(e,t,i){i!=Bi&&n(e,t,i)}:n)}var Bi=A.Init={toString:function(){return"CodeMirror.Init"}};Ui("value","",function(e,t){e.setValue(t)},!0),Ui("mode",null,function(e,t){e.doc.modeOption=t,x(e)},!0),Ui("indentUnit",2,x,!0),Ui("indentWithTabs",!1),Ui("smartIndent",!0),Ui("tabSize",4,function(e){k(e),vt(e),Bt(e)},!0),Ui("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=A.Init&&e.refresh()}),Ui("specialCharPlaceholder",function(e){var t=Aa("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),Ui("electricChars",!0),Ui("inputStyle",d?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Ui("rtlMoveVisually",!a),Ui("wholeLineUpdateBefore",!0),Ui("theme","default",function(e){T(e),E(e)},!0),Ui("keyMap","default",function(e,t,i){var n=sn(t),o=i!=A.Init&&sn(i);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)}),Ui("extraKeys",null),Ui("lineWrapping",!1,function(e){e.options.lineWrapping?(Sa(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ca(e.display.wrapper,"CodeMirror-wrap"),P(e)),S(e),Bt(e),vt(e),setTimeout(function(){R(e)},100)},!0),Ui("gutters",[],function(e){M(e.options),E(e)},!0),Ui("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?V(e.display)+"px":"0",e.refresh()},!0),Ui("coverGutterNextToScrollbar",!1,function(e){R(e)},!0),Ui("scrollbarStyle","native",function(e){j(e),R(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Ui("lineNumbers",!1,function(e){M(e.options),E(e)},!0),Ui("firstLineNumber",1,E,!0),Ui("lineNumberFormatter",function(e){return e},E,!0),Ui("showCursorWhenSelecting",!1,Ye,!0),Ui("resetSelectionOnContextMenu",!0),Ui("readOnly",!1,function(e,t){"nocursor"==t?(_i(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Ui("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Ui("dragDrop",!0,function(e,t,i){if(!t!=!(i&&i!=A.Init)){var n=e.display.dragFunctions,o=t?Ro:Fo;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.simple),o(e.display.scroller,"dragover",n.simple),o(e.display.scroller,"drop",n.drop)}}),Ui("cursorBlinkRate",530),Ui("cursorScrollMargin",0),Ui("cursorHeight",1,Ye,!0),Ui("singleCursorHeightPerLine",!0,Ye,!0),Ui("workTime",100),Ui("workDelay",100),Ui("flattenSpans",!0,k,!0),Ui("addModeClass",!1,k,!0),Ui("pollInterval",100),Ui("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Ui("historyEventDelay",1250),Ui("viewportMargin",10,function(e){e.refresh()},!0),Ui("maxHighlightLength",1e4,k,!0),Ui("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Ui("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Ui("autofocus",null);var Yi=A.modes={},Ki=A.mimeModes={};A.defineMode=function(e,t){A.defaults.mode||"null"==e||(A.defaults.mode=e),2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Yi[e]=t},A.defineMIME=function(e,t){Ki[e]=t},A.resolveMode=function(e){if("string"==typeof e&&Ki.hasOwnProperty(e))e=Ki[e];else if(e&&"string"==typeof e.name&&Ki.hasOwnProperty(e.name)){var t=Ki[e.name];"string"==typeof t&&(t={name:t}),(e=ca(t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return A.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},A.getMode=function(e,t){t=A.resolveMode(t);var i=Yi[t.name];if(!i)return A.getMode(e,"text/plain");var n=i(e,t);if(Ji.hasOwnProperty(t.name)){var o=Ji[t.name];for(var a in o)o.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=o[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n},A.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),A.defineMIME("text/plain","null");var Ji=A.modeExtensions={};A.extendMode=function(e,t){da(t,Ji.hasOwnProperty(e)?Ji[e]:Ji[e]={})},A.defineExtension=function(e,t){A.prototype[e]=t},A.defineDocExtension=function(e,t){so.prototype[e]=t},A.defineOption=Ui;var Gi=[];A.defineInitHook=function(e){Gi.push(e)};var Xi=A.helpers={};A.registerHelper=function(e,t,i){Xi.hasOwnProperty(e)||(Xi[e]=A[e]={_global:[]}),Xi[e][t]=i},A.registerGlobalHelper=function(e,t,i,n){A.registerHelper(e,t,n),Xi[e]._global.push({pred:i,val:n})};var Qi=A.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i},Zi=A.startState=function(e,t,i){return!e.startState||e.startState(t,i)};A.innerMode=function(e,t){for(;e.innerMode;){var i=e.innerMode(t);if(!i||i.mode==e)break;t=i.state,e=i.mode}return i||{mode:e,state:t}};var en=A.commands={selectAll:function(e){e.setSelection(de(e.firstLine(),0),de(e.lastLine()),Go)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Go)},killLine:function(i){zi(i,function(e){if(e.empty()){var t=po(i.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<i.lastLine()?{from:e.head,to:de(e.head.line+1,0)}:{from:e.head,to:de(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){zi(t,function(e){return{from:de(e.from().line,0),to:Me(t.doc,de(e.to().line+1,0))}})},delLineLeft:function(e){zi(e,function(e){return{from:de(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(i){zi(i,function(e){var t=i.charCoords(e.head,"div").top+5;return{from:i.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(n){zi(n,function(e){var t=n.charCoords(e.head,"div").top+5,i=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(de(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(de(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return Ba(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return Ya(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return function(e,t){var i,n=po(e.doc,t);for(;i=En(n);)n=i.find(1,!0).line,t=null;var o=yo(n),a=o?(o[0].level%2?Va:Ua)(n):n.text.length;return de(null==t?vo(n):t,a)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){i.extendSelectionsBy(function(e){var t=i.charCoords(e.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div")},Qo)},goLineLeft:function(i){i.extendSelectionsBy(function(e){var t=i.charCoords(e.head,"div").top+5;return i.coordsChar({left:0,top:t},"div")},Qo)},goLineLeftSmart:function(n){n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5,i=n.coordsChar({left:0,top:t},"div");return i.ch<n.getLine(i.line).search(/\S/)?Ya(n,e.head):i},Qo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var a=i[o].from(),r=ea(e.getLine(a.line),a.ch,n);t.push(new Array(n-r%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(r){zt(r,function(){for(var e=r.listSelections(),t=[],i=0;i<e.length;i++){var n=e[i].head,o=po(r.doc,n.line).text;if(o)if(n.ch==o.length&&(n=new de(n.line,n.ch-1)),0<n.ch)n=new de(n.line,n.ch+1),r.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),de(n.line,n.ch-2),n,"+transpose");else if(n.line>r.doc.first){var a=po(r.doc,n.line-1).text;a&&r.replaceRange(o.charAt(0)+"\n"+a.charAt(a.length-1),de(n.line-1,a.length-1),de(n.line,1),"+transpose")}t.push(new De(n,n))}r.setSelections(t)})},newlineAndIndent:function(n){zt(n,function(){for(var e=n.listSelections().length,t=0;t<e;t++){var i=n.listSelections()[t];n.replaceRange("\n",i.anchor,i.head,"+input"),n.indentLine(i.from().line+1,null,!0),Li(n)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},tn=A.keyMap={};function nn(e){for(var t,i,n,o,a=e.split(/-(?!$)/),r=(e=a[a.length-1],0);r<a.length-1;r++){var s=a[r];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}tn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},tn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},tn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},tn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},tn.default=g?tn.macDefault:tn.pcDefault,A.normalizeKeyMap=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=sa(i.split(" "),nn),a=0;a<o.length;a++){var r,s;r=a==o.length-1?(s=i,n):(s=o.slice(0,a+1).join(" "),"...");var l=t[s];if(l){if(l!=r)throw new Error("Inconsistent bindings for "+s)}else t[s]=r}delete e[i]}for(var c in t)e[c]=t[c];return e};var on=A.lookupKey=function(e,t,i,n){var o=(t=sn(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return on(e,t.fallthrough,i,n);for(var a=0;a<t.fallthrough.length;a++){var r=on(e,t.fallthrough[a],i,n);if(r)return r}}},an=A.isModifierKey=function(e){var t="string"==typeof e?e:qa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},rn=A.keyName=function(e,t){if(m&&34==e.keyCode&&e.char)return!1;var i=qa[e.keyCode],n=i;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=i&&(n="Alt-"+n),(u?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),(u?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};function sn(e){return"string"==typeof e?tn[e]:e}A.fromTextArea=function(t,e){if((e=e?da(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var i=xa();e.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}function n(){t.value=s.getValue()}if(t.form&&(Ro(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var r=o.submit=function(){n(),o.submit=a,o.submit(),o.submit=r}}catch(e){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Fo(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var s=A(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return s};var ln=A.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ln.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else i=t&&(e.test?e.test(t):e(t));if(i)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ea(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ea(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ea(this.string,null,this.tabSize)-(this.lineStart?ea(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}function o(e){return i?e.toLowerCase():e}if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var cn=0,dn=A.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++cn};Yo(dn),dn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ot(e),Bo(this,"clear")){var i=this.find();i&&Ho(this,"clear",i.from,i.to)}for(var n=null,o=null,a=0;a<this.lines.length;++a){var r=this.lines[a],s=gn(r.markedSpans,this);e&&!this.collapsed?Yt(e,vo(r),"text"):e&&(null!=s.to&&(o=vo(r)),null!=s.from&&(n=vo(r))),r.markedSpans=vn(r.markedSpans,s),null==s.from&&this.collapsed&&!Mn(this.doc,r)&&e&&go(r,Et(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(a=0;a<this.lines.length;++a){var l=In(this.lines[a]),c=$(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Bt(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ve(e.doc)),e&&Ho(e,"markerCleared",e,this),t&&Nt(e),this.parent&&this.parent.clear()}},dn.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var a=this.lines[o],r=gn(a.markedSpans,this);if(null!=r.from&&(i=de(t?a:vo(a),r.from),-1==e))return i;if(null!=r.to&&(n=de(t?a:vo(a),r.to),1==e))return n}return i&&{from:i,to:n}},dn.prototype.changed=function(){var a=this.find(-1,!0),r=this,s=this.doc.cm;a&&s&&zt(s,function(){var e=a.line,t=vo(a.line),i=ct(s,t);if(i&&(mt(i),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!Mn(r.doc,e)&&null!=r.height){var n=r.height;r.height=null;var o=jn(r)-n;o&&go(e,e.height+o)}})},dn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ra(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},dn.prototype.detachLine=function(e){if(this.lines.splice(ra(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};cn=0;function un(t,n,o,e,i){if(e&&e.shared)return function(e,i,n,o,a){(o=da(o)).shared=!1;var r=[un(e,i,n,o,a)],s=r[0],l=o.widgetNode;return uo(e,function(e){l&&(o.widgetNode=l.cloneNode(!0)),r.push(un(e,Me(e,i),Me(e,n),o,a));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;s=oa(r)}),new hn(r,s)}(t,n,o,e,i);if(t.cm&&!t.cm.curOp)return qt(t.cm,un)(t,n,o,e,i);var a=new dn(t,i),r=ue(n,o);if(e&&da(e,a,!1),0<r||0==r&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=Aa("span",[a.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Dn(t,n.line,n,o,a)||n.line!=o.line&&Dn(t,o.line,n,o,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");b=!0}a.addToHistory&&ko(t,{from:n,to:o,origin:"markText"},t.sel,NaN);var s,l=n.line,c=t.cm;if(t.iter(l,o.line+1,function(e){var t,i;c&&a.collapsed&&!c.options.lineWrapping&&In(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=n.line&&go(e,0),t=e,i=new mn(a,l==n.line?n.ch:null,l==o.line?o.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([i]):[i],i.marker.attachLine(t),++l}),a.collapsed&&t.iter(n.line,o.line+1,function(e){Mn(t,e)&&go(e,0)}),a.clearOnEnter&&Ro(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(v=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++cn,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)Bt(c,n.line,o.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var d=n.line;d<=o.line;d++)Yt(c,d,"text");a.atomic&&Ve(c.doc),Ho(c,"markerAdded",c,a)}return a}var hn=A.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function pn(e){return e.findMarks(de(e.first,0),e.clipPos(de(e.lastLine())),function(e){return e.parent})}function fn(e){for(var t=0;t<e.length;t++){var i=e[t],n=[i.primary.doc];uo(i.primary.doc,function(e){n.push(e)});for(var o=0;o<i.markers.length;o++){var a=i.markers[o];-1==ra(n,a.doc)&&(a.parent=null,i.markers.splice(o--,1))}}}function mn(e,t,i){this.marker=e,this.from=t,this.to=i}function gn(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function vn(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i=i||[]).push(e[n]);return i}function bn(e,t){if(t.full)return null;var i=Oe(e,t.from.line)&&po(e,t.from.line).markedSpans,n=Oe(e,t.to.line)&&po(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,a=t.to.ch,r=0==ue(t.from,t.to),s=function(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var a=e[o],r=a.marker;if(null==a.from||(r.inclusiveLeft?a.from<=t:a.from<t)||a.from==t&&"bookmark"==r.type&&(!i||!a.marker.insertLeft)){var s=null==a.to||(r.inclusiveRight?a.to>=t:a.to>t);(n=n||[]).push(new mn(r,a.from,s?null:a.to))}}return n}(i,o,r),l=function(e,t,i){if(e)for(var n,o=0;o<e.length;++o){var a=e[o],r=a.marker;if(null==a.to||(r.inclusiveRight?a.to>=t:a.to>t)||a.from==t&&"bookmark"==r.type&&(!i||a.marker.insertLeft)){var s=null==a.from||(r.inclusiveLeft?a.from<=t:a.from<t);(n=n||[]).push(new mn(r,s?null:a.from-t,null==a.to?null:a.to-t))}}return n}(n,a,r),c=1==t.text.length,d=oa(t.text).length+(c?o:0);if(s)for(var u=0;u<s.length;++u){if(null==(h=s[u]).to)(p=gn(l,h.marker))?c&&(h.to=null==p.to?null:p.to+d):h.to=o}if(l)for(u=0;u<l.length;++u){var h,p;if(null!=(h=l[u]).to&&(h.to+=d),null==h.from)(p=gn(s,h.marker))||(h.from=d,c&&(s=s||[]).push(h));else h.from+=d,c&&(s=s||[]).push(h)}s=s&&An(s),l&&l!=s&&(l=An(l));var f=[s];if(!c){var m,g=t.text.length-2;if(0<g&&s)for(u=0;u<s.length;++u)null==s[u].to&&(m=m||[]).push(new mn(s[u].marker,null,null));for(u=0;u<g;++u)f.push(m);f.push(l)}return f}function An(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function yn(e,t){var i=function(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=0,o=[];n<t.text.length;++n)o.push(To(i[n]));return o}(e,t),n=bn(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var a=i[o],r=n[o];if(a&&r)e:for(var s=0;s<r.length;++s){for(var l=r[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else r&&(i[o]=r)}return i}function _n(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function wn(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function xn(e){return e.inclusiveLeft?-1:0}function kn(e){return e.inclusiveRight?1:0}function Cn(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),a=ue(n.from,o.from)||xn(e)-xn(t);if(a)return-a;var r=ue(n.to,o.to)||kn(e)-kn(t);return r||t.id-e.id}function Sn(e,t){var i,n=b&&e.markedSpans;if(n)for(var o,a=0;a<n.length;++a)(o=n[a]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||Cn(i,o.marker)<0)&&(i=o.marker);return i}function Tn(e){return Sn(e,!0)}function En(e){return Sn(e,!1)}function Dn(e,t,i,n,o){var a=po(e,t),r=b&&a.markedSpans;if(r)for(var s=0;s<r.length;++s){var l=r[s];if(l.marker.collapsed){var c=l.marker.find(0),d=ue(c.from,i)||xn(l.marker)-xn(o),u=ue(c.to,n)||kn(l.marker)-kn(o);if(!(0<=d&&u<=0||d<=0&&0<=u)&&(d<=0&&(0<ue(c.to,i)||l.marker.inclusiveRight&&o.inclusiveLeft)||0<=d&&(ue(c.from,n)<0||l.marker.inclusiveLeft&&o.inclusiveRight)))return 1}}}function In(e){for(var t;t=Tn(e);)e=t.find(-1,!0).line;return e}function $n(e,t){var i=po(e,t),n=In(i);return i==n?t:vo(n)}function Pn(e,t){if(t>e.lastLine())return t;var i,n=po(e,t);if(!Mn(e,n))return t;for(;i=En(n);)n=i.find(1,!0).line;return vo(n)+1}function Mn(e,t){var i=b&&t.markedSpans;if(i)for(var n,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&On(e,t,n))return!0}}function On(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return On(e,n.line,gn(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o,a=0;a<t.markedSpans.length;++a)if((o=t.markedSpans[a]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&On(e,t,o))return!0}Yo(hn),hn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ho(this,"clear")}},hn.prototype.find=function(e,t){return this.primary.find(e,t)};var Nn=A.LineWidget=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function Ln(e,t,i){Ao(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ni(e,null,i)}function jn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!wa(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),_a(t.display.measure,Aa("div",[e.node],null,i))}return e.height=e.node.offsetHeight}Yo(Nn),Nn.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=vo(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var a=jn(this);go(i,Math.max(0,i.height-a)),e&&zt(e,function(){Ln(e,i,-a),Yt(e,n,"widget")})}},Nn.prototype.changed=function(){var e=this.height,t=this.doc.cm,i=this.line;this.height=null;var n=jn(this)-e;n&&(go(i,i.height+n),t&&zt(t,function(){t.curOp.forceUpdate=!0,Ln(t,i,n)}))};var Rn=A.Line=function(e,t,i){this.text=e,wn(this,t),this.height=i?i(this):1};function Fn(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function zn(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=A.innerMode(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function qn(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=A.innerMode(e,i).mode);var a=e.token(t,i);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Hn(e,t,i,n){function o(e){return{start:u.start,end:u.pos,string:u.current(),type:a||null,state:e?Qi(r.mode,d):d}}var a,r=e.doc,s=r.mode;t=Me(r,t);var l,c=po(r,t.line),d=et(e,t.line,i),u=new ln(c.text,e.options.tabSize);for(n&&(l=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,a=qn(s,u,d),n&&l.push(o(!0));return n?l:o()}function Wn(e,t,i,n,o,a,r){var s=i.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,d=null,u=new ln(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Fn(zn(i,n),a);!u.eol();){if(l=u.pos>e.options.maxHighlightLength?(s=!1,r&&Bn(e,t,n,u.pos),u.pos=t.length,null):Fn(qn(i,u,n,h),a),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||d!=l){for(;c<u.start;)o(c=Math.min(u.start,c+5e4),d);d=l}u.start=u.pos}for(;c<u.pos;){var f=Math.min(u.pos,c+5e4);o(f,d),c=f}}function Vn(e,t,i,n){var a=[e.state.modeGen],o={};Wn(e,t.text,e.doc.mode,i,function(e,t){a.push(e,t)},o,n);for(var r=0;r<e.state.overlays.length;++r){var s=e.state.overlays[r],l=1,c=0;Wn(e,t.text,s.mode,!0,function(e,t){for(var i=l;c<e;){var n=a[l];e<n&&a.splice(l,1,e,a[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(s.opaque)a.splice(i,l-i,e,"cm-overlay "+t),l=i+2;else for(;i<l;i+=2){var o=a[i+1];a[i+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:a,classes:o.bgClass||o.textClass?o:null}}function Un(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Vn(e,t,t.stateAfter=et(e,vo(t)));t.styles=n.styles,n.classes?t.styleClasses=n.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.frontier&&e.doc.frontier++}return t.styles}function Bn(e,t,i,n){var o=e.doc.mode,a=new ln(t,e.options.tabSize);for(a.start=a.pos=n||0,""==t&&zn(o,i);!a.eol()&&a.pos<=e.options.maxHighlightLength;)qn(o,a,i),a.start=a.pos}Yo(Rn),Rn.prototype.lineNo=function(){return vo(this)};var Yn={},Kn={};function Jn(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Kn:Yn;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Gn(e,t){var i=Aa("span",null,null,f?"padding-right: .1px":null),n={pre:Aa("pre",[i]),content:i,col:0,pos:0,cm:e,splitSpaces:(y||f)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a,r=o?t.rest[o-1]:t.line;n.pos=0,n.addToken=Xn,Oa(e.display.measure)&&(a=yo(r))&&(n.addToken=Zn(n.addToken,a)),n.map=[],to(r,n,Un(e,r,t!=e.display.externalMeasured&&vo(r))),r.styleClasses&&(r.styleClasses.bgClass&&(n.bgClass=Ta(r.styleClasses.bgClass,n.bgClass||"")),r.styleClasses.textClass&&(n.textClass=Ta(r.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ma(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return f&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),zo(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Ta(n.pre.className,n.textClass||"")),n}function Xn(e,t,i,n,o,a,r){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Qn):t,l=e.cm.state.specialChars,c=!1;if(l.test(t)){g=document.createDocumentFragment();for(var d=0;;){l.lastIndex=d;var u=l.exec(t),h=u?u.index-d:t.length-d;if(h){var p=document.createTextNode(s.slice(d,d+h));y&&_<9?g.appendChild(Aa("span",[p])):g.appendChild(p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h}if(!u)break;if(d+=1+h,"\t"==u[0]){var f=e.cm.options.tabSize,m=f-e.col%f;(p=g.appendChild(Aa("span",na(m),"cm-tab"))).setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=m}else{(p=e.cm.options.specialCharPlaceholder(u[0])).setAttribute("cm-text",u[0]),y&&_<9?g.appendChild(Aa("span",[p])):g.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}}else{e.col+=t.length;var g=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,g),y&&_<9&&(c=!0),e.pos+=t.length}if(i||n||o||c||r){var v=i||"";n&&(v+=n),o&&(v+=o);var b=Aa("span",[g],v,r);return a&&(b.title=a),e.content.appendChild(b)}e.content.appendChild(g)}}function Qn(e){for(var t=" ",i=0;i<e.length-2;++i)t+=i%2?" ":"\xa0";return t+=" "}function Zn(u,h){return function(e,t,i,n,o,a,r){i=i?i+" cm-force-border":"cm-force-border";for(var s=e.pos,l=s+t.length;;){for(var c=0;c<h.length;c++){var d=h[c];if(d.to>s&&d.from<=s)break}if(d.to>=l)return u(e,t,i,n,o,a,r);u(e,t.slice(0,d.to-s),i,n,null,a,r),n=null,t=t.slice(d.to-s),s=d.to}}}function eo(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o=o||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",i.id),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t}function to(e,t,i){var n=e.markedSpans,o=e.text,a=0;if(n)for(var r,s,l,c,d,u,h,p=o.length,f=0,m=(k=1,""),g=0;;){if(g==f){l=c=d=u=s="",h=null,g=1/0;for(var v=[],b=0;b<n.length;++b){var A=n[b],y=A.marker;A.from<=f&&(null==A.to||A.to>f)?(null!=A.to&&g>A.to&&(g=A.to,c=""),y.className&&(l+=" "+y.className),y.css&&(s=y.css),y.startStyle&&A.from==f&&(d+=" "+y.startStyle),y.endStyle&&A.to==g&&(c+=" "+y.endStyle),y.title&&!u&&(u=y.title),y.collapsed&&(!h||Cn(h.marker,y)<0)&&(h=A)):A.from>f&&g>A.from&&(g=A.from),"bookmark"==y.type&&A.from==f&&y.widgetNode&&v.push(y)}if(h&&(h.from||0)==f&&(eo(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to))return;if(!h&&v.length)for(b=0;b<v.length;++b)eo(t,0,v[b])}if(p<=f)break;for(var _=Math.min(p,g);;){if(m){var w=f+m.length;if(!h){var x=_<w?m.slice(0,_-f):m;t.addToken(t,x,r?r+l:l,d,f+x.length==g?c:"",u,s)}if(_<=w){m=m.slice(_-f),f=_;break}f=w,d=""}m=o.slice(a,a=i[k++]),r=Jn(i[k++],t.cm.options)}}else for(var k=1;k<i.length;k+=2)t.addToken(t,o.slice(a,a=i[k]),Jn(i[k+1],t.cm.options))}function io(e,t){return 0==t.from.ch&&0==t.to.ch&&""==oa(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function no(e,n,t,o){function a(e){return t?t[e]:null}function i(e,t,i){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),_n(e),wn(e,i);var o=n?n(e):1;o!=e.height&&go(e,o)}(e,t,i,o),Ho(e,"change",e,n)}function r(e,t){for(var i=e,n=[];i<t;++i)n.push(new Rn(c[i],a(i),o));return n}var s=n.from,l=n.to,c=n.text,d=po(e,s.line),u=po(e,l.line),h=oa(c),p=a(c.length-1),f=l.line-s.line;if(n.full)e.insert(0,r(0,c.length)),e.remove(c.length,e.size-c.length);else if(io(e,n)){var m=r(0,c.length-1);i(u,u.text,p),f&&e.remove(s.line,f),m.length&&e.insert(s.line,m)}else if(d==u){if(1==c.length)i(d,d.text.slice(0,s.ch)+h+d.text.slice(l.ch),p);else(m=r(1,c.length-1)).push(new Rn(h+d.text.slice(l.ch),p,o)),i(d,d.text.slice(0,s.ch)+c[0],a(0)),e.insert(s.line+1,m)}else if(1==c.length)i(d,d.text.slice(0,s.ch)+c[0]+u.text.slice(l.ch),a(0)),e.remove(s.line+1,f);else{i(d,d.text.slice(0,s.ch)+c[0],a(0)),i(u,h+u.text.slice(l.ch),p);m=r(1,c.length-1);1<f&&e.remove(s.line+1,f-1),e.insert(s.line+1,m)}Ho(e,"change",e,n)}function oo(e){this.lines=e,this.parent=null;for(var t=0,i=0;t<e.length;++t)e[t].parent=this,i+=e[t].height;this.height=i}function ao(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}oo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var o=this.lines[i];this.height-=o.height,(a=o).parent=null,_n(a),Ho(o,"delete")}var a;this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},ao.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var a=Math.min(t,o-e),r=n.height;if(n.removeInner(e,a),this.height-=r-n.height,o==a&&(this.children.splice(i--,1),n.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof oo))){var s=[];this.collapse(s),this.children=[new oo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,i),o.lines&&50<o.lines.length){for(;50<o.lines.length;){var r=new oo(o.lines.splice(o.lines.length-25,25));o.height-=r.height,this.children.splice(n+1,0,r),r.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ao(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=ra(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new ao(e.children);(n.parent=e).children=[n,t],e=n}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],a=o.chunkSize();if(e<a){var r=Math.min(t,a-e);if(o.iterN(e,r,i))return!0;if(0==(t-=r))break;e=0}else e-=a}}};var ro=0,so=A.Doc=function(e,t,i){if(!(this instanceof so))return new so(e,t,i);null==i&&(i=0),ao.call(this,[new oo([new Rn("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var n=de(i,0);this.sel=$e(n),this.history=new _o(null),this.id=++ro,this.modeOption=t,"string"==typeof e&&(e=La(e)),no(this,{from:n,to:n,text:e}),qe(this,$e(n),Go)};so.prototype=ca(ao.prototype,{constructor:so,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=mo(this,this.first,this.first+this.size);return!1===e?t:t.join(e||"\n")},setValue:Wt(function(e){var t=de(this.first,0),i=this.first+this.size-1;Ei(this,{from:t,to:de(i,po(this,i).text.length),text:La(e),origin:"setValue",full:!0},!0),qe(this,$e(t))}),replaceRange:function(e,t,i,n){Mi(this,e,t=Me(this,t),i=i?Me(this,i):t,n)},getRange:function(e,t,i){var n=fo(this,Me(this,e),Me(this,t));return!1===i?n:n.join(i||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Oe(this,e))return po(this,e)},getLineNumber:function(e){return vo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=po(this,e)),In(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Me(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Wt(function(e,t,i){Fe(this,Me(this,"number"==typeof e?de(e,t||0):e),null,i)}),setSelection:Wt(function(e,t,i){Fe(this,Me(this,e),Me(this,t||e),i)}),extendSelection:Wt(function(e,t,i){Le(this,Me(this,e),t&&Me(this,t),i)}),extendSelections:Wt(function(e,t){je(this,function(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=Me(e,t[n]);return i}(this,e))}),extendSelectionsBy:Wt(function(e,t){je(this,sa(this.sel.ranges,e),t)}),setSelections:Wt(function(e,t,i){if(e.length){for(var n=0,o=[];n<e.length;n++)o[n]=new De(Me(this,e[n].anchor),Me(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qe(this,Ie(o,t),i)}}),addSelection:Wt(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new De(Me(this,e),Me(this,t||e))),qe(this,Ie(n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var o=fo(this,i[n].from(),i[n].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=fo(this,i[n].from(),i[n].to());!1!==e&&(o=o.join(e||"\n")),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Wt(function(e,t,i){for(var n=[],o=this.sel,a=0;a<o.ranges.length;a++){var r=o.ranges[a];n[a]={from:r.from(),to:r.to(),text:La(e[a]),origin:i}}var s=t&&"end"!=t&&function(e,t,i){for(var n=[],o=de(e.first,0),a=o,r=0;r<t.length;r++){var s=t[r],l=Si(s.from,o,a),c=Si(xi(s),o,a);if(o=s.to,a=c,"around"==i){var d=e.sel.ranges[r],u=ue(d.head,d.anchor)<0;n[r]=new De(u?c:l,u?l:c)}else n[r]=new De(l,l)}return new Ee(n,e.sel.primIndex)}(this,n,t);for(a=n.length-1;0<=a;a--)Ei(this,n[a]);s?ze(this,s):this.cm&&Li(this.cm)}),undo:Wt(function(){Ii(this,"undo")}),redo:Wt(function(){Ii(this,"redo")}),undoSelection:Wt(function(){Ii(this,"undo",!0)}),redoSelection:Wt(function(){Ii(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new _o(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Eo(this.history.done),undone:Eo(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history.maxGeneration);t.done=Eo(e.done.slice(0),null,!0),t.undone=Eo(e.undone.slice(0),null,!0)},addLineClass:Wt(function(e,i,n){return Fi(this,e,"gutter"==i?"gutter":"class",function(e){var t="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[t]){if(ka(n).test(e[t]))return;e[t]+=" "+n}else e[t]=n;return 1})}),removeLineClass:Wt(function(e,a,r){return Fi(this,e,"gutter"==a?"gutter":"class",function(e){var t="text"==a?"textClass":"background"==a?"bgClass":"gutter"==a?"gutterClass":"wrapClass",i=e[t];if(i){if(null==r)e[t]=null;else{var n=i.match(ka(r));if(!n)return;var o=n.index+n[0].length;e[t]=i.slice(0,n.index)+(n.index&&o!=i.length?" ":"")+i.slice(o)||null}return 1}})}),addLineWidget:Wt(function(e,t,i){return o=e,a=new Nn(n=this,t,i),(r=n.cm)&&a.noHScroll&&(r.display.alignWidgets=!0),Fi(n,o,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==a.insertAt?t.push(a):t.splice(Math.min(t.length-1,Math.max(0,a.insertAt)),0,a),a.line=e,r&&!Mn(n,e)){var i=Ao(e)<n.scrollTop;go(e,e.height+jn(a)),i&&Ni(r,null,a.height),r.curOp.forceUpdate=!0}return 1}),a;var n,o,a,r}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return un(this,Me(this,e),Me(this,t),i,"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return un(this,e=Me(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=po(this,(e=Me(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(o,a,r){o=Me(this,o),a=Me(this,a);var s=[],l=o.line;return this.iter(o.line,a.line+1,function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;i++){var n=t[i];l==o.line&&o.ch>n.to||null==n.from&&l!=o.line||l==a.line&&n.from>a.ch||r&&!r(n.marker)||s.push(n.marker.parent||n.marker)}++l}),s},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&n.push(t[i].marker)}),n},posFromIndex:function(i){var n,o=this.first;return this.iter(function(e){var t=e.text.length+1;if(i<t)return n=i,!0;i-=t,++o}),Me(this,de(o,n))},indexFromPos:function(e){var t=(e=Me(this,e)).ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new so(mo(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e=e||{};var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new so(mo(this,t,i),e.mode||this.modeOption,t);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),a=e.clipPos(o.from),r=e.clipPos(o.to);if(ue(a,r)){var s=un(e,a,r,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,pn(this)),n},unlinkDoc:function(e){if(e instanceof A&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),fn(pn(this));break}}if(e.history==this.history){var i=[e.id];uo(e,function(e){i.push(e.id)},!0),e.history=new _o(null),e.history.done=Eo(this.history.done,i),e.history.undone=Eo(this.history.undone,i)}},iterLinkedDocs:function(e){uo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),so.prototype.eachLine=so.prototype.iter;var lo="iter insert remove copy getEditor".split(" ");for(var co in so.prototype)so.prototype.hasOwnProperty(co)&&ra(lo,co)<0&&(A.prototype[co]=function(e){return function(){return e.apply(this.doc,arguments)}}(so.prototype[co]));function uo(e,s,l){!function e(t,i,n){if(t.linked)for(var o=0;o<t.linked.length;++o){var a=t.linked[o];if(a.doc!=i){var r=n&&a.sharedHist;l&&!r||(s(a.doc,r),e(a.doc,t,r))}}}(e,null,!0)}function ho(e,t){if(t.cm)throw new Error("This document is already in use.");S((e.doc=t).cm=e),x(e),e.options.lineWrapping||P(e),e.options.mode=t.modeOption,Bt(e)}function po(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],a=o.chunkSize();if(t<a){i=o;break}t-=a}return i.lines[t]}function fo(e,i,n){var o=[],a=i.line;return e.iter(i.line,n.line+1,function(e){var t=e.text;a==n.line&&(t=t.slice(0,n.ch)),a==i.line&&(t=t.slice(i.ch)),o.push(t),++a}),o}function mo(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function go(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function vo(e){if(null==e.parent)return null;for(var t=e.parent,i=ra(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function bo(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],a=o.height;if(t<a){e=o;continue e}t-=a,i+=o.chunkSize()}return i}while(!e.lines);for(n=0;n<e.lines.length;++n){var r=e.lines[n].height;if(t<r)break;t-=r}return i+n}function Ao(e){for(var t=0,i=(e=In(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var a=i.parent;a;a=(i=a).parent)for(n=0;n<a.children.length;++n){var r=a.children[n];if(r==i)break;t+=r.height}return t}function yo(e){var t=e.order;return null==t&&(t=e.order=ar(e.text)),t}function _o(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function wo(e,t){var i={from:he(t.from),to:xi(t),text:fo(e,t.from,t.to)};return So(e,i,t.from.line,t.to.line+1),uo(e,function(e){So(e,i,t.from.line,t.to.line+1)},!0),i}function xo(e){for(;e.length;){if(!oa(e).ranges)break;e.pop()}}function ko(e,t,i,n){var o=e.history;o.undone.length=0;var a,r,s=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&o.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=(r=o).lastOp==n?(xo(r.done),oa(r.done)):r.done.length&&!oa(r.done).ranges?oa(r.done):1<r.done.length&&!r.done[r.done.length-2].ranges?(r.done.pop(),oa(r.done)):void 0)){var l=oa(a.changes);0==ue(t.from,t.to)&&0==ue(t.from,l.to)?l.to=xi(t):a.changes.push(wo(e,t))}else{var c=oa(o.done);for(c&&c.ranges||Co(e.sel,o.done),a={changes:[wo(e,t)],generation:o.generation},o.done.push(a);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,l||zo(e,"historyAdded")}function Co(e,t){var i=oa(t);i&&i.ranges&&i.equals(e)||t.push(e)}function So(t,i,e,n){var o=i["spans_"+t.id],a=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((o=o||(i["spans_"+t.id]={}))[a]=e.markedSpans),++a})}function To(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t=t||e.slice(0,i):t&&t.push(e[i]);return t?t.length?t:null:e}function Eo(e,t,i){for(var n=0,o=[];n<e.length;++n){var a=e[n];if(a.ranges)o.push(i?Ee.prototype.deepCopy.call(a):a);else{var r=a.changes,s=[];o.push({changes:s});for(var l=0;l<r.length;++l){var c,d=r[l];if(s.push({from:d.from,to:d.to,text:d.text}),t)for(var u in d)(c=u.match(/^spans_(\d+)$/))&&-1<ra(t,Number(c[1]))&&(oa(s)[u]=d[u],delete d[u])}}}return o}function Do(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Io(e,t,i,n){for(var o=0;o<e.length;++o){var a=e[o],r=!0;if(a.ranges){a.copied||((a=e[o]=a.deepCopy()).copied=!0);for(var s=0;s<a.ranges.length;s++)Do(a.ranges[s].anchor,t,i,n),Do(a.ranges[s].head,t,i,n)}else{for(s=0;s<a.changes.length;++s){var l=a.changes[s];if(i<l.from.line)l.from=de(l.from.line+n,l.from.ch),l.to=de(l.to.line+n,l.to.ch);else if(t<=l.to.line){r=!1;break}}r||(e.splice(0,o+1),o=0)}}}function $o(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;Io(e.done,i,n,o),Io(e.undone,i,n,o)}Yo(so);var Po=A.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Mo=A.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};function Oo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}var No=A.e_stop=function(e){Po(e),Mo(e)};function Lo(e){return e.target||e.srcElement}function jo(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),g&&e.ctrlKey&&1==t&&(t=3),t}var Ro=A.on=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});(n[t]||(n[t]=[])).push(i)}},Fo=A.off=function(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var o=0;o<n.length;++o)if(n[o]==i){n.splice(o,1);break}}},zo=A.signal=function(e,t){var i=e._handlers&&e._handlers[t];if(i)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)},qo=null;function Ho(e,t){var i=e._handlers&&e._handlers[t];if(i){var n,o=Array.prototype.slice.call(arguments,2);Pt?n=Pt.delayedCallbacks:qo?n=qo:(n=qo=[],setTimeout(Wo,0));for(var a=0;a<i.length;++a)n.push(r(i[a]))}function r(e){return function(){e.apply(null,o)}}}function Wo(){var e=qo;qo=null;for(var t=0;t<e.length;++t)e[t]()}function Vo(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),zo(e,i||t.type,e,t),Oo(t)||t.codemirrorIgnore}function Uo(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==ra(i,t[n])&&i.push(t[n])}function Bo(e,t){var i=e._handlers&&e._handlers[t];return i&&0<i.length}function Yo(e){e.prototype.on=function(e,t){Ro(this,e,t)},e.prototype.off=function(e,t){Fo(this,e,t)}}var Ko=30,Jo=A.Pass={toString:function(){return"CodeMirror.Pass"}},Go={scroll:!1},Xo={origin:"*mouse"},Qo={origin:"+move"};function Zo(){this.id=null}Zo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ea=A.countColumn=function(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=n||0,r=o||0;;){var s=e.indexOf("\t",a);if(s<0||t<=s)return r+(t-a);r+=s-a,r+=i-r%i,a=s+1}};function ta(e,t,i){for(var n=0,o=0;;){var a=e.indexOf("\t",n);-1==a&&(a=e.length);var r=a-n;if(a==e.length||t<=o+r)return n+Math.min(r,t-o);if(o+=a-n,n=a+1,t<=(o+=i-o%i))return n}}var ia=[""];function na(e){for(;ia.length<=e;)ia.push(oa(ia)+" ");return ia[e]}function oa(e){return e[e.length-1]}var aa=function(e){e.select()};function ra(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function sa(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function la(){}function ca(e,t){var i;return i=Object.create?Object.create(e):(la.prototype=e,new la),t&&da(t,i),i}function da(e,t,i){for(var n in t=t||{},e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function ua(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}r?aa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:y&&(aa=function(e){try{e.select()}catch(e){}});var ha=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,pa=A.isWordChar=function(e){return/\w/.test(e)||"\x80"<e&&(e.toUpperCase()!=e.toLowerCase()||ha.test(e))};function fa(e,t){return t?!!(-1<t.source.indexOf("\\w")&&pa(e))||t.test(e):pa(e)}function ma(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}var ga,va=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ba(e){return 768<=e.charCodeAt(0)&&va.test(e)}function Aa(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)o.appendChild(t[a]);return o}function ya(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function _a(e,t){return ya(e).appendChild(t)}ga=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var wa=A.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};function xa(){return document.activeElement}function ka(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}y&&_<11&&(xa=function(){try{return document.activeElement}catch(e){return document.body}});var Ca=A.rmClass=function(e,t){var i=e.className,n=ka(t).exec(i);if(n){var o=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(o?n[1]+o:"")}},Sa=A.addClass=function(e,t){var i=e.className;ka(t).test(i)||(e.className+=(i?" ":"")+t)};function Ta(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!ka(i[n]).test(t)&&(t+=" "+i[n]);return t}function Ea(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}var Da=!1;var Ia,$a,Pa=function(){if(y&&_<9)return!1;var e=Aa("div");return"draggable"in e||"dragDrop"in e}();function Ma(e){if(null==Ia){var t=Aa("span","\u200b");_a(e,Aa("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ia=t.offsetWidth<=1&&2<t.offsetHeight&&!(y&&_<8))}var i=Ia?Aa("span","\u200b"):Aa("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Oa(e){if(null!=$a)return $a;var t=_a(e,document.createTextNode("A\u062eA")),i=ga(t,0,1).getBoundingClientRect();if(i&&i.left!=i.right){var n=ga(t,1,2).getBoundingClientRect();return $a=n.right-i.right<3}}var Na,La=A.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var a=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),r=a.indexOf("\r");-1!=r?(i.push(a.slice(0,r)),t+=r+1):(i.push(a),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},ja=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ra="oncopy"in(Na=Aa("div"))||(Na.setAttribute("oncopy","return;"),"function"==typeof Na.oncopy),Fa=null;var za,qa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};function Ha(e){return e.level%2?e.to:e.from}function Wa(e){return e.level%2?e.from:e.to}function Va(e){var t=yo(e);return t?Ha(t[0]):0}function Ua(e){var t=yo(e);return t?Wa(oa(t)):e.text.length}function Ba(e,t){var i=po(e.doc,t),n=In(i);n!=i&&(t=vo(n));var o=yo(n),a=o?(o[0].level%2?Ua:Va)(n):0;return de(t,a)}function Ya(e,t){var i=Ba(e,t.line),n=po(e.doc,i.line),o=yo(n);if(o&&0!=o[0].level)return i;var a=Math.max(0,n.text.search(/\S/)),r=t.line==i.line&&t.ch<=a&&t.ch;return de(i.line,r?0:a)}function Ka(e,t){za=null;for(var i,n=0;n<e.length;++n){var o=e[n];if(o.from<t&&o.to>t)return n;if(o.from==t||o.to==t){if(null!=i)return a=e,r=o.level,s=e[i].level,l=a[0].level,r==l||s!=l&&r<s?(o.from!=o.to&&(za=i),n):(o.from!=o.to&&(za=n),i);i=n}}var a,r,s,l;return i}function Ja(e,t,i,n){if(!n)return t+i;for(;0<(t+=i)&&ba(e.text.charAt(t)););return t}function Ga(e,t,i,n){var o=yo(e);if(!o)return Xa(e,t,i,n);for(var a=Ka(o,t),r=o[a],s=Ja(e,t,r.level%2?-i:i,n);;){if(s>r.from&&s<r.to)return s;if(s==r.from||s==r.to)return Ka(o,s)==a?s:0<i==(r=o[a+=i]).level%2?r.to:r.from;if(!(r=o[a+=i]))return null;s=0<i==r.level%2?Ja(e,r.to,-1,n):Ja(e,r.from,1,n)}}function Xa(e,t,i,n){var o=t+i;if(n)for(;0<o&&ba(e.text.charAt(o));)o+=i;return o<0||o>e.text.length?null:o}A.keyNames=qa,function(){for(var e=0;e<10;e++)qa[e+48]=qa[e+96]=String(e);for(e=65;e<=90;e++)qa[e]=String.fromCharCode(e);for(e=1;e<=12;e++)qa[e+111]=qa[e+63235]="F"+e}();var Qa,Za,er,tr,ir,nr,or,ar=(Qa="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",Za="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",er=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,tr=/[stwN]/,ir=/[LRr]/,nr=/[Lb1n]/,or=/[1n]/,function(e){if(!er.test(e))return!1;for(var t,i=e.length,n=[],o=0;o<i;++o)n.push(d=(t=e.charCodeAt(o))<=247?Qa.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?Za.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L");o=0;for(var a="L";o<i;++o)"m"==(d=n[o])?n[o]=a:a=d;o=0;for(var r="L";o<i;++o)"1"==(d=n[o])&&"r"==r?n[o]="n":ir.test(d)&&"r"==(r=d)&&(n[o]="R");for(o=1,a=n[0];o<i-1;++o)"+"==(d=n[o])&&"1"==a&&"1"==n[o+1]?n[o]="1":","!=d||a!=n[o+1]||"1"!=a&&"n"!=a||(n[o]=a),a=d;for(o=0;o<i;++o)if(","==(d=n[o]))n[o]="N";else if("%"==d){for(var s=o+1;s<i&&"%"==n[s];++s);for(var l=o&&"!"==n[o-1]||s<i&&"1"==n[s]?"1":"N",c=o;c<s;++c)n[c]=l;o=s-1}for(o=0,r="L";o<i;++o){var d=n[o];"L"==r&&"1"==d?n[o]="L":ir.test(d)&&(r=d)}for(o=0;o<i;++o)if(tr.test(n[o])){for(s=o+1;s<i&&tr.test(n[s]);++s);var u="L"==(o?n[o-1]:"L"),h="L"==(s<i?n[s]:"L");for(l=u||h?"L":"R",c=o;c<s;++c)n[c]=l;o=s-1}var p,f=[];for(o=0;o<i;)if(nr.test(n[o])){var m=o;for(++o;o<i&&nr.test(n[o]);++o);f.push(new rr(0,m,o))}else{var g=o,v=f.length;for(++o;o<i&&"L"!=n[o];++o);for(c=g;c<o;)if(or.test(n[c])){g<c&&f.splice(v,0,new rr(1,g,c));var b=c;for(++c;c<o&&or.test(n[c]);++c);f.splice(v,0,new rr(2,b,c)),g=c}else++c;g<o&&f.splice(v,0,new rr(1,g,o))}return 1==f[0].level&&(p=e.match(/^\s+/))&&(f[0].from=p[0].length,f.unshift(new rr(0,0,p[0].length))),1==oa(f).level&&(p=e.match(/\s+$/))&&(oa(f).to-=p[0].length,f.push(new rr(0,i-p[0].length,i))),f[0].level!=oa(f).level&&f.push(new rr(f[0].level,i,i)),f});function rr(e,t,i){this.level=e,this.from=t,this.to=i}return A.version="5.1.1",A}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var k={},C=/[^\s\u00a0]/,S=e.Pos;function h(e){var t=e.search(C);return-1==t?0:t}e.commands.toggleComment=function(e){for(var t=1/0,i=e.listSelections(),n=null,o=i.length-1;0<=o;o--){var a=i[o].from(),r=i[o].to();a.line>=t||(r.line>=t&&(r=S(t,0)),t=a.line,null==n?n=e.uncomment(a,r)?"un":(e.lineComment(a,r),"line"):"un"==n?e.uncomment(a,r):e.lineComment(a,r))}},e.defineExtension("lineComment",function(o,e,a){a=a||k;var r=this,t=r.getModeAt(o),s=a.lineComment||t.lineComment;if(s){var l=r.getLine(o.line);if(null!=l){var c=Math.min(0!=e.ch||e.line==o.line?e.line+1:e.line,r.lastLine()+1),d=null==a.padding?" ":a.padding,u=a.commentBlankLines||o.line==e.line;r.operation(function(){if(a.indent)for(var e=l.slice(0,h(l)),t=o.line;t<c;++t){var i=r.getLine(t),n=e.length;(u||C.test(i))&&(i.slice(0,n)!=e&&(n=h(i)),r.replaceRange(e+s+d,S(t,0),S(t,n)))}else for(t=o.line;t<c;++t)(u||C.test(r.getLine(t)))&&r.replaceRange(s+d,S(t,0))})}}else(a.blockCommentStart||t.blockCommentStart)&&(a.fullLines=!0,r.blockComment(o,e,a))}),e.defineExtension("blockComment",function(n,o,a){a=a||k;var r=this,s=r.getModeAt(n),l=a.blockCommentStart||s.blockCommentStart,c=a.blockCommentEnd||s.blockCommentEnd;if(l&&c){var d=Math.min(o.line,r.lastLine());d!=n.line&&0==o.ch&&C.test(r.getLine(d))&&--d;var u=null==a.padding?" ":a.padding;n.line>d||r.operation(function(){if(0!=a.fullLines){var e=C.test(r.getLine(d));r.replaceRange(u+c,S(d)),r.replaceRange(l+u,S(n.line,0));var t=a.blockCommentLead||s.blockCommentLead;if(null!=t)for(var i=n.line+1;i<=d;++i)i==d&&!e||r.replaceRange(t+u,S(i,0))}else r.replaceRange(c,o),r.replaceRange(l,n)})}else(a.lineComment||s.lineComment)&&0!=a.fullLines&&r.lineComment(n,o,a)}),e.defineExtension("uncomment",function(e,t,i){i=i||k;var o,a=this,n=a.getModeAt(e),r=Math.min(0!=t.ch||t.line==e.line?t.line:t.line-1,a.lastLine()),s=Math.min(e.line,r),l=i.lineComment||n.lineComment,c=[],d=null==i.padding?" ":i.padding;e:if(l){for(var u=s;u<=r;++u){var h=a.getLine(u),p=h.indexOf(l);if(-1<p&&!/comment/.test(a.getTokenTypeAt(S(u,p+1)))&&(p=-1),-1==p&&(u!=r||u==s)&&C.test(h))break e;if(-1<p&&C.test(h.slice(0,p)))break e;c.push(h)}if(a.operation(function(){for(var e=s;e<=r;++e){var t=c[e-s],i=t.indexOf(l),n=i+l.length;i<0||(t.slice(n,n+d.length)==d&&(n+=d.length),o=!0,a.replaceRange("",S(e,i),S(e,n)))}}),o)return!0}var f=i.blockCommentStart||n.blockCommentStart,m=i.blockCommentEnd||n.blockCommentEnd;if(!f||!m)return!1;var g=i.blockCommentLead||n.blockCommentLead,v=a.getLine(s),b=r==s?v:a.getLine(r),A=v.indexOf(f),y=b.lastIndexOf(m);if(-1==y&&s!=r&&(b=a.getLine(--r),y=b.lastIndexOf(m)),-1==A||-1==y||!/comment/.test(a.getTokenTypeAt(S(s,A+1)))||!/comment/.test(a.getTokenTypeAt(S(r,y+1))))return!1;var _=v.lastIndexOf(f,e.ch),w=-1==_?-1:v.slice(0,e.ch).indexOf(m,_+f.length);if(-1!=_&&-1!=w&&w+m.length!=e.ch)return!1;w=b.indexOf(m,t.ch);var x=b.slice(t.ch).lastIndexOf(f,w-t.ch);return _=-1==w||-1==x?-1:t.ch+x,(-1==w||-1==_||_==t.ch)&&(a.operation(function(){a.replaceRange("",S(r,y-(d&&b.slice(y-d.length,y)==d?d.length:0)),S(r,y+m.length));var e=A+f.length;if(d&&v.slice(e,e+d.length)==d&&(e+=d.length),a.replaceRange("",S(s,A),S(s,e)),g)for(var t=s+1;t<=r;++t){var i=a.getLine(t),n=i.indexOf(g);if(-1!=n&&!C.test(i.slice(0,n))){var o=n+g.length;d&&i.slice(o,o+d.length)==d&&(o+=d.length),a.replaceRange("",S(t,n),S(t,o))}}}),!0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(u){function h(e,t,i){var n;return(n=e.getWrapperElement().appendChild(document.createElement("div"))).className=i?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?n.innerHTML=t:n.appendChild(t),n}function p(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}u.defineExtension("openDialog",function(e,t,i){i=i||{},p(this,null);var n=h(this,e,i.bottom),o=!1,a=this;function r(e){if("string"==typeof e)l.value=e;else{if(o)return;o=!0,n.parentNode.removeChild(n),a.focus(),i.onClose&&i.onClose(n)}}var s,l=n.getElementsByTagName("input")[0];return l?(i.value&&(l.value=i.value,!1!==i.selectValueOnOpen&&l.select()),i.onInput&&u.on(l,"input",function(e){i.onInput(e,l.value,r)}),i.onKeyUp&&u.on(l,"keyup",function(e){i.onKeyUp(e,l.value,r)}),u.on(l,"keydown",function(e){i&&i.onKeyDown&&i.onKeyDown(e,l.value,r)||((27==e.keyCode||!1!==i.closeOnEnter&&13==e.keyCode)&&(l.blur(),u.e_stop(e),r()),13==e.keyCode&&t(l.value,e))}),$(l).focus(100)):(s=n.getElementsByTagName("button")[0])&&(u.on(s,"click",function(){r(),a.focus()}),!1!==i.closeOnBlur&&u.on(s,"blur",r),s.focus()),r}),u.defineExtension("openConfirm",function(e,t,i){p(this,null);var n=h(this,e,i&&i.bottom),o=n.getElementsByTagName("button"),a=!1,r=this,s=1;function l(){a||(a=!0,n.parentNode.removeChild(n),r.focus())}o[0].focus();for(var c=0;c<o.length;++c){var d=o[c];!function(t){u.on(d,"click",function(e){u.e_preventDefault(e),l(),t&&t(r)})}(t[c]),u.on(d,"blur",function(){--s,setTimeout(function(){s<=0&&l()},200)}),u.on(d,"focus",function(){++s})}}),u.defineExtension("openNotification",function(e,t){p(this,r);var i,n=h(this,e,t&&t.bottom),o=!1,a=t&&void 0!==t.duration?t.duration:5e3;function r(){o||(o=!0,clearTimeout(i),n.parentNode.removeChild(n))}return u.on(n,"click",function(e){u.e_preventDefault(e),r()}),a&&(i=setTimeout(r,a)),r})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(n){var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),m=n.Pos,g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function u(e,t,i,n){var o=e.getLineHandle(t.line),a=t.ch-1,r=0<=a&&g[o.text.charAt(a)]||g[o.text.charAt(++a)];if(!r)return null;var s=">"==r.charAt(1)?1:-1;if(i&&0<s!=(a==t.ch))return null;var l=e.getTokenTypeAt(m(t.line,a+1)),c=h(e,m(t.line,a+(0<s?1:0)),s,l||null,n);return null==c?null:{from:m(t.line,a),to:c&&c.pos,match:c&&c.ch==r.charAt(0),forward:0<s}}function h(e,t,i,n,o){for(var a=o&&o.maxScanLineLength||1e4,r=o&&o.maxScanLines||1e3,s=[],l=o&&o.bracketRegex?o.bracketRegex:/[(){}[\]]/,c=0<i?Math.min(t.line+r,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-r),d=t.line;d!=c;d+=i){var u=e.getLine(d);if(u){var h=0<i?0:u.length-1,p=0<i?u.length:-1;if(!(u.length>a))for(d==t.line&&(h=t.ch-(i<0?1:0));h!=p;h+=i){var f=u.charAt(h);if(l.test(f)&&(void 0===n||e.getTokenTypeAt(m(d,h+1))==n))if(">"==g[f].charAt(1)==0<i)s.push(f);else{if(!s.length)return{pos:m(d,h),ch:f};s.pop()}}}}return d-i!=(0<i?e.lastLine():e.firstLine())&&null}function t(e,t,i){for(var n=e.state.matchBrackets.maxHighlightLineLength||1e3,o=[],a=e.listSelections(),r=0;r<a.length;r++){var s=a[r].empty()&&u(e,a[r].head,!1,i);if(s&&e.getLine(s.from.line).length<=n){var l=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";o.push(e.markText(s.from,m(s.from.line,s.from.ch+1),{className:l})),s.to&&e.getLine(s.to.line).length<=n&&o.push(e.markText(s.to,m(s.to.line,s.to.ch+1),{className:l}))}}if(o.length){d&&e.state.focused&&e.focus();function c(){e.operation(function(){for(var e=0;e<o.length;e++)o[e].clear()})}if(!t)return c;setTimeout(c,800)}}var i=null;function o(e){e.operation(function(){i&&(i(),i=null),i=t(e,!1,e.state.matchBrackets)})}n.defineOption("matchBrackets",!1,function(e,t,i){i&&i!=n.Init&&e.off("cursorActivity",o),t&&(e.state.matchBrackets="object"==typeof t?t:{},e.on("cursorActivity",o))}),n.defineExtension("matchBrackets",function(){t(this,!0)}),n.defineExtension("findMatchingBracket",function(e,t,i){return u(this,e,t,i)}),n.defineExtension("scanForBracket",function(e,t,i,n){return h(this,e,t,i,n)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(r){"use strict";function s(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function n(a){a.state.failedTagMatch=!1,a.operation(function(){if(s(a),!a.somethingSelected()){var e=a.getCursor(),t=a.getViewport();t.from=Math.min(t.from,e.line),t.to=Math.max(e.line+1,t.to);var i=r.findMatchingTag(a,e,t);if(i){if(a.state.matchBothTags){var n="open"==i.at?i.open:i.close;n&&(a.state.tagHit=a.markText(n.from,n.to,{className:"CodeMirror-matchingtag"}))}var o="close"==i.at?i.open:i.close;o?a.state.tagOther=a.markText(o.from,o.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0}}})}function o(e){e.state.failedTagMatch&&n(e)}r.defineOption("matchTags",!1,function(e,t,i){i&&i!=r.Init&&(e.off("cursorActivity",n),e.off("viewportChange",o),s(e)),t&&(e.state.matchBothTags="object"==typeof t&&t.bothTags,e.on("cursorActivity",n),e.on("viewportChange",o),n(e))}),r.commands.toMatchingTag=function(e){var t=r.findMatchingTag(e,e.getCursor());if(t){var i="close"==t.at?t.open:t.close;i&&e.extendSelection(i.to,i.from)}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var d=e.Pos;var t="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("<(/?)(["+t+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function u(e,t,i,n){this.line=t,this.ch=i,this.cm=e,this.text=e.getLine(t),this.min=n?n.from:e.firstLine(),this.max=n?n.to-1:e.lastLine()}function o(e,t){var i=e.cm.getTokenTypeAt(d(e.line,t));return i&&/\btag\b/.test(i)}function a(e){return!(e.line>=e.max)&&(e.ch=0,e.text=e.cm.getLine(++e.line),1)}function r(e){return!(e.line<=e.min)&&(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,1)}function h(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(a(e))continue;return}if(o(e,t+1)){var i=e.text.lastIndexOf("/",t),n=-1<i&&!/\S/.test(e.text.slice(i+1,t));return e.ch=t+1,n?"selfClose":"regular"}e.ch=t+1}}function p(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(r(e))continue;return}if(o(e,t+1)){n.lastIndex=t,e.ch=t;var i=n.exec(e.text);if(i&&i.index==t)return i}else e.ch=t}}function l(e){for(;;){n.lastIndex=e.ch;var t=n.exec(e.text);if(!t){if(a(e))continue;return}if(o(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(r(e))continue;return}if(o(e,t+1)){var i=e.text.lastIndexOf("/",t),n=-1<i&&!/\S/.test(e.text.slice(i+1,t));return e.ch=t+1,n?"selfClose":"regular"}e.ch=t}}function f(e,t){for(var i=[];;){var n,o=l(e),a=e.line,r=e.ch-(o?o[0].length:0);if(!o||!(n=h(e)))return;if("selfClose"!=n)if(o[1]){for(var s=i.length-1;0<=s;--s)if(i[s]==o[2]){i.length=s;break}if(s<0&&(!t||t==o[2]))return{tag:o[2],from:d(a,r),to:d(e.line,e.ch)}}else i.push(o[2])}}function m(e,t){for(var i=[];;){var n=c(e);if(!n)return;if("selfClose"!=n){var o=e.line,a=e.ch,r=p(e);if(!r)return;if(r[1])i.push(r[2]);else{for(var s=i.length-1;0<=s;--s)if(i[s]==r[2]){i.length=s;break}if(s<0&&(!t||t==r[2]))return{tag:r[2],from:d(e.line,e.ch),to:d(o,a)}}}else p(e)}}e.registerHelper("fold","xml",function(e,t){for(var i=new u(e,t.line,0);;){var n,o=l(i);if(!o||i.line!=t.line||!(n=h(i)))return;if(!o[1]&&"selfClose"!=n){t=d(i.line,i.ch);var a=f(i,o[2]);return a&&{from:t,to:a.from}}}}),e.findMatchingTag=function(e,t,i){var n=new u(e,t.line,t.ch,i);if(-1!=n.text.indexOf(">")||-1!=n.text.indexOf("<")){var o=h(n),a=o&&d(n.line,n.ch),r=o&&p(n);if(o&&r&&(l=t,!(0<((s=n).line-l.line||s.ch-l.ch)))){var s,l,c={from:d(n.line,n.ch),to:a,tag:r[2]};return"selfClose"==o?{open:c,close:null,at:"open"}:r[1]?{open:m(n,r[2]),close:c,at:"close"}:{open:c,close:f(n=new u(e,a.line,a.ch,i),r[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,i){for(var n=new u(e,t.line,t.ch,i);;){var o=m(n);if(!o)break;var a=f(new u(e,t.line,t.ch,i),o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,i,n){return f(new u(e,t.line,t.ch,n?{from:0,to:n}:null),i)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(t){"use strict";t.overlayMode=function(i,n,o){return{startState:function(){return{base:t.startState(i),overlay:t.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:t.copyState(i,e.base),overlay:t.copyState(n,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(e,t){return(e!=t.streamSeen||Math.min(t.basePos,t.overlayPos)<e.start)&&(t.streamSeen=e,t.basePos=t.overlayPos=e.start),e.start==t.basePos&&(t.baseCur=i.token(e,t.base),t.basePos=e.pos),e.start==t.overlayPos&&(e.pos=e.start,t.overlayCur=n.token(e,t.overlay),t.overlayPos=e.pos),e.pos=Math.min(t.basePos,t.overlayPos),null==t.overlayCur?t.baseCur:null!=t.baseCur&&t.overlay.combineTokens||o&&null==t.overlay.combineTokens?t.baseCur+" "+t.overlayCur:t.overlayCur},indent:i.indent&&function(e,t){return i.indent(e.base,t)},electricChars:i.electricChars,innerMode:function(e){return{state:e.base,mode:i}},blankLine:function(e){i.blankLine&&i.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){function i(e){clearTimeout(n.doRedraw),n.doRedraw=setTimeout(function(){n.redraw()},e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var n=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(n.doUpdate),n.doUpdate=setTimeout(function(){n.computeScale()&&i(20)},100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("change",this.changeHandler=function(){i(250)})}e.defineExtension("annotateScrollbar",function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)}),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.heightAtLine(e.lastLine()+1,"local");if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,i=this.hScale,n=document.createDocumentFragment(),o=this.annotations;if(t.display.barWidth)for(var a,r=0;r<o.length;r++){for(var s=o[r],l=a||t.charCoords(s.from,"local").top*i,c=t.charCoords(s.to,"local").bottom*i;r<o.length-1&&!(c+.9<(a=t.charCoords(o[r+1].from,"local").top*i));)s=o[++r],c=t.charCoords(s.to,"local").bottom*i;if(c!=l){var d=Math.max(c-l,3),u=n.appendChild(document.createElement("div"));u.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(l+this.buttonHeight)+"px; height: "+d+"px",u.className=this.options.className}}this.div.textContent="",this.div.appendChild(n)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(s){"use strict";function n(e,t,i){this.orientation=t,this.scroll=i,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=e+"-"+t,this.inner=this.node.appendChild(document.createElement("div"));var r=this;function n(e){var t=s.wheelEventPixels(e)["horizontal"==r.orientation?"x":"y"],i=r.pos;r.moveTo(r.pos+t),r.pos!=i&&s.e_preventDefault(e)}s.on(this.inner,"mousedown",function(e){if(1==e.which){s.e_preventDefault(e);var t="horizontal"==r.orientation?"pageX":"pageY",i=e[t],n=r.pos;s.on(document,"mousemove",a),s.on(document,"mouseup",o)}function o(){s.off(document,"mousemove",a),s.off(document,"mouseup",o)}function a(e){if(1!=e.which)return o();r.moveTo(n+(e[t]-i)*(r.total/r.size))}}),s.on(this.node,"click",function(e){s.e_preventDefault(e);var t,i=r.inner.getBoundingClientRect();t="horizontal"==r.orientation?e.clientX<i.left?-1:e.clientX>i.right?1:0:e.clientY<i.top?-1:e.clientY>i.bottom?1:0,r.moveTo(r.pos+t*r.screen)}),s.on(this.node,"mousewheel",n),s.on(this.node,"DOMMouseScroll",n)}n.prototype.moveTo=function(e,t){e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),e!=this.pos&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!1!==t&&this.scroll(e,this.orientation))};function i(e,t,i){this.addClass=e,this.horiz=new n(e,"horizontal",i),t(this.horiz.node),this.vert=new n(e,"vertical",i),t(this.vert.node),this.width=null}n.prototype.update=function(e,t,i){this.screen=t,this.total=e,this.size=i;var n=this.screen*(this.size/this.total);n<10&&(this.size-=10-n,n=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=n+"px",this.inner.style["horizontal"==this.orientation?"left":"top"]=this.pos*(this.size/this.total)+"px"},i.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var i=this.width||0,n=e.scrollWidth>e.clientWidth+1,o=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=o?"block":"none",this.horiz.node.style.display=n?"block":"none",o&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(n?i:0)),this.vert.node.style.display="block",this.vert.node.style.bottom=n?i+"px":"0"),n&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(o?i:0)-e.barLeft),this.horiz.node.style.right=o?i+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:o?i:0,bottom:n?i:0}},i.prototype.setScrollTop=function(e){this.vert.moveTo(e,!1)},i.prototype.setScrollLeft=function(e){this.horiz.moveTo(e,!1)},i.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},s.scrollbarModel.simple=function(e,t){return new i("CodeMirror-simplescroll",e,t)},s.scrollbarModel.overlay=function(e,t){return new i("CodeMirror-overlayscroll",e,t)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],e):e(CodeMirror)}(function(c){"use strict";function n(e,t,i,n){this.cm=e;var o={listenForChanges:!1};for(var a in n)o[a]=n[a];o.className||(o.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(o),this.query=t,this.caseFold=i,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var r=this;e.on("change",this.changeHandler=function(e,t){r.onChange(t)})}c.defineExtension("showMatchesOnScrollbar",function(e,t,i){return"string"==typeof i&&(i={className:i}),new n(this,e,t,i=i||{})});function d(e,t,i){return e<=t?e:Math.max(t,e+i)}n.prototype.findMatches=function(){if(this.gap){for(var e=0;e<this.matches.length;e++){if((i=this.matches[e]).from.line>=this.gap.to)break;i.to.line>=this.gap.from&&this.matches.splice(e--,1)}for(var t=this.cm.getSearchCursor(this.query,c.Pos(this.gap.from,0),this.caseFold);t.findNext();){var i;if((i={from:t.from(),to:t.to()}).from.line>=this.gap.to)break;if(this.matches.splice(e++,0,i),1e3<this.matches.length)break}this.gap=null}},n.prototype.onChange=function(e){var t=e.from.line,i=c.changeEnd(e).line,n=i-e.to.line;if(this.gap?(this.gap.from=Math.min(d(this.gap.from,t,n),e.from.line),this.gap.to=Math.max(d(this.gap.to,t,n),e.from.line)):this.gap={from:e.from.line,to:i+1},n)for(var o=0;o<this.matches.length;o++){var a=this.matches[o],r=d(a.from.line,t,n);r!=a.from.line&&(a.from=c.Pos(r,a.from.ch));var s=d(a.to.line,t,n);s!=a.to.line&&(a.to=c.Pos(s,a.to.ch))}clearTimeout(this.update);var l=this;this.update=setTimeout(function(){l.updateAfterChange()},250)},n.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},n.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(o){"use strict";function a(e){"object"==typeof e&&(this.minChars=e.minChars,this.style=e.style,this.showToken=e.showToken,this.delay=e.delay,this.wordsOnly=e.wordsOnly),null==this.style&&(this.style="matchhighlight"),null==this.minChars&&(this.minChars=2),null==this.delay&&(this.delay=100),null==this.wordsOnly&&(this.wordsOnly=!1),this.overlay=this.timeout=null}function r(e){var t=e.state.matchHighlighter;clearTimeout(t.timeout),t.timeout=setTimeout(function(){s(e)},t.delay)}function s(c){c.operation(function(){var e=c.state.matchHighlighter;if(e.overlay&&(c.removeOverlay(e.overlay),e.overlay=null),c.somethingSelected()||!e.showToken){var t=c.getCursor("from"),i=c.getCursor("to");if(t.line==i.line&&(!e.wordsOnly||function(e,t,i){{if(null===e.getRange(t,i).match(/^\w+$/))return;if(0<t.ch){var n={line:t.line,ch:t.ch-1};if(null===e.getRange(n,t).match(/\W/))return}if(i.ch<e.getLine(t.line).length){n={line:i.line,ch:i.ch+1};if(null===e.getRange(i,n).match(/\W/))return}return 1}}(c,t,i))){var n=c.getRange(t,i).replace(/^\s+|\s+$/g,"");n.length>=e.minChars&&c.addOverlay(e.overlay=d(n,!1,e.style))}}else{for(var o=!0===e.showToken?/[\w$]/:e.showToken,a=c.getCursor(),r=c.getLine(a.line),s=a.ch,l=s;s&&o.test(r.charAt(s-1));)--s;for(;l<r.length&&o.test(r.charAt(l));)++l;s<l&&c.addOverlay(e.overlay=d(r.slice(s,l),o,e.style))}})}function d(n,o,a){return{token:function(e){if(e.match(n)&&(!o||(i=o,!((t=e).start&&i.test(t.string.charAt(t.start-1))||t.pos!=t.string.length&&i.test(t.string.charAt(t.pos))))))return a;var t,i;e.next(),e.skipTo(n.charAt(0))||e.skipToEnd()}}}o.defineOption("highlightSelectionMatches",!1,function(e,t,i){if(i&&i!=o.Init){var n=e.state.matchHighlighter.overlay;n&&e.removeOverlay(n),clearTimeout(e.state.matchHighlighter.timeout),e.state.matchHighlighter=null,e.off("cursorActivity",r)}t&&(e.state.matchHighlighter=new a(t),s(e),e.on("cursorActivity",r))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(o){"use strict";function t(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new t)}function s(e){return"string"==typeof e&&e==e.toLowerCase()}function u(e,t,i){return e.getSearchCursor(t,i,s(t))}function i(e,t,i,n,o){e.openDialog?e.openDialog(t,o,{value:n}):o(prompt(i,n))}function l(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function n(n,o){var a=r(n);if(a.query)return c(n,o);i(n,'Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',"Search for:",n.getSelection(),function(t){n.operation(function(){var i,e;t&&!a.query&&(a.query=l(t),n.removeOverlay(a.overlay,s(a.query)),a.overlay=(i=a.query,e=s(a.query),"string"==typeof i?i=new RegExp(i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):i.global||(i=new RegExp(i.source,i.ignoreCase?"gi":"g")),{token:function(e){i.lastIndex=e.pos;var t=i.exec(e.string);if(t&&t.index==e.pos)return e.pos+=t[0].length,"searching";t?e.pos=t.index:e.skipToEnd()}}),n.addOverlay(a.overlay),n.showMatchesOnScrollbar&&(a.annotate&&(a.annotate.clear(),a.annotate=null),a.annotate=n.showMatchesOnScrollbar(a.query,s(a.query))),a.posFrom=a.posTo=n.getCursor(),c(n,o))})})}function c(i,n){i.operation(function(){var e=r(i),t=u(i,e.query,n?e.posFrom:e.posTo);(t.find(n)||(t=u(i,e.query,n?o.Pos(i.lastLine()):o.Pos(i.firstLine(),0))).find(n))&&(i.setSelection(t.from(),t.to()),i.scrollIntoView({from:t.from(),to:t.to()}),e.posFrom=t.from(),e.posTo=t.to())})}function a(t){t.operation(function(){var e=r(t);e.query&&(e.query=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}function d(d,e){d.getOption("readOnly")||i(d,'Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',"Replace:",d.getSelection(),function(c){c&&(c=l(c),i(d,'With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',"Replace with:","",function(t){if(e)d.operation(function(){for(var e=u(d,c);e.findNext();)if("string"!=typeof c){var i=d.getRange(e.from(),e.to()).match(c);e.replace(t.replace(/\$(\d)/g,function(e,t){return i[t]}))}else e.replace(t)});else{a(d);var r=u(d,c,d.getCursor()),s=function(){var e,t,i,n,o,a=r.from();!(e=r.findNext())&&(r=u(d,c),!(e=r.findNext())||a&&r.from().line==a.line&&r.from().ch==a.ch)||(d.setSelection(r.from(),r.to()),d.scrollIntoView({from:r.from(),to:r.to()}),i="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>",n="Replace?",o=[function(){l(e)},s],(t=d).openConfirm?t.openConfirm(i,o):confirm(n)&&o[0]())},l=function(i){r.replace("string"==typeof c?t:t.replace(/\$(\d)/g,function(e,t){return i[t]})),s()};s()}}))})}o.commands.find=function(e){a(e),n(e)},o.commands.findNext=n,o.commands.findPrev=function(e){n(e,!0)},o.commands.clearSearch=a,o.commands.replace=d,o.commands.replaceAll=function(e){d(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(o){"use strict";var p=o.Pos;function n(c,l,e,t){if(this.atOccurrence=!1,this.doc=c,null==t&&"string"==typeof l&&(t=!1),e=e?c.clipPos(e):p(0,0),this.pos={from:e,to:e},"string"!=typeof l)l.global||(l=new RegExp(l.source,l.ignoreCase?"ig":"g")),this.matches=function(e,t){if(e){l.lastIndex=0;for(var i=c.getLine(t.line).slice(0,t.ch),n=0;;){l.lastIndex=n;var o=l.exec(i);if(!o)break;if(r=(a=o).index,(n=a.index+(a[0].length||1))==i.length)break}(s=a&&a[0].length||0)||(0==r&&0==i.length?a=void 0:r!=c.getLine(t.line).length&&s++)}else{l.lastIndex=t.ch;i=c.getLine(t.line);var a,r,s=(a=l.exec(i))&&a[0].length||0;(r=a&&a.index)+s==i.length||s||(s=1)}if(a&&s)return{from:p(t.line,r),to:p(t.line,r+s),match:a}};else{var a=l;t&&(l=l.toLowerCase());var d=t?function(e){return e.toLowerCase()}:function(e){return e},u=l.split("\n");if(1==u.length)l.length?this.matches=function(e,t){if(e){var i=c.getLine(t.line).slice(0,t.ch);if(-1<(o=(n=d(i)).lastIndexOf(l)))return o=r(i,n,o),{from:p(t.line,o),to:p(t.line,o+a.length)}}else{var n,o;i=c.getLine(t.line).slice(t.ch);if(-1<(o=(n=d(i)).indexOf(l)))return o=r(i,n,o)+t.ch,{from:p(t.line,o),to:p(t.line,o+a.length)}}}:this.matches=function(){};else{var h=a.split("\n");this.matches=function(e,t){var i=u.length-1;if(e){if(t.line-(u.length-1)<c.firstLine())return;if(d(c.getLine(t.line).slice(0,h[i].length))!=u[u.length-1])return;for(var n=p(t.line,h[i].length),o=t.line-1,a=i-1;1<=a;--a,--o)if(u[a]!=d(c.getLine(o)))return;var r=(s=c.getLine(o)).length-h[0].length;if(d(s.slice(r))!=u[0])return;return{from:p(o,r),to:n}}if(!(t.line+(u.length-1)>c.lastLine())){var s;r=(s=c.getLine(t.line)).length-h[0].length;if(d(s.slice(r))==u[0]){var l=p(t.line,r);for(o=t.line+1,a=1;a<i;++a,++o)if(u[a]!=d(c.getLine(o)))return;if(d(c.getLine(o).slice(0,h[i].length))==u[i])return{from:l,to:p(o,h[i].length)}}}}}}}function r(e,t,i){if(e.length==t.length)return i;for(var n=Math.min(i,e.length);;){var o=e.slice(0,n).toLowerCase().length;if(o<i)++n;else{if(!(i<o))return n;--n}}}n.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){var i=this,t=this.doc.clipPos(e?this.pos.from:this.pos.to);function n(e){var t=p(e,0);return i.pos={from:t,to:t},i.atOccurrence=!1}for(;;){if(this.pos=this.matches(e,t))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!t.line)return n(0);t=p(t.line-1,this.doc.getLine(t.line-1).length)}else{var o=this.doc.lineCount();if(t.line==o-1)return n(o);t=p(t.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,t){if(this.atOccurrence){var i=o.splitLines(e);this.doc.replaceRange(i,this.pos.from,this.pos.to,t),this.pos.to=p(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},o.defineExtension("getSearchCursor",function(e,t,i){return new n(this.doc,e,t,i)}),o.defineDocExtension("getSearchCursor",function(e,t,i){return new n(this,e,t,i)}),o.defineExtension("selectMatches",function(e,t){for(var i=[],n=this.getSearchCursor(e,this.getCursor("from"),t);n.findNext()&&!(0<o.cmpPos(n.to(),this.getCursor("to")));)i.push({anchor:n.from(),head:n.to()});i.length&&this.setSelections(i,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(o){"use strict";var r="CodeMirror-activeline",s="CodeMirror-activeline-background";function l(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],"wrap",r),e.removeLineClass(e.state.activeLines[t],"background",s)}function a(t,e){for(var i=[],n=0;n<e.length;n++){var o=e[n];if(o.empty()){var a=t.getLineHandleVisualStart(o.head.line);i[i.length-1]!=a&&i.push(a)}}!function(e,t){if(e.length==t.length){for(var i=0;i<e.length;i++)if(e[i]!=t[i])return;return 1}}(t.state.activeLines,i)&&t.operation(function(){l(t);for(var e=0;e<i.length;e++)t.addLineClass(i[e],"wrap",r),t.addLineClass(i[e],"background",s);t.state.activeLines=i})}function c(e,t){a(e,t.ranges)}o.defineOption("styleActiveLine",!1,function(e,t,i){var n=i&&i!=o.Init;t&&!n?(e.state.activeLines=[],a(e,e.listSelections()),e.on("beforeSelectionChange",c)):!t&&n&&(e.off("beforeSelectionChange",c),l(e),delete e.state.activeLines)})}),CodeMirror.controlsSetup=function(e){var t=$('<span class="CodeMirror-controls"></span>'),i=$('<span class="change-style" title="Click to cycle style.  Your style preference will be saved using a browser cookie."></span>'),n=$('<span class="toggle-fullscreen" title="Click to toggle full screen mode (F11)."></span>'),o=$('<span class="toggle-wrap" title="Click to toggle line wrapping."></span>');t.append(n,o,i),t.find("span").tipTip(),$(e.getWrapperElement()).append(t);var a=["default","ambiance","blackboard","cobalt","monokai","neat"];null===proboards.code_editor_style&&(proboards.code_editor_style=proboards.cookie("code_editor_style")||a[0]),e.setOption("theme",proboards.code_editor_style),i.on("click",function(e){var t=$.inArray(proboards.code_editor_style,a);t===a.length-1&&(t=-1),proboards.code_editor_style=a[t+1],$(".CodeMirror").each(function(){$(this).data("editor").setOption("theme",proboards.code_editor_style)}),proboards.cookie("code_editor_style",proboards.code_editor_style,{expires:"never",path:"/"})}),e.toggleFullScreen=function(){var e=$(this.getWrapperElement()),t=($(this.getGutterElement()),$(this.getScrollerElement()));e.data("isFullScreen")?(e.removeClass("fullscreen").data("isFullScreen",!1),document.documentElement.style.overflow="",e.attr("style",e.data("oldStyle")),t.attr("style",t.data("oldStyle"))):(e.addClass("fullscreen").data("isFullScreen",!0),document.documentElement.style.overflow="hidden",e.data("oldStyle",e.attr("style")).removeAttr("style"),t.data("oldStyle",t.attr("style")).removeAttr("style")),this.refresh()};var r=e.getOption("extraKeys");$.extend(r,{F11:function(e){e.toggleFullScreen()},Esc:function(e){$(e.getWrapperElement()).data("fullscreen",!0),e.toggleFullScreen()}}),e.setOption("extraKeys",r),n.on("click",function(){e.toggleFullScreen()});var s=proboards.cookie("code_editor_wrap"),l=null!=s&&"false"!=s.toLowerCase();l&&(o.addClass("wrap"),e.setOption("lineWrapping",!0)),o.on("click",function(){l=!l,$(".CodeMirror").each(function(){$(this).data("editor").setOption("lineWrapping",l),$(".CodeMirror-controls .toggle-wrap",this).toggleClass("wrap",l)}),proboards.cookie("code_editor_wrap",l,{expires:"never",path:"/"})})},CodeMirror.defineMode("pbTemplate",function(e,t){return CodeMirror.overlayMode(CodeMirror.getMode(e,t.backdrop||"text/html"),{token:function(e,t){var i;if(e.match("$["))for(;null!=(i=e.next());)if("]"==i)return"pbTemplate";for(;null!=e.next()&&!e.match("$[",!1););return null}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(S){"use strict";function e(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}S.defineMode("css",function(e,t){t.propertyKeywords||(t=S.resolveMode("text/css"));var n,o,a=e.indentUnit,r=t.tokenHooks,s=t.documentTypes||{},l=t.mediaTypes||{},c=t.mediaFeatures||{},d=t.propertyKeywords||{},u=t.nonStandardPropertyKeywords||{},h=t.fontProperties||{},p=t.counterDescriptors||{},i=t.colorKeywords||{},f=t.valueKeywords||{},m=t.allowNested;function g(e,t){return n=t,e}function v(o){return function(e,t){for(var i,n=!1;null!=(i=e.next());){if(i==o&&!n){")"==o&&e.backUp(1);break}n=!n&&"\\"==i}return i!=o&&(n||")"==o)||(t.tokenize=null),g("string","string")}}function b(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=v(")"),g(null,"(")}function A(e,t,i){this.type=e,this.indent=t,this.prev=i}function y(e,t,i){return e.context=new A(i,t.indentation()+a,e.context),i}function _(e){return e.context=e.context.prev,e.context.type}function w(e,t,i){return C[i.context.type](e,t,i)}function x(e,t,i,n){for(var o=n||1;0<o;o--)i.context=i.context.prev;return w(e,t,i)}function k(e){var t=e.current().toLowerCase();o=f.hasOwnProperty(t)?"atom":i.hasOwnProperty(t)?"keyword":"variable"}var C={top:function(e,t,i){if("{"==e)return y(i,t,"block");if("}"==e&&i.context.prev)return _(i);if(/@(media|supports|(-moz-)?document)/.test(e))return y(i,t,"atBlock");if(/@(font-face|counter-style)/.test(e))return i.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return y(i,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return y(i,t,"interpolation");if(":"==e)return"pseudo";if(m&&"("==e)return y(i,t,"parens")}return i.context.type},block:function(e,t,i){if("word"!=e)return"meta"==e?"block":m||"hash"!=e&&"qualifier"!=e?C.top(e,t,i):(o="error","block");var n=t.current().toLowerCase();return d.hasOwnProperty(n)?(o="property","maybeprop"):u.hasOwnProperty(n)?(o="string-2","maybeprop"):m?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")},maybeprop:function(e,t,i){return":"==e?y(i,t,"prop"):w(e,t,i)},prop:function(e,t,i){if(";"==e)return _(i);if("{"==e&&m)return y(i,t,"propBlock");if("}"==e||"{"==e)return x(e,t,i);if("("==e)return y(i,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)k(t);else if("interpolation"==e)return y(i,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,i){return"}"==e?_(i):"word"==e?(o="property","maybeprop"):i.context.type},parens:function(e,t,i){return"{"==e||"}"==e?x(e,t,i):")"==e?_(i):"("==e?y(i,t,"parens"):"interpolation"==e?y(i,t,"interpolation"):("word"==e&&k(t),"parens")},pseudo:function(e,t,i){return"word"==e?(o="variable-3",i.context.type):w(e,t,i)},atBlock:function(e,t,i){if("("==e)return y(i,t,"atBlock_parens");if("}"==e)return x(e,t,i);if("{"==e)return _(i)&&y(i,t,m?"block":"top");if("word"==e){var n=t.current().toLowerCase();o="only"==n||"not"==n||"and"==n||"or"==n?"keyword":s.hasOwnProperty(n)?"tag":l.hasOwnProperty(n)?"attribute":c.hasOwnProperty(n)||d.hasOwnProperty(n)?"property":u.hasOwnProperty(n)?"string-2":f.hasOwnProperty(n)?"atom":"error"}return i.context.type},atBlock_parens:function(e,t,i){return")"==e?_(i):"{"==e||"}"==e?x(e,t,i,2):C.atBlock(e,t,i)},restricted_atBlock_before:function(e,t,i){return"{"==e?y(i,t,"restricted_atBlock"):"word"==e&&"@counter-style"==i.stateArg?(o="variable","restricted_atBlock_before"):w(e,t,i)},restricted_atBlock:function(e,t,i){return"}"==e?(i.stateArg=null,_(i)):"word"==e?(o="@font-face"==i.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==i.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,i){return"word"==e?(o="variable","keyframes"):"{"==e?y(i,t,"top"):w(e,t,i)},at:function(e,t,i){return";"==e?_(i):"{"==e||"}"==e?x(e,t,i):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,i){return"}"==e?_(i):"{"==e||";"==e?x(e,t,i):("word"==e?o="variable":"variable"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new A("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var i=(t.tokenize||function(e,t){var i=e.next();if(r[i]){var n=r[i](e,t);if(!1!==n)return n}return"@"==i?(e.eatWhile(/[\w\\\-]/),g("def",e.current())):"="==i||("~"==i||"|"==i)&&e.eat("=")?g(null,"compare"):'"'==i||"'"==i?(t.tokenize=v(i),t.tokenize(e,t)):"#"==i?(e.eatWhile(/[\w\\\-]/),g("atom","hash")):"!"==i?(e.match(/^\s*\w*/),g("keyword","important")):/\d/.test(i)||"."==i&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),g("number","unit")):"-"!==i?/[,+>*\/]/.test(i)?g(null,"select-op"):"."==i&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?g("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?g(null,i):"u"==i&&e.match(/rl(-prefix)?\(/)||"d"==i&&e.match("omain(")||"r"==i&&e.match("egexp(")?(e.backUp(1),t.tokenize=b,g("property","word")):/[\w\\\-]/.test(i)?(e.eatWhile(/[\w\\\-]/),g("property","word")):g(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),g("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?g("variable-2","variable-definition"):g("variable-2","variable")):e.match(/^\w+-/)?g("meta","meta"):void 0})(e,t);return i&&"object"==typeof i&&(n=i[1],i=i[0]),o=i,t.state=C[t.state](n,e,t),o},indent:function(e,t){var i=e.context,n=t&&t.charAt(0),o=i.indent;return"prop"!=i.type||"}"!=n&&")"!=n||(i=i.prev),!i.prev||("}"!=n||"block"!=i.type&&"top"!=i.type&&"interpolation"!=i.type&&"restricted_atBlock"!=i.type)&&(")"!=n||"parens"!=i.type&&"atBlock_parens"!=i.type)&&("{"!=n||"at"!=i.type&&"atBlock"!=i.type)||(o=i.indent-a,i=i.prev),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["domain","regexp","url","url-prefix"],i=e(t),n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(n),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],r=e(a),s=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],l=e(s),c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=e(c),u=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),h=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),p=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=e(p),m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],g=e(m),v=t.concat(n).concat(a).concat(s).concat(c).concat(p).concat(m);function b(e,t){for(var i,n=!1;null!=(i=e.next());){if(n&&"/"==i){t.tokenize=null;break}n="*"==i}return["comment","comment"]}function A(e,t){return e.skipTo("--\x3e")?(e.match("--\x3e"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}S.registerHelper("hintWords","css",v),S.defineMIME("text/css",{documentTypes:i,mediaTypes:o,mediaFeatures:r,propertyKeywords:l,nonStandardPropertyKeywords:d,fontProperties:u,counterDescriptors:h,colorKeywords:f,valueKeywords:g,tokenHooks:{"<":function(e,t){return!!e.match("!--")&&(t.tokenize=A)(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=b)(e,t)}},name:"css"}),S.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:r,propertyKeywords:l,nonStandardPropertyKeywords:d,colorKeywords:f,valueKeywords:g,fontProperties:u,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=b)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),S.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:r,propertyKeywords:l,nonStandardPropertyKeywords:d,colorKeywords:f,valueKeywords:g,fontProperties:u,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=b)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(h){"use strict";h.defineMode("htmlmixed",function(e,t){var s=h.getMode(e,{name:"xml",htmlMode:!0,multilineTagIndentFactor:t.multilineTagIndentFactor,multilineTagIndentPastTag:t.multilineTagIndentPastTag}),l=h.getMode(e,"css"),c=[],i=t&&t.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:h.getMode(e,"javascript")}),i)for(var n=0;n<i.length;++n){var o=i[n];c.push({matches:o.matches,mode:o.mode&&h.getMode(e,o.mode)})}function a(e,t){var i=t.htmlState.tagName;i=i&&i.toLowerCase();var n=s.token(e,t.htmlState);if("script"==i&&/\btag\b/.test(n)&&">"==e.current()){var o=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);(o=o?o[1]:"")&&/[\"\']/.test(o.charAt(0))&&(o=o.slice(1,o.length-1));for(var a=0;a<c.length;++a){var r=c[a];if("string"==typeof r.matches?o==r.matches:r.matches.test(o)){r.mode&&(t.token=d,t.localMode=r.mode,t.localState=r.mode.startState&&r.mode.startState(s.indent(t.htmlState,"")));break}}}else"style"==i&&/\btag\b/.test(n)&&">"==e.current()&&(t.token=u,t.localMode=l,t.localState=l.startState(s.indent(t.htmlState,"")));return n}function r(e,t,i){var n=e.current(),o=n.search(t);return-1<o?e.backUp(n.length-o):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n)),i}function d(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=a,t.localState=t.localMode=null,null):r(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function u(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=a,t.localState=t.localMode=null,null):r(e,/<\/\s*style\s*>/,l.token(e,t.localState))}return c.push({matches:/./,mode:h.getMode(e,"text/plain")}),{startState:function(){return{token:a,localMode:null,localState:null,htmlState:s.startState()}},copyState:function(e){if(e.localState)var t=h.copyState(e.localMode,e.localState);return{token:e.token,localMode:e.localMode,localState:t,htmlState:h.copyState(s,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?s.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):h.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),h.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Se){"use strict";Se.defineMode("javascript",function(e,d){var n,o,u=e.indentUnit,h=d.statementIndent,r=d.jsonld,s=d.json||r,p=d.typescript,l=d.wordCharacters||/[\w$\xa1-\uffff]/,c=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),o=e("operator"),a={type:"atom",style:"atom"},r={if:e("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n};if(p){var s={type:"variable",style:"variable-3"},l={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:s,number:s,bool:s,any:s};for(var c in l)r[c]=l[c]}return r}(),f=/[+\-*&%=<>!?|~^]/,m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e,t,i){return n=e,o=i,t}function v(e,t){var o,i=e.next();if('"'==i||"'"==i)return t.tokenize=(o=i,function(e,t){var i,n=!1;if(r&&"@"==e.peek()&&e.match(m))return t.tokenize=v,g("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=o||n);)n=!n&&"\\"==i;return n||(t.tokenize=v),g("string","string")}),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return g("number","number");if("."==i&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return g(i);if("="==i&&e.eat(">"))return g("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),g("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),g("number","number");if("/"==i)return e.eat("*")?(t.tokenize=b)(e,t):e.eat("/")?(e.skipToEnd(),g("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(function(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),g("regexp","string-2")):(e.eatWhile(f),g("operator","operator",e.current()));if("`"==i)return(t.tokenize=A)(e,t);if("#"==i)return e.skipToEnd(),g("error","error");if(f.test(i))return e.eatWhile(f),g("operator","operator",e.current());if(l.test(i)){e.eatWhile(l);var n=e.current(),a=c.propertyIsEnumerable(n)&&c[n];return a&&"."!=t.lastType?g(a.type,a.style,n):g("variable","variable",n)}}function b(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=v;break}n="*"==i}return g("comment","comment")}function A(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=v;break}n=!n&&"\\"==i}return g("quasi","string-2",e.current())}var y="([{}])";function a(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){for(var n=0,o=!1,a=i-1;0<=a;--a){var r=e.string.charAt(a),s=y.indexOf(r);if(0<=s&&s<3){if(!n){++a;break}if(0==--n)break}else if(3<=s&&s<6)++n;else if(l.test(r))o=!0;else{if(/["'\/]/.test(r))return;if(o&&!n){++a;break}}}o&&!n&&(t.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,i,n,o,a){this.indented=e,this.column=t,this.type=i,this.prev=o,this.info=a,null!=n&&(this.align=n)}function x(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return 1;for(var n=e.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==t)return 1}var k={state:null,column:null,marked:null,cc:null};function C(){for(var e=arguments.length-1;0<=e;e--)k.cc.push(arguments[e])}function S(){return C.apply(null,arguments),!0}function i(i){function e(e){for(var t=e;t;t=t.next)if(t.name==i)return 1}var t=k.state;if(t.context){if(k.marked="def",e(t.localVars))return;t.localVars={name:i,next:t.localVars}}else{if(e(t.globalVars))return;d.globalVars&&(t.globalVars={name:i,next:t.globalVars})}}var t={name:"this",next:{name:"arguments"}};function T(){k.state.context={prev:k.state.context,vars:k.state.localVars},k.state.localVars=t}function E(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function D(n,o){function e(){var e=k.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var i=e.lexical;i&&")"==i.type&&i.align;i=i.prev)t=i.indented;e.lexical=new w(t,k.stream.column(),n,null,e.lexical,o)}return e.lex=!0,e}function I(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function $(i){return function e(t){return t==i?S():";"==i?C():S(e)}}function P(e,t){return"var"==e?S(D("vardef",t.length),ee,$(";"),I):"keyword a"==e?S(D("form"),M,P,I):"keyword b"==e?S(D("form"),P,I):"{"==e?S(D("}"),X,I):";"==e?S():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==I&&k.state.cc.pop()(),S(D("form"),M,P,I,ae)):"function"==e?S(ue):"for"==e?S(D("form"),re,P,I):"variable"==e?S(D("stat"),V):"switch"==e?S(D("form"),M,D("}","switch"),$("{"),X,I,I):"case"==e?S(M,$(":")):"default"==e?S($(":")):"catch"==e?S(D("form"),T,$("("),he,$(")"),P,I,E):"module"==e?S(D("form"),T,ve,E,I):"class"==e?S(D("form"),pe,I):"export"==e?S(D("form"),be,I):"import"==e?S(D("form"),Ae,I):C(D("stat"),M,$(";"),I)}function M(e){return N(e,!1)}function O(e){return N(e,!0)}function N(e,t){if(k.state.fatArrowAt==k.stream.start){var i=t?W:H;if("("==e)return S(T,D(")"),J(te,")"),I,$("=>"),i,E);if("variable"==e)return C(T,te,$("=>"),i,E)}var n=t?F:R;return _.hasOwnProperty(e)?S(n):"function"==e?S(ue,n):"keyword c"==e?S(t?j:L):"("==e?S(D(")"),L,Ce,$(")"),I,n):"operator"==e||"spread"==e?S(t?O:M):"["==e?S(D("]"),xe,I,n):"{"==e?G(B,"}",null,n):"quasi"==e?C(z,n):S()}function L(e){return e.match(/[;\}\)\],]/)?C():C(M)}function j(e){return e.match(/[;\}\)\],]/)?C():C(O)}function R(e,t){return","==e?S(M):F(e,t,!1)}function F(e,t,i){var n=0==i?R:F,o=0==i?M:O;return"=>"==e?S(T,i?W:H,E):"operator"==e?/\+\+|--/.test(t)?S(n):"?"==t?S(M,$(":"),o):S(o):"quasi"==e?C(z,n):";"!=e?"("==e?G(O,")","call",n):"."==e?S(U,n):"["==e?S(D("]"),L,$("]"),I,n):void 0:void 0}function z(e,t){return"quasi"!=e?C():"${"!=t.slice(t.length-2)?S(z):S(M,q)}function q(e){if("}"==e)return k.marked="string-2",k.state.tokenize=A,S(z)}function H(e){return a(k.stream,k.state),C("{"==e?P:M)}function W(e){return a(k.stream,k.state),C("{"==e?P:O)}function V(e){return":"==e?S(I,P):C(R,$(";"),I)}function U(e){if("variable"==e)return k.marked="property",S()}function B(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",S("get"==t||"set"==t?Y:K)):"number"==e||"string"==e?(k.marked=r?"property":k.style+" property",S(K)):"jsonld-keyword"==e?S(K):"["==e?S(M,$("]"),K):void 0}function Y(e){return"variable"!=e?C(K):(k.marked="property",S(ue))}function K(e){return":"==e?S(O):"("==e?C(ue):void 0}function J(i,n){function o(e){if(","!=e)return e==n?S():S($(n));var t=k.state.lexical;return"call"==t.info&&(t.pos=(t.pos||0)+1),S(i,o)}return function(e){return e==n?S():C(i,o)}}function G(e,t,i){for(var n=3;n<arguments.length;n++)k.cc.push(arguments[n]);return S(D(t,i),J(e,t),I)}function X(e){return"}"==e?S():C(P,X)}function Q(e){if(p&&":"==e)return S(Z)}function Z(e){if("variable"==e)return k.marked="variable-3",S()}function ee(){return C(te,Q,ne,oe)}function te(e,t){return"variable"==e?(i(t),S()):"["==e?G(te,"]"):"{"==e?G(ie,"}"):void 0}function ie(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),S($(":"),te,ne)):(i(t),S(ne))}function ne(e,t){if("="==t)return S(O)}function oe(e){if(","==e)return S(ee)}function ae(e,t){if("keyword b"==e&&"else"==t)return S(D("form","else"),P,I)}function re(e){if("("==e)return S(D(")"),se,$(")"),I)}function se(e){return"var"==e?S(ee,$(";"),ce):";"==e?S(ce):"variable"==e?S(le):C(M,$(";"),ce)}function le(e,t){return"in"==t||"of"==t?(k.marked="keyword",S(M)):S(R,ce)}function ce(e,t){return";"==e?S(de):"in"==t||"of"==t?(k.marked="keyword",S(M)):C(M,$(";"),de)}function de(e){")"!=e&&S(M)}function ue(e,t){return"*"==t?(k.marked="keyword",S(ue)):"variable"==e?(i(t),S(ue)):"("==e?S(T,D(")"),J(he,")"),I,P,E):void 0}function he(e){return"spread"==e?S(he):C(te,Q)}function pe(e,t){if("variable"==e)return i(t),S(fe)}function fe(e,t){return"extends"==t?S(M,fe):"{"==e?S(D("}"),me,I):void 0}function me(e,t){return"variable"==e||"keyword"==k.style?"static"==t?(k.marked="keyword",S(me)):(k.marked="property","get"==t||"set"==t?S(ge,ue,me):S(ue,me)):"*"==t?(k.marked="keyword",S(me)):";"==e?S(me):"}"==e?S():void 0}function ge(e){return"variable"!=e?C():(k.marked="property",S())}function ve(e,t){return"string"==e?S(P):"variable"==e?(i(t),S(we)):void 0}function be(e,t){return"*"==t?(k.marked="keyword",S(we,$(";"))):"default"==t?(k.marked="keyword",S(M,$(";"))):C(P)}function Ae(e){return"string"==e?S():C(ye,we)}function ye(e,t){return"{"==e?G(ye,"}"):("variable"==e&&i(t),"*"==t&&(k.marked="keyword"),S(_e))}function _e(e,t){if("as"==t)return k.marked="keyword",S(ye)}function we(e,t){if("from"==t)return k.marked="keyword",S(M)}function xe(e){return"]"==e?S():C(O,ke)}function ke(e){return"for"==e?C(Ce,$("]")):","==e?S(J(j,"]")):C(J(O,"]"))}function Ce(e){return"for"==e?S(re,Ce):"if"==e?S(M,Ce):void 0}return I.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new w((e||0)-u,0,"block",!1),localVars:d.localVars,context:d.localVars&&{vars:d.localVars},indented:0};return d.globalVars&&"object"==typeof d.globalVars&&(t.globalVars=d.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),a(e,t)),t.tokenize!=b&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==n?i:(t.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",function(e,t,i,n,o){var a=e.cc;for(k.state=e,k.stream=o,k.marked=null,k.cc=a,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((a.length?a.pop():s?M:P)(i,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return k.marked?k.marked:"variable"==i&&x(e,n)?"variable-2":t}}}(t,i,n,o,e))},indent:function(e,t){if(e.tokenize==b)return Se.Pass;if(e.tokenize!=v)return 0;var i=t&&t.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;0<=o;--o){var a=e.cc[o];if(a==I)n=n.prev;else if(a!=ae)break}"stat"==n.type&&"}"==i&&(n=n.prev),h&&")"==n.type&&"stat"==n.prev.type&&(n=n.prev);var r,s,l=n.type,c=i==l;return"vardef"==l?n.indented+("operator"==e.lastType||","==e.lastType?n.info+1:0):"form"==l&&"{"==i?n.indented:"form"==l?n.indented+u:"stat"==l?n.indented+(s=t,"operator"==(r=e).lastType||","==r.lastType||f.test(s.charAt(0))||/[,.]/.test(s.charAt(0))?h||u:0):"switch"!=n.info||c||0==d.doubleIndentSwitch?n.align?n.column+(c?0:1):n.indented+(c?0:u):n.indented+(/^(?:case|default)\b/.test(t)?u:2*u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:r,jsonMode:s}}),Se.registerHelper("wordChars","javascript",/[\w$]/),Se.defineMIME("text/javascript","javascript"),Se.defineMIME("text/ecmascript","javascript"),Se.defineMIME("application/javascript","javascript"),Se.defineMIME("application/x-javascript","javascript"),Se.defineMIME("application/ecmascript","javascript"),Se.defineMIME("application/json",{name:"javascript",json:!0}),Se.defineMIME("application/x-json",{name:"javascript",json:!0}),Se.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Se.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Se.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(C){"use strict";C.defineMode("xml",function(e,t){var r=e.indentUnit,s=t.multilineTagIndentFactor||1,l=t.multilineTagIndentPastTag;null==l&&(l=!0);var c,a,d=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},u=t.alignCDATA;function h(t,i){function e(e){return(i.tokenize=e)(t,i)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(o("atom","]]>")):null:t.match("--")?e(o("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(o){return function(e,t){for(var i;null!=(i=e.next());){if("<"==i)return t.tokenize=n(o+1),t.tokenize(e,t);if(">"==i){if(1!=o)return t.tokenize=n(o-1),t.tokenize(e,t);t.tokenize=h;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),i.tokenize=o("meta","?>"),"meta"):(c=t.eat("/")?"closeTag":"openTag",i.tokenize=p,"tag bracket"):"&"!=n?(t.eatWhile(/[^&<]/),null):(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error"}function p(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=h,c=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return c="equals",null;if("<"!=i)return/[\'\"]/.test(i)?(t.tokenize=(n=i,a.isInAttribute=!0,a),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=h,t.state=v,t.tagName=t.tagStart=null;var n,o=t.tokenize(e,t);return o?o+" tag error":"tag error";function a(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=p;break}return"string"}}function o(i,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=h;break}e.next()}return i}}function f(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(d.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function m(e){e.context&&(e.context=e.context.prev)}function g(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!d.contextGrabbers.hasOwnProperty(i)||!d.contextGrabbers[i].hasOwnProperty(t))return;m(e)}}function v(e,t,i){return"openTag"==e?(i.tagStart=t.column(),n):"closeTag"==e?b:v}function n(e,t,i){return"word"==e?(i.tagName=t.current(),a="tag",_):(a="error",n)}function b(e,t,i){if("word"!=e)return a="error",y;var n=t.current();return i.context&&i.context.tagName!=n&&d.implicitlyClosed.hasOwnProperty(i.context.tagName)&&m(i),i.context&&i.context.tagName==n?(a="tag",A):(a="tag error",y)}function A(e,t,i){return"endTag"!=e?(a="error",A):(m(i),v)}function y(e,t,i){return a="error",A(e,0,i)}function _(e,t,i){if("word"==e)return a="attribute",w;if("endTag"!=e&&"selfcloseTag"!=e)return a="error",_;var n=i.tagName,o=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||d.autoSelfClosers.hasOwnProperty(n)?g(i,n):(g(i,n),i.context=new f(i,n,o==i.indented)),v}function w(e,t,i){return"equals"==e?x:(d.allowMissing||(a="error"),_(e,0,i))}function x(e,t,i){return"string"==e?k:"word"==e&&d.allowUnquoted?(a="string",_):(a="error",_(e,0,i))}function k(e,t,i){return"string"==e?k:_(e,0,i)}return{startState:function(){return{tokenize:h,state:v,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;c=null;var i=t.tokenize(e,t);return(i||c)&&"comment"!=i&&(a=null,t.state=t.state(c||i,e,t),a&&(i="error"==a?i+" error":a)),i},indent:function(e,t,i){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+r;if(n&&n.noIndent)return C.Pass;if(e.tokenize!=p&&e.tokenize!=h)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return l?e.tagStart+e.tagName.length+2:e.tagStart+r*s;if(u&&/<!\[CDATA\[/.test(t))return 0;var o=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(o&&o[1])for(;n;){if(n.tagName==o[2]){n=n.prev;break}if(!d.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(o)for(;n;){var a=d.contextGrabbers[n.tagName];if(!a||!a.hasOwnProperty(o[2]))break;n=n.prev}for(;n&&!n.startOfLine;)n=n.prev;return n?n.indent+r:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),C.defineMIME("text/xml","xml"),C.defineMIME("application/xml","xml"),C.mimeModes.hasOwnProperty("text/html")||C.defineMIME("text/html",{name:"xml",htmlMode:!0})}),"function"!=typeof proboards&&(proboards=function(){}),$.extend(proboards,{dataHash:{},data:function(e,t){if(!$.isArray(e)&&void 0===t)return void 0===this.dataHash[e]?null:this.dataHash[e];$.isArray(e)||(e=[[e,t]]);for(var i=e,n=0;n<i.length;n++){e=i[n][0],t=i[n][1];"proboards."==e.substr(0,10)&&"object"==typeof this.dataHash[e]?$.extend(this.dataHash[e],t):this.dataHash[e]=t}},unsaved_changes:0,active_ajax_calls:0,ajax:function(r){r=$.extend({async:!0,type:"post"},r);var n=null;"function"==typeof r.beforeSend&&(n=r.beforeSend);var o=null;"function"==typeof r.success&&(o=r.success);var s=null;"function"==typeof r.error&&(s=r.error);var i=null;if("function"==typeof r.complete&&(i=r.complete),"post"==r.type.toLowerCase()){var e=proboards.data("csrf_token")||"null",t=proboards.analytics?proboards.analytics.google.getClientId():"";void 0===r.data&&(r.data={}),"undefined"!=typeof FormData&&r.data instanceof FormData&&r.data.append?(r.data.append("csrf_token",e),t&&r.data.append("ga_client_id",t)):"string"==typeof r.data?(r.data+="&csrf_token="+e,t&&(r.data+="&ga_client_id="+t)):(r.data.csrf_token=e,t&&(r.data.ga_client_id=t))}return r.beforeSend=function(e,t){if(t.ignorePending||proboards.active_ajax_calls++,1==proboards.data("admin_v6")){var i="admin_v6=1";"string"==typeof t.data?t.data+="&"+i:void 0===t.data&&(t.data=i)}null!=n&&n.call(this,e,t)},r.success=function(e,t,i){if(r.ignorePending||proboards.active_ajax_calls--,"object"==typeof e&&null!=e&&"object"==typeof e.pb_data)for(_key in e.pb_data)switch(_key){case"_google_analytics_events":proboards.analytics&&proboards.analytics.google.send(e.pb_data[_key]);case"_plugin_data":proboards.plugin&&proboards.plugin._add_data&&proboards.plugin._add_data(e.pb_data[_key]);break;case"_user_ids_on_page":null!=proboards.data("_user_ids_on_page")&&proboards.data(_key,$.unique_array(proboards.data(_key).concat(e.pb_data[_key])));break;default:proboards.data(_key,e.pb_data[_key])}if("object"!=typeof e||null==e||"string"!=typeof e.error){if(null!=o)try{o.call(this,e,t,i)}catch(e){console.log("JS Error ",e.stack),proboards.error("JS Error: "+e)}}else null!=s?s.call(this,e,i,"servererror"):proboards.error(e.error)},r.error=function(e,t,i){r.ignorePending||proboards.active_ajax_calls--;var n=e.getResponseHeader("Content-Type");if(null!=n&&n.match(/json/))try{var o=$.parseJSON(e.responseText,{throwError:!0}),a="object"==typeof o&&null!=o.internal_server_error;null!=s?(a&&(proboards.error(o.error),o.error="Server Error"),s.call(this,o,e,t,i)):proboards.error(o.error)}catch(e){console.log(e),proboards.error("JS Error: "+e)}else null!=s?s.call(this,e.responseText):e.responseText?proboards.error(e.responseText):console.log(t,"An AJAX request may have been interrupted.",i,e)},r.complete=function(e,t){null!=i&&i.call(this,e,t)},$.ajax(r)},error:function(e){proboards.dialog("error-message",{title:"Error",html:e})},escape_html:function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}),"function"!=typeof proboards&&(proboards=function(){}),$.extend(proboards,{item:function(e,t,i,n){if("member"==e&&(e="user"),void 0===this.dataHash["proboards."+e]&&(this.dataHash["proboards."+e]={}),void 0!==n)void 0===this.dataHash["proboards."+e][t]&&(this.dataHash["proboards."+e][t]={}),this.dataHash["proboards."+e][t][i]=n;else{if(void 0===i)return void 0===this.dataHash["proboards."+e][t]?null:this.dataHash["proboards."+e][t];this.dataHash["proboards."+e][t]=i}},nl2br:function(e){return"string"!=typeof e?e:e.replace(/\r\n|\n|\r/g,"<br />")},nbsp:function(e){return"string"!=typeof e?e:e.replace(/\t/g,"    ").replace(/  /g,"&nbsp; ").replace(/  /g,"&nbsp; ")},mono:function(e){return"string"!=typeof e?e:proboards.nl2br(proboards.nbsp(proboards.escape_html(e)))},capitalize:function(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})},commify:function(e){return text=reverse(e).replace(/(\d{3})(?=\d)(?!\d*\.)/g,"$1,"),reverse(text)},console_log:function(e){for(var t=0;t<e.length;++t){var i=e[t];console.log("%c ProBoards Log: ","color: #000099",i.log)}},add_commified_numbers:function(e){for(var t=0,i=0;i<e.length;i++){var n=e[i];"string"==typeof n&&(n=parseInt(n.replace(",",""))),"number"==typeof n&&(t+=n)}return this.commify(t)},size:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},preload:function(e){$(e).each(function(){$("<img/>")[0].src=this})},dialog:function(e,t){var i=$("#"+e);if(i.length||(i=$('<div id="'+proboards.escape_html(e)+'"></div>'),$(document.body).append(i)),void 0!==t){null!=t.html&&i.html(t.html);var n=t.autoOpen;t.autoOpen=!1,t.title=proboards.escape_html(t.title),i.dialog(t),i.off("dialogopen.enter").on("dialogopen.enter",function(){proboards.dialogEnter(i,t.enterButton)}),void 0!==n&&!n||i.dialog("open")}return i.add(i.closest(".ui-dialog")).css("box-sizing","content-box"),i},dialog_toggle_buttons:function(e,t){var i=$("#"+e);if(i.length){var n=i.parents(".ui-dialog").find(".ui-dialog-buttonpane .ui-button");return"boolean"!=typeof t&&(t=!n.prop("disabled")),n.length&&n.prop("disabled",t),n}},dialogEnter:function(t,e){var i=t.data("dialog");if(i){var n=i.options.buttons;if(i.options.buttons){var o=$("input, select",t);if(0!=o.length){e=e&&e.toLowerCase();var a=null;if($.isArray(n)){if(!e&&n.length)a=n[0].click;else if(e)for(var r=1,s=n.length;r<s;r++)if(n[r].text&&n[r].text.toLowerCase()==e){a=n[r].click;break}}else if(e){for(var r in n)if(n.hasOwnProperty(r)&&r.toLowerCase()==e){a=n[r];break}}else for(var r in n)if(n.hasOwnProperty(r)){a=n[r];break}"function"==typeof a&&o.off("keyup.dialogenter").on("keyup.dialogenter",function(e){(e.keyCode?e.keyCode:e.which)==Keys.enter&&a.call(t)})}}}},confirm:function(e,t,i){return void 0!==(i=$.extend({modal:!1,onNo:function(){},onClose:function(){},title:"Confirm"},i)).width||$.browser.msie&&parseInt($.browser.version)<8||(i.width="auto"),proboards.dialog("confirmation",{title:i.title,html:e,width:i.width,modal:i.modal,buttons:{Yes:function(){$(this).dialog("close"),t()},No:function(){$(this).dialog("close"),i.onNo()}},open:function(){i.overlay&&$(this).data("overlay",$(document.body).overlay({css:{backgroundImage:"none",height:"100%",width:"100%",position:"fixed"}}))},close:function(){i.overlay&&$(this).data("overlay").remove(),"function"==typeof i.onClose&&i.onClose()}})},alert:function(e,t,i){void 0===t?(t=e,e="Alert"):void 0===i&&"object"==typeof t&&(i=t,t=e,e="Alert"),i=$.extend({title:e,html:t,buttons:{OK:function(){$(this).dialog("close")}}},i);proboards.dialog("alert",i)},loading:function(e,t){if(void 0===t){if(t=e)proboards.dialog("loading-dialog",{title:"Loading...",width:400,modal:!0,html:'<div style="text-align: center;padding: 50px 0;">'+proboards.processing_icon()+"</div>",open:function(e,t){$(".ui-dialog-titlebar-close",$(this).parent()).hide()}});else $("#loading-dialog").dialog("close")}else{var i=$(e);i.data("overlay")?i.data("overlay")&&(i.data("overlay").remove(),i.data("overlay",!1)):i.data("overlay",i.overlay())}},saving:function(e,n,o){proboards.loading($(e).closest(".content-container"),n),$(e).each(function(){var e=$(this),t=e.get(0).nodeName,i="INPUT"==t?"val":"BUTTON"==t?"text":"html";n?(e.data("original-text",e[i]()),e[i]("Saving..."),e.attr("disabled","disabled")):(e[i](e.data("original-text")),e.removeAttr("disabled"),void 0!==o&&"success"!==o||e.setStatus("saved",{position:"after"}))})},confirm_dialog:function(e,t,i,n,o){i=$.unique_array(i);var a="";a="users"==e?"forum Accounts":e;var r=e.substr(0,e.length-1),s=t.charAt(0).toUpperCase()+t.slice(1)+" "+a.charAt(0).toUpperCase()+a.substr(1,a.length-2)+(1!=i.length?"s":""),l=t;"e"==t.charAt(t.length-1)&&(l=t.substring(0,t.length-1)),l=l.charAt(0).toUpperCase()+l.slice(1)+"ing",$("#confirm-container").length||$(document.body).append('<div id="confirm-container"></div>'),proboards.dialog("confirm-container",{autoOpen:!1,width:620,title:s,buttons:[{text:s,id:"action-button",click:function(){$("#confirm-container form").submit()}}]}),$("#confirm-container").dialog("open"),$("#confirm-container").html('<div class="center pad-top-bottom-thick">'+proboards.processing_icon({alt:"Loading, "})+" Please Wait</div>"),$("#action-button").button("disable").addClass("ui-state-disabled"),proboards.ajax({url:proboards.route(r+"_confirm",{action:t}),dataType:"html",data:{"ids[]":i,data:o},success:function(e){$("#action-button").button("enable").removeClass("ui-state-disabled"),$("#confirm-container").html(e),$("#confirm-container form").bind("validated",function(e){return e.preventDefault(),$("#action-button").button("disable").addClass("ui-state-disabled"),proboards.ajax({url:$("#confirm-container form").attr("action"),data:$("#confirm-container form").serialize(),dataType:"json",success:function(e){$("#confirm-container").dialog("close"),void 0!==n&&n(e)}}),$("#confirm-container").html('<div class="center pad-top-bottom-thick">'+proboards.processing_icon({alt:"Loading, "})+l+"</div>"),!1}),$("#confirm-container").dialog("open")},error:function(e){$("#confirm-container").dialog("option","buttons",[{text:"Close",click:function(){$(this).dialog("close")}}]),void 0!==e&&""!=e?$("#confirm-container").html('<div class="center pad-top-bottom-thick">'+e+"</div>"):$("#confirm-container").html('<div class="center pad-top-bottom-thick">Error</div>')}})},select_dialog:function(e){var a=$.extend({title:"Selection",options:[],selected:[],max:0,labelTextType:"text",onComplete:function(){},id:"selectDialog",width:400,height:300},e),t="max-"+a.max,i=1!=a.max?[{text:"Select All",click:function(){$(this).find(":checkbox").attr("checked","checked")}},{text:"Select None",click:function(){$(this).find(":checkbox").removeAttr("checked")}},{text:"Done",click:function(){var e=[];$(this).find(":checkbox").each(function(){null!=$(this).attr("checked")&&e.push($(this).val())}),$(this).dialog("close"),a.onComplete(e)}}]:[],n=proboards.dialog(a.id,{autoOpen:!1,title:a.title,width:a.width,height:a.height,buttons:i,open:function(){$(this).addClass(t)},close:function(){$(this).removeClass(t)}}),r=function(e){for(var t="",i=0;i<e.length;++i){var n=e[i];if(t+="<li>",null!=n.header)t+="<h2>"+proboards.escape_html(n.header)+"</h2>";else{var o=$.unique_id(i);t+='<input type="checkbox" id="'+o+'" value="'+proboards.escape_html(n.value)+'" '+(-1!=$.inArrayLoose(n.value,a.selected)?'checked="checked"':"")+"> ",t+='<label for="'+o+'">'+("html"==a.labelTextType?n.label:proboards.escape_html(n.label))+"</label>",$.browser.msie&&(t+='<script type="text/javascript">$(\'label[for="'+o+'"] img\').click(function(e){e.preventDefault();var cb=$("#'+o+'");cb.attr("checked", !cb.attr("checked")).change();})<\/script>')}null!=n.options&&(t+="<ul>"+r(n.options)+"</ul>"),t+="</li>"}return t};n.html("<ul>"+r(a.options)+"</ul>");var o=$("input",n);if(1==a.max)$.browser.msie?o.css("width",0).css("margin",0).css("padding",0):o.hide(),o.change(function(e){n.dialog("close"),a.onComplete([$(this).val()])});else if(1<a.max){var s=0;o.change(function(e){$(this).is(":checked")?s>=a.max?$(this).removeAttr("checked"):++s:--s})}return n.dialog("open")},trimmable_list:function(e){var a=$.extend({options:[],selected:[],container:null,onChange:function(){},labelTextType:"text"},e),r=[];a.container&&(r=a.container.is("ul.trim-list")?a.container:$("> ul.trim-list",a.container)),r.length||(r=$('<ul class="trim-list"></ul>'),a.container&&a.container.append(r)),a.container||(a.container=r);var s={};$(".row",r).each(function(){s[$(this).idFromClass("row")]=!1});var l=function(e){for(var t=0;t<e.length;++t){var i=e[t];if(null!=i.value){var n=$(".row-"+i.value,r);if(-1!=$.inArrayLoose(i.value,a.selected))if(s[parseInt(i.value)]=!0,n.length)r.append(n);else{var o=$('<li class="row row-'+proboards.escape_html(i.value)+'"><label>'+("html"==a.labelTextType?i.label:proboards.escape_html(i.label))+'</label><div class="delete"><span></span></div></li>');r.append(o)}}null!=i.options&&l(i.options)}r.setEven()};for(id in l(a.options),s)s[id]||$(".row-"+id,r).remove();return $(".delete",r).unbind("click"),$(".delete",r).click(function(){var e=$(this).parents("li.row"),t=""+e.idFromClass("row"),i=$.inArrayLoose(t,a.selected);a.selected.splice(i,1),e.remove(),r.setEven(),a.onChange(a.selected)}),a.container},image_preview:function(e){function t(){proboards.dialog("image-preview",{title:"Image Preview",width:Math.min(i[0].width+5,$(window).width()-100),height:Math.min(i[0].height+56,$(window).height()-100),html:'<div style="text-align: center;margin-top: 2px;"></div>'}),$("#image-preview").css("padding","0px"),$("#image-preview > div").append(i)}var i=$("<img />").attr("src",e);i[0].complete?t():i.load(t)},code_editor:function(e){var t=$.extend({textarea:null,mode:"htmlmixed",tabMode:"indent",indentUnit:4,lineNumbers:!0,height:null,matchBrackets:!0,matchTags:!0,toMatchingTag:!0,styleActiveLine:!0,scrollbarStyle:"native",extraKeys:{"Ctrl-J":"toMatchingTag","Ctrl-/":"toggleComment"}},e);switch(t.mode){case"js":t.mode="javascript";break;case"html":t.mode="pbTemplate"}var i=$(t.textarea),n=i.parent(),o=i.is(":visible");o||$(document.body).append(i);var a=CodeMirror.fromTextArea(i.get(0),t),r=$(a.getWrapperElement()),s=$(a.getScrollerElement());return t.height&&(r.height(t.height),s.height(t.height)),o||($(n).append(i),setTimeout(function(){$(n).append(r)},1)),i.data("editor",a),r.data("editor",a),s.bind("mousewheel",function(e){var t=s.scrollTop(),i=s.get(0).scrollHeight-s.get(0).clientHeight,n=e.originalEvent.wheelDelta;(0<n&&0===t||n<0&&t===i)&&e.preventDefault()}),i.addClass("CodeMirror-textarea"),CodeMirror.controlsSetup(a),"function"==typeof t.onChange&&a.on("change",t.onChange),a},code_editor_style:null,cookie:function(e,t,i){if(void 0!==t){if("never"===(i=$.extend({},i)).expires&&(i.expires=18250),"number"==typeof i.expires){var n=i.expires;i.expires=new Date,i.expires.setDate(i.expires.getDate()+n)}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(i.expires?"; expires="+i.expires.toUTCString():"")+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":"")}for(var o=document.cookie.split("; "),a=0;a<o.length;++a){var r=o[a].split("=");if(r[0]===e)return decodeURIComponent(r[1])}return null},image_path:function(){return proboards.data("image_path")||"//storage.proboards.com/forum/images"},get_image:function(e){(e=$.extend(e,{})).src&&!e.src.match(/^(https?:)?\/\//)&&(e.src=proboards.image_path()+e.src);var i="<img ";return $.each(e,function(e,t){i+=proboards.escape_html(e)+'="'+proboards.escape_html(t)+'" '}),i+="/>"},help_icon:function(e){return void 0===e&&(e=""),$('<img class="help-icon" src="'+proboards.image_path()+'/admin/pbhelpicon.png">').attr("title",e).tipTip()},help_icon_plain:function(e){return e=$.extend(e,{src:"/admin/pbhelpicon.png",class:"help-icon"}),proboards.get_image(e)},processing_icon:function(e){return e=$.extend(e,{src:proboards.image_path()+"/loader/processing.gif"}),proboards.get_image(e)},is_valid_url:function(e){return $.check_url(e)},is_valid_image_url:function(e){return"url("==e.slice(0,4)&&(e=e.slice(5,-2)),!!/\.(gif|jp(?:e|g|eg)|a?png)$/i.test(e)&&$.check_url(e)},refresh_ads:function(e,t){if(window.__isSortableTest)t<250?googletag.cmd.push(function(){deployads.push(function(){deployads.gpt.pubadsRefresh()})}):googletag.pubads().clear();else{if(!window.pbtp)return this.refresh_ads_old(e,t);window.pbtp.s=t||0,"undefined"!=typeof adServer&&adServer.renderNewAdsForAdUnitCodes()}},refresh_ads_old:function(e,i){$(".pb-ads").each(function(){var e=$(this).clone(),t=e.attr("src");t=(t=t.replace(/&cb=[0-9\.]+/,"&cb="+Math.random())).replace(/&s=\d+/,"&s="+i),e.attr("src",t),$(this).replaceWith(e)})},instapost:function(e,t,i){if(e){i=i||{};var n=$('<form id="instapost" action="'+e+'" method="post"></form>');if(i.target&&n.attr("target",i.target),$("body").append(n),$.isArray(t)){var o={};$.each(t,function(e,t){o[t.name]=t.value}),t=o}(t=t||{}).csrf_token=proboards.data("csrf_token"),$.each(t,function(e,t){var i=$('<input type="hidden">').attr("name",e).val(t);n.append(i)}),n.submit()}},validateUnicode:function(e){return e=(e=e.replace(/[\uD800-\uDBFF]($|[^\uDC00-\uDFFF])/g,"$1")).replace(/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]/g,"$1")},reportAd:function(){$(".pb-ads").each(function(){var e=$(this).attr("src").split("#");$(this).attr("src",e[0]+"#adreport")})},consolidateParams:function(e){e&&0!=e.length||(e=["search","route","hash"]);for(var t={},i=[],n=0,o=e.length;n<o;n++)switch(e[n]){case"search":var a={},r=window.location.search;if(r&&"?"!=r){for(var s=0,l=i.length;s<l;s++)delete t[i[s]];i=[];for(var c=(p=r.substr(1).split("&")).length;c--;){var d=(f=p[c].split("="))[0],u=decodeURIComponent(f[1]);-1!=d.indexOf("[]")&&d.indexOf("[]")==d.length-2?(void 0===a[d]&&(t[d]=[],a[d]=1,i.push(d)),t[d].push(u)):t[d]=u}}break;case"route":$.extend(t,proboards.data("route").params);break;case"hash":a={};var h=window.location.hash;if(h&&"#"!=h){for(s=0,l=i.length;s<l;s++)delete t[i[s]];i=[];var p;for(c=(p=h.substr(1).split("&")).length;c--;){var f;d=(f=p[c].split("="))[0];if(2==f.length){u=decodeURIComponent(f[1]);-1!=d.indexOf("[]")&&d.indexOf("[]")==d.length-2?(void 0===a[d]&&(t[d]=[],a[d]=1,i.push(d)),t[d].push(u)):t[d]=u}}}}return t},guestsOnlineDialog:function(e){var t=$("#guests-online");t.length?t.dialog("open"):(proboards.loading(!0),proboards.ajax({url:e?proboards.route("board_guests",{board_id:e}):proboards.route("guests"),complete:function(){proboards.loading(!1)},success:function(e){if(e.ips){for(var t='<table><thead><tr><th class="name">IP Address</th></tr></thead><tbody>',i=0;i<e.ips.length;i++)t+='<tr><td class="name">'+e.ips[i]+"</td></tr>";t+="</tbody></table>",proboards.dialog("guests-online",{html:t,title:"Guests Online",width:200,height:400})}}}))},route:function(e,t){if(!proboards.routeMap||!proboards.routeMap[e])return"";var i=proboards.routeMap[e];for(var n in t)t.hasOwnProperty(n)&&(i=i.replace(":"+n,t[n]));return(proboards.data("insite_path")||"")+i},listManagers:{}}),window.onbeforeunload=function(e){return $('input[type="submit"]',this.element).removeAttr("disabled"),0<proboards.active_ajax_calls?"There are still some AJAX processes pending. If you leave the page now, you may lose any changes you have made.":proboards.unsaved_changes?"You are about to discard all changes.":void 0},$.event.props=$.event.props.join("|").replace("layerX|layerY|","").split("|"),$(document).ready(function(){if(!function(){window.console||(window.console={});function e(){}for(var t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=0;i<t.length;i++)window.console[t[i]]||(window.console[t[i]]=e)}(),"function"==typeof $.parseJSON){var o=$.parseJSON;$.parseJSON=function(e,t){var i=(t=$.extend({defaultValue:null,pbError:!0,throwError:!1},t)).defaultValue;try{i=o(e)}catch(e){var n="Some data could not be parsed. Refresh and try again.";if(t.throwError)throw n;t.pbError&&proboards.error(n)}return i}}var e=new Date,t=10*parseInt(e.getFullYear()/10,10),i=proboards.data("locale_settings")||{input_date_format:"%Y-%m-%d"},n=i.input_date_format;i.input_date_dp_format=n.replace("%Y","yy").replace("%m","mm").replace("%d","dd"),$("input.date").livequery(function(){var e={changeMonth:!1,changeYear:!1,dateFormat:i.input_date_dp_format,yearRange:t-50+":"+(50+t),onSelect:function(e,t){$(this).trigger("change")}};$(this).datepicker(e)}),$("input.time").livequery(function(){$(this).timepicker({onSelect:function(){$(this).trigger("change")}})}),$('#change_version_form input[name="path"]').attr("value",window.location.pathname),$("#pbn-bar-wrapper > img, #pbn-bar-wrapper-admin > img").click(function(e){var t=$("#pbn-bar");t.toggle(),t.is(":visible")?(t.css("display","inline-block"),$(this).attr("src",proboards.image_path()+"/button_collapse.png"),$(this).attr("alt",">")):($(this).attr("src",proboards.image_path()+"/button_expand.png"),$(this).attr("alt","<")),null!==proboards.data("user")&&proboards.data("user").is_logged_in&&proboards.ajax({url:proboards.route("pbn_bar_hide"),type:"post",data:{minimized:t.is(":visible")?0:1}})}),$(".request_headers.enable").on("click",function(){var e=$(this).attr("id"),t=["override=1"];"staff_enable_headers_footers"==e?t.push("noheaders=1"):"staff_enable_plugins"==e?t.push("noplugins=1"):"staff_enable_templates"==e?t.push("notemplates=1"):"staff_enable_css"==e?t.push("nocss=1"):"staff_enable_staff"==e?t.push("pbstaff=0"):"staff_enable_all_settings"==e?t=t.concat(["noheaders=1","noplugins=1","notemplates=1","nocss=1"]):"staff_switch_pbn_bar"==e&&t.push("pbn_user_bar=1");for(var i=window.location.href.split("?"),n=i[1].split("&"),o=n.length;o--;)0<=$.inArray(n[o],t)&&n.splice(o,1);n.length?window.location=i[0]+"?"+n.join("&")+"&override=1":window.location=i[0]+"?override=1"}),$(".request_headers.disable").on("click",function(){var e=$(this).attr("id"),t=window.location.href;-1!==t.indexOf("?")?t+="&":t+="?","staff_disable_headers_footers"==e?t+="noheaders=1":"staff_disable_plugins"==e?t+="noplugins=1":"staff_disable_templates"==e?t+="notemplates=1":"staff_disable_css"==e?t+="nocss=1":"staff_disable_staff"==e?t+="pbstaff=0":"staff_disable_all_settings"==e?t+="noheaders=1&noplugins=1&notemplates=1&nocss=1":"staff_switch_pbn_bar"==e&&(t+="pbn_user_bar=1"),window.location.href=t}),$("#staff_disable_specific_plugins").on("click",function(e){var t=$("#plugin-selection-dialog"),i="",n=window.location.href,o=/disable_plugins=([0-9]+(,[0-9]+)*,?)/.exec(n),a=[];o&&(a=o[1].split(",")),t.length?t.dialog("open"):(proboards.loading(!0),proboards.ajax({url:proboards.route("pb_staff_page_plugin_list"),data:{disabled_plugins:a},complete:function(){proboards.loading(!1)},success:function(e){proboards.dialog("plugin-selection-dialog",{width:600,height:600,html:e.html,title:"Plugins",buttons:[{text:"Disable Selected Plugins",click:function(){i=$("#plugin-disable-selection input:checkbox:checked").map(function(){return this.value}).get().join(","),-1!==(n=n.replace(/[\&|\?]disable_plugins=(([0-9]+(,[0-9]+)*,?)?)/i,"")).indexOf("?")?n+="&":n+="?",i&&(n+="disable_plugins="+i),window.location.href=n}}]})}}))});var a=new Date(proboards.data("serverDate")),r=proboards.data("timezone"),s=a.getTimezoneOffset()/-60;null!==proboards.data("user")&&proboards.data("user").is_logged_in&&!proboards.data("user").assimilated&&r!=s&&proboards.ajax({url:proboards.route("update_user_timezone"),data:{timezone:s},success:function(){proboards.data("timezone",s)}});var v=Date.parse((new Date).toUTCString())-Date.parse(a.toUTCString());$("abbr.time").livequery(function(){!function e(t){var i=parseInt($(t).attr("data-timestamp"));if(0==i||!$.isNumeric(i))return $(t).text("Not Available"),void $(t).attr("title","Not Available");var n=i+v,o=new Date;n=parseInt(n,10);var a=new Date(n),r=new Date(i),s=(n=$.datepicker.formatDate(proboards.data("time_style")?"d M yy":"M d, yy",r)+" at "+$.formatTime(proboards.data("military_time")?"HH:mm":"h:mmp",r),(o.getTime()-a.getTime())/6e4),l=(o.getTime()-a.getTime())/1e3;o.getTime(),r.getTime(),o.getTime(),r.getTime();if(s/60<24&&0<s?$(t).addClass("recent_time"):$(t).removeClass("recent_time"),l<-10)$(t).text(n);else if(l<30)$(t).text("a few seconds ago"),setTimeout(function(){e(t)},15e3);else if(s<1)$(t).text("less than a minute ago"),setTimeout(function(){e(t)},15e3);else if(s<60){var c=Math.floor(s)+" minute";2<s&&(c+="s"),c+=" ago",$(t).text(c),setTimeout(function(){e(t)},15e3)}else{var d=s/60;if(d<2)$(t).text("about an hour ago"),setTimeout(function(){e(t)},15e3);else if(d<24)$(t).text(Math.floor(d)+" hours ago"),setTimeout(function(){e(t)},15e3);else if(d/24<2){var u=parseInt($.formatTime("H",a)),h=parseInt($.formatTime("m",a)),p=parseInt($.formatTime("s",a)),f=parseInt($.formatTime("H",o)),m=parseInt($.formatTime("m",o)),g=parseInt($.formatTime("s",o));f<u||u==f&&m<h||u==f&&h==m&&g<p?$(t).text(n):($(t).text("yesterday at "+(proboards.data("military_time")?$.formatTime("HH:mm",r):$.formatTime("h:mmp",r))),setTimeout(function(){e(t)},15e3))}else $(t).text(n)}$(t).attr("title",r)}(this)});var l=parseInt($.browser.version);if($.browser.msie&&l<10&&($('textarea[placeholder]:visible, input[type!="password"][placeholder]:visible').livequery(function(){var e=$(this);e.off(".placeholder"),e.on("focus.placeholder",function(){var e=$(this);e.val()==e.attr("placeholder")&&e.hasClass("placeholder")&&(e.val(""),e.removeClass("placeholder"))}).on("blur.placeholder",function(){var e=$(this);""==e.val()&&(e.val(e.attr("placeholder")),e.addClass("placeholder"))}).closest("form").submit(function(){$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.hasClass("placeholder")&&e.val("")})}),$(this).prop("autofocus")||e.triggerHandler("blur")}),$('input[type="password"][placeholder]').each(function(){var e=$(this),t=e.attr("class"),i=document.createElement("input");i.id=e.attr("id"),i.class=t?t+" placeholder":"placeholder",i.type="text",i.name=e.attr("name")+"_temporary",i.value=e.attr("placeholder"),i.tabIndex=e.attr("tabindex"),e.hide().after(i),e.on("focusout",function(){""==$(this).val()&&($(this).hide(),$(i).show())}),$(i).on("focus",function(){$(this).hide(),e.show().focus()})})),$.browser.msie&&parseInt($.browser.version)<8){var c=1e3;$(".popup_html li").each(function(){$(this).css("z-index",--c)}),$("#nav-tree > li").each(function(){$(this).css("z-index",--c)});var d=$(".popup_html ul");d.css({left:"9999px"}).show(),$("> li > a",d).each(function(){var e=$(this);550<e.width()&&e.css({width:"550px",overflow:"hidden"})}),d.hide()}$("a.button").livequery(function(){$(this).attr("role","button")}),$(document).on("click",".guest-prompt",function(e){if(null!==proboards.data("user")&&proboards.data("user").is_logged_in)return!0;var t=window.location,i=proboards.data("register_url"),n=proboards.data("login_url"),o=[];n&&o.push("login"),i&&o.push("register");var a=o.join(" or "),r="You need to "+(a=a||"login or register")+" on this forum to post.",s=400;$(this).hasClass("members-link")&&(r="You need to "+a+" on this forum to view members.",s=435),e.preventDefault(),e.stopImmediatePropagation();var l=$(this).attr("alt")?$(this).attr("alt"):$(this).text();if(0==$("#registration-helper").length){var c='<div id="registration-helper">'+r+"</div>";$(document.body).append(c);var d=null;if(proboards.data("ext_reg_only"))d=function(e){window.location=e};else{var u=$('<form id="guest-helper" method="post"><input type="hidden" name="origin" /></form>').appendTo(document.body);d=function(e){u.attr("action",e).find('input[name="origin"]').val(t).end().submit()}}for(var h={login:{text:"Login",click:function(){d(n)}},register:{text:"Register",click:function(){d(i)}},cancel:{text:"Cancel",click:function(){$(this).dialog("close")}}},p=[],f=0,m=o.length;f<m;f++)p.push(h[o[f]]);p.push(h.cancel),proboards.dialog("registration-helper",{autoOpen:!1,width:s,buttons:p})}else $("#registration-helper").html(r),$("#registration-helper").dialog("option","width",s);return proboards.dialog("registration-helper",{title:l}),$("#registration-helper").dialog("open"),!1}),proboards.data("is_current_user_guest")&&!proboards.data("ext_reg_only")&&$("#welcome a").on("click",function(e){var t=null,i=$(this).attr("href"),n=window.location;return $("#guest-helper").length?t=$("#guest-helper"):(t=$('<form id="guest-helper" method="post"><input type="hidden" name="origin" /></form>'),$(document.body).append(t)),2!=e.which&&1!=e.ctrlKey||t.attr("target","_blank"),t.attr("action",i).find('input[name="origin"]').val(n).end().submit().removeAttr("target"),!1}),$("img.help-icon, img.tiptipify").tipTip({defaultPosition:"top"}),proboards.data("shoutbox_init")&&proboards.shoutbox.init(proboards.data("shoutbox_init")),$("#staff-debug").click(function(e){e.preventDefault(),window.open((proboards.data("insite_path")||"")+"/debug/requests","staff_debug","toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width=1000,height=596")}),$(".recent-threads-button").bind("click",function(e){var t=$("#recent-threads");e.preventDefault(),0==t.length?(proboards.loading(!0),proboards.ajax({url:proboards.route("participated_threads"),complete:function(){proboards.loading(!1)},success:function(e){t=proboards.dialog("recent-threads",{html:e,title:"Participated",width:575,height:363}),$(".dialog-fixed",t).insertBefore(t)}})):t.is(":visible")?t.dialog("close"):t.dialog("open")}),($.browser.msie&&parseInt($.browser.version)<=7?check_control_bar_ie:check_control_bar)(),$(".clickable").clickable(),$(".show-user .badge-thumb, .badges-have .badge-thumb, .badges-icons .badge-icon").live("click",function(e){e.preventDefault(),proboards.badge.summary($(this).idFromClass("user"),$(this).idFromClass("badge"))}),$("#mobile-switch").click(function(){var e=$('<form action="'+proboards.route("set_version")+'" method="post">\t<input type="hidden" name="path" value="'+proboards.route("home")+'" />\t<input type="hidden" name="version" value="mobile" /></form>');$(document.body).append(e),e.submit()}),$(".disable-maintenance-button").click(function(e){e.preventDefault(),proboards.shared.maintenance.dialog()}),$("head link").filter('[rel="prev"], [rel="next"]').length&&$("body").append('<div style="position: absolute; width: 1px; height: 1px; background-color: transparent;"></div>');try{sessionStorage&&(sessionStorage.removeItem("referrer"),document.referrer&&sessionStorage.setItem("referrer",document.referrer))}catch(e){}$("#pbn-bar #switch-account").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$('<form method="post"><input type="hidden" name="origin" /></form>').appendTo(document.body).attr("action",t).find('input[name="origin"]').val(window.location).end().submit()})}),$.fn.force_ie7_rerender=function(){$.browser.msie&&parseInt($.browser.version)<8&&$(this).hide().show()},function(p){p.fn.bind_first=function(t,i,n){return p(this).each(function(){p(this).bind(t,i,n);var e=p(this).data("events")[t];return e.unshift(e.pop()),p(this).data("events")[t]=e,this})},p.fn.progress_text=function(e){function t(){if(a[r]()==c){c=a[r]();var e=new Array(o+1).join(".")+new Array(n.dots-o+1).join(s);a[r](l+e),o==n.dots?o=0:++o}else clearInterval(i)}var i,n=p.extend({dots:3,tick:500},e),o=0,a=p(this),r=a.is("input")?"val":"html",s="val"==r?" ":"&nbsp;",l=a[r](),c=l;return i=setInterval(t,n.tick),t(),this},p.fn.isTextNode=function(){return 3==this.get(0).nodeType},p.fn.textNodes=function(){function e(){return 3==this.nodeType}return p(this).contents().filter(e).add(p(this).find("*").contents().filter(e))},p.fn.nextSelectable=function(e){var t=this;do{var i=t.parent().contents(),n=p.inArray(t.get(0),i);if(n<i.length-1){if(t=p(i.get(n+1)),p(t).text().length)return t}else t=t.parent()}while(t.length&&t.not("body"));return p("")},p.fn.prevSelectable=function(e){var t=this;do{var i=t.parent().contents(),n=p.inArray(t.get(0),i);if(0<n){if(t=p(i.get(n-1)),p(t).text().length)return t}else t=t.parent()}while(t.length&&t.not("body"));return p("")},p.fn.trimValue=function(){return p(this).val(p.trim(p(this).val()))},p.fn.arrayValue=function(e){return void 0!==e?(p(this).val(e.join(",")),p(this)):""===(e=p(this).val())?[]:e.split(",")},p.unique_array=function(e){for(var t={},i=[],n=0,o=e.length;n<o;++n)e[n]in t||(i.push(e[n]),t[e[n]]=1);return i},p.styleSupport=function(e){var t,i=["Moz","Webkit","O","ms"],n=document.createElement("div");if((e=p.camelCase(e))in n.style)t=e;else for(var o=0;o<i.length;o++){var a=e.charAt(0).toUpperCase()+e.slice(1),r=i[o]+a;if(r in n.style){t=r;break}}return n=null,t},p.tabinate=function(i){function n(e){return i.tabs.find('a[href="'+e.substr(0,e.length-4)+'"]').parent()}var o,a,r=i.tabs.find(">*:first a").attr("href")+"-tab";function e(){var e=1<window.location.hash.length?window.location.hash:r;if(o!=e||void 0===o){var t=n(e);t.length||(t=n(r)),t.click()}}i.tabs.children().click(function(e){e.preventDefault();var t=p(this).find("a").attr("href");a=i.tabs.children(".ui-active").children("a").attr("href"),i.tabs.children().removeClass("ui-active"),i.content.children(":not(.tab-ignore)").hide(),p(this).addClass("ui-active"),p(t,i.content).show(),i.useHash&&(window.location.hash=t+"-tab",o=window.location.hash,a+="-tab"),i.callback&&"function"==typeof i.callback&&i.callback(o?o.substr(1):null,a?a.substr(1):null)}),e(),i.useHash&&(p("html").is(".ie7")?setInterval(e,200):p(window).bind("hashchange",e))},p.fn.setEven=function(){var e=p(this).children();return e.removeClass("even"),e.filter(":odd").addClass("even"),p(this)},p.fn.autoSubmit=function(h){p.unique_id();return this.each(function(){var n=p.extend({url:"",statusElement:null,beforeSendData:function(){},beforeSend:function(){},send:null,success:function(){},wait:1500,statusTime:3e3,instantUpdate:null,skipElement:0},h),o=p(this),e=p(this).get(0).nodeName,t="INPUT"==e?o.attr("type").toLowerCase():"",a="TEXTAREA"==e||-1!=p.inArray(t,["text","password","number"]);a&&o.data("as-value",o.val());var r="INPUT"==e&&"radio"==t,s=n.instantUpdate;null==s&&(s="SELECT"==e||"INPUT"==e&&"checkbox"==t||"INPUT"==e&&"radio"==t),null==n.statusElement&&(n.statusElement=p('<span class="status-box '+o.attr("name")+'-status"></span>'),o.after(n.statusElement));var i=n.statusElement,l={display:"inline"};i.loadingStatus({loadingClass:"saved",loadingCss:l,successClass:"saved",successCss:l,successText:"Saved!",errorCss:l,saveDisplayTime:n.statusTime,errorDisplayTime:n.statusTime+1e3});var c=i.data("loadingStatus");function d(e,t){p(t).css("background",e),setTimeout(function(){p(t).css("background","white")},800)}var u=null!==n.send?n.send:function(){var i={},t=o.val();o.val()==o.attr("placeholder")&&o.hasClass("placeholder")&&(t=""),void 0===o.attr("type")||"checkbox"!=o.attr("type").toLowerCase()||o.attr("checked")||(t=0),i[o.attr("name")]=t,n.skipElement||c.setStatus("loading"),"function"==typeof n.beforeSendData&&n.beforeSendData.call(o,i),proboards.ajax({url:n.url,data:i,dataType:"json",beforeSend:function(e,t){i.error&&(proboards.active_ajax_calls--,n.skipElement||c.setStatus("error",i.error),e.abort())},success:function(e){n.skipElement?d("#57c566",n.backgroundClass):c.setStatus("success"),o.data("as-value",t),n.success.call(o,e)},error:function(e){n.skipElement?d("red",n.backgroundClass):c.setStatus("error","Error: "+e.error)}})};return o.bind(s?"change":"keyup",function(e){if(!r||o.is(":checked")){var t=o.data("as-value");if(!a||t!=o.val())if(s)u(o);else{null!=o.data("timeout")&&clearTimeout(o.data("timeout"));var i=setTimeout(function(){u(o)},n.wait);o.data("timeout",i)}}}),o}),this},p.fn.overlay=function(e,t){var i=p.extend(!0,{class:"js-overlay",includeMargins:!1,css:{backgroundColor:"#000000",backgroundImage:"url("+proboards.image_path()+"/loader/processing.gif)",backgroundPosition:"center center",backgroundRepeat:"no-repeat",opacity:.5,position:"absolute",zIndex:"1"}},e),n=p(this),o=n.outerHeight(i.includeMargins),a=n.outerWidth(i.includeMargins);i.css.height||(i.css.height=o),i.css.width||(i.css.width=a);var r=n.offset();!t&&r||(r={top:0,left:0}),p.extend(i.css,r);var s=p("<div></div>").addClass(i.class).css(i.css);return t?p(this).css("position","relative").append(s):p(document.body).append(s),s},p.unique_id=function(e){var t;for(void 0===e&&(e="");t=e+parseInt(1e7*Math.random()),p("#"+t).length;);return t},p.inArrayLoose=function(e,t,i){if("object"!=typeof t)return-1;for(void 0===i&&(i=0);i<t.length;++i)if(t[i]==e)return i;return-1},p.byteSize=function(e,t){var i="",n=Math.pow(10,t||0);return i=e<1024?"B":e<1048576?(e/=1024,"KB"):e<1073741824?(e/=1048576,"MB"):(e/=1073741824,"GB"),(e=parseInt(e*n)/n)+""+i},p.fn.idFromClass=function(e){if(void 0===e&&(e=""),void 0===p(this).attr("class"))return 0;var t=new RegExp(e+"-(\\d+)"),i=p(this).attr("class").match(t);return!!i&&parseInt(i[1])};var n=p.styleSupport("transform");p.cssHooks&&n&&"transform"!==n&&(p.cssHooks.transform={get:function(e,t,i){return p.css(e,n)},set:function(e,t){e.style[n]=t}}),p.fn.resizecomplete=function(i){return this.each(function(){var t=null;p(this).bind("resize",function(e){null!==t&&clearTimeout(t),t=setTimeout(function(e){i.call(this,e)},200)})}),this},p.fn.colorPickMe=function(o,a){return o=o||{},a=a||{},this.each(function(){var i=p(this);if(!i.data("colorPickerReady")){var e=p('<span class="style-wrapper color-picker-wrapper"></span>'),t=p('<span role="button" class="color-picker"><img src="'+proboards.image_path()+'/admin/themes/icons/color-picker.png"></span>'),n=p('<span class="color-picker-preview"></span>');i.wrap(e).after(t),n.css("background-color","#"+i.val()),i.before(n),i.data("colorPickerReady",!0),i.add(t).bind("click focus",function(){a=p.extend({autoUpdate:!1},a),i.colorPicker(a);i.colorPicker("option","update",function(e){i.val(e);var t="transparent"!=e?"#"+e:e;n.css("background-color",t),p(this).colorPicker("hide"),"function"==typeof o.update&&o.update.call(this,e)}),i.colorPicker("show")})}})},p.fn.autoRow=function(e){var t=e;this.each(function(){var o=p(this),a=p(".row-template",this),r=0,s=function(e){var t=a.clone().removeClass("row-template"),i=++r;t.data("index",i),t.html(t.html().replace(/{i}/g,'<span class="index">'+i+"</span>"));var n=p("input",t);if(n.bind("keyup keypress",function(){n.filter('[value=""]').length!=n.length&&t.data("index")==r&&s()}),n.bind("blur",function(){r==t.data("index")||t.data("deleting")||n.filter('[value=""]').length==n.length&&(n.unbind("keydown keypress"),t.nextAll().each(function(){p(this).data("index",p(this).data("index")-1),p("span.index",this).text(p(this).data("index"))}),t.fadeOut(),t.data("deleting",!0),--r)}),p(".delete",t).click(function(){r==t.data("index")||t.data("deleting")||(n.unbind("keydown keypress"),t.nextAll().each(function(){p(this).data("index",p(this).data("index")-1),p("span.index",this).text(p(this).data("index"))}),t.fadeOut(),t.data("deleting",!0),--r)}),"object"==typeof e)for(k in e)p('*[name="'+k+'"]',t).val(e[k]);t.hide().fadeIn(),o.append(t)};if(a.hide(),void 0!==t&&p.isArray(t))for(var e=0;e<t.length;++e)s(t[e]);s()})},p.fn.clickable=function(e){var r=(e=p.extend({event:"mousedown",itemType:null,eventNamespace:"clickable"},e)).itemType,s=e.event,t=e.eventNamespace;return p(this).off("."+t),p(this).on(s+"."+t,function(t){function e(e){3==t.which||(t.ctrlKey||t.metaKey||2==t.which?window.open(e,"_blank"):location.href=e)}var i=t.target;if(p(i).is("a")||p(i).is('input[type="checkbox"]')||p(i).hasClass("ui-label"))return!0;t.preventDefault(),t.stopImmediatePropagation();var n=p('a.target,input[type="checkbox"].target',this);if(n.length||(n=p('.target a,.target input[type="checkbox"]',this)),n.length||(n=p('a,input[type="checkbox"]',this)),n.length)if(n.is('input[type="checkbox"]'))n[n.is(":checked")?"removeAttr":"attr"]("checked","checked"),n.triggerHandler(s);else{var o=n.attr("href").replace(window.location.href.split("#")[0],"");void 0!==o&&""!=o&&"#"!=o?e(o):n.triggerHandler(s)}if(r){var a=proboards.item(r,listManagerPrototype.getItemId(i));if(null!=a)return e(a.url)}}),this},p.fn.pulse=function(e){if(e){var a=proboards.shared.hexToRgb(e).join(","),r=function(e,t,i,n,o){t+=i<t?-n:n,e.css("background-color","rgba("+a+","+t/100+")"),t!=i?setTimeout(function(){r(e,t,i,n,o)},20):o&&o.call(e)};return this.data("originalStyle",this.attr("style")||""),r(this,0,100,10),r(this,100,0,2.5,function(){this.attr("style",this.data("originalStyle"))}),this}},p.fn.targetBlank=function(e){(e.ctrlKey||e.metaKey||2==e.which)&&this.attr("target","_blank")},p.fn.replaceSelection=function(n){return p(this).each(function(){if(void 0!==this.selectionStart){var e=this.value.substring(0,this.selectionStart),t=this.value.substring(this.selectionEnd);this.value=e+n+t,this.selectionStart=e.length+n.length,this.selectionEnd=e.length+n.length}else if(void 0!==document.selection){p(this).focus();var i=document.selection.createRange();i.text=n,i.collapse(!1),i.select()}}),this}}(jQuery);var Keys={backspace:8,tab:9,enter:13,pause:19,caps:20,esc:27,space:32,page_up:33,page_down:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,del:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,numpad_4:100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,substract:109,decimal:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,shift:16,ctrl:17,alt:18,plus:187,comma:188,minus:189,period:190,modifies_text:function(e){return(e<37||40<e)&&(e<112||123<e)&&16!=e&&17!=e&&20!=e&&35!=e&&27!=e&&36!=e&&144!=e&&33!=e&&34!=e&&91!=e},moves_carat:function(e){return(e<112||123<e)&&16!=e&&17!=e&&20!=e&&27!=e&&144!=e&&91!=e}};$.pushStateSupport=function(){return"function"==typeof window.history.pushState},$.fn.setStatus=function(r,e){var s=$.extend({classTime:1400,message:"",position:"append",positionOn:null,text:"",textTime:1e3},e);!s.text&&r&&(s.text=r.substr(0,1).toUpperCase()+r.substr(1)),$(this).each(function(){var e=$(this),t=s.positionOn||e,i=e.data("status"),n=e.data("statusElem");i&&(n&&n.remove(),e.removeClass(i),clearTimeout(e.data("timeout1")),clearTimeout(e.data("timeout2"))),n=$('<span class="status-box"></span>'),t[s.position](n),n.html(s.text+(""!=s.message?": "+s.message:"")).addClass(r).hide().fadeIn();var o=setTimeout(function(){n.fadeOut()},s.textTime),a=setTimeout(function(){e.removeClass(r)},s.classTime);e.addClass(r),e.data("status",r),e.data("statusElem",n),e.data("timeout1",o),e.data("timeout2",a)})},$.fn.sortableList=function(e){var l=$.extend({container:"",onComplete:function(){},exclude:""},e),t=$(l.container),n={};$(this).click(function(){var a=$(this).attr("class").match(/^([a-z0-9\-_]+)/)[1],r=[],s="number";$("> .item",t).each(function(){var e=$(this);if(!e.is(l.exclude)){var t=parseInt(e.attr("id").match(/\d+/));if($.isNumeric(t)){var i="",n=$(">."+a,this),o=$("input,select,textarea",n);i=o.length&&o.is('[type="checkbox"]')?o.is(":checked")?1:0:o.length?o.val():n.text(),"number"!==s||$.isNumeric(i)||(s="color"),"color"===s&&!i.match(/^[0-9a-fA-F]{6}$/)&&i.length&&(s="string"),r.push({id:t,element:this,value:i})}}}),void 0===n[a]?n[a]="asc":n[a]="asc"===n[a]?"desc":"asc",r.sort(function(e,t){"string"===s?(e=(""+e.value).toLowerCase(),t=(""+t.value).toLowerCase()):"number"===s?(e=parseFloat(e.value),t=parseFloat(t.value)):"color"===s&&(e=(""+e.value).toLowerCase(),t=(""+t.value).toLowerCase());var i=0;return e<t?i=-1:t<e&&(i=1),i*("asc"==n[a]?1:-1)});for(var e=r.length-1;0<=e;--e)t.prepend(r[e].element);l.onComplete(this)})},$.fn.sliderTouchscreen=function(){var a=$(this);return $(".ui-slider-handle",a).on("touchstart",function(e){var t=a.width(),i=parseInt(a.offset().left),n=i+t;a.data("x-pos-min",i),a.data("x-pos-max",n)}).on("touchmove",function(e){var t=e.originalEvent.changedTouches[0].clientX,i=parseInt(a.data("x-pos-min")),n=parseInt(a.data("x-pos-max")),o=parseInt((t-i)/(n-i)*100);a.slider("value",o)}),a},function(){if($("html").is(".ie7")){var n={},o=null;n.getIframeHash=function(){return o?o.contents().get(0).location.hash||"#":""},n.updateIframe=function(e){var t=o&&o.contents().length?o.contents().get(0):null,i=t?t.location:null;t&&i&&(t.open().close(),i.hash=e)},o||$(document).ready(function(){var i=location.hash||"#";o=$('<iframe src="javascript:0" style="display:none" height="0" width="0" tabindex="-1" title="empty"></iframe>'),$("html").append(o),n.updateIframe(i);setInterval(function(){var e=null,t=location.hash||"#";t&&t!==i&&(e=!1),n.getIframeHash()!==i&&(e=!0),!1===e?(i=location.hash||"#",n.updateIframe(i)):!0===e&&(location.hash=n.getIframeHash(),i=location.hash||"#")},100)})}}(),function(e){e.fn.oldReady=e.fn.ready,e.fn.ready=function(t){return e.fn.oldReady.call(this,function(){try{t.apply(this,arguments)}catch(e){"undefined"!=typeof console&&console["function"==typeof console.error?"error":"log"]("An error occurred during a document.ready call: ",e.toString(),"\nWhile executing: ",t)}})}}(jQuery),$.extend(proboards,{shared:{manager:{summary_setup:function(e){var t=[],i=proboards.data("lm_id");if(i){$(".lm-content-"+i+" .item").each(function(){var e=$(this).attr("id").match(/[a-z]-(\d+)/i);try{t.push(e[1])}catch(e){}});var n=document.createElement("form");n.setAttribute("method","POST"),n.setAttribute("action",e);for(var o=0;o<t.length;o++){(a=document.createElement("input")).setAttribute("type","hidden"),a.setAttribute("name","summary_ids[]"),a.setAttribute("value",t[o]),n.appendChild(a)}var a,r=$('.quick-reply [name="message"]');if(r.length&&""!=r.val())(a=document.createElement("input")).setAttribute("type","hidden"),a.setAttribute("name","quick_message"),a.setAttribute("value",r.val()),n.appendChild(a);return(a=document.createElement("input")).setAttribute("type","hidden"),a.setAttribute("name","csrf_token"),a.setAttribute("value",proboards.data("csrf_token")||"null"),n.appendChild(a),document.body.appendChild(n),n}}},browser:{isIE:function(){return!!window.createPopup}},maintenance:{dialog:function(){var e=this,t="Are you sure you want to disable maintenance mode?";2==proboards.data("maintenance_mode")&&1==proboards.data("maintenance_auth")&&(t="Disabling maintenance mode will reset your monthly bill<br />limit and allow unlimited pageviews. You will be charged<br />for additional pageviews according to your chosen plan.<br /><br />"+t),proboards.confirm(t,function(){e.disable()},{title:"Maintenance Mode"})},disable:function(){proboards.ajax({url:proboards.route("disable_maintenance"),success:function(){$(".maintenance-header").remove()}})}},hexToRgb:function(e){0==e.indexOf("#")&&(e=e.substr(1)),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var t=e.match(/([a-f\d]{2})/gi);return 3!=t.length?null:3==t.length?[parseInt(t[0],16),parseInt(t[1],16),parseInt(t[2],16)]:null}}});var pbFileUpload={init:function(s,e){s=$.extend({selFileUploadWidget:"#fileupload",selImgPreview:".preview img",selWysiwygInput:"",enableDragAndDrop:!0,onDragEnter:function(){}},s),e=$.extend({url:proboards.route("attachment"),maxNumberOfFiles:1,maxFileSize:1048576,updateLimits:function(){}},e),s.enableDragAndDrop||(e.dropZone=null);var t={};s.selWysiwygInput&&(t.insertButton=!0,t.deleteButton=!0),$(document.body).append(this.getUploadTemplate()).append(this.getDownloadTemplate(t));var i=$(s.selFileUploadWidget);if(i.length){i.on("mousedown",s.selImgPreview,function(e){e.preventDefault(),e.stopPropagation()}),i.fileupload(e),s.selWysiwygInput&&i.on("click",".insert button",function(e){e.preventDefault(),e.stopPropagation();var t=$(s.selWysiwygInput).data("wysiwyg"),i=$(this).parents(".template-download"),n=parseInt(i.data("id")),o=i.data("name"),a=i.data("sizef"),r=i.data("thumbnail");t.execCommand("addAttachment",0,{id:n,filename:o,size:a,thumbnail:r})}).on("click",".delete button",function(e){e.preventDefault(),e.stopPropagation();var t=$(s.selWysiwygInput).data("wysiwyg"),i=$(this).parents(".template-download"),n=parseInt(i.data("id"));t.execCommand("removeAttachment",0,{id:n})});var n=$("fileupload-overlay");if(!n.length&&s.enableDragAndDrop){(n=$('                <div id="fileupload-overlay">                    <div>Drop files here to upload</div>                    <span id="file-overlay-cancel">X</span>                </div>            ').appendTo(document.body)).css({"background-color":"#BBBBBB",display:"none",height:"100%",left:0,position:"fixed",top:0,width:"100%","z-index":10001}).find("div").css({color:"#666666","font-size":"30px",height:"24px",left:"50%","margin-top":"-12px","margin-left":"-200px",position:"fixed","text-align":"center",top:"50%",width:"400px"});var o=$("span#file-overlay-cancel");o.css({color:"rgb(102, 102, 102)",top:"0",right:"0",position:"absolute","margin-top":"50px","margin-right":"60px","font-size":"25px","font-weight":"bold",cursor:"pointer"}),o.on("click",function(){r()})}if(s.enableDragAndDrop&&(-1==navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Chrome"))&&!$.browser.msie&&-1==navigator.userAgent.indexOf("Trident")){var a=!1,r=function(){n.stop().fadeOut(500)};$(document).bind("dragenter.attachments",function(e,t){return e.stopPropagation(),e.preventDefault(),"function"==typeof s.onDragEnter&&s.onDragEnter.call(i),n.stop().fadeTo(200,1),!1}),n.bind("dragleave.attachments",function(e,t){e.stopPropagation(),e.preventDefault(),a||setTimeout(r,200)}),$(document).bind("drop,mouseup",function(e,t){r()}),$("div",n).on("dragenter.attachments",function(e){e.stopPropagation(),e.preventDefault(),a=!0}).on("dragleave.attachments",function(e){e.stopPropagation(),e.preventDefault(),a=!1})}}},getDownloadTemplate:function(e){var t=3,i="";return(e=$.extend({insertButton:!1,deleteButton:!1},e)).insertButton&&(i+='<td class="insert"><button>Insert</button></td>',t++),e.deleteButton&&(i+='<td class="delete"><button>Delete</button></td>',t++),'            <script id="template-download" type="text/x-jquery-tmpl">\n                <tr                     class="template-download{{if error}} ui-state-error{{/if}}"                    data-id="${id}"                    data-name="${name}"                    data-sizef="${sizef}"                    data-thumbnail="${thumbnail_url}"                >\n                    <td class="preview">\n                        <img src="${thumbnail_url}" alt="Thumbnail Preview">\n                        <table class="no-preview"><tr><td>No Preview</td></tr></table>\n                    </td>\n                    {{if error}}\n                        <td colspan="'+(t-1)+'">\n                            <p>Unable to upload file ${name}.</p>\n                            <p class="error">\n                                {{if error === "maxFileSize"}}\n                                    Error: File is too big\n                                {{else error === "uploadedBytes"}}\n                                    Error: Uploaded bytes exceed file size\n                                {{else error === "emptyResult"}}\n                                {{else}}\n                                    Error: {{html error}}\n                                {{/if}}\n                            </p>\n                        </td>\n                    {{else}}\n                        <td class="name">\n                            <span style="vertical-align:middle;">\n                                ${name}\n                                <input type="hidden" name="attachment_ids[]" value="${id}" />\n                                <div class="ui-progressbar">\n                                    <div class="ui-progressbar-complete"></div>\n                                </div>\n                            </span>\n                        </td>\n                        <td class="size">\n                            ${sizef}\n                        </td>\n'+i+"\n                    {{/if}}\n                </tr>\n            <\/script>        "},getUploadTemplate:function(){return'            <script id="template-upload" type="text/x-jquery-tmpl">\n                <tr class="template-upload{{if error}} ui-state-error{{/if}}">\n                    <td class="preview">\n                        <table class="no-preview"><tr><td>No Preview</td></tr></table>\n                    </td>\n                    {{if error}}\n                        <td colspan="4">\n                            <p>Unable to upload file ${name}.</p>\n                            <p class="error">\n                                {{if error === "maxFileSize"}}\n                                    Error: File is too big\n                                {{else error === "minFileSize"}}\n                                    Error: File is too small\n                                {{else error === "acceptFileTypes"}}\n                                    Error: Filetype not allowed\n                                {{else error === "maxNumberOfFiles"}}\n                                    Error: Max number of files exceeded\n                                {{else}}\n                                    Error: ${error}\n                                {{/if}}\n                            </p>\n                        </td>\n                    {{else}}\n                        <td class="name">                            ${name}<div class="progress"></div>\n                        </td>\n                        <td class="size">\n                            ${sizef}\n                        </td>\n                        <td class="cancel">\n                            <button>Cancel</button>\n                        </td>\n                        <td class="start" colspan="2">\n                            <button>Start</button>\n                        </td>\n                    {{/if}}\n                </tr>\n            <\/script>        '}},ANALYTICS_DEBUG=!1;$.extend(proboards,{analytics:{google:{getClientId:function(){if("function"==typeof ga){var t="";return ga(function(e){t=e.get("clientId")}),t}ANALYTICS_DEBUG&&console.log("Google analytics not loaded.")},send:function(e){"function"==typeof ga?e&&($.isArray(e)||(e=[e]),$.each(e,function(e,t){if("object"==typeof t){var i="send";t.trackerName&&(i=t.trackerName+"."+i),"pageview"===t.hitType?(ga(i,"pageview"),ANALYTICS_DEBUG&&console.log(">>> Pageview Sent",t)):"event"===t.hitType&&null!=t.eventCategory&&null!=t.eventAction&&(ga(i,t),ANALYTICS_DEBUG&&console.log(">>> Event Sent",t))}})):ANALYTICS_DEBUG&&console.log("Google analytics not loaded.")}}}}),$(document).ready(function(){var e=proboards.data("_google_analytics_events");proboards.analytics.google.send(e)});var AUTOSAVE_THRESHOLD=900,AUTOSAVE_NEW_THREAD=1,AUTOSAVE_THREAD_REPLY=2,AUTOSAVE_QUICK_REPLY=3,AUTOSAVE_NEW_CONV=4,AUTOSAVE_CONV_REPLY=5,AUTOSAVE_CONV_QUICK_REPLY=6;$.extend(proboards,{autosave:{options:{type:0,id:0,subject:"",message:"",oldSubVal:"",oldMessVal:"",mode:"",defaultMode:"",charCount:0,maxChar:100,saved:!1,noDialog:!1,lsKey:location.host+"_draft"},init:function(e){var t=this;if("undefined"!=typeof Storage){if((t.options.type=e)!=AUTOSAVE_NEW_THREAD&&e!=AUTOSAVE_NEW_CONV||this.bindAutosave($('input[name="subject"]'),!0,null),e!=AUTOSAVE_QUICK_REPLY&&e!=AUTOSAVE_CONV_QUICK_REPLY){if(void 0===this.options.retriesLeft&&(this.options.retriesLeft=3),2!=$(".editor.visual-editor iframe, .editor.bbcode-editor textarea").length&&this.options.retriesLeft--)return setTimeout(function(){t.init(e)},500);this.bindAutosave($(".editor.visual-editor iframe").contents(),!1,!0),this.bindAutosave($(".editor.bbcode-editor textarea"),!1,!1)}else this.bindAutosave($(".quick-reply .message textarea"),!1,!1);if(1==proboards.data("no_dialog")&&(t.options.noDialog=!0),proboards.data("message_mode")&&(t.options.defaultMode=proboards.data("message_mode")),!t.options.noDialog){var i=null;e!=AUTOSAVE_QUICK_REPLY&&e!=AUTOSAVE_CONV_QUICK_REPLY||(i="bbcode"),this.load(i)}proboards.data("autosave_override")&&t.runAutosave(t.options.defaultMode,!0)}},bindAutosave:function(e,t,i){var n=this;e.bind("keypress",function(){n.options.charCount++,n.options.saved||(n.options.saved=!0,t?(n.options.oldSubVal=e.val(),"block"==$(".editor.visual-editor").css("display")?(n.options.mode="visual",n.options.oldMessVal=$(".editor.visual-editor iframe").contents().find("body").html()):(n.options.mode="bbcode",n.options.oldMessVal=$(".editor.bbcode-editor textarea").val())):n.options.type!=AUTOSAVE_QUICK_REPLY&&n.options.type!=AUTOSAVE_CONV_QUICK_REPLY&&i?(n.options.mode="visual",n.options.oldMessVal=e.find("body").html()):(n.options.mode="bbcode",n.options.oldMessVal=e.val()),autosaveOp=setTimeout(function(){n.runAutosave()},1500))})},runAutosave:function(e,t){var i=this,n=i.options.type;if("bbcode"!=e&&"visual"!=e||(i.options.mode=e),!proboards.data("submitting")){var o,a,r="";if(n!=AUTOSAVE_NEW_THREAD&&n!=AUTOSAVE_NEW_CONV||(o=$('input[name="subject"]').val()),n!=AUTOSAVE_QUICK_REPLY&&n!=AUTOSAVE_CONV_QUICK_REPLY?"visual"==i.options.mode?(a=$(".editor.visual-editor iframe").contents().find("body").html(),r=$(".editor.visual-editor iframe").contents().find("body").text()):a=$(".editor.bbcode-editor textarea").val():a=$(".quick-reply textarea").val(),a.match(/^\s*$/)||"visual"==i.options.mode&&r.match(/^\s*$/))i.options.saved=!1;else{if(i.options.charCount<i.options.maxChar&&!t)if(n==AUTOSAVE_NEW_THREAD||n==AUTOSAVE_NEW_CONV){if(i.options.oldSubVal!=o||i.options.oldMessVal!=a)return i.options.oldSubVal=o,i.options.oldMessVal=a,void(autosaveOp=setTimeout(function(){i.runAutosave()},1500))}else if(i.options.oldMessVal!=a)return i.options.oldSubVal=o,i.options.oldMessVal=a,void(autosaveOp=setTimeout(function(){i.runAutosave()},1500));var s=i.getTypeId();if(n==AUTOSAVE_NEW_CONV||null!=s){i.options.id=s,i.options.subject=o,i.options.message=a;var l=i.options.lsKey;n!=AUTOSAVE_QUICK_REPLY&&n!=AUTOSAVE_CONV_QUICK_REPLY||n--;var c={type:n,affected_id:i.options.id,subject:i.options.subject,message:i.options.message,mode:i.options.mode,time:parseInt((new Date).getTime()/1e3)};localStorage[l]=JSON.stringify(c),i.options.charCount=0,i.options.saved=!1}}}},getTypeId:function(){var e=this.options.type;return e==AUTOSAVE_NEW_THREAD?proboards.data("page").board.id:e==AUTOSAVE_THREAD_REPLY||e==AUTOSAVE_QUICK_REPLY?proboards.data("page").thread.id:e==AUTOSAVE_CONV_REPLY||e==AUTOSAVE_CONV_QUICK_REPLY?proboards.data("page").conversation.id:null},load:function(e){var t=this.options.lsKey;if(null!=localStorage[t]){var i=$.parseJSON(localStorage[t]);if(i&&!(parseInt((new Date).getTime()/1e3)-i.time>AUTOSAVE_THRESHOLD)){var n=proboards.data("type");if(n!=AUTOSAVE_QUICK_REPLY&&n!=AUTOSAVE_CONV_QUICK_REPLY||n--,i.type==n&&this.getTypeId()==i.affected_id){var o=e||this.options.defaultMode;this.dialogSetup(i.subject,i.message,i.mode,o)}}}},clear:function(){"undefined"!=typeof localStorage&&localStorage.removeItem(this.options.lsKey)},dialogSetup:function(n,e,t,i){function o(e,t){var i=$('<div id="autosave"><p>We found a recent draft that you were working on.  Would you like to restore it?</p></div>');n&&i.append('<div class="as-wrapper"><div class="subject-header">Subject:</div><div class="subject"></div></div><br />'),i.append('<div class="as-wrapper"><div class="message-header">Message:</div><div class="message"></div></div>'),i.find(".subject").text(n),i.find(".message").html(e),$("body").append(i),proboards.dialog("autosave",{title:"Load Draft",autoOpen:!0,width:585,height:250,buttons:[{text:"Yes",click:function(){if($(".quick-reply .message textarea").length)return $(".quick-reply .message textarea").val(t),void $(this).dialog("close");null!=n&&$('input[name="subject"]').val(n),"block"==$(".editor.visual-editor").css("display")?$(".editor.visual-editor iframe").contents().find("body").html(t):$(".editor.bbcode-editor textarea").val(t),$(this).dialog("close")}},{text:"No",click:function(){a.clear(),$(this).dialog("close")}}]})}var a=this,r="",s="",l=proboards.data("nosmiles");t!=i?"bbcode"==i?proboards.ajax({url:proboards.route("filter_html2bbcode"),data:{html:e,nosmiles:l},success:function(e){r=(r=(r=(r=e.bbcode).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/\n/g,"<br>"),s=e.bbcode,o(r,s)}}):proboards.ajax({url:proboards.route("filter_bbcode2html"),data:{bbcode:e,nosmiles:l},success:function(e){r=e.html,s=e.html,o(r,s)}}):"visual"==i?proboards.ajax({url:proboards.route("filter_html2bbcode2html"),data:{html:e,nosmiles:l},success:function(e){r=e.html,s=e.html,o(r,s)}}):(r=(r=(r=(r=e).replace(/>/g,"&gt;")).replace(/</g,"&lt;")).replace(/\n/g,"<br>"),o(r,s=e))}}}),$.extend(proboards,{badge:{_summary_cache:{},summary:function(i,n){$(".badge-summary").dialog("close");var o=n+"-"+i;if($("#badge-summary-"+o).length)return $("#badge-summary-"+o).dialog("open");proboards.loading(!0),proboards.ajax({url:proboards.route("badge_summary",{user_id:i,badge_id:n}),data:{hide_checkboxes:0<$('input[name="profile_badges[]"]').length?1:0},complete:function(){proboards.loading(!1)},success:function(e){var t=proboards.dialog("badge-summary-"+o,{width:500,height:350,title:"Badge Summary",html:e}).addClass("badge-summary");$('.display-settings input[type="checkbox"]',t).autoSubmit({url:proboards.data("badge_stack_edit_url"),success:function(e){var t=$(this).is(":checked"),i="display_profile"===$(this).attr("name"),n="badge-"+(i?"thumb":"icon"),o=i?$(".show-user"):$(".mini-profile");$(".badge-"+$(this).data("badge_id")+".user-"+$(this).data("user_id")+"."+n,o).each(function(){$(this).toggle(t);var e=$(this).closest(i?".badge-thumbs":".badge-icons");e.toggle(0<$("."+n+":visible",e).length)})}}).data("badge_id",n).data("user_id",i),$('.gifter input[type="checkbox"]',t).autoSubmit({url:proboards.data("badge_edit_url")}),$('.gifter input[type="checkbox"], .display-settings input[type="checkbox"]',t).each(function(){$(this).next().next().after($(this).next())}),$(".badge-use-action",t).click(function(e){e.preventDefault(),t.dialog("close"),proboards.badge.action.dialog(n)}),$(".badge-gift",t).click(function(e){e.preventDefault(),t.dialog("close"),proboards.badge.gift.dialog(n,i)})}})},action:{dialog:function(a,e){$(".badge-action").dialog("close");var r="badge-action-"+a+(e?"-"+e:""),s=$("#"+r);if(s.length)return s.dialog("open");var l=e;proboards.loading(!0),proboards.ajax({url:proboards.route("badge_action_prepare",{badge_id:a}),data:e?{user_id:e}:{},complete:function(){proboards.loading(!1)},success:function(e){s=proboards.dialog(r,{width:600,title:"Use Action",html:e,buttons:{"Use Action":function(){var e=$('input[name="user_search_box_input"]',this).val();void 0===l&&/^\s*$/.test(e)||(proboards.loading(!0),c.call(this,a,$("select",this).val(),l,e,$("textarea",this).val()))}}}).addClass("badge-action");var t=$.unique_id("user-search"),i=$("<div></div>").attr("id",t),n=$('<input name="user_id" type="hidden" />'),o=$(".user-search",s);o.append(i).append(n),proboards.search.create_user_search({container:i,input:n,results:proboards.data("user_search_results"),change:function(e,t){l=t.ids[0]},formId:"",limit:1,checkedHash:{},isPendingList:0,currentUser:o.hasClass("self_action")?0:proboards.data("user").id,showExisting:1,showAdded:1,searchBox:1,allowManualInput:!0})}});var c=function(t,e,i,n,o){var a=$(this);proboards.ajax({url:proboards.route("badge_action",{badge_id:e}),data:{badge_id:e,user_id:i,user_search_box_input:n,message:o},complete:function(){proboards.loading(!1)},success:function(e){a.dialog("close"),a.remove(),proboards.alert("Success",e.message,{close:function(){window.location.reload(!0)},modal:!0}),s.remove(),$("#badge-summary-"+t+"-"+i).remove()}})}}},gift:{options:{dialogId:"badge-gift-dialog",dialogTitle:"Give Gift",height:"auto",width:"430px"},dialog:function(a,r){var n=this.options.dialogId;proboards.loading(!0),proboards.dialog(n,{title:this.options.dialogTitle,autoOpen:!1,buttons:{"Give Gift":function(){var i=$(this),e=(i.parent(),$("#badge-select",i).val()),t=$('input[name="recipient_id"]',i).val(),n=$('input[name="user_search_box_input"]',i).val(),o=$("#badge-dialog-textarea",i).val();if(""==t&&/^\s*$/.test(n))return $.inputError($(".user-search-input",i),"Select a recipient."),!1;proboards.loading(!0),proboards.ajax({url:proboards.route("gift_send"),data:{user_badge_id:e,recipient_id:t,user_search_box_input:n,message:o},complete:function(){proboards.loading(!1)},success:function(e){$(".user-link",i).on("click",function(){1==proboards.unsaved_changes&&(proboards.unsaved_changes=0)}),i.dialog("close");var t='<p class="center">Gift was successfully sent to '+e.profile+".</p>";proboards.alert("Success",t,{close:function(){window.location.reload(!0)},modal:!0}),$("#badge-action-"+a).remove(),$("#badge-summary-"+a+"-"+r).remove()}})}},height:this.options.height,width:this.options.width,open:function(){proboards.unsaved_changes++},close:function(){proboards.unsaved_changes--,$.clearInputError()}}),proboards.ajax({url:proboards.route("gift_dialog"),data:{user_id:r,badge_id:a},complete:function(){proboards.loading(!1)},success:function(e){var a=$("#"+n);a.html(e);var t=$("#gift-recipient-searchbox",a),i=$('input[name="recipient_id"]',a);proboards.search.create_user_search({container:t,input:i,change:function(e,t){i.val(t.itemData.id).change()},currentUser:r,searchBox:1,limit:1,allowManualInput:!0}),$("#badge-select",a).on("change",function(){var e=proboards.data("regift_action_data"),t="",i=$(this).val(),n=e[i].regifts_left;255==n?t+=" The badge will always be regiftable.":n-1==0?t+=" The badge will no longer be regiftable.":(n--,t+=" The badge will be regiftable "+(n+=1!=n?" more times":" more time")+".");var o=e[i].actions_left;255==o?t+=" This badge has unlimited actions.":0!=o&&(t+=" This badge has "+(o+=1!=o?" actions left":" action left")+"."),a.data("badgeActions",e[i].actions_left),$("#badge-extra-notes",a).text(t)}).trigger("change"),a.dialog("open")}})}}}}),proboards.board={select:function(e,t){function i(){var e=$(this);if($("input",e).prop("disabled",!1).prop("checked",!1),$.isArray(a.disabledIds))for(var t=a.disabledIds,i=0,n=t.length;i<n;i++){var o=e.find('input[value="'+t[i]+'"]');o.prop("disabled",!0),o.attr("title","This board has already been selected.")}}var n=e||function(){},a=$.extend({id:"board_listing",multiSelect:!1,accessible:!0,title:"Select Board",prepend:"",useExisting:!1,disabledIds:null,mimicGuest:!1},t),o={accessible:a.accessible?1:0,mimic_guest:a.mimicGuest?1:0},r=null,s=a.id;r=a.multiSelect?(o.multi_select=1,{"Select All":function(){$(this).find(":checkbox").not(":disabled").prop("checked",!0)},"Select None":function(){$(this).find(":checkbox").not(":disabled").prop("checked",!1)},Done:function(){var e=[],t=[];$('input[name="board_id"]:checked',this).each(function(){e.push($(this).val()),t.push($(this).next().text())}),0<e.length&&($(this).dialog("close"),n(e,t,$("#remember-board").prop("checked")))}}):{Select:function(){var e=$('input[name="board_id"]:checked',this),t=e.val(),i=e.next().text();null!=t&&($(this).dialog("close"),n(t,i,$("#remember-board").prop("checked")))}},$("#"+s).length&&a.useExisting?i.call($("#"+s).dialog("open")):(proboards.loading(!0),proboards.ajax({url:proboards.route("admin_board_list"),data:o,success:function(e){a.prepend&&(e=a.prepend+e);var t=proboards.dialog(s,{dialogClass:"board-listing",title:a.title,html:e,height:350,width:500,buttons:r});void 0!==a.remember&&t.nextAll(".ui-dialog-buttonpane").prepend('<span class="button-text"><input id="remember-board" type="checkbox" '+(a.remember?"checked ":"")+'/><label for="remember-board">&nbsp;Remember my choice</label></span>'),i.call(t)},complete:function(){proboards.loading(!1)}}))}},$.extend(proboards,{calendar:{init:function(i){var n=this,o=["January","February","March","April","May","June","July","August","September","October","November","December"];i.type=proboards.data("calendar_list_view")?"list":"calendar",this.calendar_selectMenu=$(".select_calendar_type").selectMenu({status:"View "+i.type.charAt(0).toUpperCase()+i.type.substr(1),staticStatus:!1,beforeShow:function(){"list"==i.type?($(this).menu("hideOption","type_list"),$(this).menu("showOption","type_calendar")):($(this).menu("showOption","type_list"),$(this).menu("hideOption","type_calendar"))},menuOptions:{click:function(e,t){i.type=$(t.item).attr("class").substr(5),n.jumpToMonth(i.type,i.month,i.year)}}}),this.month_selectMenu=$(".select_calendar_month").selectMenu({status:o[i.month-1],staticStatus:!1,menuOptions:{click:function(e,t){i.month=$(t.item).attr("class").substr(6),$(this).next().find(".status").text(o[i.month-1])}}}),this.year_selectMenu=$(".select_calendar_year").selectMenu({status:i.year,staticStatus:!1,menuOptions:{click:function(e,t){i.year=$(t.item).attr("class").substr(5),$(this).next().find(".status").text(i.year)}}}),$(".calendar_go_button").show().click(function(){n.jumpToMonth(i.type,i.month,i.year)})},set_date:function(e){e.day||(e.day=1),this.date=e.year+"-"+(e.month<10?"0"+e.month:e.month)+"-"+(e.day<10?"0"+e.day:e.day)},set_board_tree:function(e){this.board_tree=e},new_event:function(e){var t=this;e=e||this.date,proboards.data("new_event_date",e);proboards.data("locale_settings").input_time_format;var i=t.$newEventDialog;i?i.dialog("open"):proboards.ajax({url:proboards.data("calendar_event_dialog_url"),dataType:"html",success:function(e){t.$newEventDialog=proboards.dialog("calendar-new-event-dialog",{html:e,autoOpen:!0,width:620,height:420,title:"Add Calendar Event",buttons:{"Create Event":function(){$("form",this).submit()},Cancel:function(){$(this).dialog("close")}},create:function(){var e=$(this),n=$('input[name="start_date"]',this),o=$('input[name="end_date"]',this),a=$('input[name="start_time"]',this),r=$('input[name="end_time"]',this),s=$('input[name="all_day_event"]',this);n.on("change",function(){o.data("edited")||o.val($(this).val())}),o.add(r).on("change",function(){o.data("edited",!0)}),s.bind("change",function(){$(".event-hours").toggle(!$(this).prop("checked"))});var t=proboards.data("locale_settings");$("form",this).form({submit:function(){var e=s.prop("checked")?n.add(o):n.add(o).add(a).add(r),t=$('input[name="board_id"]:checked').val(),i=proboards.data("new_thread_url").replace(":board_id",t)+"?"+e.serialize();return location.href=i,!1},validations:[{field:"board_id",name:"exists",opts:{},message:"You must select a board."},{field:"start_date",name:"exists",opts:{},message:"You must provide an event date."},{field:"end_date",name:"exists",opts:{},message:"You must provide an end date."},{field:"start_date",name:"date_format",opts:$.extend({},t,{if_exists:"start_date"}),message:"Invalid date format for the event date."},{field:"end_date",name:"date_format",opts:$.extend({},t,{if_exists:"end_date"}),message:"Invalid date format for the end date."},{field:"start_time",name:"exists",opts:{if_not_exists:"all_day_event"},message:"You must provide an event time."},{field:"end_time",name:"exists",opts:{if_not_exists:"all_day_event"},message:"You must provide an end time."},{field:"start_time",name:"time_format",opts:{if_exists:"start_time",if_not_exists:"all_day_event"},message:"Invalid time format for the event date."},{field:"end_time",name:"time_format",opts:{if_exists:"end_time",if_not_exists:"all_day_event"},message:"Invalid time format for the end date."},{field:"end_date",name:"date_range",opts:$.extend({},t,{if_exists:["has_event","all_day_event"],fields:["start_date"]}),message:"The end date cannot be before the start date."},{field:"end_date",name:"date_and_time_range",opts:$.extend({},t,{if_exists:"has_event",if_not_exists:["all_day_event"],fields:["start_date","start_time","end_time"]}),message:"The end date and time must be after the start date and time."}]}),e.data("inputs",{startDate:n,endDate:o,startTime:a,endTime:r,allDayEvent:s})},open:function(){var e=$("#calendar-new-event-dialog").data("inputs"),t=proboards.data("new_event_date");t=t.replace("-","/");var i=new Date(t);e.allDayEvent.prop("checked",!0).trigger("change"),e.endDate.data("edited",!1);var n=function(){if(!e.startDate.is(".hasDatepicker")||!e.endDate.is(".hasDatepicker"))return setTimeout(n,250);e.startDate.datepicker("setDate",i),e.endDate.datepicker("setDate",i),e.startDate.blur().datepicker("hide")};n()}})}})},jumpToMonth:function(e,t,i){location.href=proboards.data("list"==e?"calendar_list_url":"calendar_month_url").replace(":month",t).replace(":year",i)}}}),$.extend(proboards,{captcha:{options:{},init:function(n){var A=0==jQuery.ui.version.indexOf("1.8")?"form":"ui-form";({options:{},init:function(){var p=this;$.extend(p.options,n);var f=p.options,m=$("#"+f.form_id),g="captcha_challenge",v="captcha_response";p.captchaLoaded=!1;var b=f.captcha_errors&&f.captcha_error_origin===f.captcha_id;if(p.errors=b,f.mobile||f.integrated||(p.captchaDialog=m.data("dialog"),void 0===p.captchaDialog&&(p.captchaDialog=proboards.dialog(f.captcha_container_id,{height:"auto",width:"340px",modal:!0,autoOpen:!1,title:"Please prove you are human:",buttons:{Submit:function(){m.trigger("submit",["formSubmit"])}},open:function(){$(document).bind("keydown.captcha",function(e){13==e.which&&m.trigger("submit",["formSubmit"])}),$("input","#"+f.captcha_container_id).prop("disabled",!1)},close:function(){$(document).unbind("keydown.captcha"),$('input[type="submit"]',m).add(".ui-dialog-buttonset button","#"+f.captcha_container_id).removeData("form.disabled").prop("disabled",!1),$("input","#"+f.captcha_container_id).prop("disabled",!0)}}),p.captchaDialog.css("padding","10px"),m.data("dialog",p.captchaDialog))),f.mobile&&p.run_on_captcha_load(function(){p.renderMobileRecaptcha(f.captcha_container_id)}),m.bind("captcha-submit",function(e,t,i){void 0===i&&(i={});var n=!1,o=!1,a=!1;switch(t){case"pageLoad":n=!0;break;case"captchaLoad":o=!0;break;case"formSubmit":a=!0;break;default:o=!0}if(10<=f.attempts)return $("input",m).attr("disabled","disabled"),$('input[type="submit"], .button',m).hide(),void(i.value=!1);if(p.options.mobile){if("function"==typeof f.custom_submit)return void(i.value=f.custom_submit())}else{var r="",s="",l=m.data(A),c=!1;if(!f.integrated&&l&&(c=proboards.form.isValidForm(l)),p.isSolveMedia())r="adcopy_challenge_field",s="adcopy_response_field",!n&&!c||a||null!=ACPuzzleInfo.widget&&ACPuzzleInfo.divid==f.captcha_container_id||(ACPuzzle.create(f.key,f.captcha_container_id),p.error_message(),p.tos_checkbox(),m.data("captchaLib",ACPuzzle),p.captchaLoaded=!0);else if(p.isRecaptcha()){var d="gre-"+f.captcha_container_id;!n&&!c||a||0!=$("#"+d).children().length||(m.data("gre-complete",!1),grecaptcha.render(d,{sitekey:f.key,callback:function(){m.data("gre-complete",!0)},"expired-callback":function(){m.data("gre-complete",!1)}}),p.error_message(),p.tos_checkbox(),p.captchaLoaded=!0,0==$('textarea[name="g-recaptcha-response"]',m).length&&m.append('<textarea name="g-recaptcha-response" style="display:none"></textarea>'))}if(a||m.data("captchaLib")&&0==m.has("#"+g).length&&m.append('<input class="left-align" id="'+g+'" type="hidden" name="'+r+'" value="" /><input class="left-align" id="'+v+'" type="hidden" name="'+s+'" value="" />'),n)return f.integrated||!b||f.no_popup||p.display_captcha_dialog(),void(i.value=!1);if(o)return f.integrated||!c&&!f.no_validations||p.display_captcha_dialog(),void(i.value=!1);if(a){if(m.data("submitted"))return void(i.value=!1);if(!1===m.data("gre-complete"))return p.captchaDialog.removeClass("grepulse").width(),p.captchaDialog.addClass("grepulse"),void(i.value=!1);if(f.integrated||p.captchaDialog.dialog("close"),m.data("captchaLib")){var u=m.data("captchaLib").get_challenge(),h=m.data("captchaLib").get_response();$("#"+g,m).val(u),$("#"+v,m).val(h)}else"undefined"!=typeof grecaptcha&&$('textarea[name="g-recaptcha-response"]',m).val(grecaptcha.getResponse());if(f.tos&&$('input[name="tos"]',m).val($('input[name="tos_checkbox"]',p.captchaDialog).attr("checked")?1:0),"function"==typeof f.custom_submit)return void(i.value=f.custom_submit());i.value=!0}}}),m.submit(function(e,t){var i=m.data("form");if((!i||!i.options.beforeSubmit||!1!==i.options.beforeSubmit())&&m.data(A).validateAll()){var n={};return m.trigger("captcha-submit",[t,n]),n.value&&m.data("submitted",!0),n.value}}),b){var e=f.error_message;if(e||(e="Captcha failed",5<=f.attempts&&(e+=": "+(10-f.attempts)+" attempts left")),1!=f.no_popup||f.integrated)if(p.options.mobile){if(p.options.mobile&&$(".captcha-error-html").length){var t=$(".captcha-error-html").position().top;window.scroll({top:t,behavior:"smooth"})}}else proboards.data("captchaDialogError",e),f.integrated||p.display_on_page_load();else{var i=$(".captcha-error");i.length?i.text(e).show():1==$("#pbn_container").length?$("#pbn_container").prepend('<span style="color: #f00; font-size: 1.16em;">'+e+"</span><br /><br />"):p.options.mobile||proboards.error(e)}}},display_captcha_dialog:function(){var e=this;e.captchaLoaded?e.captchaDialog.dialog("open"):e.run_on_captcha_load(function(){e.captchaDialog.dialog("open")})},display_on_page_load:function(){var e=$("#"+this.options.form_id);this.run_on_captcha_load(function(){e.trigger("captcha-submit",["pageLoad"])})},run_on_captcha_load:function(e){$("#"+this.options.form_id);var t=20,i=setInterval(function(){--t||clearInterval(i),"undefined"==typeof ACPuzzle&&"undefined"==typeof Recaptcha&&"undefined"==typeof grecaptcha||(clearInterval(i),"function"==typeof e&&e())},500)},error_message:function(){if(this.errors&&0==this.options.no_popup){var e=proboards.data("captchaDialogError");if(e){var t=$('<div style="color: #f00; font-size: 1.16em; margin-bottom: 15px; text-align: center;"></div>').append(e);this.captchaDialog.prepend(t)}}},tos_checkbox:function(){var e=this.options,t=$("#"+e.form_id);this.options.tos&&$.check_url(e.tos.url)&&e.tos.name.match(/\S/)&&0==$('input[name="tos_checkbox"]',this.captchaDialog).length&&(this.captchaDialog.append('<div style="margin-top: 15px; text-align: center;"><label><input type="checkbox" name="tos_checkbox" style="margin: 0 5px 0 0; vertical-align: middle;">I agree to the <a href="'+proboards.escape_html(e.tos.url)+'" target="_blank">'+proboards.escape_html(e.tos.name)+"</a>.</label></div>"),t.append('<input type="hidden" name="tos" />'))},renderMobileRecaptcha:function(e){if(this.isRecaptcha()){var t=$("#"+this.options.form_id);grecaptcha.render("gre-"+e,{sitekey:this.options.key}),t.data("dialog",$("#"+e)),this.captchaDialog=t.data("dialog"),this.error_message(),this.captchaLoaded=!0}},isSolveMedia:function(){return"undefined"!=typeof ACPuzzle},isRecaptcha:function(){return"undefined"!=typeof grecaptcha}}).init()}}}),proboards.color_scheme={properties:["body_background_color","title_bar_background_color","title_text_color","title_buttons_background_color","buttons_background_color","container_background_color_1","container_background_color_2","container_highlight_color","container_outer_border_color","container_inner_border_color"],favstar_dim_url:proboards.data("image_path")+"/admin/themes/etc/favstar-dim.png",build:function(e,t){for(var i=[],n=0;n<proboards.color_scheme.properties.length;n++)i.push({key:proboards.color_scheme.properties[n],value:e[proboards.color_scheme.properties[n]]});i.sort(function(e,t){if(void 0===e.value||void 0===t.value)return 0;for(var i=0;i<6;i++)if(e.value.charAt(i)!=t.value.charAt(i))return $.isNumeric(e.value)==$.isNumeric(t.value)?e.value.charAt(i).localeCompare(t.value.charAt(i)):$.isNumeric(e.value)?1:-1;return 0});for(var o=$("<div></div>").attr("id","scheme_"+e.scheme_id).addClass("scheme"),a=(i.length,0);a<i.length;a++){var r=0;switch(i[a].key){case"body_background_color":r=15;break;case"title_bar_background_color":r=23;break;case"title_text_color":r=2;break;case"title_buttons_background_color":r=17;break;case"buttons_background_color":r=7;break;case"container_background_color_1":r=12;break;case"container_background_color_2":r=6;break;case"container_highlight_color":r=3;break;case"container_outer_border_color":r=10;break;case"container_inner_border_color":r=5}o.append($("<div></div>").attr("style","background-color: #"+i[a].value+"; width: "+r+"%;").addClass(i[a].key))}var s=o;return 1==t&&((s=$('<div class="scheme_wrapper"></div>')).append('<img src="'+favstar_dim_url+'" class="fav-star" alt="click to toggle favorite" title="click to toggle favorite" />'),s.append(o)),o.data("scheme",$.extend(!0,{},e)),s}},proboards.conversation={select:function(t,e){var i=$.extend({},e),n=Math.floor(1e6*Math.random()),o=proboards.dialog("conversation_listing",{title:"Select Conversation",html:'<div id="list_manager"><div class="container conversations">\t<div class="control-bar ui-helper-clearfix"></div>\t<div class="content cap-bottom">\t\t<table class="list">\t\t\t<thead>\t\t\t\t<tr class="head">\t\t\t\t\t<th class="radio_button"></th>\t\t\t\t\t<th class="icon"></th>\t\t\t\t\t<th class="main">Subject</th>\t\t\t\t\t<th class="created-by">Created By</th>\t\t\t\t\t<th class="replies">Replies</th>\t\t\t\t\t<th class="latest last">Last Reply</th>\t\t\t\t</tr>\t\t\t</thead>\t\t\t<tbody class="lm-content-'+n+'"></tbody>\t\t</table>\t</div></div></div>',width:800,height:400,buttons:{Select:function(){var e=$('input[name="conversation_id"]:checked',this).val();null!=e&&($(this).dialog("close"),t(e,$("#remember-conversation").prop("checked")))}}});proboards.ajax({url:proboards.route("admin_conversation_list"),dataType:"json",data:{list_manager_id:n},success:function(e){$(".lm-content-"+n,o).html(e.results),$(".control-bar",o).html('<div class="ui-search hide lm-search-'+n+'"></div>'+e.pagination),proboards.data("page_cache",".lm-content-"+n),new listManager("conversations",{total:e.total,limit:e.limit,page:e.page,pageCache:".lm-content-"+n,id:n,hash:!1},{route_name:"admin_conversation_list",float_control_bar:!1}),void 0!==i.remember&&o.nextAll(".ui-dialog-buttonpane").prepend('<span class="button-text"><input id="remember-conversation" type="checkbox" '+(i.remember?"checked ":"")+'/><label for="remember-conversation">&nbsp;Remember my choice</label></span>')}})}},$.extend(proboards,{embedded:{processEmbedded:function(){for(var e=["facebook","instagram","linkedin","pinterest","twitter"],t=e.length,i=0;i<t;i++){var n=e[i];this.embed[n]()}},embed:{loaded:{},facebook:function(){if($(".fb-post").length){var e=10,t=function(){if("undefined"==typeof FB&&e--)return setTimeout(t,500);FB.XFBML.parse()};this.loaded.facebook?this.loaded.facebook&&"undefined"!=typeof FB&&t():(this.loaded.facebook=!0,$(document.body).prepend('<div id="fb-root"></div><script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1"; fjs.parentNode.insertBefore(js, fjs); }(document, "script", "facebook-jssdk"));<\/script>'),t())}},instagram:function(){!$(".pb-instagram").length||(this.loaded.instagram?this.loaded.instagram&&"undefined"!=typeof instgrm&&instgrm.Embeds.process():(this.loaded.instagram=!0,$(document.body).prepend('<script async defer src="//www.instagram.com/embed.js"><\/script>')))},linkedin:function(){$(".linkedin-profile").length&&(this.loaded.linkedin?this.loaded.linkedin&&"undefined"!=typeof IN&&IN.parse():(this.loaded.linkedin=!0,$(document.body).prepend('<script src="//platform.linkedin.com/in.js" type="text/javascript"><\/script>')))},pinterest:function(){if($(".pinterest-post").length){var e=10,t=function(){if("undefined"==typeof parsePins&&e--)return setTimeout(t,500);parsePins()};if(this.loaded.pinterest)this.loaded.pinterest&&"undefined"!=typeof parsePins&&t();else{this.loaded.pinterest=!0;var i=document.createElement("SCRIPT");i.type="text/javascript",i.async=!0,i.src="//assets.pinterest.com/js/pinit.js",i.setAttribute("data-pin-build","parsePins"),document.body.appendChild(i),t()}}},twitter:function(){if($(".pb-twitter-wrapper").length){var e=10,t=function(){if(("undefined"==typeof twttr||void 0===twttr.widgets)&&e--)return setTimeout(t,500);$(".pb-twitter-wrapper:not(.is-rendered)").each(function(){var e=$(this),t=e.data("tweet-id").substr(1);twttr.widgets.createTweet(t,this),e.addClass("is-rendered")})};this.loaded.twitter?this.loaded.twitter&&"undefined"!=typeof twttr&&t():(this.loaded.twitter=!0,$(document.body).prepend('<script async src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>'),t())}}}}}),$.extend(proboards,{events:{afterSearch:[],afterSearchOne:[],columnSort:[],columnSortOne:[],moreActivity:[],moreActivityOne:[],moreNotification:[],moreNotificationOne:[],pageChange:[],pageChangeOne:[],run:function(e,t){if(this[e]){for(var i=this[e],n=0,o=i.length;n<o;n++)i[n].call(t);for(n=0,o=(i=this[e+"One"]).length;n<o;n++)i[n].call(t);this[e+"One"]=[]}}},on:function(e,t){this.events[e]?"function"==typeof t?this.events[e].push(t):console.log("You must bind a valid function."):console.log("The event, "+e+" is not a supported ProBoards event.")},one:function(e,t){this.events[e]?"function"==typeof t?this.events[e+"One"].push(t):console.log("You must bind a valid function."):console.log("The event, "+e+" is not a supported ProBoards event.")}}),$.extend(proboards,{form:{init:function(){proboards.form.confirm_ignore_changes(".confirm-ignore-changes form:first")},confirm_ignore_changes:function(e){var t=$(e);t.each(function(){var e=$(this);$("input,textarea,select",e).live("change",function(){$(this).closest(e).trigger("change")})}),t.bind("change",function(){proboards.unsaved_changes=1}),t.bind("submit",function(){proboards.unsaved_changes=0})},generateInput:function(n,e,t){function i(e,i,t){proboards.search.create_user_search({container:e,input:i,results:t,change:function(e,t){i.val(t.ids.join(",")).change()},formId:"",limit:1,checkedHash:{},isPendingList:0,currentUser:0,showExisting:1,showAdded:1,searchBox:1,massEmail:0,allowManualInput:n.allowManualInput,eventError:n.eventError})}var o=null;if(0==n.std_input_wrapper&&t)o=t;else if(t){var a=void 0!==n.name&&n.name.length?" input-"+n.name:"";o=$('<span class="input'+a+'"></span>'),t.append(o)}else{a=void 0!==n.name&&n.name.length?" input-"+n.name:"";o=$('<span class="input'+a+'"></span>')}var r={};switch(n.type){case"board_select":r.input=$('<input type="text" readonly="readonly" name="'+n.name+'_display" />'),r.hiddenInput=$('<input type="hidden" name="'+n.name+'" />'),r.label=n.label?$("<label>"+n.label+"</label>"):"",o.append(r.label,r.input,r.hiddenInput),null==e?r.input.val("Click to Select Board"):r.hiddenInput.val(e),n.board_id_display&&r.input.val(n.board_id_display),r.input.data({hiddenInput:r.hiddenInput,label:r.label});break;case"checkbox":var s=$('<input type="checkbox" />').attr("name",n.name);o.append(s);var l=$("<label>"+n.label+"</label>").css("display","inline");s.after(l);var c=$.unique_id(n.name);s.attr("value",1).attr("id",c),l.attr("for",c),n.tip&&l.after(proboards.help_icon(n.tip)),e&&s.attr("checked","checked");break;case"freestyle":var d=$(n.html);n.css&&d.css(n.css),o.append(d);break;case"color":n.label&&(o.append('<label class="field-label">'+n.label+"</label>"),n.breaks&&o.append("<br />"));var u=$('<input class="width-7" type="text" />').attr("name",n.name).val(e);n.css&&u.css(n.css),o.append(u),u.colorPickMe({preview:!0});break;case"radio":var h=n.name;n.label&&(o.append('<label class="field-label">'+n.label+"</label>"),n.breaks&&o.append("<br />"));for(var p=0;p<n.options.length;p++){c=$.unique_id(n.name),s=$('<input type="radio" />').attr("name",h).attr("id",c).val(n.options[p].value);n.options[p].selected&&s.attr("checked","checked"),o.append(s).append($('<label class="field-sub-label">'+n.options[p].text+"</label>").attr("for",c)),n.breaks&&o.append("<br />")}null!=e&&($('input[type="radio"]',o).removeAttr("checked"),$('input[value="'+e+'"]',o).attr("checked","checked"));break;case"select":var f=$("<select />").attr("name",n.name);for(p=0;p<n.options.length;p++){var m=$("<option></option>").val(n.options[p].value).text(n.options[p].text);n.options[p].selected&&!e&&m.attr("selected","selected"),f.append(m)}o.append(f),n.className&&f.attr("class",n.className),n.label&&f.before("<label>"+n.label+"</label>"),e&&f.val(e);break;case"text":s=$('<input type="text" />').attr("name",n.name);if(o.append(s),n.label){l=$("<label>"+n.label+"</label>");n.display&&l.css("display",n.display),s.before(l)}n.placeholder&&s.attr("placeholder",n.placeholder),n.css&&s.css(n.css),s.val(e);break;case"textarea":s=$("<textarea></textarea>").attr("name",n.name);o.append(s),n.label&&s.before("<label>"+n.label+"</label>"),n.placeholder&&s.attr("placeholder",n.placeholder),s.val(e);break;case"code_editor":s=$("<textarea></textarea>").attr("name",n.name);o.append(s),n.label&&s.before("<label>"+n.label+"</label>"),n.placeholder&&s.attr("placeholder",n.placeholder),s.val(e),proboards.code_editor({textarea:s});break;case"user":s=$('<input type="hidden" />').attr("name",n.name);o.append(s);var g=$('<div class="searchbox-container"></div>');o.append(g),e?(s.val(e),g.html("Loading").progress_text(),proboards.ajax({url:proboards.route("admin_user_searchbox_results"),data:{ids:[e]},success:function(e){g.html(""),i(g,s,e.results)}})):i(g,s,[])}if(!t)return o;n.type},gen_verify_box:function(t,e,i,n,o,a,r,s){o+='<form onSubmit="return false;" class="verify_box"><div class="section center">Type the word <strong>"'+a+'"</strong> in the space below to verify.<br />Verify <input type="text" name="verification" style="margin: 5px; width: 300px;" /></div></form>',proboards.dialog(t,{title:e,html:o,height:i,width:n,buttons:[{text:r,id:"action-button",click:function(){if($('.verify_box input[name="verification"]').val().toLowerCase()==a.toLowerCase())$(this).dialog("close"),s.call();else{clearTimeout(e),0==$(".status_msg").length?$("#"+t).siblings(".ui-dialog-buttonpane").prepend('<span class="status_msg" style="float: left; padding-top: 15px;">Failed</span>'):$(".status_msg").show();var e=setTimeout(function(){$(".status_msg").hide()},3e3)}}}]})},genOptionRange:function(e,t,i,n){for(var o=[],a=e;a<=t;a+=i){var r={value:a,text:a};a==n&&(r.selected=!0),o.push(r)}return o},handleFormError:function(e,t){if("object"==typeof t&&t.form_error){for(var i in t.form_error)if(t.form_error.hasOwnProperty(i)){var n="#"+e.attr("id")+"_"+i+"_input",o=t.form_error[i][0];$.inputError(n,o);break}}else t.error&&proboards.error(t.error)},isValidForm:function(e){if(void 0===e){if($(".ui-form-error").length||"none"==$(".ui-form-error").css("display"))return!0}else if(e.validateAll())return!0;return!1}}}),$.extend(proboards,{genericSelection:function(e){this.init(e)}}),$.extend(proboards.genericSelection.prototype,{modes:{w3c:1,microsoft:2},init:function(e){this.window=e||window,this.mode=this.window.getSelection?"w3c":"microsoft";var t=this;$.each(["container","startContainer","endContainer","selectNode","collapse","collapsed","getSelection","move","offset","remove"],function(){t[this]=t[this+"_"+t.mode]})},getSelection_w3c:function(e){if(void 0!==e)return e;var t=this.window.getSelection();if(0==t.rangeCount){var i=this.window.document.createRange();i.setStart(this.window.document.body,0),i.setEnd(this.window.document.body,0),t.addRange(i)}var n=t.getRangeAt(0).cloneRange();return{range:n,selection:t,apply:function(){t.removeAllRanges(),t.addRange(n)}}},getSelection_microsoft:function(e){if(void 0!==e)return e;var t=this.window.document.selection,i=t.createRange();return{range:i,selection:t,apply:function(){i.select()}}},startContainer_w3c:function(e){var t=this.getSelection(e);return $(t.range.startContainer).closest("*").get(0)},startContainer_microsoft:function(e){var t=this.getSelection(e);return"Control"!=t.selection.type&&(t.range.collapse(!0),t.range.parentElement())},endContainer_w3c:function(e){var t=this.getSelection(e);return $(t.range.endContainer).closest("*").get(0)},endContainer_microsoft:function(e){var t=this.getSelection(e);return"Control"!=t.selection.type&&(t.range.collapse(!1),t.range.parentElement())},container_w3c:function(e){return this.endContainer(e)},container_microsoft:function(e){return this.endContainer(e)},selectNode_w3c:function(e,t,i){var n=this.getSelection(i);switch(void 0===t&&(t="all"),t){case"start":n.range.setStartBefore(e);break;case"end":n.range.setEndAfter(e);break;case"all":n.range.selectNodeContents(e)}return n.apply(),n},selectNode_microsoft:function(e,t,i){var n=this.getSelection(i),o=this.getSelection();if(void 0===t&&(t="all"),3==e.nodeType){var a=$("<span>X</span>");(e=$(e)).before(a),o.range.moveToPoint(a.offset().left,a.offset().top),a.remove(),o.range.moveEnd("character",e.text().length)}else o.range.moveToElementText(e);return"start"!=t&&"all"!=t||n.range.setEndPoint("StartToStart",o.range),"end"!=t&&"all"!=t||n.range.setEndPoint("EndToEnd",o.range),"all"==t&&n.range.setEndPoint("StartToStart",o.range),n.apply(),n},collapse_w3c:function(e,t){var i=this.getSelection(t);return void 0===e||e?i.range.setEnd(i.range.startContainer,i.range.startOffset):i.range.setStart(i.range.endContainer,i.range.endOffset),i.apply(),i},collapse_microsoft:function(e,t){var i=this.getSelection(t);return i.range.collapse(void 0===e||e),i.apply(),i},move_microsoft:function(e,t,i,n){var o=this.getSelection(n);void 0===t&&(t="start");var a="move"+t.charAt(0).toUpperCase()+t.substring(1);return o.range[a]("character",e),i&&o.apply(),o},move_w3c:function(e,t,i,n){var o=this.getSelection(n);void 0===t&&(t="start");var a=t+"Container",r=t+"Offset",s="set"+t.charAt(0).toUpperCase()+t.substring(1);if(0<e)for(var l=0;l<e;++l)if(o.range[r]<$(o.range[a]).text().length)o.range[s](o.range[a],o.range[r]+1);else{var c=$(o.range[a]).nextSelectable();if(!c.length)break;c.isTextNode()||(c=c.textNodes().first()),o.range[s](c.get(0),1)}else for(l=0;e<l;--l)if(0<o.range[r])o.range[s](o.range[a],o.range[r]-1);else{var d=$(o.range[a]).prevSelectable();if(!d.length)break;d.isTextNode()||(d=d.textNodes().last()),o.range[s](d.get(0),d.text().length-1)}return i&&o.apply(),o},offset_microsoft:function(e){var t=this.getSelection(e),i=this.window.document.body.createTextRange();return i.moveToElementText(t.range.parentElement()),i.setEndPoint("EndToStart",t.range),caretOffset=i.text.length,i.text.length},offset_w3c:function(e){var t=this.getSelection(e),i=(t.range.startOffset,t.range.startContainer);if(3!=i.nodeType)return t.range.startOffset;for(var n=$(i).parent().contents(),o=t.range.startOffset,a=0;a<n.length&&!$(n[a]).is(i);++a)o+=$(n[a]).text().length;return o},collapsed_w3c:function(e){return this.getSelection(e).range.collapsed},collapsed_microsoft:function(e){var t=this.getSelection(e);return 0==t.range.compareEndPoints("StartToEnd",t.range)},remove_w3c:function(e){var t=this.getSelection(e);return t.range.deleteContents(),t.range.collapsed},remove_microsoft:function(e){var t=this.getSelection(e);return t.range.pasteHTML(""),t}}),proboards.groups={getSelected:function(e){return $("#"+e).val().split(",")},showControls:function(e){var t=parseInt($("#"+e+"-selection select").val()),i=2<t?"show":"hide",n=1<t?"show":"hide";$("#"+e+"-guest-inc")[i](),$("#"+e+"-rank")[i](),t<3&&$("#"+e+"-rank select").val("0"),$("#"+e+"-group-inc")[n]()},showSelected:function(id,callback){var selected=proboards.groups.getSelected(id);if(""!=selected[0])for(var list=$("#"+id+"-list").html('<ul class="trim-list"></ul>').children(),g=0;g<proboards.groups.available.length;++g){var index=$.inArray(proboards.groups.available[g].id,selected);if(-1!=index){var item=$("<li>"+proboards.groups.available[g].name+"</li>"),close=$('<span class="button-x">X</span>').data("index",index).click(function(){selected.splice($(this).data("index"),1),$("#"+id).val(selected.join(",")).trigger("change"),proboards.groups.showSelected(id,callback)});item.prepend(close),item.appendTo(list)}}else $("#"+id+"-list").html("");eval(callback)},showList:function(id,callback,validation){proboards.dialog("groupsDialog",{autoOpen:!1,title:"Select Who",width:400,height:300,buttons:[{text:"Select All",click:function(){$(this).find(":checkbox").attr("checked","checked")}},{text:"Select None",click:function(){$(this).find(":checkbox").removeAttr("checked")}},{text:"Done",click:function(){var checked=[],passed=!0;""!=validation&&(passed=eval(validation)),passed&&($(this).find(":checkbox").each(function(){null!=$(this).attr("checked")&&checked.push($(this).val())}),$("#"+id).val(checked.join(",")).trigger("change"),proboards.groups.showSelected(id,callback)),eval(callback),$(this).dialog("close")}}]});var parent=$("#"+id).parents(".group-unique"),exclude={};parent.length&&parent.find('input[type="hidden"]:not([id="'+id+'"])').each(function(){var e=proboards.groups.getSelected($(this).attr("id"));$.each(e,function(){exclude[this]=!0})});for(var selected=proboards.groups.getSelected(id),checkboxes="",g=0;g<proboards.groups.available.length;++g)null==exclude[proboards.groups.available[g].id]&&(checkboxes+='<input type="checkbox" id="group_'+proboards.groups.available[g].id+'" value="'+proboards.groups.available[g].id+'" '+(-1!=$.inArray(proboards.groups.available[g].id,selected)?'checked="checked"':"")+"> ",checkboxes+='<label for="group_'+proboards.groups.available[g].id+'">'+proboards.groups.available[g].name+"</label><br />");$("#groupsDialog").html('<div id="group-list" class="checkbox-list"><div class="options">'+checkboxes+"</div></div>"),$("#groupsDialog").dialog("open")}},$.extend(proboards,{home:{markBoardsRead:function(){proboards.confirm("Are you sure you want to mark all boards as read?",function(){proboards.ajax({url:proboards.data("mark_boards_read_url"),success:function(){$('.item.board .icon img[alt="New Posts"]').each(function(){$(this).parent().html('<img title="No New Posts" alt="No New Posts" src="'+proboards.data("home_new_post_src")+'">')})}})},{title:"Mark All Boards Read"})}}}),$.extend(proboards,{hotkeys:{clickSelect:function(t){"s"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var i=t.charAt(0).toUpperCase()+t.slice(1);$(".list .item."+t).live("click",function(e){e.altKey&&($(this).find(".controls ."+t+"-options").hasClass("state-selected")?$(this).find('.options_menu > li[class$="-deselect'+i+'"]').click():$(this).find('.options_menu > li[class$="-select'+i+'"]').click())})},wysiwyg:function(){var t=$(".editor.visual-editor iframe").contents();$(t).add(document).bind("keydown",function(e){if(e.altKey&&e.which==Keys.c)return $('form .submit input[TYPE="SUBMIT"]').click(),!1});var i=$(".editor.bbcode-editor textarea");$(t).add(document).bind("keydown",function(e){if(e.altKey&&e.which==Keys.t)return $("#menu-item-visual").hasClass("ui-active")?($("#menu-item-bbcode a").click(),i.focus()):$("#menu-item-bbcode").hasClass("ui-active")&&($("#menu-item-visual a").click(),$(".editor.visual-editor iframe").focus(),t.focus()),!1})},quick_reply:function(){$(".quick-reply form textarea").bind("keydown",function(e){if(e.altKey&&e.which==Keys.c)return $('form input[TYPE="SUBMIT"]').click(),!1})},reply:function(){$(document).bind("keydown",function(e){e.altKey&&!e.ctrlKey&&e.which==Keys.r&&$(".reply-button").click()})},activate:function(e){switch(e){case Keys.d:var t=$("#navigation-tree").offset().top;if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(t)){window.scroll({top:0,behavior:"smooth"});var i=setInterval(function(){0==window.pageYOffset&&(clearInterval(i),$("#nav-tree-menu-0").data("hotkey-open",!0),$("#nav-tree-menu-0").menu("show"))},250)}return!1;case Keys.w:return $(".search-input.ui-autosearch").focus(),!1;case Keys.q:return $(".quick-reply .message textarea").focus(),!1}return!0}}}),$(document).bind("keydown",function(e){if(e.altKey&&e.ctrlKey&&e.which==Keys.r)proboards.reportAd();else if(e.altKey&&!e.ctrlKey)return proboards.hotkeys.activate(e.which)}),$(document).ready(function(){$.browser.msie&&$('a[accesskey="d"]').bind("focus",function(e){$(this).click()})});var listManagerSettings={settings:{threads:{route_name:"list_threads",controls:["selections","actions"],search:!0,highlight:!0,link:!0,checkbox:!0,column:!1,float_control_bar:!0},posts:{route_name:"list_posts",controls:["actions","selections"],search:!0,highlight:!1,link:!1,checkbox:!1,column:!1,float_control_bar:!0},conversations:{route_name:"list_conversations",controls:["folders","selections","actions"],search:!0,highlight:!0,link:!0,checkbox:!0,column:!1,float_control_bar:!0},messages:{route_name:"list_messages",controls:["actions"],search:!0,highlight:!1,link:!1,checkbox:!1,column:!1,float_control_bar:!0},members:{route_name:"list_members",controls:["views","selections","actions"],search:!0,highlight:!0,link:!0,checkbox:!0,column:!0,float_control_bar:!0,minChars:1,viewHashKey:"view"},users:{route_name:"list_users",controls:[],search:!0,highlight:!1,link:!1,checkbox:!1,column:!1,float_control_bar:!1,minChars:1,modal:!0},security_logs:{route_name:"security_log_list",controls:["logView"],search:!0,highlight:!0,link:!1,checkbox:!1,column:!0,float_control_bar:!0,minChars:1,viewHashKey:"logView"},reports:{route_name:"list_reports",controls:["selections","actions"],search:!0,highlight:!0,link:!0,checkbox:!0,column:!1,float_control_bar:!0}}},listManagerPrototype={labels:{},options:{ajax:!1,total:0,limit:10,page:0,data:{}},init:function(e,t,i){this.mobileScrollifyRegEx=/(?:message|post)-(\d+)/,this.scrollify(e),"object"!=typeof t&&(t={}),"object"!=typeof i&&(i={}),$.extend(this.options,t),this.type=e,this.item_type=this.type.substr(0,this.type.length-1),this.settings=$.extend({},proboards.listManager.settings[this.type],i),this.menu_position=this.options.data.participated?{my:"left top",at:"left bottom"}:{},this.selected_ids=[],this.selected_items={},this.total_tracker=proboards.data("all_messages_count"),$(".lm-message-count-"+this.options.id).show(),this.content=$(".lm-content-"+this.options.id),this.pagination=$(".lm-pagination-"+this.options.id),this.search=$(".lm-search-"+this.options.id),this.icons=$(".lm-icons-"+this.options.id),this.search.length||(this.search=$("<div />"),this.search.attr("id","lm-search-"+this.options.id),this.search.hide(),this.search.appendTo(document.body)),this.bind_highlight(),this.bind_links(),this.bind_checkboxes(),this.bind_control_bar_follow(),this.bind_columns(),this.item={},"messages"==this.type?this.item=proboards.data("page").conversation:"posts"===this.type&&(this.item=proboards.data("page").thread),this.last_filters=[],null!=proboards.data("user")&&proboards.data("user").is_logged_in||(proboards.listManager.settings.threads.controls=[],proboards.listManager.settings.posts.controls=[]),this.setup_controls(),this.setup_search(),"conversations"!=this.type&&"messages"!=this.type||(this.load_labels(),this.apply_label_map()),"posts"!=this.type&&"messages"!=this.type||proboards.hotkeys.clickSelect(this.type),proboards.embedded.processEmbedded(),proboards.listManagers[this.options.id]=this},get_selection:function(){var e,t=this.selected_ids,i=[],n=this.selected_ids.length;for(e=0;e<n;e++)i[e]=this.selected_items[this.selected_ids[e]];return{ids:t,length:n,items:i}},bind_links:function(){function e(){$(".conversation-participants",n.content).on("click",function(e){e.preventDefault(),e.stopPropagation(),proboards.loading(!0),proboards.ajax({url:proboards.route("list_participants"),data:{id:n.getItemId(this)},dataType:"html",success:function(e){proboards.dialog("conversation-participants",{width:535,title:"Participants",html:e})},complete:function(){proboards.loading(!1)}})}),$(".thread-participants",n.content).on("click",function(e){e.preventDefault(),e.stopPropagation();var t=n.getItemId($(this).parents(".item"));return proboards.loading(!0),proboards.ajax({url:proboards.route("thread_participants",{thread_id:t}),dataType:"html",success:function(e){proboards.dialog("thread-participants",{width:535,title:"Participants",html:e})},complete:function(){proboards.loading(!1)}}),!1})}function t(i){$(".latest",n.content).on("click",function(e){if(!$(e.target).is("a")){var t=n.getItemId($(this).parents(".item"));"thread"==i?window.location=proboards.route("thread_last_post",{thread_id:t}):"conversation"==i&&(window.location=proboards.route("conversation_last_post",{conversation_id:t}))}})}var n=this;this.content.bind("change",e),e(),"threads"==this.type?(this.content.bind("change",t("thread")),t("thread")):"conversations"==this.type&&(this.content.bind("change",t("conversation")),t("conversation"))},bind_highlight:function(){this.settings.highlight&&(navigator.userAgent.match(/iPod|iPad|iPhone/i)||($(document.body).is(".is-modern-ipad")?setTimeout(function(){$(document.body).append("<style>.list .item .list-item-checkbox { visibility: visible; }</style>")},100):$(".item",this.content).live("mouseenter",function(){$(this).addClass("state-hover")}).live("mouseleave",function(){$(this).removeClass("state-hover")})))},bind_checkboxes:function(){if(this.settings.checkbox){var c=this;$(".list-item-checkbox",this.content).removeAttr("checked");function e(){var e=$(".list-item-checkbox",c.content);$(".clickable",c.content).clickable({event:"click"}),e.off("click.bind_checkboxes"),e.on("click.bind_checkboxes",function(e){var t=$(this),i=$(this).is(":checked"),n=[];if(e.shiftKey){var o=$(".list-item-checkbox",c.last_affected_item)[0];if(c.last_affected_item&&t[0]!==o)for(var a=!1,r=!1,s=$(".list-item-checkbox",c.content),l=0;l<s.length&&!a;)s[l]!==t[0]&&s[l]!==o||(r?a=!0:r=!0),r&&n.push($(s[l]).closest(".item")),++l;else n.push(t.parents(".item"))}else n.push(t.closest(".item"));c[i?"select_items":"unselect_items"](n),c.last_affected_item=t.closest(".item")})}this.content.bind("change",e),e()}},bind_control_bar_follow:function(){if(this.settings.float_control_bar){var l=this;$(window).data("already_scrolled",!0);var t=$(".scrollable-"+l.options.id),i=null,a=$(window).width();navigator.userAgent.match(/iPod|iPad|iPhone/i)||$(window).on("resize",function(e){clearTimeout(i);var o=$(this).width();a!=o&&(i=setTimeout(function(){t.each(function(){var e=$(this);if(e.data("placeholder")){var t=e.attr("style");e.removeAttr("style");var i=e.width(),n=e.offset();e.data("position",n),e.attr("style",t).css({width:i+"px",left:n.left+"px"}),a=o}})},10))}),$(window).on(navigator.userAgent.match(/iPod|iPad|iPhone/i)?"touchend":"scroll.controlBar",function(e){var s=this;t.each(function(){var e=$(this);if(e.is(":visible")){var t=!!e.data("placeholder"),i=t?e.data("position"):e.offset();if($(s).scrollTop()>=i.top){if(!t){var n=e.width(),o=e.clone().removeClass("scrollable").css("visibility","hidden");e.data("placeholder",o),e.after(o),e.data("position",i),e.css({width:n+"px",position:"fixed",left:i.left+"px",top:"0px","z-index":500})}var a=l.content.offset().top+l.content.height()-e.height();if($(s).scrollTop()>=a){if(e.css({position:"absolute"}),$("html").is(".ie7"))var r={top:e.offset().top-e.position().top,left:e.offset().left-e.position().left};else{e.css({top:0,left:0});r={top:e.offset().top,left:e.offset().left}}e.css({top:a-r.top+"px",left:i.left-r.left+"px"})}else e.css({position:"fixed",top:"0px",left:i.left+"px"})}else if(t){o=e.data("placeholder");e.removeAttr("style"),o.remove(),e.removeData("placeholder")}}})})}},bind_columns:function(){if(this.settings.column){var o=this,a=null;$.each($(".sortable-"+o.options.id),function(e,i){var n=$(this).attr("class").match(/sortable\-type\-(\w+)/);n&&(n=n[1],$(i).off("click"),$(i).on("click",function(e){null==a&&(a=$("input",o.search).data("autosearch"));var t=$(a.element);t.off("autosearchaftersearch.sort"),t.one("autosearchaftersearch.sort",function(){proboards.events.run("columnSort",i)}),"asc"==a.getData("dir")&&a.getData("sort")==n?a.setDataLite("dir","desc"):"rank"!=n&&"order"!=n&&"posts"!=n&&"last_online"!=n||a.getData("sort")==n?a.setDataLite("dir","asc"):a.setDataLite("dir","desc"),a.setData("sort",n)}))})}},select_items:function(e){var t,i=e.length;for(t=0;t<i;++t)this.select_item(e[t])},unselect_items:function(e){var t,i=e.length;for(t=0;t<i;++t)this.unselect_item(e[t])},select_item:function(e){$(e).addClass("state-selected"),$(".list-item-checkbox",e).attr("checked","checked");var t=this.getItemId(e);void 0===this.selected_items[t]&&(this.selected_ids.push(t),this.selected_items[t]=e),this.last_affected_item=e},unselect_item:function(e){$(e).removeClass("state-selected"),$(".list-item-checkbox",e).removeAttr("checked");var t=this.selected_ids,i=this.selected_items;this.selected_ids=[],this.selected_items={};for(var n=0;n<t.length;n++)if(this.getItemId(e)!=t[n]){var o=t[n];this.selected_ids.push(o),this.selected_items[o]=i[o]}this.last_affected_item=e},setup_controls:function(){var controls=this.settings.controls,length=controls.length,i;for(i=0;i<length;++i)eval("this.create_"+controls[i]+"_controls()")},create_selections_controls:function(){var r=this;$(".lm-selection-"+this.options.id).selectMenu({status:"Select",staticStatus:!0,menuOptions:{click:function(e,t){var n=$(t.item).attr("class"),o="posts"==r.type?proboards.postManager:r;if("All"==n)o.select_items($(".item",r.content));else if("None"==n){if("posts"===r.type)return void o.unselect_items($(".item",r.content));var a=[];for(i in r.selected_items)a.push(r.selected_items[i]);o.unselect_items(a)}else"Read"==n?(o.unselect_items($(".item",r.content)),o.select_items($(".item:not(.new)",r.content))):"New"==n&&(o.unselect_items($(".item",r.content)),o.select_items($(".item.new",r.content)))},position:r.menu_position}})},create_actions_controls:function(){var G=this;if(proboards.data("labels_menu")&&("threads"==G.type||"posts"==G.type)){var e=$(".lm-labels-"+this.options.id);e.html(),$(proboards.data("labels_menu")).children("li").appendTo(e),e.children("li.label").each(function(){var e=$(this),t=$(this).clone();e.addClass("label-add").find("span.action").html("Add "),t.addClass("label-remove").find("span.action").html("Remove "),t.insertAfter(e)}),"posts"==G.type&&(""!=$.trim($("#labels").html())?$("#labels").show():$("#labels").hide())}$(".lm-actions-"+this.options.id).selectMenu({status:"Actions",staticStatus:!0,beforeShow:function(){var e=0,t=0,i=0,n=0,o=0,a=0,r=0,s=0,l=0,c=0,d=0,u=0,h=0,p=0,f=0,m=0,g=0,v=!1,b=!1,A=G.get_selection().items,y=G.get_selection().length,_=!0,w=!1,x="conversations"==G.type,k="messages"==G.type,C="posts"==G.type,S="threads"==G.type,T="members"==G.type,E="reports"==G.type,D=0<proboards.data("board_id"),I=proboards.data("page")&&proboards.data("page").thread&&0<proboards.data("page").thread.id;for(F=0;F<y;++F){var P=G.getItemId(A[F]),M=proboards.item(G.item_type,P);null==M&&(M={}),M.is_new?++t:++e,$(A[F]).hasClass("archived")?++i:++n,void 0!==proboards.data("following")&&null!=proboards.data("following")&&1==proboards.data("following")[P]&&++o,P==proboards.data("user").id&&(b=!0),$(A[F]).hasClass("can_remove")&&(v=!0),$(A[F]).hasClass("bookmarked")?++a:++r,$(A[F]).hasClass("falling")?++p:++f,$(A[F]).hasClass("announcement")?++s:++l,$(A[F]).hasClass("locked")&&("reports"!=G.type||$(A[F]).hasClass("has-thread"))?++c:$(A[F]).hasClass("locked")||"reports"==G.type&&!$(A[F]).hasClass("has-thread")||++d,$(A[F]).hasClass("sticky")?++u:++h,$(A[F]).hasClass("has-post")&&++m,$(A[F]).hasClass("has-thread")&&++g}x&&(_=!1),k&&(w=!(_=!1),G.item.is_archived?i=1:n=1,G.item.is_new?t=1:e=1),C&&I&&(w=!(_=!1),"undefined"!=typeof postMan?y=postMan.selected_posts.length:void 0!==proboards.postManager&&(y=proboards.postManager.selected_posts.length),G.item.is_new?t=1:e=1,G.item.is_locked?c=1:d=1,G.item.is_announcement?s=1:l=1,G.item.is_sticky?u=1:h=1,G.item.is_falling?p=1:f=1,G.item.is_bookmarked?++a:++r),S&&D&&(_=!1),"posts"!=G.type||I||("undefined"!=typeof postMan?y=postMan.selected_posts.length:void 0!==proboards.postManager&&(y=proboards.postManager.selected_posts.length)),$(this).menu("hideAllOptions");var O=$(".lm-labels-"+G.options.id),N=y&&S||C&&I;if((y||w)&&0<t&&($(this).menu("showOption","mark_future"),$(this).menu("showOption","mark_as_read"),$(this).menu("showOption","mark_as_read_day"),$(this).menu("showOption","mark_as_read_week"),$(this).menu("showOption","mark_as_read_month"),$(this).menu("showOption","mark_as_read_forever")),(y||w)&&0<e&&$(this).menu("showOption","mark_as_new"),G.options.data.search&&"posts"==G.type){var L=proboards.postManager.selected_posts,j=0,R=0;$.each(L,function(e,t){var i=proboards.item("post",t).thread_id;proboards.item("thread",i).is_locked?++j:++R}),j&&$(this).menu("showOption","unlock"),R&&$(this).menu("showOption","lock")}else(y&&"threads"==G.type||E||"posts"==G.type)&&(0<d&&("reports"==G.type&&1<y?$(this).menu("showOption","locks"):$(this).menu("showOption","lock"),$(this).menu("showOption","modFunctions")),0<c&&("reports"==G.type&&1<y?$(this).menu("showOption","unlocks"):$(this).menu("showOption","unlock"),$(this).menu("showOption","modFunctions")));if(("reports"!=G.type&&(y||w)||"reports"==G.type&&y&&0<g)&&("reports"==G.type&&1<y?$(this).menu("showOption","move_threads"):$(this).menu("showOption","move_thread"),$(this).menu("showOption","modFunctions")),("reports"!=G.type&&(y||w)||"reports"==G.type&&y&&0<g)&&("reports"==G.type&&1<y?$(this).menu("showOption","delete_threads"):$(this).menu("showOption","delete_thread"),$(this).menu("showOption","modFunctions")),y&&0<m&&("reports"==G.type&&1<y?($(this).menu("showOption","move_posts"),$(this).menu("showOption","delete_posts")):($(this).menu("showOption","move_post"),$(this).menu("showOption","delete_post")),$(this).menu("showOption","modFunctions")),(y||w)&&0<n&&$(this).menu("showOption","archive"),(y||w)&&0<i&&$(this).menu("showOption","unarchive"),1!=y||!T&&"reports"!=G.type||($(this).menu("showOption","warn_user"),$(this).menu("showOption","ban_user"),$(this).menu("showOption","modFunctions")),x||k){if($(this).menu("showOption","manageLabels"),y||k){var F,z={};if(x)for(F=0;F<y;++F)$(".labels:first .ui-label",A[F]).each(function(){var e=$(this).attr("class").replace("ui-label label-","");"number"!=typeof z[e]&&(z[e]=0),z[e]++});else $(".conversation-labels .ui-label").each(function(){var e=$(this).attr("class").replace("ui-label label-","");"number"!=typeof z[e]&&(z[e]=0),z[e]++});$(".ui-selectMenu-option",O).show();var q=[];$("li",O).each(function(){var e=$(this).attr("class").match(/label-(\d+)/);e&&-1==$.inArray(e[1],q)&&q.push(e[1])}),$(".label",O).hide(),$.each(q,function(){z[this]&&$(".label-"+this+".remove-label",O).show(),(z[this]!=y&&x||!z[this]&&k)&&$(".label-"+this+".add-label",O).show()})}else x&&$(".label",O).hide();$(this).menu("showOption","labels")}if(x&&($(".lm-message-count-"+G.options.id).text(proboards.commify(G.total_tracker)),y&&v&&$(this).menu("showOption","leave_conversation"),0==y&&0!=G.total_tracker)){$(this).menu("showOption","all_messages"),$(this).menu("showOption","delete_all");var H=proboards.data("folder");"archive"!=H&&"outbox"!=H&&$(this).menu("showOption","archive_all")}if(k&&($(this).menu("showOption","forward"),$(this).menu("showOption","change_participants"),proboards.data("conversation_participants")&&1<proboards.data("conversation_participants").length&&$(this).menu("showOption","leave_conversation")),N){0<r&&null!==proboards.data("user")&&proboards.data("user").is_logged_in&&$(this).menu("showOption","bookmark"),0<a&&null!==proboards.data("user")&&proboards.data("user").is_logged_in&&$(this).menu("showOption","unbookmark"),0<l&&$(this).menu("showOption","announce"),0<s&&$(this).menu("showOption","unannounce"),0<h&&$(this).menu("showOption","sticky"),0<u&&$(this).menu("showOption","unsticky"),$(this).menu("showOption","bump"),0<f&&$(this).menu("showOption","enable_falling"),0<p&&$(this).menu("showOption","disable_falling"),$(this).menu("showOption","modFunctions");var W=$("li.label-add",O),V=(q=[],{}),U=[],B={},Y={};if(W.each(function(){var e=G.getLabelId(this),t=G.getLabelBoardId(this);q.push(e),V[e]=0,null==B[t]&&(B[t]=[]),B[t].push(e)}),q.length){if(S)$.each(A,function(e,t){var i=G.getLabelBoardId(t);null==Y[i]&&(Y[i]=0),++Y[i],-1==$.inArray(i,U)&&U.push(i),$(t).find("span.labels:first .ui-label",O).each(function(){++V[G.getLabelId(this)]})});else if(C){var K=proboards.data("board_id");Y[K]=1,U.push(K),$("span.labels:first .ui-label").each(function(){++V[G.getLabelId(this)]})}O.children("li").hide();var J=0;$.each(U,function(){var e=parseInt(this);void 0!==B[e]&&$.each(B[e],function(){++J,V[this]!=Y[e]&&O.children("li.label-add.label-"+this).show(),0!=V[this]&&O.children("li.label-remove.label-"+this).show()})}),J&&$(this).menu("showOption","labels")}}S&&D&&($(this).menu("showOption","mark_board_read"),$(this).menu("showOption","board_notifications")),C&&I&&($(this).menu("showOption","view"),$(this).menu("showOption","view_prev"),$(this).menu("showOption","view_next"),$(this).menu("showOption","sharing"),$(this).menu("showOption","facebook-share"),$(this).menu("showOption","twitter-share"),$(this).menu("showOption","tumblr-share"),$(this).menu("showOption","linkedin-share"),$(this).menu("showOption","reddit-share"),$(this).menu("showOption","myspace-share"),$(this).menu("showOption","email-share"),$(this).menu("showOption","move_post_all")),y&&"posts"==G.type&&$(this).menu("showOption","move_post_selected"),T&&y&&(o!=y&&(o!=y-1||!b)&&y<=proboards.data("maximum_follow_in_one_action")&&$(this).menu("showOption","follow"),0<o&&$(this).menu("showOption","unfollow"),(y<10||proboards.data("is_staff"))&&$(this).menu("showOption","send_message"),1==G.options.data.groupLeader&&$(this).menu("showOption","remove_from_group"),1==y&&($(this).menu("showOption","ipSearchThreads"),$(this).menu("showOption","ipSearchPosts"),$(this).menu("showOption","ipSearchMembers"),$(this).menu("showOption","searchIP"),$(this).menu().find(".searchIP > a").text("IP "+A[0].data("ip")))),E&&y&&$(this).menu("showOption","delete_report"),0==y&&_&&!w&&($(this).children("li.default-menu-option").show(),$(this).children("li").not(".default-menu-option").hide())},menuOptions:{click:function(e,t){if("view_prev"==(R=$(t.item).attr("class").replace(/ hide/,"")))window.location=proboards.data("lm_thread_prev");else if("view_next"==R)window.location=proboards.data("lm_thread_next");else if("mark_future"==R.substr(0,11)||"mark_as_read"==R.substr(0,12)){var i,o=[],n=[];if(L="posts"==G.type?(s=[G.item.id],"threads"):"messages"==G.type?(s=[G.item.id],"conversations"):(s=G.get_selection().ids,o=G.get_selection().items,G.type),0==s.length)return;"mark_as_read"==R.substr(0,12)&&(i=R.substr(13)),i=i||"now",proboards.ajax({url:proboards.route("mark_"+L,{type:"read"}),data:{"ids[]":s,until:i},dataType:"json",success:function(e){if("posts"==G.type||"messages"==G.type?G.item.is_new=0:G.options.data.participated||G.clear_cache(),o.length)for(g=0;g<o.length;++g)proboards.item(L.substr(0,L.length-1),s[g],"is_new",0),$(o[g]).removeClass("new"),e.update_icon&&$(".icon img",o[g]).attr("src",e.update_icon)}})}else if("mark_as_new"==R){o=[],n=[];if(L="posts"==G.type?(s=[G.item.id],"threads"):"messages"==G.type?(s=[G.item.id],"conversations"):(s=G.get_selection().ids,o=G.get_selection().items,G.type),0==s.length)return;proboards.ajax({url:proboards.route("mark_"+L,{type:"new"}),data:{"ids[]":s},dataType:"json",success:function(e){for("posts"==G.type||"messages"==G.type?G.item.is_new=1:G.options.data.participated||G.clear_cache(),g=0;g<o.length;++g)proboards.item(L.substr(0,L.length-1),s[g],"is_new",1),$(o[g]).hasClass("new")||$(o[g]).addClass("new"),e.update_icon&&$(".icon img",o[g]).attr("src",e.update_icon)},error:function(e){for(g=0;g<o.length;++g)-1==$.inArray(s[g],e.ids)&&(proboards.item(L.substr(0,L.length-1),s[g],"is_new",1),$(o[g]).hasClass("new")||$(o[g]).addClass("new"));proboards.error(e.error)}})}else if("mark_board_read"==R){(r=parseInt(proboards.data("board_id")))<=0?proboards.error("Invalid board."):proboards.ajax({url:proboards.route("mark_boards",{type:"read"}),data:{board_id:r},success:function(){$(".item.thread.new").each(function(){var e=G.getItemId(this);proboards.item("thread",e).board_id==r&&$(this).removeClass("new")}),G.clear_cache()}})}else if("board_notifications"==R){var r;if((r=parseInt(proboards.data("board_id")))<=0)proboards.error("Invalid board.");else{function a(){var a={};proboards.dialog_toggle_buttons("board-notifications",!0),$(".notification-option-wrapper","#board-notifications").each(function(){var e=$(this),t=e.data("type"),i=$('input[name="forum"]',e).prop("checked")?1:0,n=$('input[name="tapatalk"]',e).prop("checked")?1:0,o=$('select[name="freq"]',e).val();a[t]=[i,n,o]}),proboards.ajax({url:proboards.route("board_notifications_save"),data:{board_id:r,settings:a},success:function(){$("#board-notifications").dialog("close"),proboards.alert("Your notification settings for this board have been saved!",{title:"Board Notification Settings"})},complete:function(){proboards.dialog_toggle_buttons("board-notifications",!1)}})}proboards.loading(!0),proboards.ajax({url:proboards.route("board_notifications_dialog"),data:{board_id:r},success:function(e){proboards.dialog("board-notifications",{title:e.dialog_title,html:e.dialog_html,width:"auto",buttons:{Save:a,Cancel:function(){$(this).dialog("close")}}})},complete:function(){proboards.loading(!1)}})}}else if("bookmark"==R){n=[];if("posts"==G.type)s=[proboards.data("thread_id")],$(".bookmark_icon",G.icons).show(),G.item.is_bookmarked=1;else for(s=G.get_selection().ids,o=G.get_selection().items,g=0;g<s.length;++g)$(o[g]).hasClass("bookmarked")||($(o[g]).addClass("bookmarked").find(".bookmark_icon").show(),n.push(o[g]));if(0==s.length)return;proboards.ajax({url:proboards.route("bookmark_threads"),data:{type:"mark","ids[]":s},success:function(e){"posts"==G.type?proboards.data("bookmarked",e.success):G.clear_cache()},error:function(e){if("threads"==G.type)for(g=0;g<n.length;++g)$(n[g]).removeClass("bookmarked");proboards.error(e.error)}})}else if("unbookmark"==R){n=[];if("posts"==G.type)s=[proboards.data("thread_id")],$(".bookmark_icon",G.icons).hide(),G.item.is_bookmarked=0;else for(s=G.get_selection().ids,o=G.get_selection().items,g=0;g<s.length;++g)$(o[g]).hasClass("bookmarked")&&($(o[g]).removeClass("bookmarked").find(".bookmark_icon").hide(),n.push(o[g]));if(0==s.length)return;proboards.ajax({url:proboards.route("bookmark_threads"),data:{type:"unmark","ids[]":s},success:function(e){"posts"==G.type?proboards.data("bookmarked",!e.success):proboards.data("bookmarks")?(G.research(),G.selected_ids=[],G.selected_items={}):G.clear_cache()},error:function(e){if("threads"==G.type)for(g=0;g<n.length;++g)$(n[g]).addClass("bookmarked");proboards.error(e.error)}})}else if("enable_falling"==R){if("posts"==G.type)s=[proboards.data("thread_id")];else{var s=G.get_selection().ids;o=G.get_selection().items}if(0==s.length)return;proboards.ajax({url:proboards.route("thread_falling"),data:{type:"enable_falling","ids[]":s},success:function(e){if("posts"==G.type)$(".falling_icon",G.icons).show(),G.item.is_falling=1;else{for(g=0;g<s.length;++g)$(o[g]).addClass("falling").find(".falling_icon").show();G.clear_cache()}}})}else if("disable_falling"==R){if("posts"==G.type)s=[proboards.data("thread_id")];else s=G.get_selection().ids,o=G.get_selection().items;if(0==s.length)return;proboards.ajax({url:proboards.route("thread_falling"),data:{type:"disable_falling","ids[]":s},success:function(e){if("posts"==G.type)$(".falling_icon",G.icons).hide(),G.item.is_falling=0;else{for(g=0;g<s.length;++g)$(o[g]).removeClass("falling").find(".falling_icon").hide();G.clear_cache()}}})}else if("facebook-share"==R){var l=document.location.href;window.open("http://www.facebook.com/sharer/sharer.php?u="+escape(l))}else if("twitter-share"==R){var c=proboards.data("thread_subject")+" "+document.location.href;proboards.data("enterprise")||(c+="&hashtags=proboards"),window.open("https://twitter.com/intent/tweet?text="+encodeURI(c))}else if("tumblr-share"==R){l=document.location.href;var d=proboards.data("thread_subject"),u=$("meta[property='og:description']").attr("content").trim(),h=proboards.data("enterprise")?"":"&tags=proboards";window.open("http://www.tumblr.com/share/link?url="+encodeURI(l)+"&name="+encodeURI(d)+"&description="+encodeURI(u)+encodeURI(h))}else if("linkedin-share"==R){l=document.location.href,d=proboards.data("thread_subject");window.open("http://www.linkedin.com/shareArticle?url="+escape(l)+"&title="+escape(d))}else if("reddit-share"==R){l=document.location.href,d=proboards.data("thread_subject");window.open("http://reddit.com/submit?url="+escape(l)+"&title="+escape(d))}else if("myspace-share"==R){l=document.location.href,d=proboards.data("thread_subject");window.open("http://www.myspace.com/Modules/PostTo/Pages/?t="+escape(d)+"&u="+escape(l))}else if("email-share"==R){l=document.location.href,d=proboards.data("thread_subject");var p=$("meta[property='og:description']").attr("content").trim();p+="\n \n"+l,window.open("mailto:?subject="+escape(d)+"&body="+escape(p))}else if("announce"==R){if("posts"==G.type?s=[proboards.data("thread_id")]:(s=G.get_selection().ids,o=G.get_selection().items),0==s.length)return;proboards.ajax({url:proboards.route("mark_threads",{type:"announce"}),data:{"ids[]":s},success:function(e){if("posts"==G.type)G.item.is_announcement=1;else{for(g=0;g<s.length;++g)$(o[g]).addClass("announcement");G.research()}}})}else if("unannounce"==R){if("posts"==G.type?s=[proboards.data("thread_id")]:(s=G.get_selection().ids,o=G.get_selection().items),0==s.length)return;proboards.ajax({url:proboards.route("mark_threads",{type:"unannounce"}),data:{"ids[]":s},success:function(e){if("posts"==G.type)G.item.is_announcement=0;else{for(i=0;i<s.length;++i)$(o[i]).removeClass("announcement");var t=proboards.data("board_id");if(t)for(var i=0;i<s.length;i++){var n=proboards.item("thread",s[i]);n&&n.board_id!=t&&G.unselect_item($("#thread-"+n.id))}G.research()}}})}else if("sticky"==R){if("posts"==G.type?s=[proboards.data("thread_id")]:(s=G.get_selection().ids,o=G.get_selection().items),0==s.length)return;proboards.ajax({url:proboards.route("mark_threads",{type:"sticky"}),data:{"ids[]":s},success:function(e){if("posts"==G.type)$(".sticky_icon",G.icons).show(),G.item.is_sticky=1;else{for(g=0;g<s.length;++g)$(o[g]).addClass("sticky");G.research()}}})}else if("unsticky"==R){if("posts"==G.type?s=[proboards.data("thread_id")]:(s=G.get_selection().ids,o=G.get_selection().items),0==s.length)return;proboards.ajax({url:proboards.route("mark_threads",{type:"unsticky"}),data:{"ids[]":s},success:function(e){if("posts"==G.type)$(".sticky_icon",G.icons).hide(),G.item.is_sticky=0;else{for(g=0;g<s.length;++g)$(o[g]).removeClass("sticky");G.research()}}})}else if("lock"==R||"locks"==R){if("posts"==G.type)G.options.data.search?(s=[],$.each(proboards.postManager.selected_posts,function(e,t){var i=proboards.item("post",t).thread_id;proboards.item("thread",i).is_locked||s.push(i)})):s=[proboards.data("thread_id")];else{var f=G.get_selection().ids,m=G.get_selection().items;s=[],o=[];for(var g=0,v=f.length;g<v;++g)$(m[g]).hasClass("locked")||(s.push(f[g]),o.push(m[g]))}if(0==s.length)return;s=$.unique_array(s),proboards.ajax({url:proboards.route("mark_threads",{type:"lock"}),data:"reports"==G.type?{"post_ids[]":s}:{"ids[]":s},dataType:"json",success:function(e){if("posts"==G.type)G.options.data.search?$.each(s,function(e,t){proboards.item("thread",t,"is_locked",1)}):($(".lock_icon",G.icons).show(),G.item.is_locked=1);else{for(g=0;g<s.length;++g){$(o[g]).addClass("locked").find(".lock_icon").show();var t=$(".icon img",o[g]);if(t.length){var i=t.attr("src"),n=t.attr("alt");-1==i.indexOf("locked")&&(i=i.replace("thread","thread-locked"),n=n.replace("Thread","Thread Locked"),t.attr("src",i).attr("alt",n).attr("title",n))}}G.clear_cache()}}})}else if("unlock"==R||"unlocks"==R){if("posts"==G.type)G.options.data.search?(s=[],$.each(proboards.postManager.selected_posts,function(e,t){var i=proboards.item("post",t).thread_id;proboards.item("thread",i).is_locked&&s.push(i)})):s=[proboards.data("thread_id")];else{f=G.get_selection().ids,m=G.get_selection().items;s=[],o=[];for(g=0,v=f.length;g<v;++g)$(m[g]).hasClass("locked")&&(s.push(f[g]),o.push(m[g]))}if(0==s.length)return;proboards.ajax({url:proboards.route("mark_threads",{type:"unlock"}),data:"reports"==G.type?{"post_ids[]":s}:{"ids[]":s},success:function(e){if("posts"==G.type)G.options.data.search?$.each(s,function(e,t){proboards.item("thread",t,"is_locked",0)}):($(".lock_icon",G.icons).hide(),G.item.is_locked=0);else{for(g=0;g<s.length;++g){$(o[g]).removeClass("locked").find(".lock_icon").hide();var t=$(".icon img",o[g]);if(t.length){var i=t.attr("src"),n=t.attr("alt");-1!=i.indexOf("locked")&&(i=i.replace("thread-locked","thread"),n=n.replace("Thread Locked","Thread"),t.attr("src",i).attr("alt",n).attr("title",n))}}G.clear_cache()}}})}else if("archive_all"==R||"delete_all"==R){var b=R.substring(0,R.length-4),A="inbox",y="0",_=proboards.data("folder")||"inbox";proboards.data("lm_label_id")?y=proboards.data("lm_label_id"):A=_,proboards.confirm_dialog("conversations",b,[],function(e){G.research(),"inbox"==_&&(G.selected_ids=[],G.selected_items={})},{label_id:y,folder:A})}else if("archive"==R)if("conversations"==G.type||"reports"==G.type){if(0==(s=G.get_selection()).length)return;proboards.ajax({url:proboards.route("mark_"+G.type,{type:"archive"}),data:{"ids[]":s.ids},success:function(e){G.research(),"inbox"!=proboards.data("folder")&&"reports"!=G.type||(G.selected_ids=[],G.selected_items={})}})}else proboards.ajax({url:proboards.route("mark_conversations",{type:"archive"}),data:{"ids[]":[proboards.data("conversation_id")]},success:function(e){G.item.is_archived=1}});else if("unarchive"==R)if("conversations"==G.type||"reports"==G.type){if(0==(s=G.get_selection()).length)return;proboards.ajax({url:proboards.route("mark_"+G.type,{type:"unarchive"}),data:{"ids[]":s.ids},success:function(e){G.research(),"archive"!=proboards.data("folder")&&"reports"!=G.type||(G.selected_ids=[],G.selected_items={})}})}else proboards.ajax({url:proboards.route("mark_conversations",{type:"unarchive"}),data:{"ids[]":[proboards.data("conversation_id")]},success:function(e){G.item.is_archived=0}});else if("forward"==R)0==$("#forward-container").length&&($(document.body).append('<div id="forward-container"></div>'),proboards.dialog("forward-container",{autoOpen:!1,width:320,title:"Forward Conversation"})),proboards.ajax({url:proboards.route("forward_conversations"),data:{id:proboards.data("conversation_id"),type:"forward"},dataType:"html",success:function(e){$("#forward-container").html(e),$("#forward-container").dialog("open"),$(".user-search .user-search-input").blur()}});else if("change_participants"==R){0==$("#change-users-container").length&&($(document.body).append('<div id="change-users-container"></div>'),proboards.dialog("change-users-container",{autoOpen:!1,width:310,height:400,title:"Change Participants",buttons:{Save:function(){$("#change-users-container form").submit()}}}));var w=[],x=proboards.data("conversation_participants");for(g=0;g<x.length;g++)x[g]!=proboards.data("conversation_leader")&&w.push(x[g]);proboards.ajax({url:proboards.route("change_users",{type:"change"}),data:{recipients:w.join(","),conversation_id:proboards.data("conversation_id"),page:"conv"},dataType:"html",success:function(e){$("#change-users-container").html(e),$("#change-users-container").dialog("open"),$(".user-search .user-search-input").blur()}})}else if("leave_conversation"==R){if(0==(s="messages"==G.type?[proboards.data("conversation_id")]:G.get_selection().ids).length)return;$(".search-input",G.search).addClass("ui-loading"),proboards.ajax({url:proboards.route("remove_conversations"),data:{"ids[]":s},success:function(e){"messages"==G.type?window.location=proboards.route("conversations",{folder:"inbox"}):G.research()}})}else if("move_thread"==R||"move_threads"==R){var k="";if("posts"==G.type)s=[proboards.data("thread_id")];else if("reports"==G.type){s=[];var C="&"+encodeURIComponent("report_ids[]"),S=G.get_selection().ids;for(g=0;g<S.length;g++){""!=(j=/(^| )thread-([0-9]+)($| )/.test($("#report-"+S[g]).attr("class"))?RegExp.$2:"")&&s.push(j),k+=C+"="+S[g]}}else s=G.get_selection().ids;d="Move Thread"+(1!=s.length?"s":"");var T={},E=function(e){if("posts"==G.type)if(e.accessible){var t=proboards.route("thread",{thread_id:proboards.data("thread_id")});t+=e.pretty_url?"/"+e.pretty_url:"",window.location=t}else window.location=e.board_from_url;else G.options.data.search?window.location=e.board_to_url:(G.research(),G.selected_ids=[],G.selected_items={},$("#move-threads-container").dialog("close"))};T[d]=function(){proboards.loading(!0),proboards.ajax({url:proboards.route("thread_move"),data:$("#move-threads-container form").serialize()+($('input[name="move_message"]').serialize()?"&"+$('input[name="move_message"]').serialize():"")+($('input[name="send_user_pm"]').serialize()?"&"+$('input[name="send_user_pm"]').serialize():"")+k,dataType:"json",success:function(t){void 0!==t.pm_dialog?($("#move-threads-container").dialog("option","title","Send PM"),$("#move-threads-container").dialog("option","height",340),$("#move-threads-container").dialog("option","buttons",{"Send PM":function(e){$(e.target).button({disabled:!0,label:"Sending"}),$("span",e.target).progress_text(),proboards.ajax({url:proboards.route("thread_move_pm"),data:$("#move-threads-container form").serialize(),dataType:"json",success:function(){E(t),$("#move-threads-container").dialog("option","title",d),$("#move-threads-container").dialog("option","height",420),$("#move-threads-container").dialog("option","buttons",T)}})}}),$("#move-threads-container").html(t.pm_dialog)):E(t)},complete:function(e){proboards.loading(!1)},error:function(e){if(e.enter_password){var t='<div class="error bold pad-bottom-double">'+e.error+'</div><p class="pad-bottom-double">This board is password protected. <br />Please enter the password:</p><div><input type="password" name="password" /></div>',i=$("#move-threads-container");i.find("form").append('<input type="hidden" name="board_password" />'),proboards.dialog("move_board_password",{title:"Enter Board Password",autoOpen:!0,width:"auto",modal:!0,html:t,buttons:{Move:function(e){$(this).dialog("close");var t=$(this).find('input[name="password"]').val();i.find('input[name="board_password"]').val(t),i.closest(".ui-dialog").find(".ui-dialog-buttonset button").trigger("click")}}})}else proboards.error(e.error)}})},$("#move-threads-container").length?($("#move-threads-container").dialog("option","title",d),$("#move-threads-container").dialog("option","buttons",T)):($(document.body).append('<div id="move-threads-container"></div>'),proboards.dialog("move-threads-container",{autoOpen:!1,width:620,height:420,title:d,buttons:T})),proboards.ajax({url:proboards.route("thread_move_dialog"),dataType:"html",data:{"thread_ids[]":s,type:G.type},success:function(e){$("#move-threads-container").html(e);var t=$("#move-threads-container").nextAll(".ui-dialog-buttonpane");t.children(".button-text").remove(),t.prepend($("#move-threads-container .button-text")),$("#move-threads-container").dialog("open")}})}else if("move_post_all"==R||"move_post_selected"==R||"move_post"==R||"move_posts"==R){"move_post_all"==R?null==proboards.data("thread_id")?(R="move_all_search",1==proboards.data("recent_posts")&&void 0!==proboards.data("recent_posts_user")&&(s=[parseInt(proboards.data("recent_posts_user"))])):s=[parseInt(proboards.data("thread_id"))]:s="reports"==G.type?G.get_selection().ids:proboards.postManager.selected_posts;var D=document.createElement("form");D.setAttribute("method","POST"),D.setAttribute("action",proboards.route("move_post"));var I=document.createElement("input");I.setAttribute("type","hidden"),I.setAttribute("name","selection"),I.setAttribute("value",s.join(",")),D.appendChild(I);var P=document.createElement("input");P.setAttribute("type","hidden"),P.setAttribute("name","type"),P.setAttribute("value",R),D.appendChild(P),document.body.appendChild(D),D.submit()}else if("delete_thread"==R||"delete_threads"==R){if("messages"==G.type)s=[proboards.data("conversation_id")],L="conversations";else if("posts"==G.type)s=G.options.data.search?(L="posts",proboards.postManager.selected_posts):(L="threads",[proboards.data("thread_id")]);else if("reports"==G.type){s=[],L="threads";for(S=G.get_selection().ids,g=0;g<S.length;g++){""!=(j=/(^| )thread-([0-9]+)($| )/.test($("#report-"+S[g]).attr("class"))?RegExp.$2:"")&&s.push(j)}}else L="members"==G.type?(s=G.get_selection().ids,"users"):(s=G.get_selection().ids,G.type);if(0==s.length)return;if("threads"==G.type||"posts"==G.type||"members"==G.type||"reports"==G.type){var M={};if("reports"==G.type){var O=proboards.data("lm_id");M.report_ids=proboards.listManagers[O].selected_ids}proboards.confirm_dialog(L,"delete",s,function(e){void 0===e.redirect_url||G.options.data.search?"posts"==G.type&&"threads"==L?window.location=proboards.route("board",{board_id:proboards.data("board_id")}):("posts"==G.type&&proboards.postManager.unselect_all(),G.research(),G.selected_ids=[],G.selected_items={}):window.location=e.redirect_url},M)}else proboards.confirm("messages"==G.type?"Are you sure you wish to delete this conversation?":"Are you sure you wish to delete "+s.length+" conversation"+(1!=s.length?"s":"")+"?",function(){proboards.ajax({url:proboards.route("delete_conversations"),data:{"ids[]":s},datatype:"json",success:function(e){1==e.results?"messages"==G.type?window.location=proboards.route("conversations",{folder:"inbox"}):"posts"==G.type?window.location=proboards.route("board",{board_id:proboards.data("board_id")}):(G.research(),G.selected_ids=[],G.selected_items={}):proboards.error("You do not have permission to delete this.")}})})}else if("bump"==R){if(0==(s="posts"==G.type?[proboards.data("thread_id")]:G.get_selection().ids).length)return;proboards.ajax({url:proboards.route("thread_bump"),data:{"ids[]":s},dataType:"json",success:function(e){"posts"!=G.type&&G.research()}})}else if("follow"==R){if(0==(s=G.get_selection()).length)return;proboards.ajax({url:proboards.route("follow_member"),data:{"ids[]":s.ids},success:function(e){for(var t=0;t<e.ids.length;++t)proboards.dataHash.following[e.ids[t]]=1}})}else if("unfollow"==R){if(0==(s=G.get_selection()).length)return;proboards.ajax({url:proboards.route("unfollow_member"),data:{"ids[]":s.ids},success:function(e){for(var t=0;t<s.ids.length;++t)proboards.dataHash.following[s.ids[t]]=0;"following"==G.options.data.hash.view?(G.selected_ids=[],G.selected_items={},G.research()):G.clear_cache()}})}else if("send_message"==R){if(0==(s=G.get_selection()).length)return;for(w="",g=0;g<s.length;g++)0!=g&&(w+=","),w+=s.ids[g];window.location=proboards.route("new_user_conversation",{recipients:w})}else if("delete_report"==R){var N=(S=G.get_selection().ids).length;if(0==N)return;proboards.confirm("Are you sure you wish to delete "+N+" report"+(1!=N?"s":"")+"?",function(){proboards.loading(!0),proboards.ajax({url:proboards.route("delete_report"),data:{"ids[]":S},dataType:"json",success:function(){G.research(),G.selected_ids=[],G.selected_items={}},complete:function(){proboards.loading(!1)}})})}else if("delete_post"==R||"delete_posts"==R){s=G.get_selection().ids;var L="posts";if(0==s.length)return;proboards.confirm_dialog(L,"delete",s,function(e){G.research(),G.selected_ids=[],G.selected_items={}})}else if("warn_user"==R){if(1!=(s=G.get_selection()).length)return;""!=(j=/(^| )user-([0-9]+)($| )/.test($(s.items[0]).attr("class"))?RegExp.$2:"")&&(window.location=proboards.route("edit_user_admin",{user_id:j}))}else if("ban_user"==R){if(1!=(s=G.get_selection()).length)return;var j="";if("reports"==G.type)j=/(^| )user-([0-9]+)($| )/.test($(s.items[0]).attr("class"))?RegExp.$2:"",proboards.member.ban({id:j,checked:["ip","user_name","global_id"],from:{type:"reported_post",id:s.ids[0]},success:function(e){G.research(),G.selected_ids=[],G.selected_items={}}}),j="";else if("members"!=G.type){j=/(^| )user-([0-9]+)($| )/.test($(s.items[0]).attr("class"))?RegExp.$2:""}else j=s.ids[0];""!=j&&proboards.member.ban({id:j,checked:["ip","global_id","user_name"]})}else if("searchIP actionable ui-menu-has-sub-menu"==R)proboards.dialog("ip_copy",{title:"IP Address"}).html('Below is the IP address associated with this member: <br /><br /><input type="text" name="easy_copy_ip" style="width: 270px;" value="'+G.get_selection().items[0].data("ip")+'" />'),$('input[name="easy_copy_ip"]').select();else if("ipSearchMembers"==R)window.location=proboards.route("members")+"?view=ip&type=user&id="+G.get_selection().ids[0]+"/";else if("ipSearchThreads"==R)window.location=proboards.route("threads_by_ip",{type:"user",id:G.get_selection().ids[0]});else if("ipSearchPosts"==R)window.location=proboards.route("posts_by_ip",{type:"user",id:G.get_selection().ids[0]});else if(-1==R.indexOf("label")||-1!=R.indexOf("ui-menu-has-sub-menu")||"threads"!=G.type&&"posts"!=G.type)if(-1==R.toLowerCase().indexOf("label")||-1!=R.indexOf("ui-menu-has-sub-menu")||"conversations"!=G.type&&"messages"!=G.type){if("remove_from_group"==R){if(0==(s=G.get_selection()).length)return;proboards.ajax({url:proboards.route("change_group_members",{type:"remove"}),data:{type:"remove","user_ids[]":G.selected_ids,group_id:G.options.data.hash.group},success:function(e){G.research(),G.selected_ids=[],G.selected_items={},e.status&&($(document.body).append('<div id="remove-member-status">'+e.status+"</div>"),proboards.dialog("remove-member-status",{autoOpen:!0,width:310,title:"Remove Group Members",close:function(){$("#remove-member-status").remove()}}))}})}}else{var R;if("manageLabels"==(R=$(t.item).attr("class"))){var F=0;0==$("#manage-labels-container").length&&($(document.body).append('<div id="manage-labels-container"></div>'),proboards.dialog("manage-labels-container",{autoOpen:!1,width:640,title:"Manage Labels",open:function(){0===$("#labels-wrapper .label-row").length&&$("#labels-wrapper").html('<div id="no-labels-msg">You have no labels.  Click Create New Label to create a new label.</div>'),G.selected_ids.length||$(".apply-col",this).hide(),$("#labels-wrapper .label-row").each(function(){var e=$(".name_input",this),t=$(".color_input",this),i=e.attr("name").substr(5);update_labels_preview_text(i,e.val()),update_labels_preview_hex(i,t.val())})},buttons:[{text:"Create New Label",click:function(){var e=proboards.data("manage_form_id");0<$("#no-labels-msg").remove().length&&($("#labels-wrapper").append('<div><span class="apply-col">Apply</span><span class="label-col">Label Name</span></div>'),G.selected_ids.length||$(".apply-col",this).hide());var t='<div class="label-row new">'+(G.selected_ids.length?'<span class="apply-col"><input id="'+e+"_apply_new"+F+'_input" class="apply_input" type="checkbox" checked="checked" name="apply_new'+F+'" /></span>':"")+'<input id="'+e+"_name_new"+F+'_input" class="name_input" type="text" name="name_new'+F+'" size="16" maxlength="32" /><span class="color-wrapper"><input id="'+e+"_color_new"+F+'_input" class="color_input" type="text" name="color_new'+F+'" value="1979e6" /></span><span id="manage-label-new'+F+'-preview" class="ui-label"></span><a id="label_new'+F+'_delete" class="label-delete-button" href="javascript:void(0);"><span>x</span></a></div>';$("#labels-wrapper").append(t),$("#labels-wrapper .name_input").last().focus(),F++}},{text:"Save Changes",click:function(){for(var t=proboards.data("manage_form_id"),e={},i=$("#labels-wrapper .label-row:not(.new)"),n=0;n<i.length;++n){var o=i[n],a=$(".name_input",o),r=$(".color_input",o),s=$(".apply_input:checked",o);e[d=a.attr("name").substr(5)]={},e[d].name=a.val(),e[d].color=r.val(),s.length&&(e[d].apply=1)}var l={},c=$("#labels-wrapper .label-row.new");for(n=0;n<c.length;++n){var d;o=c[n],a=$(".name_input",o),r=$(".color_input",o),s=$(".apply_input:checked",o);l[d=a.attr("name").substr(5)]={},l[d].name=a.val(),l[d].color=r.val(),s.length&&(l[d].apply=1)}proboards.ajax({url:proboards.route("modify_conversation_labels"),data:{labels:JSON.stringify(e),new_labels:JSON.stringify(l),conv_ids:G.selected_ids},success:function(e){if(G.edit_labels(e),void 0!==e.add_labels)for(var t=0;t<e.add_labels.length;t++){var i=e.add_labels[t],n=G.get_label_html(i);G.add_labels(i),G.add_labels_nav_item({liClass:"nav-tree-label-"+i.id,href:proboards.route("conversations_by_label",{label_id:i.id}),content:n})}void 0!==e.no_labels&&$(".nav-tree-labels").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),G.selected_ids.length&&G.apply_label_map(e.apply_labels),$(this).dialog("close"),"messages"!=G.type&&G.clear_cache()},error:function(e){0===$(".ui-form-error").length&&$(document.body).append('<div class="ui-form-error"></div>').bind("mousedown",function(){$(".ui-form-error").hide()}),$.inputError($("#"+t+"_name_"+e.failure_id+"_input"),e.error)}})}}]}),$(".color_input").livequery(function(){var e=$(this).val()||"1979e6",t=$(this).attr("name").substr("color_".length);update_labels_preview_hex(t,e),$(this).colorPickMe({update:function(e){update_labels_preview_hex(t,e,1)}})}),$(".color_input").live("keyup",function(){var e=$(this).val(),t=$(this).attr("name").substr(6);update_labels_preview_hex(t,e)}),$(".name_input").live("keyup",function(){var e=$(this).attr("name").substr(5);update_labels_preview_text(e,this.value)}),$(".label-delete-button").live("click",function(e){return e.preventDefault(),$(this).parents(".label-row").remove(),0==$("#manage-labels-container .label-row").length&&$("#manage-labels-container #labels-wrapper").html('<div id="no-labels-msg">You have removed all labels, are you sure you want to do this?  Click Save Changes to confirm.</div>'),!1})),proboards.ajax({url:proboards.route("manage_conversation_labels"),dataType:"html",success:function(e){$("#manage-labels-container").html(e),$("#manage-labels-container").dialog("open")}})}else{if("messages"!=G.type)H=G.get_selection().ids;else H=[proboards.data("conversation_id")];y=R.split(" ")[0].substring(6);type=-1!=R.indexOf("add-label")?"add":"remove",proboards.ajax({url:proboards.route("apply_conversation_label"),data:{label_id:y,"ids[]":H,type:type},success:function(e){for(var t=e.ids.length,i=0;i<t;++i)G.apply_label(e.type,e.ids[i],e.label);"messages"!=G.type&&G.clear_cache()}})}}else{var s=G.get_selection(),y=G.getLabelId(t.item),z=G.getLabelBoardId(t.item),q=G.getLabelAction(t.item);"posts"==G.type&&($(document.body).addClass("thread-board-"+proboards.data("board_id")),s={items:[document.body],ids:[proboards.data("thread_id")],length:1});var H=[],W=[];if("add"==q)for(var g in s.items){$(s.items[g]).find(".ui-label.label-"+y).length||G.getLabelBoardId(s.items[g])!=z||(H.push(s.ids[g]),W.push(s.items[g]))}else if("remove"==q)for(var g in s.items){$(s.items[g]).find(".ui-label.label-"+y).length&&G.getLabelBoardId(s.items[g])==z&&(H.push(s.ids[g]),W.push(s.items[g]))}proboards.ajax({url:proboards.route("apply_thread_label"),data:{action:q,label_id:y,"ids[]":H,type:G.type},success:function(e){if("add"==q)for(g in W){var t=$(W[g]);if(!t.find(".ui-label.label-"+y).length){var i=t.find("span.labels");i.length?i.prepend(e.label_html):t.find("span.no-labels").removeClass("no-labels").addClass("labels").prepend(e.label_html)}}else if("remove"==q)for(g in W)$(W[g]).find(".ui-label.label-"+y).remove();"posts"==G.type&&(""!=$.trim($("span.labels").html())?$("span.labels").show():$("span.labels").hide()),G.clear_cache()}})}return e.preventDefault(),!1},position:G.menu_position}});this.labelsSelectMenu=$(".lm-labels-"+G.options.id)},create_folders_controls:function(){var e,t=proboards.data("folder");if(null!=t){if(e=t.match(/label\-(\d+)/)){var i,n=proboards.data("labels"),o=n.length,a=!1;for(i=0;i<o&&!a;++i)n[i].id==e[1]&&(t=this.get_label_html(n[i]),a=!0)}else t=t.charAt(0).toUpperCase()+t.substr(1);var r=$(".lm-folders-"+this.options.id).selectMenu({status:t,staticStatus:!0,beforeShow:function(){$(this).menu("hideOption",proboards.data("folder"))},menuOptions:{click:function(e,t){e.preventDefault();var i=$(t.item).attr("class");return i.match(/label\-(\d+)/)?document.location=proboards.route("conversations_by_label",{label_id:RegExp.$1}):document.location=proboards.route("conversations",{folder:i}),!1}}});this.folderSelectMenu=r}},getItemId:function(e){var t=$(e).closest(".item").attr("id");return void 0!==t?t.match(/[a-z]+-(\d+)/)[1]:0},getLabelId:function(e){return $(e).attr("class").match(/label-(\d+)/)[1]},getLabelBoardId:function(e){return $(e).is(".item.thread")?proboards.item("thread",this.getItemId(e)).board_id:$(e).attr("class").match(/board-(\d+)/)[1]},getLabelAction:function(e){return $(e).attr("class").match(/label-(add|remove)+/)[1]},create_views_controls:function(){var a=this,e="View By Board";proboards.data("board_id")&&(e="Board: "+proboards.escape_html(proboards.item("board",proboards.data("board_id")).name.substr(0,15))),a.options.viewsSelector=".lm-views-"+a.options.id,a.options.viewsNameMap={all:"View All",birthdays:"View Today's Birthdays",followers:"View Followers",following:"View Following",friends:"View Friends",group:"View Group",online:"View Online Now",staff:"View Staff",today:"View Online Today",board:e},a.options.viewsDefault="View All";var t=a.options.viewsDefault,i=proboards.data("view"),n=proboards.consolidateParams(["search","hash"]);if(n.view){"birthdays_other_day"!==n.view||a.options.viewsNameMap.hasOwnProperty("birthdays_other_day")||(a.options.viewsNameMap[n.view]=i);var o=a.options.viewsNameMap[n.view];o&&(i=o)}null!=i&&""!=i&&(t=i);$(a.options.viewsSelector).selectMenu({status:t,staticStatus:!1,menuOptions:{click:function(e,t){var i=$(t.item).attr("class"),n=$("input",a.search).data("autosearch");if("viewAll"==i){var o=/view\/([a-zA-Z_]+)(\/|$)/.test(window.location.pathname)&&"all"!=RegExp.$1?"all":"";n.setDataLite("page",1),n.setData("view",o)}else"viewStaff"==i?(n.setDataLite("page",1),n.setDataLite("sort","name"),n.setDataLite("dir","asc"),n.setData("view","staff")):"viewFollowing"==i?(n.setDataLite("page",1),n.setDataLite("user",""),n.setDataLite("sort","last_online"),n.setDataLite("dir","desc"),n.setData("view","following")):"viewFollowers"==i?(n.setDataLite("page",1),n.setDataLite("user",""),n.setDataLite("sort","last_online"),n.setDataLite("dir","desc"),n.setData("view","followers")):"viewFriends"==i?(n.setDataLite("page",1),n.setDataLite("user",""),n.setDataLite("sort","last_online"),n.setDataLite("dir","desc"),n.setData("view","friends")):"viewOnlineToday"==i?(n.clearCache(),n.setDataLite("page",1),n.setDataLite("sort","last_online"),n.setDataLite("dir","desc"),n.setData("view","today")):"viewOnlineNow"==i?(n.clearCache(),n.setDataLite("page",1),n.setDataLite("board",""),n.setDataLite("sort","last_online"),n.setDataLite("dir","desc"),n.setData("view","online")):"viewBirthdays"==i?(n.setDataLite("page",1),n.setDataLite("sort","name"),n.setDataLite("dir","asc"),n.setData("view","birthdays")):"viewBoard"==i&&proboards.board.select(function(e,t){a.options.viewsNameMap.board="Board: "+proboards.escape_html(t.substr(0,15)),n.setDataLite("page",1),n.setData("view","board"),n.setData("board",e)},{accessible:!0,prepend:'<div class="info">Select a board below to see which members can access it:</div><br />'})}}})},create_logView_controls:function(){var n=this;n.options.logViewSelector="#log-view-select",n.options.logViewNameMap={all:"All Logs",admin:"Admin Logs",admin_ad_free:"Ad-Free",admin_ban_user:"Bans",admin_censored_words:"Censored Words",admin_change_forum_url:"Change Forum URL",admin_custom_domains:"Custom Domains",admin_custom_fields:"Custom Fields",admin_file_storage:"File Storage",admin_forum_avatars:"Forum Avatars",admin_headers_footers:"Headers &amp; Footers",admin_news_feed:"News Feed",admin_ranks:"Ranks",admin_reserved_names:"Reserved Names",admin_shoutbox:"Shoutbox",admin_forum_cleanup:"Forum Cleanup",admin_navigation_menu:"Navigation Menu",admin_forum_settings:"Forum Settings",admin_restrict_registration:"Restrict Registration",admin_restrict_registration_message:"Restrict Registration Message",admin_disable_registration:"Disable Registration",group:"Group Logs",group_create:"Creates",group_delete:"Deletes",group_edit:"Edits",group_leaders:"Leader Changes",group_members:"Member Changes",group_pending_approve:"Member Approvals",group_pending_deny:"Member Denials",post:"Post Logs",post_delete:"Deletes",post_edit:"Moves",thread:"Thread Logs",thread_annoucement:"Announcements",thread_bump:"Bumps",thread_delete:"Deletes",thread_event:"Events",thread_lock:"Locks",thread_move:"Moves",thread_poll:"Polls",thread_sticky:"Stickies",thread_falling:"Falling",user:"Member Logs",user_new:"New",user_delete:"Delete",user_profile_edit:"Edits",user_approve:"Approvals",user_reject:"Rejections",pm:"Conversation Logs",pm_delete:"Deletes",board_create:"Creates",board_delete:"Deletes",board_edit:"Edits",board_move:"Moves",board_duplicate:"Moves",category:"Category Logs",category_create:"Creates",category_delete:"Deletes",category_edit:"Edits",category_move:"Moves",category_duplicate:"Moves",plugin:"Plugin Logs",plugin_create:"Creates",plugin_edit:"Edits",plugin_settings:"Modifies Settings",plugin_delete:"Deletes",plugin_disable:"Enables/Disables",plugin_import:"Imports",plugin_install:"Installs",plugin_export:"Exports",plugin_permissions:"Edits Permissions",plugin_key_create:"Creates Key",plugin_key_delete:"Deletes Key",plugin_key_clear:"Clears Key Data",reported_post_create:"Creates",reported_post_delete:"Deletes",reported_post_archive:"Archives",reported_post_unarchive:"Unarchives",theme_style_reset:"Style Resets",theme_create:"Creates",theme_default:"Defaults",theme_style_edits:"Style Edits",theme_easy_layout_editor:"Colors &amp; Theme Creator Layout Edits",theme_settings:"Edits",theme_enable:"Enables",theme_export:"Exports",theme_import:"Imports",theme_install:"Installs",theme_disable:"Disables",theme_delete:"Deletes",theme_edit_groups_ranks:"Group and Rank Edits",theme_edit_groups_ranks_reset:"Group and Rank Resets",theme_edit_images:"Image Edits",theme_edit_images_reset:"Image Resets",theme_template_edit:"Template Edits",theme_template_reset:"Template Resets",theme_visual_editor_reset:"Visual Editor Resets",custom_page:"Custom Page Logs",custom_page_add:"Adds",custom_page_delete:"Deletes",custom_page_edit_html:"HTML Changes",custom_page_edit_permissions:"Permission Changes",custom_page_edit_settings:"Setting Changes",custom_page_edit_widgets:"Widget Changes"},n.options.logViewDefault="All Logs";var e=n.options.logViewDefault,t=proboards.consolidateParams(["search","hash"]);if(t.logView){var i=n.options.logViewNameMap[t.logView];i&&(e=i)}$(n.options.logViewSelector).selectMenu({status:e,staticStatus:!1,menuOptions:{click:function(e,t){var i=$(t.item).attr("class");-1!=i.indexOf("ui-menu-has-sub-menu")&&(i=i.replace(/\s?ui-menu-has-sub-menu\s?/,"")),"all"==i&&(i=""),$("input",n.search).autosearch("setDataLite","page",1),$("input",n.search).autosearch("setData","logView",i)}}})},update_controls:function(){for(var e=this.settings.controls,t=e.length,i=0;i<t;i++){var n=this.settings.viewHashKey,o=this.options[e[i]+"NameMap"],a=this.options[e[i]+"Selector"];if(void 0!==o&&void 0!==a&&void 0!==n){var r=this.options[e[i]+"Default"],s=$.pushStateSupport()?null:["hash"],l=proboards.consolidateParams(s);l[n]&&(r=o[l[n]]),$(a).selectMenu("updateStatus",r)}}},load_labels:function(){var e=proboards.data("labels");if(null!=e&&void 0!==e)for(var t=0;t<e.length;t++)this.add_labels(e[t])},apply_label_map:function(e){var t=e||proboards.data("label_map");if(null!=t)for(var i in t)for(var n=t[i].length-1;0<=n;n--){var o=t[i][n];this.apply_label("add",i,this.labels["label-"+o])}},add_labels:function(e){var n=this;if(this.labels["label-"+e.id]={id:e.id,name:e.name,color:e.color},this.add_labels_submenu_item(e),"messages"!=this.type&&this.folderSelectMenu&&$(this.folderSelectMenu.selectMenu("getMenu")).append('<li class="folder-label-'+e.id+' folder-label"><a href="#"><span class="icon"></span><span class="action-text"></span>'+this.get_label_html(e)+"</a></li>"),$("#add-label-container").dialog("close"),e.apply_this_label){var t=proboards.data("labels");if($.isArray(t)||(t=[]),t.push({id:e.id,name:e.name,color:e.color}),proboards.data("labels",t),"messages"!=n.type)var i=this.get_selection().ids;else i=[proboards.data("conversation_id")];proboards.ajax({url:proboards.route("apply_conversation_label"),data:{label_id:e.id,"ids[]":i,type:"add"},success:function(e){for(var t=e.ids.length,i=0;i<t;++i)n.apply_label(e.type,e.ids[i],e.label)}})}},apply_label:function(e,t,i){if(void 0!==i)if("messages"!=this.type){var n="#conversation-"+t;if("add"==e&&0<$(".labels .label-"+i.id,n).length)return;if("add"==e){var o=$('<a href="'+proboards.route("conversations_by_label",{label_id:i.id})+'">'+this.get_label_html(i)+"</a>");$(".main .labels",n).prepend(o)}else proboards.data("folder").substr(6)==i.id?this.research():$(".labels .label-"+i.id,n).remove()}else if("add"==e){o=$('<a href="'+proboards.route("conversations_by_label",{label_id:i.id})+'">'+this.get_label_html(i)+"</a>");$(".conversation-labels").prepend(o)}else $(".conversation-labels .label-"+i.id).remove()},get_label_html:function(e){return'<div class="ui-label label-'+e.id+'" style="color: #'+proboards.escape_html(e.color)+';">'+e.name+"</div>"},edit_labels:function(e){$("#manage-labels-container").dialog("close");var t=[];for(var i in this.labels={},e.labels)t.push({color:e.labels[i].color,name:e.labels[i].name,id:i}),this.labels["label-"+i]={color:e.labels[i].color,name:e.labels[i].name,id:i};for(var i in proboards.data("labels",t),e.labels)$(".ui-label.label-"+i).empty().append(e.labels[i].name).css("border-color","#"+e.labels[i].color).css("color","#"+e.labels[i].color);for(var n=0;n<e.delete_labels.length;n++)$("#label-"+e.delete_labels[n]).remove(),$(".nav-tree-label-"+e.delete_labels[n]).remove(),$(".folder-label-"+e.delete_labels[n]).remove(),$(".ui-label.label-"+e.delete_labels[n]).remove(),$(".labels li.label-"+e.delete_labels[n]).remove()},add_labels_submenu_item:function(e){$(this.labelsSelectMenu.selectMenu("getMenu")).append('<li class="label-'+e.id+' label"><a href="#"><span class="icon"></span><span class="action-text"></span>'+this.get_label_html(e)+"</a></li>"),"conversations"!=this.type&&"messages"!=this.type||$(".label.label-"+e.id,this.labelsSelectMenu.selectMenu("getMenu")).each(function(){$(".action-text",this).show();var e=$(this).clone();e.insertAfter($(this)),$(this).addClass("add-label"),$(".action-text",this).html("Add "),e.addClass("remove-label"),$(".action-text",e).html("Remove ")})},add_labels_nav_item:function(e){0===$(".nav-tree-labels ul li").length&&$(".nav-tree-labels").parentsUntil(".nav-tree").menu("showOption",["nav-tree-labels"]);var t=this.gen_nav_item(e);$(".nav-tree-labels ul").append(t)},gen_nav_item:function(e){return'<li class="'+e.liClass+'"><a class="span" href="'+e.href+'"><span class="new_span">New</span></a><a href="'+e.href+'">'+e.content+'</a><span class="arrow right"><span></span></span></li>'},setup_search:function(){if(this.settings.search){var w=this;this.pagination.html("").pagination({maxSlots:7,change:function(e,t){var i=$("input",w.search).data("autosearch");if(i.options.hash){var n=$(i.element);n.off("autosearchaftersearch.paging"),n.one("autosearchaftersearch.paging",function(){proboards.events.run("pageChange",e.target)})}i.setData("page",t.page,{refreshAds:!w.settings.modal,scrollToTop:!w.settings.modal,ignorePending:!0})},total:this.options.total,limit:this.options.limit,page:this.options.page}),$("#"+this.type+"-list-search-dialog").remove();var e='<strong>Your Search</strong><div class="ui-search"><input class="search-input filters-input" maxlength="'+proboards.data("search-query-max")+'" type="text" placeholder="Search..." role="search" alt="Search" /></div>',t="Search Options";this.settings.filters_only&&(e='<div id="'+this.type+'-list-search-dialog">'+this.settings.f_description+'<div class="ui-search"><input class="search-input filters-input" type="hidden" /></div></div>',t=this.settings.f_title),this.searchDialog=proboards.dialog(this.type+"-list-search-dialog",{html:e,autoOpen:!1,title:t,width:"50%",buttons:{Done:function(){$(this).dialog("close")}}});var p=$(".search-input",this.searchDialog);p.prop("autofocus",!0),this.searchDialog.parents(".ui-dialog").css({position:"fixed"});var i="";proboards.data("search_filter_img_src")&&(i='<img src="'+proboards.data("search_filter_img_src")+'" />');var n=$('<span class="search-filters-button"><span class="icon">'+i+"</span></span>").appendTo(w.search).click(function(){w.searchDialog.dialog("open")});this.settings.filters_only&&$(n).addClass("standalone");var o=[];if((proboards.data("search_system")||"threads"!=this.type&&"posts"!=this.type&&"conversations"!=this.type&&"messages"!=this.type)&&"security_logs"!=this.type||o.push({display:"Created by",name:"created_by",value_input_type:"custom",callback:function(e,i){proboards.search.create_user_search({container:$(".condition-input",e),input:i,change:function(e,t){$(i).val("created_by:eq:"+t.ids.join(",")),$(w.filters).filterlist("refresh")}})}}),!proboards.data("search_system")||"conversations"!=this.type&&"messages"!=this.type||(o.push({display:"Message Created By",name:"message_created_by",value_input_type:"custom",callback:function(e,i){proboards.search.create_user_search({container:$(".condition-input",e),input:i,change:function(e,t){$(i).val("message_created_by:eq:"+t.ids.join(",")),$(w.filters).filterlist("refresh")}})}}),o.push({display:"Conversation Started By",name:"conversation_created_by",value_input_type:"custom",callback:function(e,i){proboards.search.create_user_search({container:$(".condition-input",e),input:i,change:function(e,t){$(i).val("conversation_created_by:eq:"+t.ids.join(",")),$(w.filters).filterlist("refresh")}})}})),!proboards.data("search_system")||"threads"!=this.type&&"posts"!=this.type||(o.push({display:"Thread Created By",name:"thread_created_by",value_input_type:"custom",callback:function(e,i){proboards.search.create_user_search({container:$(".condition-input",e),input:i,change:function(e,t){$(i).val("thread_created_by:eq:"+t.ids.join(",")),$(w.filters).filterlist("refresh")}})}}),o.push({display:"Post Created By",name:"post_created_by",value_input_type:"custom",callback:function(e,i){proboards.search.create_user_search({container:$(".condition-input",e),input:i,change:function(e,t){$(i).val("post_created_by:eq:"+t.ids.join(",")),$(w.filters).filterlist("refresh")}})}})),"security_logs"==this.type&&proboards.data("search_ip")&&o.push({display:"IP address",name:"ip",value_input_type:"ip",value_input_size:15,add_class:"ip"}),"threads"==this.type){var a=[["","Select","color: gray;"]];$.isArray(proboards.data("labels_viewable"))&&$.each(proboards.data("labels_viewable")||[],function(){a.push([this.id,this.name,"color: #"+this.color])}),1!=a.length&&o.push({display:"Label",name:"label_id",value_input_type:"select",value_input_options:a}),o.push({display:"Locked",name:proboards.data("search_system")?"thread_locked":"locked",value_input_type:"select",value_input_options:[["","Select"],[1,"Yes"],[0,"No"]]}),o.push({display:"Is Event",name:proboards.data("search_system")?"thread_event":"event",value_input_type:"select",value_input_options:[["","Select"],[1,"Yes"],[0,"No"]]}),o.push({display:"Has Poll",name:proboards.data("search_system")?"thread_poll":"poll",value_input_type:"select",value_input_options:[["","Select"],[1,"Yes"],[0,"No"]]})}proboards.data("search_system")||"threads"!=this.type&&"posts"!=this.type&&"conversations"!=this.type&&"messages"!=this.type||o.push({display:"posts"==this.type||"messages"==this.type?"Creation Date":"Start Date",name:"created_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10}),!proboards.data("search_system")||"conversations"!=this.type&&"messages"!=this.type||(o.push({display:"Conversation Start Date",name:"conversation_created_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10}),o.push({display:"Message Creation Date",name:"message_created_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10})),!proboards.data("search_system")||"threads"!=this.type&&"posts"!=this.type||(o.push({display:"Post Creation Date",name:"post_created_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10}),o.push({display:"Thread Creation Date",name:"thread_created_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10})),"threads"!=this.type&&"conversations"!=this.type||o.push({display:"Reply Count",name:proboards.data("search_system")&&"threads"==this.type?"thread_replies":"conversation_replies",condition_input_options:[["lt","<"],["lte","<="],["eq","="],["gte",">="],["gt",">"]],value_input_type:"text",value_input_size:4}),"members"==this.type&&(o.push({display:"Post Count",name:"posts",condition_input_options:[["lt","<"],["lte","<="],["eq","="],["gte",">="],["gt",">"]],value_input_type:"text",value_input_size:4}),o.push({display:"Registration Date",name:"registered_on",condition_input_options:[["before","before"],["on","on"],["after","after"]],value_input_type:"date",value_input_size:10}));var r=proboards.data("locale_settings")||{},s=r.input_date_placeholder,l=r.input_date_regex?function(e){return $.check_date_format(e,r)}:void 0;this.filters=$("<div></div>").appendTo(this.searchDialog).filterlist({filters:o,change:function(e,t){$(".search-filters-button",w.search).toggleClass("state-active",0!=t.values.length),$("input",w.search).autosearch("setDataLite","page",1),$("input",w.search).autosearch("setData","filters",t.values)},filters_only:this.settings.filters_only,datePlaceholder:s,dateValidation:l});var c='<input class="search-input" type="text" width="90px" maxlength="'+proboards.data("search-query-max")+'" placeholder="Search..." role="search" accesskey="w" />';this.settings.filters_only&&(c='<input class="search-input" type="hidden" />'),w.search.prepend(c);var f="users"!=this.type&&!this.settings.participants&&!1!==this.options.hash;$(".search-input",w.search).autosearch({url:proboards.route(this.settings.route_name),data:this.options.data,cache:!0,pageCache:proboards.data("page_cache"),hash:f,delay:500,minChars:this.settings.minChars||proboards.data("search-query-min"),defaultResponse:{total:this.options.total,limit:this.options.limit,page:this.options.page},beforeSearch:function(e,t){$("li",w.pagination).addClass("state-disabled"),$("li a",w.pagination).bind("click.search",function(){return!1})},afterSearch:function(e,t){var i=$(this).data("autosearch");$("li a",w.pagination).off("click.search"),w.update_controls();var n="",o=null;"members"==w.type&&void 0!==w.options.data.hash&&"group"==(n=w.options.data.hash.view||"")&&(o=w.options.data.hash.group);var a=w.options.data.hash=proboards.consolidateParams();("group"==a.view&&("group"!=n||o!=a.group)||"group"!=a.view&&"group"==n)&&0<w.selected_ids.length&&(w.selected_ids=[],w.selected_items={},w.research()),void 0!==t.response&&(w.options.data.groupLeader="group"==a.view?t.request.groupLeader||0:null);var r=i.poppingState;if(!$.pushStateSupport()){var s=location.hash.match(/filters\[\]=[^&]+/g)||[];if(s.length!=w.last_filters.length)r=!0;else if(0<s.length){s.sort();for(var l=0;l<s.length;l++)if(s[l]!=w.last_filters[l]){r=!0;break}}w.last_filters=s}P(r),proboards.embedded.processEmbedded(),i.options.hash&&proboards.events.run("afterSearch")},search:function(e,t){var i=$(this).data("autosearch");i.options.hash&&t.refreshAds&&proboards.refresh_ads(!1,t.response.content_score),w.total_tracker=t.response.total,$(".lm-message-count-"+w.options.id).text(proboards.commify(w.total_tracker)),w.pagination.pagination("refresh",t.response),p.val($(".search-input",w.search).val());var n=!1,o=null,a=getTopAdBanner();if(a.length)o=a.offset().top;else{var r=$(w.content).parents(".container,.lm-container").find(".control-bar");r.length&&(o=r.last().offset().top)}if(t.scrollToTop&&$(window).scrollTop()>o&&(n=!0),w.content.html(t.response.results),t.response.page&&f){var s=i.data.page||i.baseData.page;if(t.response.page!=s){var l=$.extend({},i.data,{page:t.response.page}),c=i._getDataStr(l);$.pushStateSupport()?window.history.replaceState({},null,location.pathname+"?"+c):window.location.hash=c}}if(w.settings.checkbox)for(var d in w.selected_ids){var u=$("#"+w.item_type+"-"+w.selected_ids[d]);$(".list-item-checkbox",u).attr("checked","checked"),u.addClass("state-selected"),0<u.length&&(w.selected_items[w.selected_ids[d]]=u)}if("posts"==w.type&&proboards.postManager.runAll(t.cached),"messages"==w.type&&proboards.messageManager.runAll(t.cached),"conversations"==w.type){var h=t.response.label_map||proboards.data("label_map");proboards.data("label_map",$.extend(!0,{},h)),w.apply_label_map()}n&&/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(o)&&window.scroll({top:o,behavior:"smooth"}),"undefined"!=typeof vglnk&&"function"==typeof vglnk.link&&$("a",w.content).each(function(){vglnk.link(this)}),w.content.trigger("pagination_returned"),w.content.trigger("change")}}),w.options.data.hash=proboards.consolidateParams();var d=$(".search-input",w.search).data("autosearch"),u=proboards.data("lm_page")||1;if(d.lastResponse.results=$(proboards.data("page_cache")).html(),d.lastResponse.page=u,d.lastResponse.limit=this.options.limit,d.lastResponse.total=this.options.total,d.lastResponse.content_score=proboards.data("content_score"),$.pushStateSupport()&&d.options.hash){$.extend(d.baseData,proboards.data("route").params),d.baseData.page||(d.baseData.page=1);var h=proboards.consolidateParams(["search"]);if((h.page||d.baseData.page)!=u){h.page=u;var m="?"+d._getDataStr(h);history.replaceState({},null,m)}d.data=h,d.lastRequestDataStr=d._getDataStr(d._getRequestData());var g=proboards.consolidateParams(["hash"]),v=[],b=[];for(var A in w.mobileScrollifyRegEx.test(window.location.hash)&&(g.scrollTo=RegExp.$1),g)g.hasOwnProperty(A)&&(v.push(A),b.push(g[A]));if(v.length)for(var y=0,_=v.length;y<_;y++)y==v.length-1?d.setData(A,g[A],{replaceState:!0}):d.setDataLite(A,g[A]);else"object"==typeof h["filters[]"]&&P();if(g.scrollTo){var x="scrollTo="+encodeURIComponent(g.scrollTo);1<(m=window.location.search).length?m+="&":m="?",m+=x,history.replaceState({},null,m)}d.initialUrl=location.href}else if(d.options.hash){var k=["q","filters[]","view","logView"],C=$.extend({},proboards.consolidateParams(["search","route"]));d.baseData.page||(d.baseData.page=1);var S={};for(y=0,_=k.length;y<_;y++){var T=k[y];null!=typeof C[T]&&(S[T]=C[T],delete C[T])}g=proboards.consolidateParams(["hash"]);w.mobileScrollifyRegEx.test(window.location.hash)&&(g.scrollTo=RegExp.$1),$.extend(g,S);var E=d._getDataStr(g);g.scrollTo&&(E&&(E+="&"),E+="scrollTo="+encodeURIComponent(g.scrollTo));var D=window.location.hash;"#"==D.charAt(0)&&(D=D.substr(1)),E!=D&&(window.location.hash=E),g.q&&d.element.val(g.q),"object"==typeof g["filters[]"]&&P(),$.extend(d.baseData,C),d.data=S,d.lastRequestDataStr=d._getDataStr(d._getRequestData())}var I=!1;p.val($(".search-input",w.search).val()).bind("keydown keyup change",function(){$(".search-input",w.search).val()!=this.value&&$(".search-input",w.search).val(this.value).trigger("keydown").trigger("keyup")}).bind("blur",function(){I?I=!1:(I=!0,$(".search-input",w.search).trigger("blur"))}),$(".search-input",w.search).bind("keydown keyup change",function(){p.val()!=this.value&&p.val(this.value).trigger("keydown")}).bind("blur",function(){I?I=!1:(I=!0,p.trigger("blur"))})}function P(e){if(void 0===w.filters||!w.filters.filterlist("searching")||!w.refreshedOnce||e){w.refreshedOnce=!0;for(var t=[],i=0,n=w.filters.filterlist().data("filterlist"),o=$(".list .filter",w.filters).addClass("RFD-unmatched"),a=$.pushStateSupport()&&location.search?["search"]:["hash"],r=proboards.consolidateParams(a),s=o.length,l=r["filters[]"]||[],c=0,d=l.length;c<d;c++){for(var u=l[c],h=!1,p=0;p<s;p++){var f=o.eq(p);f.hasClass("RFD-unmatched")&&$(".filter-input",f).val()==u&&(f.removeClass("RFD-unmatched"),++i,h=!0)}h||t.push(u)}s=(o=$(".list .filter.RFD-unmatched",w.filters)).length;for(c=0;c<s;++c){var m=o[c],g=$(".filter-input",m);""==g.val()?g.removeClass("RFD-unmatched"):n.removeFilter(m,!0)}d=t.length;for(c=0;c<d;++c){var v=t[c].split(":"),b="addFilter";if(w.settings.filters_only&&(b="addSimpleFilter"),filter=n[b](v[0],v[1],v[2]),!1!==filter&&(++i,"created_by"==v[0])){var A=$("."+$(".user-search",filter).attr("id")+"-selectlist"),y=v[2].split(","),_=y.length;proboards.ajax({url:proboards.route("user_search"),data:{"ids[]":y},success:function(e,t,i){for(A.selectlist("refresh",e.results),c=0;c<_;++c)A.selectlist("select",y[c],!0);A.selectlist("refresh")}})}}$(".search-filters-button",w.search).toggleClass("state-active",0<i)}}},clear_cache:function(){$(".search-input",this.search).autosearch("clearCache")},research:function(){var e=$(".search-input",this.search).data("autosearch");e.clearCache(),e.search(void 0,!0)},scrollify:function(e){var t=null,i=null,n=e.substr(0,e.length-1),o=location.hash+location.search,a=proboards.data("lm_id"),l=0,c=null,d=25,u=0;listManagerSettings.settings[e].float_control_bar&&(l=$(".scrollable-"+a).height());function r(e){var t=$(document).height()-$(window).height(),i=parseInt(window.pageYOffset,10);document.body.clientHeight<u&&(u=i);var n=$("#"+e).offset(),o=n?Math.min(parseInt(n.top-l,10),t):0,a=i===u;if(o&&a&&o!=i){var r=0===u?"smooth":"instant",s=(u=o)-i;window.scrollBy({top:s,left:0,behavior:r}),d=25}a&&d--<=0&&clearInterval(c)}if(/scrollTo\=(\d+)/.test(o)&&(t=RegExp.$1),!t&&this.mobileScrollifyRegEx.test(o)&&(t=RegExp.$1),t&&n&&(i=$("#"+n+"-"+t)).length){var s=getTopAdBanner();!i.prev().length&&s.length&&(i=s,l=0);var h=i.offset();t=i.attr("id");null!=h&&r(t),c=window.setInterval(function(){r(t)},100),$.scrollTo.stopOnUserInput(function(){clearInterval(c)})}}};function getTopAdBanner(){return $("#ad1, #top-ad-banner")}var listManager=function(e,t,i){this.init(e,t,i)};$.extend(listManager.prototype,listManagerPrototype),$(document).ready(function(){proboards.listManager=listManagerSettings}),$.extend(proboards,{member:{ban:function(e){proboards.loading(!0);var o=$.extend({id:0,from:{type:"",id:0},checked:[],success:function(){}},e);$("#ban-member-container").length?$("#ban-member-container").dialog("option","title","Ban "+("post"==o.from.type&&$("#item-"+o.from.id+" .mini-profile").hasClass("guest-mini-profile")?"Guest User":"Member")):($(document.body).append('<div id="ban-member-container"></div>'),proboards.dialog("ban-member-container",{autoOpen:!1,width:620,title:"Ban "+("post"==o.from.type&&$("#item-"+o.from.id+" .mini-profile").hasClass("guest-mini-profile")?"Guest User":"Member"),buttons:[{text:"Ban",class:"ban-member-button",click:function(e){$(this).children("form").trigger("submit")}},{text:"Close Window",class:"close-window-button",click:function(e){$(this).dialog("close")}}]}));var t={from_id:o.from.id,from_type:o.from.type};o.post_id&&(t.post_id=o.post_id),proboards.ajax({url:proboards.route("ban_user",{user_id:o.id}),data:t,dataType:"html",success:function(e){$.datepicker.setDefaults({dateFormat:"yy-mm-dd"}),$("#ban-member-container").html(e),$(".ban-member-button").show(),$(".close-window-button").hide(),$("#ban-member-container").dialog("open"),$.each(o.checked,function(){$('#ban-member-container input[name="'+this+'"]').attr("checked","checked")});function t(){var e=$('input[name="expire_time"]',$("#ban-member-container form"));""!=$.trim($(this).val())?e.show():(e.val(""),e.hide())}var i=$('input[name="expire_date"]',$("#ban-member-container form"));i.bind("change",t),t.call(i);var n=function(){var e=$("form",$("#ban-member-container")).data("form");if(!e)return setTimeout(n,500);e.options.submit=function(){return proboards.ajax({url:$(this).attr("action"),data:$(this).serialize(),dataType:"json",success:function(e){e.guest_banned?$("#ban-member-container").text("Guest banned."):$("#ban-member-container").text("Member banned."),$(".ban-member-button").hide(),$(".close-window-button").show(),o.success(e)}}),!1}};n(),proboards.dialogEnter($("#ban-member-container"))},complete:function(){proboards.loading(!1)}})},select_dialog:function(e){var t=$.extend({title:"User Selection",selected:[],max:0,onComplete:function(){}},e),i=t.max,n=$.unique_id("user-search"),o=$("<div></div>").attr("id",n),a=$('<input type="hidden" />');proboards.dialog("user-search-dialog",{html:o,title:t.title,buttons:{Done:function(){var e=[];$(".user-search-selection > li",this).each(function(){e.push({id:$(this).idFromClass("item"),name:$(".name",this).text(),username:$(".small",this).text().replace(/^\((.+)\)$/,"$1"),group:$(".group-overflow",this).text()})}),$(this).dialog("close"),t.onComplete(e)}},width:505,height:320});function r(e){proboards.search.create_user_search({container:o,input:a,results:e,change:function(e,t){},formId:"",limit:i||void 0,checkedHash:{},isPendingList:0,currentUser:0,showExisting:1,showAdded:1,searchBox:1,autofocus:t.autofocus,focusDone:i?function(e){$(".ui-dialog").find("button.ui-button").focus()}:void 0})}t.selected.length?(o.html("Loading").progress_text(),proboards.ajax({url:proboards.route("admin_user_searchbox_results"),data:{ids:t.selected},success:function(e){o.html(""),r(e.results)}})):r([])}}}),$.extend(proboards,{messageManager:{init:function(e){"object"!=typeof e&&(e={}),this.options=e,this.selected_messages=[],this.runAll(0)},runAll:function(e){$(".message-options-checkbox input.ui-manager-checkbox").removeAttr("checked"),this.add_options_menus(e),this.bind_quote_buttons(),this.bind_reply_buttons()},add_options_menus:function(e){var l=this;if($(".message-options").show().css("display","inline-block"),$(".options_menu").each(function(){var r=/(^| )message-([0-9]+)($| )/.test($(this).attr("class"))?RegExp.$2:"",s=/(^| )user-([0-9]+)($| )/.test($(this).attr("class"))?RegExp.$2:"";e&&$("#message-"+r+"-options").empty();$(this).selectMenu({container:"#message-"+r+"-options",status:'<img src="'+proboards.data("options_img_src")+'" alt="'+proboards.data("options_img_alt")+'" title="'+proboards.data("options_img_title")+'" />',staticStatus:!0,beforeShow:function(){$(this).next().addClass("open-menu"),$(".message-"+r+"-checkbox input.ui-manager-checkbox").attr("checked")?($(this).menu("hideOption",r+"-selectMessage"),$(this).menu("showOption",r+"-deselectMessage")):($(this).menu("showOption",r+"-selectMessage"),$(this).menu("hideOption",r+"-deselectMessage"))},onClose:function(){$("#message-"+r+"-options").removeClass("open-menu")},menuOptions:{click:function(e,t){var i=$(t.item).attr("class");if(i==r+"-selectMessage")l.selected_messages.push(r),$(".message-"+r+"-checkbox input.ui-manager-checkbox").attr("checked",!0),$("#message-"+r+"-options").addClass("state-selected");else if(i==r+"-deselectMessage"){var n=[];for(var o in l.selected_messages)l.selected_messages[o]!=r&&n.push(l.selected_messages[o]);l.selected_messages=n,$(".message-"+r+"-checkbox input.ui-manager-checkbox").attr("checked",!1),$("#message-"+r+"-options").removeClass("state-selected")}else i==r+"-giveGift"||i==r+"-sendMessage"?window.location=$(a,this).attr("href"):"badge_action"==i?proboards.badge.action.dialog($(t.item).data("badge-id"),$(t.item).data("user-id")):i==r+"-warn"||i==r+"-disable"?window.location=proboards.route("edit_user_admin",{user_id:s}):"searchIP actionable ui-menu-has-sub-menu"==i?(proboards.dialog("ip_copy",{title:"IP Address"}).html('Below is the IP address associated with this message: <br /><br /><input type="text" name="easy_copy_ip" style="width: 270px;" value="'+$(t.item).data("ip")+'" />'),$('input[name="easy_copy_ip"]').select()):i==r+"-ipBan"?proboards.member.ban({id:s,checked:["ip"],from:{type:"message",id:r},success:function(){$("."+i).hide()}}):i==r+"-ipSearchMembers"?window.location=proboards.route("members")+"?view=ip&type=message&id="+r:i==r+"-ipSearchThreads"?window.location=proboards.route("threads_by_ip",{type:"message",id:r}):i==r+"-ipSearchPosts"?window.location=proboards.route("posts_by_ip",{type:"message",id:r}):i==r+"-ipSearchLogs"?window.location=proboards.route("security_logs_by_ip",{type:"message",id:r}):i==r+"-toTop"&&window.scroll({top:0,behavior:"smooth"})}}})}),e)for(var t in l.selected_messages)$(".message-"+l.selected_messages[t]+"-checkbox input.ui-manager-checkbox").attr("checked",!0),$("#message-"+l.selected_messages[t]+"-options").addClass("state-selected")},bind_quote_buttons:function(){var a=this;$(".quote-button").each(function(){var e=$(this).closest(".message").attr("id"),o=e?e.match(/\d+/)[0]:null;$(this).unbind("click"),$(this).bind("click",function(){var e=$(this).attr("href"),t=a.summary_setup(e);if(0!=proboards.messageManager.selected_messages.length){var i="";for(var n in proboards.messageManager.selected_messages)proboards.messageManager.selected_messages[n]!=o&&(i+=proboards.messageManager.selected_messages[n],i+=",");i+=o,t.setAttribute("action",proboards.route("quote_messages",{message_ids:i,conversation_id:proboards.data("conversation_id")}))}return t.submit(),!1})})},bind_reply_buttons:function(){var i=this,n=proboards.route("new_message",{conversation_id:proboards.data("conversation_id")});$(".reply-button").each(function(){$(this).click(function(){var e=i.summary_setup(n);if(0<proboards.messageManager.selected_messages.length){var t=proboards.messageManager.selected_messages.join(",");e.setAttribute("action",proboards.route("quote_messages",{message_ids:t,conversation_id:proboards.data("conversation_id")}))}return e.submit(),!1})})}}}),$.extend(proboards.messageManager,proboards.shared.manager),$.extend(proboards,{messagePageManager:{init:function(e){this.inited=!0,"object"!=typeof e&&(e={}),this.options=e,this.fields={},this.applied_effects={},this.applied_effects.group=$("#"+this.options.form_id+"_send_to_input").val(),this.applied_effects.separate=0,this.lower_limit=proboards.data("lower_limit"),this.higher_limit=proboards.data("higher_limit");var t="#"+this.options.form_id;this.fields.$labels=$(t+"_labels_input"),this.labels={},this.applied_effects.labels=0,this.create_options_menu(),1==$("#"+this.options.form_id+"_separate_input").val()&&(this.applied_effects.separate=1),this.hide_appropriate(this.applied_effects.group)},create_options_menu:function(){var c=this,d=$(".messaging-options-list");$(".message-options").show(),$(".ind_recipients_div").after('<div class="all_recipients_div hide"><br /><b>All members of this forum.</b><br /><br /></div>'),$("li.label",d).each(function(){var e=$(this),t=e.clone();e.addClass("label-add").find("span.action").html("Add "),t.addClass("label-remove").find("span.action").html("Remove "),t.insertAfter(e)});d.addClass("options_menu").selectMenu({container:"#messaging-options-container",status:'<img src="'+proboards.data("options_img_src")+'" alt="'+proboards.data("options_img_alt")+'" title="'+proboards.data("options_img_title")+'" />',staticStatus:!0,beforeShow:function(){$("#messaging-options-container").addClass("open-menu"),$("li.label",d).each(function(){var e=$(this),t=e.hasClass("label-add"),i=e.data("id");c.labels[i]?t?e.hide():e.show():t?e.show():e.hide()})},onClose:function(){$("#messaging-options-container").removeClass("open-menu")},menuOptions:{click:function(e,t){var i=$(t.item),n=i.attr("class");if(-1!=n.indexOf("label")&&-1==n.indexOf("ui-menu-has-sub-menu")){var o=i.data("id"),a=i.hasClass("label-add")?"add":"remove";c.labels[o]="add"==a,"add"==a?c.applied_effects.labels++:c.applied_effects.labels--;var r=[];for(var s in c.labels)c.labels.hasOwnProperty(s)&&c.labels[s]&&r.push(s);c.fields.$labels.val(r.join(",")),c.update_magic_sentence()}else if("grp_separate"==n)c.applied_effects.separate=1,c.hide_appropriate(2);else if("grp_together"==n){0!=(l=c.check_num_recipients(1,0))?c.out_of_range_error("You do not have permission to start a conversation with more than "+l+" members."):(c.applied_effects.separate=0,c.hide_appropriate(2))}else if("ind_separate"==n){0!=(l=c.check_num_recipients(0,1))?c.out_of_range_error("You do not have permission to send more than "+l+" messages at once."):(c.applied_effects.separate=1,c.hide_appropriate(1))}else if("ind_together"==n){var l;0!=(l=c.check_num_recipients(0,0))?c.out_of_range_error("You do not have permission to start a conversation with more than "+l+" members."):(c.applied_effects.separate=0,c.hide_appropriate(1))}else if("to_all"==n)c.applied_effects.separate=1,c.hide_appropriate(3);else if("postAs"==n.substr(0,6)){s=n.substr(7);c.applied_effects.postingAs=0!=s?i.text():"",$("#"+c.options.form_id+"_post_as_input").val(s),0!=s?(c.labels={},c.applied_effects.labels=0,c.fields.$labels.val(""),d.menu("hideOption","labels")):d.menu("showOption","labels"),c.update_magic_sentence()}}}})},hide_appropriate:function(e){1==e?($(".ind_recipients_div").show(),$(".grp_recipients_div").hide(),$(".all_recipients_div").hide()):2==e?($(".ind_recipients_div").hide(),$(".grp_recipients_div").show(),$(".all_recipients_div").hide()):3==e&&($(".ind_recipients_div").hide(),$(".grp_recipients_div").hide(),$(".all_recipients_div").show()),0==this.applied_effects.separate?$("#"+this.options.form_id+"_separate_input").val(""):$("#"+this.options.form_id+"_separate_input").val(1),this.applied_effects.group=e-1,$("#"+this.options.form_id+"_send_to_input").val(e),this.update_magic_sentence()},update_magic_sentence:function(){if(this.inited){var e="This message will ",t=this.get_num_recipients(),i=this.check_num_recipients(this.applied_effects.group,this.applied_effects.separate,t);if(0!=i&&0==this.applied_effects.group)return this.applied_effects.separate?this.out_of_range_error("You do not have permission to send more than "+i+" messages at once."):this.out_of_range_error("You do not have permission to start a conversation with more than "+i+" members."),!1;if(this.applied_effects.separate?($(".recipients h4").html("Recipients (Separate):"),e+="be sent to "+t+" recipient"+(1==t?"":"s")+(t<2?"":" separately")):($(".recipients h4").html("Recipients (Together):"),e+="start a single conversation with "+t+" recipient"+(1==t?"":"s")),2==this.applied_effects.group?e="This message will be sent to every member of your forum":void 0!==this.applied_effects.postingAs&&""!=this.applied_effects.postingAs&&(e+=" and will be sent by the user "+this.applied_effects.postingAs),e+=".",this.applied_effects.labels){var n=1<this.applied_effects.labels?" labels ":" label ";e+=" This conversation will appear in your folders with "+this.applied_effects.labels+n+"applied."}$("#magic-sentence").html(e)}},out_of_range_error:function(e){0==$("#max-selectable-container").length?($(document.body).append('<div id="max-selectable-container">'+e+"</div>"),proboards.dialog("max-selectable-container",{autoOpen:!0,width:310,title:"Too Many Members"})):$("#max-selectable-container").text(e).dialog("open")},check_group_input:function(){var e=[],t=0;$("#groupsDialog").find(":checkbox").each(function(){null!=$(this).attr("checked")&&e.push($(this).val())});for(var i=0;i<e.length;i++)for(var n=0;n<proboards.groups.available.length;n++)e[i]==proboards.groups.available[n].id&&(t=parseInt(t)+parseInt(proboards.groups.available[n].members));var o=t,a=this.check_num_recipients(1,this.applied_effects.separate,o);return 0!=a&&(this.out_of_range_error("You do not have permission to start a conversation with more than "+a+" members at once. We have switched your setting to send separate conversations to each member instead."),this.applied_effects.separate=1,$("#"+this.options.form_id+"_separate_input").val(1),this.update_magic_sentence()),!0},check_num_recipients:function(e,t,i){return void 0===i&&(i=this.get_num_recipients(e)),i>this.lower_limit&&0==e&&!proboards.data("can_mass_pm")?this.lower_limit:i>this.higher_limit&&!t||i>this.higher_limit&&!proboards.data("can_mass_pm")?this.higher_limit:0},get_num_recipients:function(e){var t=0;if(void 0===e&&(e=this.applied_effects.group),1==e)for(var i=proboards.groups.getSelected(proboards.data("form_id")),n=0;n<i.length;n++)for(var o=0;o<proboards.groups.available.length;o++)i[n]==proboards.groups.available[o].id&&(t=parseInt(t)+parseInt(proboards.groups.available[o].members));else t=void 0===proboards.search.user_search?""==$("#"+this.options.form_id+"_recipients_input").val()?0:$("#"+this.options.form_id+"_recipients_input").val().split(",").length:proboards.search.user_search[proboards.search.user_search_index].selectlist("getNumSelected");return t}}}),$.extend(proboards,{permissions:{selection:function(e){var t=$.extend({name:"permissions",values:{},action:"perform this action",include_owner:!1},e);void 0!==t.everyone_text&&""!==t.everyone_text||(t.everyone_text="Who can "+t.action+"..."),void 0!==t.self_text&&""!==t.self_text||(t.self_text=t.include_owner),t.everyone_text=proboards.escape_html(t.everyone_text),t.self_text=proboards.escape_html(t.self_text),t.everyone_text=t.everyone_text.replace(/\[b\]/g,"<b>").replace(/\[\/b\]/g,"</b>");$.unique_id();for(var n=$('<table class="permissions fieldset group-unique"><tr class="level-select"><td class="label">'+t.everyone_text+'</td><td class="field"><select name="'+t.name+'_level"><option value="0" selected="selected">Everyone</option><option value="1">Members &amp; Staff</option><option value="2">Staff</option><option value="3">Custom</option></select></td></tr>'+(t.include_owner?'<tr class="include-owner-select"><td class="label">'+t.self_text+'</td><td class="field"><input name="'+t.name+'_include_owner" type="checkbox" value="1" /></td></tr>':"")+'<tr class="rank-select"><td class="label">Only members with the minimum rank:</td><td class="field"><select name="'+t.name+'_include_rank"><option value="0" selected="selected">- Optional -</option></select></td></tr><tr class="include-groups"><td class="label">And members in the groups:</td><td class="field"><input type="hidden" name="'+t.name+'_include_groups"></span><span class="trimmable-list"></span><a href="#">Add Group</a></td></tr><tr class="exclude-groups"><td class="label">Except members in the groups:</td><td class="field"><input type="hidden" name="'+t.name+'_exclude_groups"></span><span class="trimmable-list"></span><a href="#">Add Group</a></td></tr></table>'),i=proboards.data("rank_list"),o=$('select[name="'+t.name+'_include_rank"]',n),a=0;a<i.length;++a)o.append($("<option></option>").val(i[a].value).html(i[a].label));$('select[name="'+t.name+'_level"]',n).val(t.values.level),$('select[name="'+t.name+'_include_rank"]',n).val(t.values.include_rank),$('input[name="'+t.name+'_include_groups"]',n).val(t.values.include_groups),$('input[name="'+t.name+'_exclude_groups"]',n).val(t.values.exclude_groups),t.include_owner&&t.values.include_owner&&$('input[name="'+t.name+'_include_owner"]',n).attr("checked","checked"),$(".level-select select",n).change(function(){var e=parseInt($(".level-select select",n).val()),t=1<e?"show":"hide",i=2<e?"show":"hide";$(".rank-select",n)[i](),e<3&&$(".rank-select select").val("0"),$(".include-groups",n)[t](),$(".include-owner-select",n)[t]()}).change();function r(){var e=$(this).parent().find(".trimmable-list"),t=$(this).parent().find("input");proboards.trimmable_list({options:proboards.data("group_list"),selected:t.arrayValue(),container:e,labelTextType:"html",onChange:function(e){t.arrayValue(e)}})}return $(".include-groups .field > a, .exclude-groups .field > a",n).click(function(e){e.preventDefault();var t=$(this).parent().find("input"),i=this;proboards.select_dialog({title:"Select Groups",options:proboards.data("group_list"),selected:t.arrayValue(),labelTextType:"html",onComplete:function(e){t.arrayValue(e),r.apply(i)}})}).each(r),n}}}),proboards.plugin={_plugins:{},_keys:{},key_type:{USER:1,SUPER_USER:2,THREAD:3,POST:4,CONVERSATION:5,MESSAGE:6,SUPER_FORUM:7},status:{ERROR_REQUEST_TIMEOUT:1,ERROR_INVALID_RESPONSE:2,ERROR_KEY_LENGTH:16,ERROR_KEY_PERMISSION:32,ERROR_KEY_INVALID_DATA:64},get:function(e){return void 0===proboards.plugin._plugins[e]?null:proboards.plugin._plugins[e]},key:function(e){return void 0===proboards.plugin._keys[e]?null:proboards.plugin._keys[e]},_add_data:function(e){if("object"==typeof e)for(_key in e)if(e.hasOwnProperty(_key)){var t=e[_key];proboards.plugin.keys.init([_key,t.type]);var i=[];if(t.values)for(var n=0;n<t.values.length;++n)i.push([_key,t.values[n][0],JSON.parse(t.values[n][1])]);var o=[];t.permissions&&o.push([_key,t.permissions]),proboards.plugin.keys.init_values.apply(this,i),proboards.plugin.keys.init_permissions.apply(this,o)}},keys:{data:{},permissions:{},queue:{},queue_callbacks:{},ajax_wait:100,ajax_timeout:null,ajax:function(){clearTimeout(proboards.plugin.keys.ajax_timeout);var o=$.extend({},proboards.plugin.keys.queue_callbacks);proboards.ajax({url:proboards.route("plugin_key_set"),data:{data:proboards.plugin.keys.queue},success:function(e){for(var t in e.status)for(var i in e.status[t]){var n=e.status[t][i];proboards.plugin._keys[t].type==proboards.plugin.key_type.SUPER_FORUM?"object"==typeof o&&"object"==typeof o[t]?(n.success&&"function"==typeof o[t].success&&o[t].success(n),n.error&&"function"==typeof o[t].error&&o[t].error(n),"function"==typeof o[t].complete&&o[t].complete(n)):n.error&&proboards.error(n.message+"<br /><br /><i>Error Code: "+n.code+"</i><br /><i>Key: "+t+"</i><br /><i>Object Id: "+i+"</i>"):"object"==typeof o&&"object"==typeof o[t]&&"object"==typeof o[t][i]?(n.success&&"function"==typeof o[t][i].success&&o[t][i].success(n),n.error&&"function"==typeof o[t][i].error&&o[t][i].error(n),"function"==typeof o[t][i].complete&&o[t][i].complete(n)):n.error&&proboards.error(n.message+"<br /><br /><i>Error Code: "+n.code+"</i><br /><i>Key: "+t+"</i><br /><i>Object Id: "+i+"</i>")}}}),proboards.plugin.keys.queue={},proboards.plugin.keys.queue_callbacks={}},page_object_id:function(e){var t=0,i=proboards.data("page")||{};return e==proboards.plugin.key_type.USER||e==proboards.plugin.key_type.SUPER_USER?t=proboards.data("user").id:e==proboards.plugin.key_type.THREAD&&void 0!==i.thread?t=i.thread.id:e==proboards.plugin.key_type.POST&&void 0!==i.thread?t=listManager.prototype.getItemId($(".item.post:first")):e==proboards.plugin.key_type.CONVERSATION&&void 0!==i.conversation?t=i.conversation.id:e==proboards.plugin.key_type.MESSAGE&&void 0!==i.conversation&&(t=listManager.prototype.getItemId($(".item.message:first"))),t},init:function(){for(var e=0;e<arguments.length;++e){var t=arguments[e][0],i=arguments[e][1];proboards.plugin._keys[t]=function(g,v){return{type:v,get:function(e){var t=this.type===proboards.plugin.key_type.SUPER_FORUM;if(void 0!==e||t||(e=proboards.plugin.keys.page_object_id(this.type)),!1!==this.can_read(e))return t?proboards.plugin.keys.data[g]:proboards.plugin.keys.data[g][e];var i=proboards.plugin.status.ERROR_KEY_PERMISSION;console.error("ProBoards plugin error: You do not have permission to read from this key. (Error Code: "+i+"; Key: "+g+")")},set:function(e,t,i){console.warn("Warning: Use of the 'proboards.plugin.key().set()' method is deprecated. Please update the plugin to use the 'pb.plugin.key().set()' method in order to avoid any conflicts. More info can be found at http://www.proboards.com/developer/js.");function n(e){var t={complete:!0,error:!0,success:!0};if($.isPlainObject(e)){for(var i in e)if(e.hasOwnProperty(i)&&(!t[i]||"function"!=typeof e[i]))return;return 1}}var o={set:1},a=void 0,r=void 0;switch(arguments.length){case 1:r=e;break;case 2:$.isNumeric(e)?n(t)?(r=e,$.extend(o,t)):(a=e,r=t):(r=e,n(t)&&$.extend(o,t));break;case 3:a=e,r=t,n(i)&&$.extend(o,i);break;default:return proboards.error("Invalid number of arguments passed to method set().")}return void 0!==a&&(o.object_id=a),o.value=r,proboards.plugin.key(g).set_new(o)},set_new:function(i){v!=proboards.plugin.key_type.SUPER_FORUM&&void 0===i.object_id&&(i.object_id=proboards.plugin.keys.page_object_id(v));function e(e,t){return!(t<("object"==typeof e?JSON.stringify(e).length:e.length))}function t(e){"function"==typeof i.error?i.error(e):proboards.error(e.message+"<br /><br /><i>Error Code: "+e.code+"</i><br /><i>Key: "+g+"</i><br /><i>Object Id: "+i.object_id+"</i>"),"function"==typeof i.complete&&i.complete(e)}var n=void 0,o={},a=/^-?(\d+)$/,r=/boolean|number|string/,s=proboards.plugin.keys.data[g][i.object_id],l=proboards.plugin.keys.permissions[g][i.object_id],c=proboards.data("plugin_max_key_length"),d={message:"Plugin key length exceeded.<br>(Limit: "+c+" bytes)",code:proboards.plugin.status.ERROR_KEY_LENGTH},u={message:"You must supply a value to this function.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA},h={message:"You do not have permission to write to this key.",code:proboards.plugin.status.ERROR_KEY_PERMISSION};if(v==proboards.plugin.key_type.SUPER_FORUM&&(s=proboards.plugin.keys.data[g],l=proboards.plugin.keys.permissions[g],d={message:"Plugin key length exceeded.<br>(Limit: "+(c=proboards.data("plugin_max_super_forum_key_length"))+" bytes)<br><br>Super Forum Key: "+g,code:proboards.plugin.status.ERROR_KEY_LENGTH}),void 0!==l&&!l[1])return t(h);if(void 0!==i.append){if(!r.test(typeof s)&&void 0!==s||!r.test(typeof i.value))return t({message:"You can only use append with strings or numbers.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0===i.value)return t(u);void 0!==s&&(s=s.toString().concat(i.value)),o={append:1}}else if(void 0!==i.prepend){if(!r.test(typeof s)&&void 0!==s||!r.test(typeof i.value))return t({message:"You can only use append with strings or numbers.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0===i.value)return t(u);void 0!==s&&(s=i.value.toString().concat(s)),o={prepend:1}}else if(void 0!==i.increment){if(!a.test(s)&&void 0!==s)return t({message:"You can only increment a number.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});void 0!==s&&(s=void 0!==i.value?(parseInt(s)+parseInt(i.value)).toString():(parseInt(s)+1).toString()),o={increment:1}}else if(void 0!==i.decrement){if(!a.test(s)&&void 0!==s)return t({message:"You can only decrement a number.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});void 0!==s&&(s=void 0!==i.value?(parseInt(s)-parseInt(i.value)).toString():(parseInt(s)-1).toString()),o={decrement:1}}else if(void 0!==i.push){if(!$.isArray(s)&&void 0!==s)return t({message:"You can only push onto an array.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0!==i.value){if(void 0!==s){if((p=s.slice()).push(i.value),!e(p,c))return t(d);s=p}else s=i.value;o={push:1}}else{if(void 0===i.values)return t(u);if(!$.isArray(i.values))return t({message:"You must supply an array to the values option.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0!==s){var p=s.slice();if($.each(i.values,function(e,t){p.push(t)}),!e(p,c))return t(d);s=p}o={push:1,values:JSON.stringify(i.values)}}}else if(void 0!==i.pop){if(!$.isArray(s)&&void 0!==s)return t({message:"You can only pop off of an array.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0===s||0<s.length)if(a.test(i.num_items)){var f=[];if(void 0!==s)for(var m=0;m<i.num_items&&0!=s.length;m++)f.push(s.pop());n=f,o={pop:1,num_items:i.num_items}}else n=void 0!==s?s.pop():[],o={pop:1};else n=null,o={pop:1}}else if(void 0!==i.shift){if(!$.isArray(s)&&void 0!==s)return t({message:"You can only shift off of an array.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0===s||0<s.length)if(a.test(i.num_items)){f=[];if(void 0!==s)for(m=0;m<i.num_items&&0!=s.length;m++)f.push(s.shift());n=f,o={shift:1,num_items:i.num_items}}else n=void 0!==s?s.shift():[],o={shift:1};else n=null,o={shift:1}}else if(void 0!==i.unshift){if(!$.isArray(s)&&void 0!==s)return t({message:"You can only unshift onto an array.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0!==i.value){if(void 0!==s){if((p=s.slice()).unshift(i.value),!e(p,c))return t(d);s=p}o={unshift:1}}else{if(void 0===i.values)return t(u);if(!$.isArray(i.values))return t({message:"You must supply an array to the values option.",code:proboards.plugin.status.ERROR_KEY_INVALID_DATA});if(void 0!==s){p=s.slice();if($.each(i.values,function(e,t){p.unshift(t)}),!e(p,c))return t(d);s=p}o={unshift:1,values:JSON.stringify(i.values)}}}else{if(void 0===i.value)return t(u);s=i.value}return void 0===s||e(s,c)?(o=$.extend({value:JSON.stringify(i.value)},o),v==proboards.plugin.key_type.SUPER_FORUM?proboards.plugin.keys.data[g]=s:(void 0!==s&&(proboards.plugin.keys.data[g][i.object_id]=s),o=$.extend({object_id:i.object_id},o)),void 0===proboards.plugin.keys.queue[g]&&(proboards.plugin.keys.queue[g]=[]),proboards.plugin.keys.queue[g].push(o),clearTimeout(proboards.plugin.keys.ajax_timeout),proboards.plugin.keys.ajax_timeout=setTimeout(proboards.plugin.keys.ajax,proboards.plugin.keys.ajax_wait),$(["complete","success","error"]).each(function(e,t){"function"==typeof i[t]&&("object"!=typeof proboards.plugin.keys.queue_callbacks[g]&&(proboards.plugin.keys.queue_callbacks[g]={}),v==proboards.plugin.key_type.SUPER_FORUM?proboards.plugin.keys.queue_callbacks[g][t]=i[t]:("object"!=typeof proboards.plugin.keys.queue_callbacks[g][i.object_id]&&(proboards.plugin.keys.queue_callbacks[g][i.object_id]={}),proboards.plugin.keys.queue_callbacks[g][i.object_id][t]=i[t]))}),void 0===n||n):t(d)},set_on:function(n,o,a){if(void 0===a&&(o=v==proboards.plugin.key_type.SUPER_FORUM?(a=o,0):void(a=o)),a.length>proboards.data("plugin_max_key_length"))return!1;function e(){var e=$(".form_"+n);if(!e.length)return!1;var t=$('input[name="_plugin_keys"]',e),i={};return t.length?i=JSON.parse(t.val()):t=$('<input type="hidden" name="_plugin_keys" />').appendTo(e),void 0===i[g]&&(i[g]=[]),i[g].push({object_id:o,value:JSON.stringify(a)}),t.val(JSON.stringify(i)),!0}return $.isReady?e():($(document).ready(e),!0)},can_write:function(e){if(v==proboards.plugin.key_type.SUPER_FORUM){if(void 0===proboards.plugin.keys.permissions[g])return;return!!proboards.plugin.keys.permissions[g][1]}if(void 0===e&&(e=proboards.data("user").id),void 0!==proboards.plugin.keys.permissions[g]&&void 0!==proboards.plugin.keys.permissions[g][e])return!!proboards.plugin.keys.permissions[g][e][1]},can_read:function(e){if(v==proboards.plugin.key_type.SUPER_FORUM){if(void 0===proboards.plugin.keys.permissions[g])return;return!!proboards.plugin.keys.permissions[g][0]}if(void 0===e&&(e=proboards.data("user").id),void 0!==proboards.plugin.keys.permissions[g]&&void 0!==proboards.plugin.keys.permissions[g][e])return!!proboards.plugin.keys.permissions[g][e][0]}}}(t,i),void 0===proboards.plugin.keys.permissions[t]&&(proboards.plugin.keys.permissions[t]={}),void 0===proboards.plugin.keys.data[t]&&(proboards.plugin.keys.data[t]={})}},init_values:function(){for(var e=0;e<arguments.length;++e){var t=arguments[e][0],i=arguments[e][1],n=arguments[e][2];void 0===proboards.plugin.keys.data[t]&&proboards.plugin.keys.init([t,0]),void 0===n?proboards.plugin.keys.data[t]=i:proboards.plugin.keys.data[t][i]=n}},init_permissions:function(){for(var e=0;e<arguments.length;++e){var t=arguments[e][0],i=arguments[e][1];for(id in void 0===proboards.plugin.keys.data[t]&&proboards.plugin.keys.init([t,0]),i)i.hasOwnProperty(id)&&(proboards.plugin.keys.permissions[t][id]=i[id])}}},settings:{fields:{"structure-title":{render:function(e){return $('<div class="headings" />').append($("<h4 />").text(e.text))},value:function(e){return""}},"structure-boldtext":{render:function(e){return $("<span></span>").text(e.text)},value:function(e){return""}},"structure-plaintext":{render:function(e){return $("<pre></pre>").text(e.text)},value:function(e){return""}},field:{render:function(e,t){var i=null,n=null,o=$('<span><div class="warning-message hide"></div></span>'),a=$('<input type="text" />').val(t);return"number"===e.validation?(i=function(e){return!!e.match(/^\-{0,1}[0-9]*\.{0,1}[0-9]*$/)},n="be a valid number"):"alphanumeric"===e.validation?(i=function(e){return!!e.match(/^[a-z0-9]*$/i)},n="consist of letters and numbers only"):"email"===e.validation?(i=function(e){return!(""!==e&&!e.match(/^[A-Za-z0-9\_\-\.\+]+\@[A-Za-z0-9\-\_]+\.[A-Za-z0-9\-\.]+$/))},n="be a valid email address"):"url"===e.validation&&(i=function(e){return!(""!==e&&!e.match(/^https?\:\/\/(([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\:)?([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\@))?(([0-9]{1,3}\.){3}[0-9]{1,3}|(([\w!~\*\'\(\)\=]+\.)*(\w[\w\-]{0,61})?\w\.[a-zA-Z]{2,6}))(\:[1-9][0-9]{0,4})?[\w\~\!\@\#\$\%\^\&\*\(\)\-\+\=\/\:\;\?\.\,]*$/i))},n="be a valid URL"),null!==i&&a.bind("change blur",function(e){var t=$(this).parent().find(".warning-message");i($(this).val())?t.hide():(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.text("Value must "+n+"."),t.show(),$(this).focus())}),o.append(a),o},value:function(e){return $("input",e).val()}},textarea:{render:function(e,t){return $("<textarea></textarea>").val(t)},value:function(e){return $("textarea",e).val()}},codebox:{render:function(e,t){var i=$("<textarea></textarea>").val(t);return setTimeout(function(){proboards.code_editor({textarea:i,mode:e.mode,height:300,onChange:function(){$(i).trigger("change"),i.data("editor").getValue().length<=1&&i.data("editor").save()}})},1),$('<div class="container" />').append(i)},value:function(e){return $(".CodeMirror",e).data("editor").getValue()}},color:{render:function(e,t){var i=$('<span><input type="text" /></span>');return $("input",i).val(t).colorPickMe({update:function(){$(this).trigger("keyup"),proboards.unsaved_changes=1}}),i},value:function(e){return $("input",e).val()}},selection:{render:function(e,t){var i=$("<span></span>"),n=void 0!==t,o={};if($.isArray(t))for(var a=0;a<t.length;++a)o[t[a]]=!0;else n&&(o[t]=!0);switch(e.displaytype){case"select":var r=$("<select></select>");if(1==e.multipleanswers)r.attr("multiple","multiple").addClass("multiple");else if(!n){var s=function(){$("option:first",this).remove(),$(this).unbind("change",s)};r.append($('<option value="">- Make Selection -</option>')).change(s)}for(var l=0;l<e.options.length;++l){var c=$("<option></option>");c.text(e.options[l].option),c.val(e.options[l].value),o[e.options[l].value]&&c.attr("selected","selected"),r.append(c)}i.append(r),1==e.multipleanswers&&i.append('<br /><span class="disclaimer">Click &amp; drag or Ctrl+Click to select.</span>');break;case"check":var d=$("<ul></ul>"),u=function(){};if(1!=e.multipleanswers){var h=null;u=function(){h=$(this).is(":checked")?($(h).removeAttr("checked"),this):null}}for(l=0;l<e.options.length;++l){var p=$.unique_id("check"),f=$("<li></li>"),m=$("<label></label>").attr("for",p).text(e.options[l].option),g=$('<input type="checkbox" />').attr("id",p).val(e.options[l].value).change(u);o[e.options[l].value]&&g.attr("checked","checked").change(),f.append(g).append(m),d.append(f)}i.append(d);break;case"radio":d=$("<ul></ul>");var v=$.unique_id("radiogroup");for(l=0;l<e.options.length;++l){p=$.unique_id("radio"),f=$("<li></li>"),m=$("<label></label>").attr("for",p).text(e.options[l].option);var b=$('<input type="radio" />').attr("name",v).attr("id",p).val(e.options[l].value);o[e.options[l].value]&&b.attr("checked","checked"),f.append(b).append(m),d.append(f)}i.append(d)}return i},value:function(e,t){var i="";switch(t.displaytype){case"select":i=$("select",e).val()||[];break;case"check":1==t.multipleanswers?(i=[],$("input:checked",e).each(function(){i.push($(this).val())})):i=$("input:checked",e).val();break;case"radio":i=1==t.multipleanswers?[$("input:checked",e).val()]:$("input:checked",e).val()}return i}},sortable:{render:function(e,t){var i=$("<span></span>"),n=$("<ul />");$.isArray(t)||(t=[]),$.isArray(e.items)||(e.items=[]);for(var o={},a=[],r={},s=0;s<t.length;++s)o[t[s].value]=!0,a.push(t[s]);for(var l=0;l<e.items.length;++l){var c=e.items[l];o[(r[c.value]=c).value]||(a.push({value:c.value,checked:0}),o[c.value]=!0)}if(1==e.checkboxes&&""!=e.checkbox_label){var d=$('<span class="info" />').text(e.checkbox_label);i.append(d)}for(var u=0;u<a.length;++u){var h=r[a[u].value];if(void 0!==h){var p=$("<li />"),f=$.unique_id("check");if(1==e.checkboxes){var m=$('<input type="checkbox" value="1" />').attr("id",f);1==a[u].checked&&m.attr("checked","checked"),p.append(m)}p.append($("<label />").text(h.label).attr("for",f)),p.append($('<div class="plugin-drag drag-handle" title="click and drag to reorder" />')),p.data("value",h.value),n.append(p)}}return n.sortable({items:"> li",handle:".drag-handle",placeholder:"placeholder",axis:"y",start:function(e,t){$("> li.placeholder",n).height(t.item.outerHeight()+"px")},stop:function(e,t){n.setEven(),$(this).trigger("change")}}),n.setEven(),i.append(n),i},value:function(e,t){var i=[];return $("ul.ui-sortable > li",e).each(function(){i.push({value:$(this).data("value"),checked:$("input:checked",this).length?1:0})}),i}},search:{render:function(e,t){function o(e,t){proboards.trimmable_list({container:r,options:e,selected:t,onChange:function(e){d(e),r.setEven()}}),r.setEven(),c||$("ul.trim-list",r).children().removeClass("even")}var i,n=$.unique_id(e.id),a=$("<div></div>"),r=$("<ul></ul>"),s=$('<input type="hidden" />').attr("id",n).val(t),l=$('<a href="#" class="change"></a>').click(function(e){e.preventDefault()}),c=parseInt(e.multipleanswers),d=function(e){s.arrayValue(e).change()};switch(e.searchtype){case"categories":null==i&&(i="category");case"groups":null==i&&(i="group");case"pages":null==i&&(i="page");case"themes":null==i&&(i="theme");case"boards":null==i&&(i="board"),l.text("Add "+proboards.capitalize(i)).click(function(){proboards.select_dialog({title:""!=e.label?e.label:proboards.capitalize(i)+" Selection",options:proboards.data(i+"_list"),selected:s.val().split(","),max:1==e.multipleanswers?0:1,onComplete:function(e){d(e),o(proboards.data(i+"_list"),e)}})}),o(proboards.data(i+"_list"),t);break;case"members":i="members";var u=[],h=c?"Add Members":"Add Member";if(l.text(h).click(function(){proboards.member.select_dialog({selected:""!=s.val()?s.val().split(","):[],max:c?0:1,autofocus:1,onComplete:function(e){u=[];for(var t=[],i=0;i<e.length;++i)u.push({value:""+e[i].id,label:e[i].name}),t.push(""+e[i].id);d(t),o(u,t)}})}),o(u,t),null!=t&&""!=t){l.hide(),r.append("<li>Loading...</li>");var p=$.isArray(t)?t:[t];d(p),proboards.ajax({url:proboards.data("user_data_url"),data:{ids:p},success:function(e){u=[];for(var t=0;t<e.users.length;++t){var i=e.users[t],n=""+i.id;u.push({value:n,label:$("<span></span>").html(i.name).text()})}l.show(),r.html(""),o(u,p)}})}}return a.append(s).append(r).append(l)},value:function(e,t,i,n){var o=$("input",e).val();return o=""!=o?o.split(","):[],i.defaults?"members"==t.searchtype&&-1!=$.inArrayLoose("1",o)?(1<o.length&&n.unsaveable.push(t.label||t.id),["1"]):(o.length&&n.unsaveable.push(t.label||t.id),[]):o}},images:{render:function(e,t){for(var i=proboards.data("image_modules"),n=$.unique_id(e.id),o=[],a={},r=0;r<e.images.length;++r)a[e.images[r].name]=e.images[r].value;for(r=0;r<i.length;++r)null!=a[i[r].name]&&o.push({label:"<span>"+proboards.escape_html(a[i[r].name])+'</span><img src="'+proboards.escape_html(i[r].src)+'" />',value:i[r].id});if($.isArray(t)&&t.length){i=proboards.data("image_modules");var s={};for(r=0;r<i.length;++r)s[i[r].name]=i[r].id;for(var l=0;l<t.length;++l)t[l]=s[t[l]]}function c(e,t){proboards.trimmable_list({container:u,options:e,selected:t,labelTextType:"html",onChange:function(e){f(e),u.setEven()}}),u.setEven()}var d=$("<div></div>"),u=$("<ul></ul>"),h=$('<input type="hidden" />').attr("id",n).val(t),p=$('<a href="#" class="change"></a>').click(function(e){e.preventDefault()}),f=function(e){h.val(e.join(",")).change()};return p.text("Add Images").click(function(){proboards.select_dialog({title:"Image Selection",id:"image-select-dialog",options:o,selected:h.val().split(","),max:1==e.multipleanswers?0:1,labelTextType:"html",onComplete:function(e){f(e),c(o,e)}})}),c(o,t),d.append(h).append(u).append(p)},value:function(e){var t=$("input",e).val();if(""==t)return[];for(var i=proboards.data("image_modules"),n={},o=0;o<i.length;++o)n[i[o].id]=i[o].name;for(var a=t.split(","),r=0;r<a.length;++r)a[r]=n[a[r]];return a}},autoform:{render:function(u,e){for(var t={},i="",n=0;n<u.fields.length;++n)t[u.fields[n].type]=!0;for(var o in t)i+=" has-"+o;function h(){"vertical"==u.format?($("> li > ul > li",p).removeClass("even"),$("> li > ul",p).each(function(){$("> li:even",this).addClass("even")})):($("> li",p).removeClass("even"),$("> li:even",p).addClass("even"))}function a(e){var t=!1;return $(f,e).each(function(){var e=$(this).val();void 0!==e&&""!==e&&null!==e&&(t=!0)}),t}var r=$("<div></div>"),p=$('<ul class="autoform '+proboards.escape_html(u.format)+proboards.escape_html(i)+'"></ul>'),f="input,select,textarea,.ui-sortable",m="change keyup",g=function(){var e=$(this).closest(".autoform-block");if($(this).is(".ui-sortable")||a(e)){e.removeClass("new");var t=$(f,e);t.unbind(m,g),t.bind(m,v),s("new"),h()}},v=function(){var e=$(this).closest(".autoform-block");$(this).is(".ui-sortable")||a(e)||e.find(".delete-button .delete").trigger("click",[!0])},s=function(e,t){void 0===t&&(t={});var n=$('<li class="autoform-block '+e+'"></li>'),i=$('<ul class="plugin-ui"></ul>');"vertical"==u.format&&i.append('<li class="headings"></li>');for(var o=0;o<u.fields.length;++o){var a=null,r=null,s=u.fields[o],l=$("<li></li>").attr("class","autoform-"+s.type+" plugin-settings-"+s.type);if(void 0!==s.description&&""!=s.description&&(r=$('<img class="help-icon" src="'+proboards.image_path()+'/admin/pbhelpicon.png">').attr("title",proboards.escape_html(s.description)).tipTip()),void 0!==s.label&&""!=s.label&&(a=$("<label></label>").text(s.label)),a&&l.append(a),"headings"!=e){var c=proboards.plugin.settings.fields[s.type].render(s,t[s.id]);l.append(c)}r&&l.append(r),i.append(l)}i.append('<li class="drag-button"><div class="plugin-drag drag-handle" title="click and drag to reorder"></div></li>');var d=$('<div class="delete"><span></span></div>');if(i.append($('<li class="delete-button"></li>').append(d)),d.click(function(e,t){function i(){e.preventDefault(),n.fadeOut(500,function(){n.remove(),h()})}u.promptOnDelete&&!t?proboards.confirm("Are you sure you wish to remove this entry?",i):i()}),"new"==e)$(f,i).bind(m,g),n.fadeIn(500);else if("headings"!=e){$(f,i).bind(m,v)}n.append(i),"horizontal"==u.format&&n.append('<div class="clear"></div>'),p.append(n)};if("horizontal"==u.format&&(s("headings"),h()),$.isArray(e))for(var l=0;l<e.length;++l)s("prepopulated",e[l]);return s("new"),h(),r.append(p),r.append('<div class="clear"></div>'),p.sortable({items:"> li:not(.new,.headings)",handle:".drag-handle",axis:"horizontal"==u.format?"y":void 0,stop:function(e,t){h(),r.trigger("change")}}),r},value:function(e,o,a,r){var s=[];return $("ul.autoform > li:not(.new,.headings)",e).each(function(){for(var e={},t=$("> ul > li:not(.headings)",this),i=0;i<o.fields.length;++i){var n=o.fields[i];null!=n.id&&""!=n.id&&(e[n.id]=proboards.plugin.settings.fields[n.type].value(t.eq(i),n,a,r))}s.push(e)}),s}},permissions:{render:function(e,t){var i,n;void 0===t&&(t=proboards.data("default-plugin-key-write-permissions"));var o=e.access;t.read&&(i=t.read),t.write&&(n=t.write),t.level&&(i=n=t);var a=$("<div></div>");if("both"==o&&a.append('<div class="space-bot"><strong>Read permissions:</strong></div>'),"read"==o||"both"==o){var r=proboards.permissions.selection({values:i,include_owner:"Users can read their own content:",action:"read everything",everyone_text:e.everyone,self_text:e.self});$(".level-select select",r).change(),r.addClass("read-permissions"),a.append(r)}if("both"==o&&a.append('<div class="space-top space-bot"><strong>Write permissions:</strong></div>'),"write"==o||"both"==o){var s=proboards.permissions.selection({values:n,include_owner:"Users can write to their own content:",action:"write to everything",everyone_text:e.everyone,self_text:e.self});$(".level-select select",s).change(),s.addClass("write-permissions"),a.append(s)}return a},value:function(e,i,n,o){function a(e){return e.match(/_(.+?)$/)[1]}var t={},r=!1;function s(e){var t={};return $("select",e).each(function(){var e=a($(this).attr("name"));n.defaults&&"include_rank"==e?parseInt($(this).val())&&(r=!0):t[e]=$(this).val()}),$('input[type="hidden"]',e).each(function(){var e=a($(this).attr("name"));!n.defaults||"include_groups"!=e&&"exclude_groups"!=e?t[e]=$(this).arrayValue():""!=$(this).val()&&(r=!0)}),$('input[type="checkbox"]',e).each(function(){t[a($(this).attr("name"))]=$(this).attr("checked")?1:0}),r&&o.unsaveable.push(i.label||i.name),t}var l=$(".read-permissions",e),c=$(".write-permissions",e);return l.length&&(t.read=s(l)),c.length&&(t.write=s(c)),t}}},render:function(e){var t=$.extend({settings:[],data:{},preview:!1,container:null,tabContainer:null},e);null==t.container&&(t.container=$("<div></div>")),null==t.tabContainer&&(t.tabContainer=$("<div></div>")),"object"==typeof t.data&&null!==t.data||(t.data={}),"object"==typeof t.settings&&null!==t.settings||(t.settings={}),void 0===t.settings.pages&&(t.settings.pages=[]),t.tabContainer.html("");for(var i=$('<ul class="ui-helper-clearfix tabs"></ul>'),n=0;n<t.settings.pages.length;++n){var o=t.settings.pages[n],a=$("<li></li>"),r=$("<a></a>").attr("href","#settings-ui-page-"+n).text(o.name).data("tab-num",n);a.append(r),i.append(a)}t.tabContainer.append(i),t.container.html("");for(n=0;n<t.settings.pages.length;++n){o=t.settings.pages[n];for(var s=$('<ul class="settings-ui-page plugin-ui" id="settings-ui-page-'+n+'"></ul>'),l=0;l<o.fields.length;++l){var c=o.fields[l],d=$("<li></li>").addClass("plugin-settings-"+c.type);void 0!==c.format&&d.addClass(c.format),c.required&&(d.addClass("required"),d.append(proboards.help_icon("The author has indicated that this setting might be required for the plugin to function properly.").addClass("required-help"))),void 0!==c.id&&""!=c.id&&d.attr("id","plugin-settings-"+c.id);var u=null,h=null;void 0!==c.description&&""!=c.description&&(u=$('<img class="help-icon" src="'+proboards.image_path()+'/admin/pbhelpicon.png">').attr("title",proboards.escape_html(c.description)).tipTip()),void 0!==c.label&&""!=c.label&&(h=$("<label></label>").text(c.label));var p=proboards.plugin.settings.fields[c.type].render(c,t.data[c.id]);h&&d.append(h),d.append(p),u&&d.append(u),s.append(d)}var f=1;$("> li",s).each(function(){$(this).hasClass("plugin-settings-structure-title")?f=0:$(this).hasClass("plugin-settings-autoform")&&(f=1),$(this).hasClass("plugin-settings-structure-boldtext")||$(this).hasClass("plugin-settings-structure-plaintext")?f||$(this).addClass("even"):(f=1-f)&&$(this).addClass("even")}),t.container.append(s)}r=$("<a></a>").attr("href","#settings-ui-page-about").text("About");i.prepend($("<li></li>").append(r));s=$('<div class="settings-ui-page" id="settings-ui-page-about"><span class="plugin-name">'+proboards.escape_html(proboards.data("plugin").name)+'</span><span class="plugin-version">Version '+proboards.escape_html(proboards.data("plugin").version)+" "+proboards.escape_html(proboards.data("plugin").stage)+'</span><p class="plugin-description mono">'+proboards.nl2br(proboards.nbsp(proboards.escape_html(proboards.data("plugin").description)))+"</p></div>");for(var m=proboards.data("components"),g=[],v=0;v<m.length;++v)"board"!=m[v].type&&"category"!=m[v].type||g.push(m[v]);if(g.length){s.append('<div class="headings item"><h4>Plugin Components</div><p class="plugin-components-about">The following are components for your plugin.  You may select boards or categories to apply these components to.</p>');var b=proboards.data("component_map");"object"==typeof b&&null!==b||(b={}),componentContainer=$('<ul class="components" />');for(v=0;v<g.length;++v){var A=g[v],y=b[A.id],_=$('<li class="component"><h5>'+proboards.escape_html(A.name)+"</h5><p>"+proboards.nl2br(proboards.escape_html(A.description))+'</p><div class="selection"><label>Select a '+proboards.escape_html(A.type)+"</label></div></li>");$(".selection",_).append(proboards.plugin.settings.fields.search.render({id:"component-"+v,multipleanswers:1,searchtype:"board"==A.type?"boards":"categories"},$.isArray(y)?y:[])),componentContainer.append(_)}componentContainer.setEven(),s.append(componentContainer)}return t.container.append(s),$.tabinate({tabs:i,content:t.container,useHash:t.useTabHash,callback:proboards.plugin.settings.resizeAutoforms}),$(document).ready(proboards.plugin.settings.resizeAutoforms),{settings:t.container,tabs:t.tabContainer}},export:function(e){var t=$.extend({settings:[],data:{},defaults:!1,container:null},e),i={},n={};null==t.container&&(t.container=$("<div></div>"));for(var o={unsaveable:[]},a=0;a<t.settings.pages.length;++a)for(var r=t.settings.pages[a],s=($("#settings-ui-page-"+a,t.container),0);s<r.fields.length;++s){var l=r.fields[s];if(null!=l.id&&""!=l.id){var c=$("#plugin-settings-"+l.id),d=proboards.plugin.settings.fields[l.type].value(c,l,t,o);i[l.id]=d}}var u=0;return $("#settings-ui-page-about .component").each(function(){var e=proboards.data("components")[u++].id,t=$("input",this).val();t=""!=t?t.split(","):[],n[e]=t}),{settings_data:i,component_map:n,message:o}},requirement_warning:function(e){if(null===e&&(e={}),parseInt(e.disabled)){if(e.missing_fields){var t=1!=e.missing_fields;$("#plugin-requirement-warning").html("This plugin may not be enabled until the required field"+(t?"s":"")+" "+e.missing_field_names+" "+(t?"are":"is")+" filled out and saved.")}else $("#plugin-requirement-warning").html('This plugin is currently disabled.  <a href="#" id="plugin-enable">click here</a> to enable it.'),$("#plugin-enable").click(function(e){e.preventDefault(),proboards.ajax({url:proboards.data("plugins_disable_url"),data:{disable:0,plugin_id:proboards.data("plugin_id")},success:function(){$("#plugin-requirement-warning").slideUp()}})});$("#plugin-requirement-warning").show()}else $("#plugin-requirement-warning").hide()},size_warning:function(e){e=parseInt(e||0);var t=parseInt(proboards.data("plugin_size_max"));t<e?($("#plugin-size-warning").html("This plugin exceeds the maximum export size ("+$.byteSize(proboards.data("plugin_size_max"))+") by "+$.byteSize(e-t)+".  Images or components must be removed before the plugin can be exported."),$("#plugin-size-warning").show(),$("#export-container input").prop("disabled",!0)):($("#plugin-size-warning").hide(),$("#export-container input").prop("disabled",!1))},resizeAutoforms:function(){$(".autoform.horizontal").each(function(){var e=15;$("> li > ul:first > li",this).each(function(){e+=$(this).outerWidth(!0)}),$(this).width(e)})}}};var postManager={init:function(e){"object"!=typeof e&&(e={}),this.options=e,this.selected_posts=[],this.runAll(0),this.content=$(".lm-content-"+this.options.id);return this},cache:{posts:{},threads:{}},runAll:function(e){$(".post-options-checkbox input.ui-manager-checkbox").removeAttr("checked"),this.add_options_menus(e),this.bind_like_buttons(),this.bind_quote_buttons(),this.bind_edit_buttons(),this.bind_block_buttons(),this.bind_reply_buttons(),this.bind_video_overlays()},get_selection:function(){var e,t=this.selected_posts,i=[],n=this.selected_posts.length;for(e=0;e<n;e++)i[e]=$("#post-"+t[e]);return{ids:t,length:n,items:i}},select_items:function(e){var t=this;e.each(function(){var e=parseInt($(this).attr("id").match(/\d+/)[0]);-1==$.inArray(e,t.selected_posts)&&(t.selected_posts.push(e),$(".post-"+e+"-checkbox input.ui-manager-checkbox").attr("checked",!0),$("#post-"+e+"-options").addClass("state-selected"))})},unselect_items:function(e){var i=this;e.each(function(){var e=parseInt($(this).attr("id").match(/\d+/)[0]),t=$.inArray(e,i.selected_posts);-1!=t&&(i.selected_posts.splice(t,1),$(".post-"+e+"-checkbox input.ui-manager-checkbox").attr("checked",!1),$("#post-"+e+"-options").removeClass("state-selected"))})},unselect_all:function(){this.unselect_items($(".item",this.content))},select_all:function(){this.select_items($(".item",this.content))},add_options_menus:function(e){var u=this;$(".post-options").show().css("display","inline-block"),$(".options_menu").each(function(){var c=/(^| )post-([0-9]+)($| )/.test($(this).attr("class"))?RegExp.$2:"",d=/(^| )user-([0-9]+)($| )/.test($(this).attr("class"))?RegExp.$2:"";e&&$("#post-"+c+"-options").empty();$(this).selectMenu({container:"#post-"+c+"-options",status:'<img src="'+proboards.data("options_img_src")+'" alt="'+proboards.data("options_img_alt")+'" title="'+proboards.data("options_img_title")+'" />',staticStatus:!0,beforeShow:function(){var e;for(e in $(this).next().addClass("open-menu"),$(".post-"+c+"-checkbox input.ui-manager-checkbox").attr("checked")?($(this).menu("hideOption",c+"-selectPost"),$(this).menu("showOption",c+"-deselectPost")):($(this).menu("showOption",c+"-selectPost"),$(this).menu("hideOption",c+"-deselectPost")),proboards.data("ips")||proboards.data("ips",[]),proboards.data("ips"))$(".ip-"+e).removeClass("banable"),$(".ip-"+e).addClass("banned");proboards.data("is_search_results")&&($(this).menu("hideOption",c+"-moveAllAbove"),$(this).menu("hideOption",c+"-moveAllBelow"))},onClose:function(){$("#post-"+c+"-options").removeClass("open-menu")},menuOptions:{click:function(e,t){var i=$(t.item).attr("class");if(i==c+"-selectPost")u.select_items($("#post-"+c));else if(i==c+"-deselectPost")u.unselect_items($("#post-"+c));else if(i==c+"-giveGift"||i==c+"-sendMessage")window.location=$(e.target).attr("href");else if("badge_action"==i)proboards.badge.action.dialog($(t.item).data("badge-id"),$(t.item).data("user-id"));else if(i==c+"-deletePost"){for(var n=[],o=0;o<u.selected_posts.length;o++)u.selected_posts[o]==c||0!=$("#post-"+u.selected_posts[o]).length&&!$("#post-"+u.selected_posts[o]).hasClass("deletable")||n.push(u.selected_posts[o]);n.push(c),proboards.confirm_dialog("posts","delete",n,function(e){void 0!==e.redirect_url?window.location=e.redirect_url:(u.unselect_all(),listMan.research(),listMan.selected_ids=[],listMan.selected_items={})})}else if(i==c+"-moveOnlyThis"||i==c+"-moveAllAbove"||i==c+"-moveAllBelow"||i==c+"-moveAllSelected"){n=[];i==c+"-moveAllSelected"?(n=u.selected_posts,-1==$.inArray(parseInt(c),u.selected_posts)&&n.push(c)):n.push(c);var a=document.createElement("form");a.setAttribute("method","POST"),a.setAttribute("action",proboards.route("move_post"));var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","selection"),r.setAttribute("value",n.join(",")),a.appendChild(r);var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","type"),s.setAttribute("value",i.split("-")[1]),a.appendChild(s),document.body.appendChild(a),a.submit()}else if(i==c+"-reportPost")0==$("#report-post-container").length?($(document.body).append('<div id="report-post-container"></div>'),proboards.dialog("report-post-container",{autoOpen:!1,width:620,height:"auto",title:"Report Post",buttons:[{text:"Report Post",class:"report-post-button",click:function(e){return proboards.loading(!0),proboards.ajax({url:proboards.route("create_report",{post_id:c}),data:{reason:$("#report-post-container textarea").val()},dataType:"json",success:function(e){$("#report-post-container").html(e.message),$(".report-post-button").hide(),$(".close-window-button").show()},complete:function(){proboards.loading(!1)}}),!1}},{text:"Close Window",class:"close-window-button hide",click:function(e){return $("#report-post-container").dialog("close"),!1}}]})):$("#report-post-container").dialog("option","buttons",[{text:"Report Post",class:"report-post-button",click:function(e){return proboards.loading(!0),proboards.ajax({url:proboards.route("create_report",{post_id:c}),data:{reason:$("#report-post-container textarea").val()},dataType:"json",success:function(e){$("#report-post-container").html(e.message),$(".report-post-button").hide(),$(".close-window-button").show()},complete:function(){proboards.loading(!1)}}),!1}},{text:"Close Window",class:"close-window-button hide",click:function(e){return $("#report-post-container").dialog("close"),!1}}]),proboards.ajax({url:proboards.route("report_post",{post_id:c}),dataType:"html",success:function(e){$("#report-post-container").html(e),$("#report-post-container").dialog("open"),$("#report-post-container textarea").focus(),$("#report-post-container textarea").bind("click keyup paste",function(){var e=$("#report-post-container textarea").val(),t=e.length;256<=t&&($("#report-post-container textarea").val(e.substr(0,256)),t=256)})}});else if(i==c+"-warn"||i==c+"-disable")window.location=proboards.route("edit_user_admin",{user_id:d});else if("searchIP actionable ui-menu-has-sub-menu"==i)proboards.dialog("ip_copy",{title:"IP Address"}).html('Below is the IP address associated with this post: <br /><br /><input type="text" name="easy_copy_ip" style="width: 270px;" value="'+$(t.item).data("ip")+'" />'),$('input[name="easy_copy_ip"]').select();else if(i==c+"-ipBan")proboards.member.ban({id:d,checked:["ip"],from:{type:"post",id:c},success:function(){$("."+i).hide()}});else if(i==c+"-deletePostsByIp"){$("#confirm-container").length||$(document.body).append('<div id="confirm-container"></div>'),proboards.dialog("confirm-container",{autoOpen:!1,width:620,title:"Delete Posts by IP"}),proboards.ajax({url:proboards.route("posts_delete_by_ip_dialog"),dataType:"html",data:{post_id:c},success:function(e){$("#confirm-container").html(e),$("#confirm-container form").bind("validated",function(e){return e.preventDefault(),proboards.ajax({url:$("#confirm-container form").attr("action"),data:$("#confirm-container form").serialize(),dataType:"json",success:function(e){""==e.redirect_url?(listMan.research(),$("#confirm-container").dialog("close")):window.location=e.redirect_url},error:function(e){listMan.research(),proboards.error(e.error),$("#confirm-container").dialog("close")}}),!1}),$("#confirm-container").dialog("open")}})}else if(i==c+"-ipSearchMembers")window.location=proboards.route("members")+"?view=ip&type=post&id="+c;else if(i==c+"-ipSearchThreads")window.location=proboards.route("threads_by_ip",{type:"post",id:c});else if(i==c+"-ipSearchPosts")window.location=proboards.route("posts_by_ip",{type:"post",id:c});else if(i==c+"-ipSearchLogs")window.location=proboards.route("security_logs_by_ip",{type:"post",id:c});else if(i==c+"-postLink"){0==$("#copy-link-container").length&&($(document.body).append('<div id="copy-link-container"></div>'),proboards.dialog("copy-link-container",{autoOpen:!1,width:375,height:150,title:"Link to Post",open:function(){$("#thread-post-link",this).focus().select()}}));var l=document.location.protocol+"//"+document.location.host;$("#copy-link-container").html('<form><div>Link to this post in this thread:</div><div><input size="60" type="text" name="thread_post_link" id="thread-post-link" value="'+l+proboards.route("view_post_in_thread",{post_id:c})+'" /></div><div>Link to only this post:</div><div><input size="60" type="text" name="post_link" id="post-link" value="'+l+proboards.route("permalink",{post_id:c})+'" /></div></form>'),$("#copy-link-container").dialog("open")}else i==c+"-toTop"&&window.scroll({top:0,behavior:"smooth"});return e.preventDefault(),!1}}})});for(var t=u.selected_posts.length;t--;){var i=u.selected_posts[t];$(".post-"+i+"-checkbox input.ui-manager-checkbox").prop("checked",!0),$("#post-"+i+"-options").addClass("state-selected")}},display_like:function(e){var t=$("#post-"+e),i=(parseInt($(".likes-total",t).text()),$(".likes-button",t));proboards.item("post",e)&&proboards.item("post",e).liked?i.show().addClass("liked"):i.show().removeClass("liked")},bind_like_buttons:function(){var i=this;$(".likes-button").each(function(){var t=$(this).data("id")?$(this).data("id"):listManager.prototype.getItemId(this);$(this).unbind("click"),$(this).bind("click",function(){return proboards.ajax({url:proboards.route("post_like"),data:{post_id:t},dataType:"json",success:function(e){$("#post-"+t+" .likes").html(e.likes_html),proboards.item("post",t).liked=e.liked,i.display_like(t),$(".ui-search .search-input").autosearch("clearCache")}}),!1})}),$(".likes").on("click",".view-likes",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest(".post").attr("id").match(/\d+/)[0],i=$("#"+t+"-tooltip");0==i.length&&(i=$('<div id="'+t+'-tooltip"></div>'),$(document.body).append(i),i.dialog({autoOpen:!1,width:460,maxHeight:600,title:"Members Who Like This",close:function(){$(".control-bar",i).remove()}})),proboards.ajax({url:proboards.route("likes_of_post"),data:{post_id:t},dataType:"html",success:function(e){i.html(e),i.dialog("open"),553<i.height()&&(i.dialog("option","height",600),i.dialog("close"),i.dialog("open"))}})})},bind_quote_buttons:function(){var l=this;$(".quote-button").each(function(){if(!$(this).hasClass("guest-prompt")){var a=$(this).closest(".post").attr("id").match(/\d+/)[0],r="";void 0!==proboards.data("thread_id")?r=proboards.data("thread_id"):proboards.item("post",a).thread_id;var s=proboards.data("page_url")||"";$(this).bind("click",function(e){var t=$(this).attr("href")+s,i=l.summary_setup(t);if(0!=l.selected_posts.length){for(var n="",o=0;o<l.selected_posts.length;o++)l.selected_posts[o]!=a&&(n+=l.selected_posts[o],n+=",");n+=a,i.setAttribute("action",proboards.route("quote_posts",{post_ids:n,thread_id:r}))}return $(i).targetBlank(e),i.submit(),!1})}})},bind_block_buttons:function(){$(".display-blocked-post.button").each(function(){var t=$(this).closest(".post.item");$(this).unbind("click"),$(this).bind("click",function(e){return e.preventDefault(),t.removeClass("blocked"),$(".blocked",t).hide(),$(".unblocked",t).show(),!1})})},bind_edit_buttons:function(){var n=this;$(".edit-button").each(function(){$(this).click(function(e){var t=$(this).attr("href"),i=n.summary_setup(t);return $(i).targetBlank(e),i.submit(),!1})})},bind_reply_buttons:function(){var o=this;$(".reply-button").each(function(){$(this).click(function(e){if(!$(this).hasClass("guest-prompt")){var t=proboards.route("new_post",{thread_id:proboards.data("thread_id")}),i=o.summary_setup(t);if(0<o.selected_posts.length){var n=o.selected_posts.join(",");i.setAttribute("action",proboards.route("quote_posts",{post_ids:n,thread_id:proboards.data("thread_id")}))}return $(i).targetBlank(e),i.submit(),!1}})})},bind_video_overlays:function(){$(".video-embed-container").each(function(e){var t=$(this).find("video"),i=$(this).find(".embed-video-overlay"),n=$(this).find(".embed-video-overlay-play");Modernizr.video?(n.css("top",i.height()/2-n.height()/2),i.add(t).on("click",function(){var e=t.get(0);e.paused?(e.play(),e.paused||i.hide()):(e.pause(),e.paused&&i.show())})):i.hide()})}};$.extend(proboards,{postManager:postManager}),$.extend(proboards.postManager,proboards.shared.manager),$.extend(proboards,{postPageManager:{init:function(e){var t=this;"object"!=typeof e&&(e={}),this.options=e,this.fields={},this.applied_effects={};var i="#"+this.options.form_id;if(this.fields.$bookmark=$(i+"_bookmark_input"),this.fields.$labels=$(i+"_labels_input"),this.fields.$announcement=$(i+"_announcement_input"),this.fields.$sticky=$(i+"_sticky_input"),this.fields.$lock=$(i+"_lock_input"),this.fields.$falling=$(i+"_falling_input"),this.fields.$announcement_expires=$(i+"_announcement_expires_input"),this.fields.$announcement_expires_date=$(i+"_announcement_expires_date_input"),this.fields.$announcement_expires_time=$(i+"_announcement_expires_time_input"),this.fields.$post_as=$(i+"_post_as_input"),1==this.fields.$bookmark.val()&&(this.applied_effects.bookmark=1),1==this.fields.$announcement.val()&&(this.applied_effects.announcement=1),1==this.fields.$sticky.val()&&(this.applied_effects.sticky=1),1==this.fields.$lock.val()&&(this.applied_effects.lock=1),1==this.fields.$falling.val()&&(this.applied_effects.falling=1),""!=this.fields.$announcement_expires.val()&&""!=this.fields.$announcement_expires_date.val()&&""!=this.fields.$announcement_expires_time.val()&&(this.applied_effects.announcement_expires=this.fields.$announcement_expires_date.val()+" at "+this.fields.$announcement_expires_time.val()),this.fields.$announcement_expires_date.on("localeconvert",function(){t.applied_effects.announcement_expires=t.fields.$announcement_expires_date.val()+" at "+t.fields.$announcement_expires_time.val(),t.update_magic_sentence()}),this.labels={},this.applied_effects.labels=0,this.fields.$labels.length&&""!=this.fields.$labels.val()){var n=this.fields.$labels.val().split(",");this.applied_effects.labels=n.length;for(var o=0;o<n.length;o++)this.labels[n[o]]=!0}this.create_options_menu(),this.bind_date_stuff(),this.bind_poll_stuff(),this.bind_attachment_stuff(),proboards.postManager.bind_video_overlays(),this.update_magic_sentence(),proboards.embedded.processEmbedded()},create_options_menu:function(){var l=this,e=$(".posting-options-list");$(".post-options").css("display","inline-block"),$("li.label",e).each(function(){var e=$(this),t=e.clone();e.addClass("label-add").find("span.action").html("Add "),t.addClass("label-remove").find("span.action").html("Remove "),t.insertAfter(e)});$(".posting-options-list").selectMenu({container:"#posting-options-container",status:'<img src="'+proboards.data("options_img_src")+'" alt="'+proboards.data("options_img_alt")+'" title="'+proboards.data("options_img_title")+'" />',staticStatus:!0,beforeShow:function(){$("#posting-options-container").addClass("open-menu"),$("li.label",e).each(function(){var e=$(this),t=e.hasClass("label-add"),i=e.data("id");l.labels[i]?t?e.hide():e.show():t?e.show():e.hide()}),1==l.applied_effects.bookmark?($(this).menu("showOption","unbookmark"),$(this).menu("hideOption","bookmark")):($(this).menu("showOption","bookmark"),$(this).menu("hideOption","unbookmark")),1==l.applied_effects.lock?($(this).menu("showOption","unlock"),$(this).menu("hideOption","lock")):($(this).menu("showOption","lock"),$(this).menu("hideOption","unlock")),1==l.applied_effects.sticky?($(this).menu("showOption","unsticky"),$(this).menu("hideOption","sticky")):($(this).menu("showOption","sticky"),$(this).menu("hideOption","unsticky")),1==l.applied_effects.announcement?($(this).menu("showOption","unannounce"),$(this).menu("hideOption","announce")):($(this).menu("showOption","announce"),$(this).menu("hideOption","unannounce")),1==l.applied_effects.falling?($(this).menu("showOption","disable_falling"),$(this).menu("hideOption","enable_falling")):($(this).menu("showOption","enable_falling"),$(this).menu("hideOption","disable_falling"))},onClose:function(){$("#posting-options-container").removeClass("open-menu")},menuOptions:{click:function(e,t){var i=$(t.item),n=i.attr("class");if("bookmark"==n)l.applied_effects.bookmark=1,l.fields.$bookmark.val(1);else if("unbookmark"==n)l.applied_effects.bookmark=0,l.fields.$bookmark.val("");else if(-1!=n.indexOf("label")&&-1==n.indexOf("ui-menu-has-sub-menu")){var o=i.data("id"),a=i.hasClass("label-add")?"add":"remove";l.labels[o]="add"==a,"add"==a?l.applied_effects.labels++:l.applied_effects.labels--;var r=[];for(var s in l.labels)l.labels.hasOwnProperty(s)&&l.labels[s]&&r.push(s);l.fields.$labels.val(r.join(","))}else if("announce"==n)$("#announcement-options").hasClass("ui-dialog")||(proboards.dialog("announcement-options",{title:"Announcement Options",autoOpen:!1,width:255,height:240,buttons:[{text:"Make Announcement",click:function(){var e=$('input[name="temp_announcement_expires"]',this),t=$('input[name="temp_announcement_expires_time"]',this);if($("#announcement_show_date_and_time").attr("checked"))if($.check_date_format(e.val(),proboards.data("locale_settings")))if($.check_time_format(t.val())){var i=new Date;e.datepicker("getDate").setSeconds(t.timepicker("getTime"))<i?proboards.alert("Announcements cannot expire in the past."):(l.fields.$announcement.val(1),l.applied_effects.announcement=1,l.fields.$announcement_expires.val(1),l.fields.$announcement_expires_date.val(e.val()),l.fields.$announcement_expires_time.val(t.val()),l.applied_effects.announcement_expires=e.val().toString()+" at "+t.val().toString(),$(this).dialog("close"))}else $.inputError(t,"You must enter a valid time.");else $.inputError(e,"You must enter a valid date.");else l.fields.$announcement.val(1),l.applied_effects.announcement=1,l.fields.$announcement_expires.val(""),l.fields.$announcement_expires_date.val(""),l.fields.$announcement_expires_time.val(""),l.applied_effects.announcement_expires=0,$(this).dialog("close")}}],close:function(){l.update_magic_sentence(),$.clearInputError()}}),proboards.dialogEnter($("#announcement-options"))),$("#announcement-options").dialog("open"),$('#announcement-options input[name="temp_announcement_expires"]').datepicker("option","minDate",new Date);else if("unannounce"==n)l.fields.$announcement.val(""),l.applied_effects.announcement=0,l.fields.$announcement_expires.val(""),l.fields.$announcement_expires_date.val(""),l.fields.$announcement_expires_time.val(""),l.applied_effects.announcement_expires=0,$("#announcement-options").dialog("close");else if("sticky"==n)l.applied_effects.sticky=1,l.fields.$sticky.val(1);else if("unsticky"==n)l.applied_effects.sticky=0,l.fields.$sticky.val("");else if("enable_falling"==n)l.applied_effects.falling=1,l.fields.$falling.val(1);else if("disable_falling"==n)l.applied_effects.falling=0,l.fields.$falling.val("");else if("lock"==n)l.applied_effects.lock=1,l.fields.$lock.val(1);else if("unlock"==n)l.applied_effects.lock=0,l.fields.$lock.val("");else if("postAs"==n.substr(0,6)){s=n.substr(7);l.applied_effects.postingAs=0!=s?i.text():"",l.fields.$post_as.val(s)}l.update_magic_sentence()}}})},update_magic_sentence:function(){var e="",t=[],i=0;if("post"==this.options.type)e="The thread in which you are posting will be ";else{if("thread"!=this.options.type)return;e="This thread will be "}for(var n in this.applied_effects)this.applied_effects[n]&&"attachment"!=n&&"pollQuestion"!=n&&"announcement_expires"!=n&&i++;if(1<i){if(this.applied_effects.bookmark&&t.push("bookmarked"),this.applied_effects.labels){var o=1<this.applied_effects.labels?" labels":" label";t.push("labeled with "+this.applied_effects.labels+o)}if(this.applied_effects.announcement&&t.push("announced"+(this.applied_effects.announcement_expires?" (expires on "+this.applied_effects.announcement_expires+")":"")),this.applied_effects.sticky&&t.push("stickied"),this.applied_effects.lock&&t.push("locked"),this.applied_effects.falling&&t.push("falling"),this.applied_effects.poll){var a="displayed with a poll";void 0!==this.applied_effects.pollQuestion&&""!=this.applied_effects.pollQuestion&&(a+=' asking "'+this.applied_effects.pollQuestion+'"'),t.push(a)}for(var r in this.applied_effects.event&&t.push("added to the calendar"),void 0!==this.applied_effects.postingAs&&""!=this.applied_effects.postingAs&&t.push("posted under the user "+this.applied_effects.postingAs),t)r==i-1&&(e+="and "),e+=t[r],e+=r==i-1?".":2<i?", ":" "}else if(0<i)if(this.applied_effects.bookmark)e+="bookmarked.";else if(this.applied_effects.labels){o=1<this.applied_effects.labels?" labels.":" label.";e+="labeled with "+this.applied_effects.labels+o}else this.applied_effects.announcement?e+="announced"+(this.applied_effects.announcement_expires?" (expires on "+this.applied_effects.announcement_expires+")":"")+".":this.applied_effects.sticky?e+="stickied.":this.applied_effects.lock?e+="locked.":this.applied_effects.falling?e+="falling.":this.applied_effects.poll?(e+="displayed with a poll",void 0!==this.applied_effects.pollQuestion&&""!=this.applied_effects.pollQuestion?e+=' asking "'+this.applied_effects.pollQuestion+'"':e+="."):this.applied_effects.event?e+="added to the calendar.":void 0!==this.applied_effects.postingAs&&""!=this.applied_effects.postingAs&&(e+="posted under the user "+this.applied_effects.postingAs+".");else"post"==this.options.type?e="The thread in which you are posting has no effects applied to it.":"thread"==this.options.type&&(e="This thread has no effects applied to it.");0<this.applied_effects.attachment&&(e+=" &nbsp;This post will be displayed with attachments."),$("#magic-sentence").html(e)},bind_date_stuff:function(){var o=this;if("thread"==this.options.type){var e=$('<div id="event-dialog" class="event"></div>');$("#"+o.options.form_id).append(e),e.html(proboards.data("event_dialog_html")),e.dialog({autoOpen:!1,width:500,height:"auto",open:function(){proboards.data("start_date",$("#"+o.options.form_id+"_start_date_input").val()),proboards.data("start_time",$("#"+o.options.form_id+"_start_time_input").val()),proboards.data("end_date",$("#"+o.options.form_id+"_end_date_input").val()),proboards.data("end_time",$("#"+o.options.form_id+"_end_time_input").val()),proboards.data("all_day_event",$("#"+o.options.form_id+"_all_day_event_input").prop("checked")?1:0)},close:function(){var e=$("#"+o.options.form_id+"_start_time_input"),t=$("#"+o.options.form_id+"_end_time_input"),i=$("#"+o.options.form_id+"_all_day_event_input");if(proboards.data("start_date")&&($("#"+o.options.form_id+"_start_date_input").val(proboards.data("start_date")),e.val(proboards.data("start_time")),$("#"+o.options.form_id+"_end_date_input").val(proboards.data("end_date")),t.val(proboards.data("end_time")),i.prop("checked",proboards.data("all_day_event")).trigger("change")),i.prop("checked")){var n=24==proboards.data("locale_settings").input_time_format?"00:00":"12:00 AM";e.val(n),t.val(n)}o.update_magic_sentence(),$.clearInputError()}}),$("#"+o.options.form_id).append(e.parent()),$("#"+o.options.form_id+"_all_day_event_input").bind("change",function(){$(".event-hours").toggle(!$(this).prop("checked"))}).trigger("change");var t=$("#event-button"),i=proboards.data("locale_settings").input_date_placeholder;void 0!==$("#"+o.options.form_id+"_start_date_input").val()&&""!=$("#"+o.options.form_id+"_start_date_input").val()&&$("#"+o.options.form_id+"_start_date_input").val()!=i?(o.applied_effects.event=1,o.update_magic_sentence(),t.html("Edit Event"),t.bind("click",function(e){e.preventDefault(),o.editEvent()})):(t.bind("click",function(e){e.preventDefault(),o.addEvent()}),o._bind_auto_populate()),$("input, select",e).on("keydown",function(e){return e.which!=Keys.enter||(o.saveEvent(),!1)})}},addEvent:function(){var e=this,t=$("#event-dialog"),i=!1;$("html").is(".ie8")&&(i=!0),t.dialog("option","title","Add Event"),t.dialog("option","buttons",[{text:"Add Event",click:function(){e.saveEvent()}}]),i?t.dialog("open"):(t.dialog("widget").css("visibility","hidden"),t.dialog("open"),t.dialog("widget").css("visibility","visible"))},editEvent:function(){var e=this,t=$("#event-dialog"),i=!1;$("html").is(".ie8")&&(i=!0),t.dialog("option","title","Edit Event"),t.dialog("option","buttons",[{text:"Save Event",click:function(){e.saveEvent()}},{text:"Remove Event",click:function(){e.removeEvent()}}]),i?t.dialog("open"):(t.dialog("widget").css("visibility","hidden"),t.dialog("open"),t.dialog("widget").css("visibility","visible"))},saveEvent:function(){for(var t=this,e=$("#event-dialog"),i=$("#event-button"),n=$("#"+t.options.form_id).data().form,o=n.options.validations,a=!0,r=0;r<o.length;r++)if(!n.validate(o[r],"has_event")){a=!1;break}if(a){$("#"+t.options.form_id+"_has_event_input").val(1),t.applied_effects.event=1;var s=["start_date","start_time","end_date","end_time","all_day_event"];for(r=0;r<s.length;r++)proboards.data(s[r],null);e.dialog("close"),i.html($("#event-button").html().replace(/Add/,"Edit")),i.unbind("click"),i.bind("click",function(e){e.preventDefault(),t.editEvent()})}},removeEvent:function(){var t=this,e=$("#event-dialog"),i=$("#event-button");$("#"+t.options.form_id+"_has_event_input").val(""),t.applied_effects.event=0,e.dialog("close"),i.html(i.html().replace(/Edit/,"Add")),i.unbind("click").bind("click",function(e){e.preventDefault(),t.addEvent()}),t._bind_auto_populate()},_bind_auto_populate:function(){var e=$('input[name="start_date"]'),t=$('input[name="end_date"]').data("edited",!1),i=$('input[name="end_time"]');e.add(t).add(i).off(".autopopulate"),e.on("change.autopopulate",function(){t.data("edited")||t.val($(this).val())}),t.add(i).on("change.autopopulate",function(){t.data("edited",!0)})},bind_poll_stuff:function(){var i=this;if("thread"==this.options.type){var e=$('<div id="poll-dialog" class="poll"></div>');$("#"+i.options.form_id).append(e),e.html(proboards.data("poll_dialog_html"));var t=$("#poll-button");e.dialog({autoOpen:!1,width:460,height:"auto",close:function(){if(proboards.data("poll_question")){$("#"+i.options.form_id+"_poll_question_input").val(proboards.data("poll_question")),$("#"+i.options.form_id+"_poll_max_answers_input").val(proboards.data("poll_max_answers")),$("#"+i.options.form_id+"_poll_expires_on_date_input").val(proboards.data("poll_expires_on")),$("#"+i.options.form_id+"_poll_expires_on_time_input").val(proboards.data("poll_expires_on_time")),$("#"+i.options.form_id+"_poll_view_votes_input").val(proboards.data("poll_view_votes"));var e=proboards.data("poll_answers"),t=0;$('input[name="poll_answers[]"]').each(function(){e[t]?$(this).val(e[t].value):$(this).remove(),t++})}i.update_magic_sentence(),$.clearInputError()}}),$("#"+i.options.form_id).append(e.parent()),proboards.data("current_poll_question")?(i.applied_effects.poll=1,i.applied_effects.pollQuestion=proboards.data("current_poll_question"),i.update_magic_sentence(),t.html("Remove Poll"),t.bind("click",function(e){e.preventDefault(),i.removeOldPoll()})):t.bind("click",function(e){e.preventDefault(),i.addPoll()}),$("input, select",e).on("keydown",function(e){return e.which!=Keys.enter||(i.savePoll(),!1)})}},addPoll:function(){var e=this,t=$("#poll-dialog");t.dialog("option","title","Add Poll"),t.dialog("option","buttons",[{text:"Add Poll",click:function(){e.savePoll()}}]),t.dialog("open"),$("#"+e.options.form_id+"_poll_expires_on_date_input").datepicker("option","minDate",new Date)},editPoll:function(){var e=this,t=$("#poll-dialog");t.dialog("option","title","Edit Poll"),t.dialog("option","buttons",[{text:"Save Poll",click:function(){e.savePoll()}},{text:"Remove Poll",click:function(){e.removePoll()}}]),t.dialog("open")},savePoll:function(){for(var t=this,e=$("#poll-dialog"),i=$("#poll-button"),n=$("#"+t.options.form_id).data().form,o=n.options.validations,a=!0,r=0;r<o.length;r++)if(!n.validate(o[r],"has_poll")){a=!1;break}var s=$("#"+t.options.form_id+"_poll_expires_on_date_input").datepicker("getDate");if(1==a&&s){var l=new Date,c=$("#"+t.options.form_id+"_poll_expires_on_time_input").timepicker("getTime");$("#"+t.options.form_id+"_poll_expires_on_date_input").datepicker("getDate").getTime()/1e3+c<Math.floor(l.getTime()/1e3)&&(a=!1,proboards.alert("Polls cannot expire in the past."))}a&&(proboards.data("poll_question",$("#"+t.options.form_id+"_poll_question_input").val()),proboards.data("poll_answers",$('input[name="poll_answers[]"]').serializeArray()),proboards.data("poll_max_answers",$("#"+t.options.form_id+"_poll_max_answers_input").val()),proboards.data("poll_expires_on",$("#"+t.options.form_id+"_poll_expires_on_date_input").val()),proboards.data("poll_expires_on_time",$("#"+t.options.form_id+"_poll_expires_on_time_input").val()),proboards.data("poll_view_votes",$("#"+t.options.form_id+"_poll_view_votes_input").val()),$("#"+t.options.form_id+"_has_poll_input").val(1),t.applied_effects.poll=1,t.applied_effects.pollQuestion=proboards.escape_html($("#"+t.options.form_id+"_poll_question_input").val()),e.dialog("close"),i.html(i.html().replace(/Add/,"Edit")),i.unbind("click"),i.bind("click",function(e){e.preventDefault(),t.editPoll()}))},removePoll:function(){var t=this,e=$("#poll-dialog"),i=$("#poll-button");e.html(proboards.data("poll_dialog_html")),$("#"+t.options.form_id+"_has_poll_input").val(""),t.applied_effects.poll=0,proboards.data("poll_question",null),e.dialog("close"),i.html(i.html().replace(/Edit/,"Add")),i.unbind("click"),i.bind("click",function(e){e.preventDefault(),t.addPoll()}),$("input, select",e).on("keydown",function(e){return e.which!=Keys.enter||(t.savePoll(),!1)})},removeOldPoll:function(){var t=this,e=$("#poll-button");proboards.confirm("Are you sure you want to remove this poll?",function(){$("#"+t.options.form_id+"_replace_poll_input").val(1),t.applied_effects.poll=0,t.update_magic_sentence(),e.html("Add Poll"),e.unbind("click"),e.bind("click",function(e){e.preventDefault(),t.addPoll()})})},bind_attachment_stuff:function(){var e=this,t=$("#show-attachment"),i=$("#attachment-button");t.dialog({autoOpen:!1,width:700,height:"auto",open:function(){$(this).dialog("option","title",i.html())},close:function(){0<$(".template-download").length?(i.html(i.html().replace(/Add/,"Edit").replace(/Attachment$/,"Attachments")),e.applied_effects.attachment=1):(i.html(i.html().replace(/Edit/,"Add").replace(/Attachments/,"Attachment")),e.applied_effects.attachment=0),e.update_magic_sentence()},buttons:[{text:"Done",click:function(){$(this).dialog("close")}}]}),$("#"+e.options.form_id).append(t.parent()),pbFileUpload.init({selWysiwygInput:"#"+e.options.form_id+"_message_input",onDragEnter:function(){$("#attachment-button").trigger("click")}},{maxNumberOfFiles:proboards.data("max_attachments_per_post"),maxFileSize:1024*proboards.data("max_attachment_size")*1024,updateLimits:function(){var e=$(this).data("fileupload"),t=e.options.getNumberOfFiles(),i=e.options.maxNumberOfFiles;$("#limits").html(t+"/"+i+" files"),i<=t?$(".fileinput-button").on("click.max",function(e){return proboards.error("You have reached the attachment limit for this post."),!1}):$(".fileinput-button").off("click.max")}});var n=$("#"+e.options.form_id),o=!0,a=[];n.on("submit",function(){o=!1}),$("#fileupload").on("fileuploaddone",function(e,t){a.push(t.result[0].id),window.onbeforeunload=function(){if(o)return proboards.ajax({url:proboards.route("cleanup_attachment"),data:{ids:a},async:!1}),"If you leave the page now, your attachment(s) will be discarded."}}),0<$(".template-download").length&&(i.html("Edit Attachments"),e.applied_effects.attachment=1,e.update_magic_sentence()),i.bind("click",function(e){e.preventDefault(),t.dialog("open")})}}}),$.extend(proboards,{search:{options:{searchComplete:0,searching:0,limit:0},create_user_search:function(o){var n=this;void 0===o.searchBox&&(o.searchBox=1),void 0===this.user_search_index?this.user_search_index=0:++this.user_search_index;var e="user-search-"+this.user_search_index,t="";if(o.searchBox){var i=proboards.data("default_avatar");i=i||proboards.image_path()+"/defaultavatar.png";var a=['name="user_search_box_input"'];a.push('class="'+e+'-input user-search-input search-input"'),a.push('maxlength="'+proboards.data("search-query-max")+'"'),a.push('placeholder="Enter a username"'),o.autofocus&&a.push("autofocus"),null!=o.tabindex&&a.push('tabindex="'+parseInt(o.tabindex)+'"'),t='<div class="'+e+'-box user-search-box micro-profile"><div class="avatar"><div class="avatar-wrapper avatar_size_small avatar-1"><img src="'+i+'" alt="Default Avatar" /></div></div><div class="info"><input '+a.join(" ")+'/><span class="search-filters-button"><span class="icon"></span></span></div></div>'}o.container.append('<div id="'+e+'" class="user-search"><ul class="'+e+'-selection user-search-selection ui-helper-clearfix"></ul>'+t+"</div>");var r=$("#"+e),s=$("."+e+"-box"),l=$("."+e+"-selection"),c="";""!==o.displayboxId&&(c='id="'+o.displayboxId+'" ');var d=$("<div "+c+'class="'+e+'-displaybox user-search-displaybox ui-corner-bottom container"><div class="ui-helper-clearfix center control-bar"><ul class="'+e+'-pagination user-search-pagination"></ul></div><div class="'+e+'-pagination-note user-search-pagination-note"><span class="note small">Note: there is a maximum of 200 pages of results.</span></div><div class="'+e+'-filterlist user-search-filterlist"></div><ul class="'+e+'-selectlist user-search-selectlist"></ul></div>').appendTo(document.body),u=$("."+e+"-pagination"),h=$("."+e+"-pagination-note"),p=$("."+e+"-input"),f=$("."+e+"-selectlist");$("."+e+"-filterlist");void 0===this.user_search&&(this.user_search=[]),this.user_search[this.user_search_index]=f,d.displaybox({friendlies:[p,l,"#ui-datepicker-div"],position:{my:"left top",at:"left bottom",of:s,collision:"flipfit"}});var m=!1;u.pagination({maxSlots:5,change:function(e,t){m=!0,p.autosearch("setData","page",t.page)}}),f.selectlist({selectedItemFormat:"{item.partial}",listedItemFormat:"{item.partial}",blockListFormat:'<div class="block_list_options">{item.block_list_options}</div>',blockListOptionFormat:'<span class="block-list-{item.option_id}"><input id="{item.form_id}_block-list-{item.item_id}_input_{item.option_id}" type="checkbox"{item.option_checked} name="block-list-{item.item_id}_{item.option_id}" value="1" /><label for="{item.form_id}_block-list-{item.item_id}_input_{item.option_id}">{item.option_label}</label><br /></span>',blockListOptions:["Hide this member's posts.","Do not let this member start new conversations with me.","Do not let this member follow me or my activities.","Block notifications from this member."],pendingListItemFormat:'<div class="pending_list_options"><input type="button" class="accept" id="{item.item_id}" value="Accept" /><input type="button" class="reject" id="{item.item_id}" value="Reject" /></div>',maxSelectable:proboards.data("selectableLimit")?proboards.data("selectableLimit"):0,maxSelectableApplies:!!proboards.data("selectableLimits"),selection:l,select:function(e,t){o.limit&&t.ids.length>=o.limit&&s.hide();var i=$.merge([],t.ids);o.currentUser&&i.push(o.currentUser),p.autosearch("setDataLite","excluded_ids[]",i),"function"==typeof o.focusDone&&o.limit&&o.focusDone.call(this,null),"function"!=typeof o.change||n.nochange||o.change.call(this,null,{type:"select",ids:t.ids,itemData:t.itemData}),"function"!=typeof o.newChange||f.selectlist("option","loadingExisting")||o.newChange.call(this,null,{type:"select",ids:t.ids,itemData:t.itemData}),d.hide(),$(this).selectlist("refresh",[]),u.pagination("refresh",{total:0}),p.autosearch("setDataLite","q","").val(""),d.is(":visible")&&p.focus(),o.searchComplete=0,$(".user-search").force_ie7_rerender()},deselect:function(e,t){o.limit&&t.ids.length<o.limit&&s.show();var i=t.ids;o.currentUser&&i.push(o.currentUser),p.autosearch("setDataLite","excluded_ids[]",i),"function"==typeof o.change&&o.change.call(this,null,{type:"deselect",ids:t.ids}),"function"==typeof o.newChange&&o.newChange.call(this,null,{type:"select",ids:t.ids})},getData:function(e,t){var i=$("li:first-child .small",f).html(),n=[];if(null!=i){n.username=i.slice(1,-1);var o=$("li:first-child",f),a=$(o).attr("class").match(/item\-(\d+)/);n.id=a[1]}return n},onCreateItem:function(e){var t=e.find("span.name"),i=e.find("span.name a");i.length&&(t.attr("title",i.attr("title")),t.attr("style",i.attr("style")),t.html(i.html()))},formId:o.formId,checkedHash:o.checkedHash,isPendingList:o.isPendingList,showAdded:0!=o.showAdded,disabledMessage:o.massEmail?"This member cannot be sent emails or has opted out of forum emails.":""});var g=!1,v=(o.currentUser?o.currentUser:new Array,{user_search_box:1});o.showDeletedUsers||(void 0===v.filters&&(v.filters=[]),v.filters.push("deleted:only:0")),1==proboards.data("staff_recipients_only")&&(v.staff_recipients_only=1),o.massEmail&&(v.mass_email=1),o.formId&&(v.block_list=1),p.autosearch({url:proboards.route("user_search"),data:v,ajax:!0,cache:!0,hash:!1,delay:500,minChars:1,up:function(e,t){f.selectlist("previous")},down:function(e,t){f.selectlist("next")},pageUp:function(e,t){u.pagination("gotoPreviousPage")},pageDown:function(e,t){u.pagination("gotoNextPage")},enter:function(e,t){o.searchComplete&&(f.selectlist("select"),p.focus())},search:function(e,t){if(1e3<=t.response.total?h.show():h.hide(),f.selectlist("refresh",t.response.results),u.pagination("refresh",t.response),""==p.val())d.displaybox("hide"),o.searching=0,o.searchComplete=0;else if(p[0]===document.activeElement||g)d.is(":visible")||g||(o.searching=1,d.displaybox("show"));else{var i=!(o.searching=1);$(".close",l).bind("click",function(e){$(this).data("events").click.length<=1&&(i=!0),$(this).unbind(e)});var n=m;setTimeout(function(){var e=f.selectlist("getData");void 0===e.username||void 0===e.id||i||n||e.username!=p.val()&&e.username.charAt(0).toUpperCase()+e.username.slice(1)!=p.val()||f.selectlist("select",e.id)},200)}m=g=!1},afterSearch:function(e,t){o.searching&&(o.searchComplete=1)},tab:function(e,t){d.is(":visible")&&(d.displaybox("hide"),o.searchComplete=0)},escape:function(e,t){d.is(":visible")&&(d.hide(),o.searchComplete=0)}}),o.allowManualInput&&p.autosearch("option","error",function(){if(!p.data("searchError")){var e="Could not connect to the search server.";e+=" "+(1==o.limit?"You may enter a username instead.":"You may enter a comma separated list of usernames instead."),o.eventError?$(document).trigger("proboardsError",[{error:e}]):proboards.error(e),p.autosearch("destroy"),p.unbind(".usersearch"),p.data("searchError",!0)}}),o.currentUser&&p.autosearch("setDataLite","excluded_ids[]",[o.currentUser]),n.nochange=1,f.data("selectlist").apply_selected(o.results,o.showExisting),n.nochange=0,p.bind("focus.usersearch",function(e){""!=p.val()&&p.is(".state-editing:not(.placeholder)")&&!d.is(":visible")&&d.displaybox("show")}).bind("blur.usersearch",function(e){l.bind("click",function(e){$(this).data("events").click.length<=1&&(d.displaybox("hide"),o.searchComplete=0),l.unbind(e)});var t=!1;$(".close",l).bind("click",function(e){l.data("events").click.length<=1&&(g=t=!0),$(".close",l).unbind(e)}),u.bind("click",function(e){m=!0,u.unbind(e)}),setTimeout(function(){var e=f.selectlist("getData");void 0===e.username||void 0===e.id||t||m||e.username.toLowerCase()!=p.val().toLowerCase()||f.selectlist("select",e.id)},200)}),$(".search-filters-button",r).click(function(){$(".search-filters-dialog-"+e).dialog("open")}),$('<div class="search-filters-dialog-'+e+'"></div>').appendTo(document.body).filterlist({filters:[{display:"Post Count",name:"posts",condition_input_options:[["less than","<"],["less than or equal to","<="],["equal to","="],["greater than or equal to",">="],["greater than",">"]],value_input_type:"text",value_input_size:4}],change:function(e,t){0==t.values.length?$(".search-filters-button",r).removeClass("state-active"):$(".search-filters-button",r).addClass("state-active"),p.autosearch("setData","filters",t.values)}}).dialog({autoOpen:!1,title:"User Search Filters",width:"50%"})}}});var SHOUTBOX_SCROLL_NORMAL=0,SHOUTBOX_SCROLL_OVERRIDE=1,SHOUTBOX_SCROLL_CONTEXTUAL=2;if($.extend(proboards,{shoutbox:{init:function(e){this.timeout,this.refreshFrequency=0,this.manualRefreshTimer=0,this.height_adjustment=0,this.lastUpdateTime=e.lastUpdateTime,this.currentTime=(new Date).getTime(),this.newestAt=parseInt(e.newestAt),void 0===this.newestAt&&(this.newestAt=0),this.serverDate=new Date(proboards.data("serverDate")),this.local_time=Date.parse((new Date).toUTCString()),this.server_time=Date.parse(this.serverDate.toUTCString()),this.diff=this.local_time-this.server_time,this.smiles=e.smileyList,this.open_tags={b:0,i:0,u:0,s:0,url:0},this.canPost=$('.shoutbox [name="message"]').length&&$(".shoutbox form").length,this.setup_shoutbox()},setup_shoutbox:function(){var n=this,t=$(".shoutbox form");this.canPost&&($(".shoutbox_post_button").click(function(e){e.preventDefault(),t.submit()}),t.bind("keypress submit",function(e){if("submit"==e.type||"13"==e.which)return n.add_shoutbox(this),!1}),$(".shoutbox_bold").click(function(){n.add_tags(this,"b")}),$(".shoutbox_italic").click(function(){n.add_tags(this,"i")}),$(".shoutbox_underline").click(function(){n.add_tags(this,"u")}),$(".shoutbox_strike").click(function(){n.add_tags(this,"s")}),$(".shoutbox_url").click(function(){n.add_tags(this,"url")}),jQuery.isEmptyObject(this.smiles)?$(".shoutbox_smiley").remove():n.get_smiles()),$(".shoutbox_cancel_button").hide().click(function(e){e.preventDefault(),n.cancel_shout()}),$(".shoutbox").on("click keyup paste",'textarea[name="message"]',function(){var e=$(this).val(),t=e.length;256<=t&&($(this).val(e.substr(0,256)),t=256);var i=$(this).parents(".shoutbox").find(".shoutbox_amount");i.length&&i.html(t)}),$(".shoutbox").on("click keyup paste",'input[name="guest_name"]',function(){var e=$(this).val();30<=e.length&&$(this).val(e.substr(0,30))}),$(".shoutbox_messages").length&&(this.keep_scrolled(this.newestAt,SHOUTBOX_SCROLL_OVERRIDE),$(".shoutbox_refresh_button").on("click",function(e){e.preventDefault();var t=$(".shoutbox_refresh_button");if($(this).is(".active"))n.reload_timer(0),t.removeClass("active"),t.attr("title","Click to Update"),clearTimeout(n.timeout);else{var i=(new Date).getTime();i>n.manualRefreshTimer+1e4?(n.manualRefreshTimer=i,n.update_shoutbox(1,SHOUTBOX_SCROLL_OVERRIDE)):n.timeout=setTimeout(function(){n.update_shoutbox(1,1)},1e4-(i-n.manualRefreshTimer)),t.addClass("active"),t.attr("title","Auto-Updating")}}),this.set_post_events())},set_post_events:function(e){var t=this;(e=e||$(".shoutbox-post")).on("mouseover",function(){$(".shoutbox_edit_button, .shoutbox_ban_button",this).removeClass("hidden")}).bind("mouseout",function(){$(".shoutbox_edit_button, .shoutbox_ban_button",this).addClass("hidden")}),e.on("click",".shoutbox_ban_button",function(e){e.preventDefault();var t=$(this).attr("id").split("-"),i=t[1],n=t[3];proboards.member.ban({id:n,from:{type:"shout",id:i},checked:["ip"]})}),e.on("click",".shoutbox_delete_button",function(e){e.preventDefault(),$(this).parents(".shoutbox-post").remove(),t.delete_shoutbox(this)}),e.on("click",".shoutbox_edit_button",function(e){e.preventDefault(),t.edit_shoutbox(this)}),e.on("click",".user-link",function(e){if(e.altKey){var t=$(".shoutbox form textarea");return t.val()==t.attr("placeholder")?t.val($(this).attr("title")):t.replaceSelection($(this).attr("title")),t.focus(),!1}})},add_tags:function(e,t,i){i=i||0;var n,o=$(e).parents(".shoutbox").find('[name="message"]')[0];$(o).focus();var a="["+t+"]",r="[/"+t+"]",s=t,l=this.get_input_selection(o);n=o.value.substr(l.start,l.end-l.start),i?"Enter your reply here..."==o.value.substr(0,24)?o.value=s:o.value=o.value.substr(0,l.start)+s+o.value.substr(l.end,o.value.length):""==n?"Enter your reply here..."==o.value.substr(0,24)?o.value=a+r:o.value=o.value.substr(0,l.start)+a+r+o.value.substr(l.end,o.value.length):o.value=o.value.substr(0,l.start)+a+n+r+o.value.substr(l.end,o.value.length),o.focus()},get_input_selection:function(e){var t,i,n,o,a,r=0,s=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(r=e.selectionStart,s=e.selectionEnd):(i=document.selection.createRange())&&i.parentElement()==e&&(o=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(n=e.createTextRange()).moveToBookmark(i.getBookmark()),(a=e.createTextRange()).collapse(!1),-1<n.compareEndPoints("StartToEnd",a)?r=s=o:(r=-n.moveStart("character",-o),r+=t.slice(0,r).split("\n").length-1,-1<n.compareEndPoints("EndToEnd",a)?s=o:(s=-n.moveEnd("character",-o),s+=t.slice(0,s).split("\n").length-1))),{start:r,end:s}},get_smiles:function(){var a=this;$(".shoutbox").each(function(){for(var e=$(".shoutbox_smiley",this),t="",i=[],n=1;n<a.smiles.length;n+=2)i.push(a.smiles[n]);proboards.preload(i);for(n=0;n<a.smiles.length;n++){var o=a.smiles[n];t+='<li class=" '+o+'"><a><img src="'+a.smiles[++n]+'" alt="'+o+'" title="'+o+'" /></a></li>'}$(this).append('<div class="controls"><ul class="smiley-menu"></ul></div>'),$(".smiley-menu",this).append(t).menu({button:e,position:{my:"left top",at:"left bottom",of:e,collision:"flipfit"},showOn:"click",clickHide:!0,click:function(e,t){var i=$(t.item).attr("class");a.add_tags(this,i,1)}})})},put_smiley:function(){},add_shoutbox:function(e){var t=this,i=$(e).parents(".shoutbox");if(0!=$('[name="message"]',i).val().length){if($(".shoutbox_messages .state-selected",i).length){n=$('[name="message"]',i).val();$('[name="message"]',i).val(""),proboards.ajax({url:proboards.data("shoutbox_edit_url"),data:{id:$(e)[0].className,message:n},dataType:"json",success:function(e){$(".shoutbox_edit_button",i).parents(".shoutbox-post").removeClass("state-selected"),$('input[name="guest_name"]',i).attr("value","Send"),$("form",i).removeClass(),$(".shoutbox_amount",i).html("0"),$(".shoutbox_cancel_button",i).hide(),$(".shoutbox_error",i).html(""),t.update_shoutbox(0,0)}})}else{var n=$('[name="message"]',i).val();$('[name="message"]',i).val(""),$(".shoutbox_error",i).html(""),proboards.ajax({url:proboards.data("shoutbox_add_url"),data:{message:n,guest_name:$('input[name="guest_name"]',i).val()},dataType:"json",success:function(e){$(".shoutbox_amount",i).html("0"),t.update_shoutbox(1,1)},error:function(e){$(".shoutbox_amount",i).html(n.length),$('[name="message"]',i).val(n),proboards.error(e.error),t.update_shoutbox(1,1)}})}return!1}$(".shoutbox_error",i).html("You must enter text")},edit_shoutbox:function(e){var t=$(e).parents(".shoutbox-post").attr("class").match(/shoutbox-post-(\d+)/)[1],i=$(e).parents(".shoutbox");$(".shoutbox_edit_button",i).parents(".shoutbox-post").removeClass("state-selected"),$("form",i).removeClass(),$(e).parents(".shoutbox-post").addClass("state-selected"),$(".shoutbox_cancel_button",i).show(),$('[name="message"]',i).unbind(),$('[name="message"]',i).removeClass("gray"),proboards.ajax({url:proboards.data("shoutbox_message_url"),data:{id:t},dataType:"json",success:function(e){$('[name="message"]',i).val(e.message);var t=$('[name="message"]',i).val();$(".shoutbox_amount",i).html(t.length)}}),$("form",i).addClass(t)},cancel_shout:function(){var e=$(".shoutbox");$(".shoutbox_edit_button",e).parents(".shoutbox-post").removeClass("state-selected"),$('[name="message"]',e).val(""),$(".shoutbox_amount",e).html("0"),$("form",e).removeClass(),$(".shoutbox_cancel_button",e).hide()},delete_shoutbox:function(e){var t=this;proboards.ajax({url:proboards.data("shoutbox_remove_url"),data:{id:$(e).parents(".shoutbox-post").attr("class").match(/shoutbox-post-(\d+)/)[1]},dataType:"json",success:function(e){t.update_shoutbox(0,0)}})},update_shoutbox:function(e,t){var s=this,i=0;e&&$(".shoutbox_messages .shoutbox-post").length&&(i=$(".shoutbox_messages .shoutbox-post:"+(s.newestAt?"first":"last")+"-child").attr("class").match(/shoutbox-post-(\d+)/)[1]),proboards.ajax({url:proboards.data("shoutbox_update_url"),cache:!1,type:"GET",data:{latest_id:i},dataType:"json",ignorePending:!0,success:function(e){var t=$(".shoutbox_messages");if(t.length){var i=$.trim(e.shoutbox_post);if(i)if(s.mark_scrolled(),"incremental"==e.type){var n=0;$("> .shoutbox-post",t).each(function(){n+=$(this).outerHeight(!0)});for(var o=0;o<e.new_ids.length;o++)$(".shoutbox-post-"+e.new_ids[o],t).remove();var a=$(i);t[s.newestAt?"prepend":"append"](a);var r=0;$("> .shoutbox-post",t).each(function(){r+=$(this).outerHeight(!0)}),s.height_adjustment=r-n,s.set_post_events(a)}else t.html(i),s.set_post_events();this.lastUpdateTime=1e3*e.last_updated,s.reload_timer(this.lastUpdateTime),s.keep_scrolled(s.newestAt,SHOUTBOX_SCROLL_CONTEXTUAL),$(".shoutbox").each(function(){if(null!=$("form",this).attr("class")){var e=$("form",this).attr("class");$(".shoutbox-post-"+e,this).addClass("state-selected"),$("form",this).addClass(e)}})}}})},reload_timer:function(e){var t=this;this.currentTime=(new Date).getTime();var i=this.currentTime-(e+this.diff);i<=3e5?(this.refreshFrequency=i<=0?1e3:i<=1e3?2e3:i<=3e3?3e3:i<=6e3?4e3:i<=1e4?5e3:i<=15e3?6e3:i<=21e3?7e3:i<=28e3?8e3:i<=36e3?9e3:i<=45e3?1e4:i<=55e3?11e3:i<=66e3?12e3:i<=78e3?13e3:i<=91e3?14e3:i<=105e3?15e3:i<=12e4?16e3:i<=136e3?17e3:i<=153e3?18e3:i<=171e3?19e3:i<=19e4?2e4:i<=21e4?21e3:i<=231e3?22e3:i<=253e3?23e3:i<=276e3?24e3:25e3,clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.update_shoutbox(1,0)},this.refreshFrequency),$(".shoutbox_refresh_button").hasClass("active")||($(".shoutbox_refresh_button").addClass("active"),$(".shoutbox_refresh_button").attr("title","Auto-Updating"))):(clearTimeout(this.timeout),$(".shoutbox_refresh_button").removeClass("active"),$(".shoutbox_refresh_button").attr("title","Click to Update"))},mark_scrolled:function(){$(".shoutbox_messages").each(function(){var e=$(this),t=this.offsetHeight+this.scrollTop>=this.scrollHeight,i=!1;0==e.scrollTop()&&(i="top"),t&&(i="bottom"),e.data("override",i)})},keep_scrolled:function(o,a){var r=this;$(".shoutbox_messages").each(function(){var e=$(this),t=this.offsetHeight+this.scrollTop>=this.scrollHeight,i=0==e.scrollTop(),n=o?"top":"bottom";a==SHOUTBOX_SCROLL_OVERRIDE||a==SHOUTBOX_SCROLL_CONTEXTUAL&&e.data("override")===n?"bottom"==n?(e.scrollTop(this.scrollHeight),e.animate({scrollTop:this.scrollHeight})):e.scrollTop(0):t?"bottom"==n&&(e.scrollTop(this.scrollHeight),e.animate({scrollTop:this.scrollHeight})):i?"top"==n&&e.scrollTop(0):"top"==n&&(e.scrollTop(e.scrollTop()+r.height_adjustment),r.height_adjustment=0)})}}}),void 0===Keys)var Keys={tab:9,enter:13};proboards.tabHandler=function(e){this.init(e)},$.extend(proboards.tabHandler.prototype,{init:function(e){this.options=$.extend({container:"div.item",tabs:[]},e);var r=this;r.parent=null,r.tab=null;var s=!1;$(document).keypress(function(e){s&&e.preventDefault()}),$(document).keyup(function(e){s=s&&!1}),$(document).keydown(function(e){if(e.which==Keys.tab||e.which==Keys.enter){var t=e.shiftKey,i=$(e.target),n=i.parents(r.options.container);if(i.length){if(n.length){if(!r.parent)return;r.parent=n}var o=r._getTabIndex(i);if(-1!=o){r.tab=o;var a=r.options.tabs[o];e.preventDefault(),s=!0,r._tabOut(a,i,t);t?r.prev():r.next()}else r.currentRow=0}}});for(var t=[],i=0;i<r.options.tabs.length;++i)t.push(r._getSelector(r.options.tabs[i]));t=t.join(",");$(t).live("click",function(e){var t=$(e.target),i=t.parents(r.options.container);if(t.length){i.length&&(r.parent=i);var n=r._getTabIndex(t);if(-1!=n){r.tab=n;var o=r.options.tabs[n];r._tabIn(o,t),e.preventDefault(),e.stopPropagation()}}})},next:function(e){void 0===e&&(e=1);for(var t=this.tab,i=0;i<e;++i)t+1==this.options.tabs.length?(t=0,this.parent=this.parent.next()):++t;var n=this.options.tabs[t],o=this._getElement(n);return o.focus().select(),this._tabIn(n,o),this.tab=t,{tab:n,element:o}},prev:function(e){void 0===e&&(e=1);for(var t=this.tab,i=0;i<e;++i)if(t<=0){if(t=this.options.tabs.length-1,void 0===this.parent.prev().attr("id"))return{tab:!1,element:!1};this.parent=this.parent.prev()}else--t;var n=this.options.tabs[t],o=this._getElement(n);return o.focus().select(),this._tabIn(n,o,!0),this.tab=t,{tab:n,element:o}},_getTabData:function(e){return this.options.tabs[this._getTabIndex(e)]},_getElement:function(e){var t=$(this._getSelector(e),this.parent);return t.length||(t=$(this._getSelector(e))),t},_tabOut:function(e,t,i){var n=i?"tabOutReverse":"tabOut";void 0!==e.tabOutAll&&e.tabOutAll.call(this,t),void 0!==e[n]&&e[n].call(this,t)},_tabIn:function(e,t,i){var n=i?"tabInReverse":"tabIn";void 0!==e.tabInAll&&e.tabInAll.call(this,t),void 0!==e[n]&&e[n].call(this,t)},_getTabIndex:function(e){for(var t=0;t<this.options.tabs.length;++t){var i=this._getSelector(this.options.tabs[t]);if(e.is(i))return t}return-1},_getSelector:function(e){var t=[];return void 0!==e.id&&t.push("#"+e.id),void 0!==e.class&&t.push("."+e.class),void 0!==e.name&&t.push('[name="'+e.name+'"]'),t.join(",")}}),proboards.thread={select:function(e,t,i){var n=$.extend({},i),o=Math.floor(1e6*Math.random()),a=proboards.dialog("thread_listing",{title:"Select Thread",html:'<div id="list_manager"><div class="container threads">\t<div class="control-bar ui-helper-clearfix"></div>\t<div class="content cap-bottom">\t\t<table class="list">\t\t\t<thead>\t\t\t\t<tr class="head">\t\t\t\t\t<th class="radio_button"></th>\t\t\t\t\t<th class="icon"></th>\t\t\t\t\t<th class="not_main">Subject</th>\t\t\t\t\t<th class="created-by">Created By</th>\t\t\t\t\t<th class="replies">Replies</th>\t\t\t\t\t<th class="views">Views</th>\t\t\t\t\t<th class="latest last">Last Post</th>\t\t\t\t</tr>\t\t\t</thead>\t\t\t<tbody class="lm-content-'+o+'"></tbody>\t\t</table>\t</div></div></div>',width:800,height:400,buttons:{Select:function(){var e=$('input[name="thread_id"]:checked',this).val();null!=e&&($(this).dialog("close"),t(e,$("#remember-thread").prop("checked")))}}});proboards.ajax({url:proboards.route("admin_thread_list"),data:{board_id:e,list_manager_id:o},dataType:"json",success:function(e){$(".lm-content-"+o,a).html(e.results),$(".control-bar",a).html('<div class="ui-search hide lm-search-'+o+'"></div>'+e.pagination),proboards.data("page_cache",".lm-content-"+o),new listManager("threads",{total:e.thread_count,limit:e.limit,page:e.page,pageCache:".lm-content-"+o,data:{board_id:e.board_id},id:o,hash:!1},{route_name:"admin_thread_list",float_control_bar:!1}),void 0!==n.remember&&a.nextAll(".ui-dialog-buttonpane").prepend('<span class="button-text"><input id="remember-thread" type="checkbox" '+(n.remember?"checked ":"")+'/><label for="remember-thread">&nbsp;Remember my choice</label></span>')}})}},$.extend(proboards,{time:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],createDate:function(e,t,i){var n=0,o=0,a=0,r=0,s=0,l="",c=proboards.data("locale_settings"),d=c.input_date_format,u=new RegExp(c.input_date_regex),h=e.match(u);if(h){var p=d.replace(/[^dmY]/g,"").split("");for(h.shift();h.length;){var f=parseInt(h.shift(),10);switch(p.shift()){case"d":a=f;break;case"m":o=f-1;break;case"Y":n=f}}if(!(!n||o<0||11<o||!a||31<a)&&/(?:^((?:0?[1-9])|(?:1[0-2])):([0-5][0-9])\s?([ap]m)$)|(?:^((?:[01]?[0-9])|(?:20|21|22|23)):([0-5][0-9])$)/i.test(t))return""==RegExp.$3?(r=parseInt(RegExp.$4,10),s=parseInt(RegExp.$5,10)):(r=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10),l=RegExp.$3),"pm"==l.toLowerCase()&&12!=r?r+=12:"am"==l.toLowerCase()&&12==r&&(r=0),null!=i&&1==i.utc?new Date(Date.UTC(n,o,a,r,s)):new Date(n,o,a,r,s)}},dateToUTCTimestamp:function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())/1e3},dateToUTCString:function(e){for(var t=e.getUTCFullYear(),i=[e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()],n=0;n<i.length;n++)1==i[n].toString().length&&(i[n]="0"+i[n]);return t+"-"+i[0]+"-"+i[1]+" "+i[2]+":"+i[3]+":00"},dateToString:function(e,t){t=t||{};var i=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),r=e.getMinutes(),s="";t.military||(s=a<12?" AM":" PM",0==a?a=12:12<a&&(a-=12));for(var l=[n,o,a,r],c=0;c<l.length;c++)1==l[c].toString().length&&(l[c]="0"+l[c]);return{date:(t.dateFormat||"%Y-%m-%d").replace("%Y",i).replace("%m",l[0]).replace("%d",l[1]),time:l[2]+":"+l[3]+s,time_no_pad:a+":"+l[3]+s}},genFormInput:function(e,t,i){0==$('input[name="'+t+'"]').length?$(e).append('<input type="hidden" name="'+t+'" value="'+i+'" />'):$('input[name="'+t+'"]').val(i)},convertToUTCBeforeSubmit:function(e){var t=$(e.dateSelector),i=$(e.timeSelector),n=!e.mobile&&t.is(".date");if(t.val()){if(n)(o=t.datepicker("getDate"))&&i.length&&o.setSeconds(i.timepicker("getTime"));else var o=this.createDate(t.val(),i.val());if(o){var a=o.getTime()/1e3;this.genFormInput(e.formSelector,e.formInputName,a)}}},insertTimeIntoInputs:function(e){var t=this,i=$(e.dateSelector),n=$(e.timeSelector),o=!e.mobile&&i.is(".date");if(o&&!i.data("datepicker"))return setTimeout(function(){t.insertTimeIntoInputs(e)},250);if(i.val()&&n.val()){var a=proboards.data("locale_settings"),r=24==a.input_time_format;if(e=$.extend({mobile:!1,utc:!0},e),o)var s=t._createDateFromInputs({datepickerElem:i,timepickerElem:n,utc:e.utc});else s=t.createDate(i.val(),n.val(),{utc:e.utc});if(s){var l=t.dateToString(s,{dateFormat:a.input_date_format,military:r});i.val(l.date);var c=r?l.time:l.time_no_pad;n.val(c),i.trigger("localeconvert")}}},daysInMonth:function(e,t){var i=(t=$.extend({utc:!1},t)).utc?e.getUTCFullYear():e.getFullYear(),n=t.utc?e.getUTCMonth():e.getMonth(),o=new Date(i,n+1,0);return t.utc?o.getUTCDate():o.getDate()},getMonthName:function(e,t){var i=(t=$.extend({utc:!1},t)).utc?e.getUTCMonth():e.getMonth();return this.monthNames[i]},_createDateFromInputs:function(e){e=$.extend({datepickerElem:null,timepickerElem:null,isUTC:!0},e);var t=$(e.datepickerElem),i=$(e.timepickerElem),n=t.datepicker("getDate");return i.length&&n.setSeconds(i.timepicker("getTime")),e.isUTC&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()))),n}}});var pb={data:function(e,t){return proboards.data(e,t)},item:function(e,t,i,n){return proboards.item(e,t,i,n)},size:function(e){return proboards.size(e)},loading:function(e,t){return proboards.loading(e,t)},help_icon:function(e){return proboards.help_icon(e)},unsaved_changes:function(){return 0<proboards.unsaved_changes},active_ajax_calls:function(){return proboards.active_ajax_calls},cookie:function(i){return{get:function(){return proboards.cookie(i)},set:function(e,t){return proboards.cookie(i,e,t)}}},window:{dialog:function(e,t){return proboards.dialog(e,t)},confirm:function(e,t,i){return i=$.extend({},i),proboards.confirm(e,t,i)},alert:function(e,t,i){return proboards.alert(e,t,i)},select_dialog:function(e){return proboards.select_dialog(e)},image_preview:function(e){return proboards.image_preview(e)},error:function(e){return proboards.error(e)}},image:{is_valid_url:function(e){return proboards.is_valid_image_url(e)},preload:function(e){return proboards.preload(e)}},number:{commify:function(e){return proboards.commify(e)},add_commified_numbers:function(e){return proboards.add_commified_numbers(e)}},text:{escape_html:function(e){return proboards.escape_html(e)},nl2br:function(e){return proboards.nl2br(e)},nbsp:function(e){return proboards.nbsp(e)},mono:function(e){return proboards.mono(e)},capitalize:function(e){return proboards.capitalize(e)},validate_unicode:function(e){return proboards.validateUnicode(e)}},board:{select:function(e,t){return e=$.extend({},e),proboards.board.select(t,e)}},thread:{select:function(e,t,i){return proboards.thread.select(e,t,i)}},member:{select:function(e,t){return proboards.member.select_dialog($.extend({},e,{onComplete:t}))}},date:{create_date:function(e,t,i){return proboards.time.createDate(e,t,i)},date_to_UTC_timestamp:function(e){return proboards.time.dateToUTCTimestamp(e)},date_to_UTC_string:function(e){return proboards.time.dateToUTCString(e)},date_to_string:function(e,t){return proboards.time.dateToString(e,t)}},form:{confirm_ignore_changes:function(e){return proboards.form.confirm_ignore_changes(e)},consolidate_params:function(e){return proboards.consolidateParams(e)},gen_option_range:function(e,t,i,n){return(void 0===i||i<1)&&(i=1),proboards.form.genOptionRange(e,t,i,n)},gen_verify_box:function(e,t,i,n,o,a,r,s){return proboards.form.gen_verify_box(e,t,i,n,o,a,r,s)}},events:{on:function(e,t){return proboards.on(e,t)},one:function(e,t){return proboards.one(e,t)}},list_manager:function(t){return{get_selection:function(){return proboards.listManagers[t].get_selection()},select_item:function(e){return proboards.listManagers[t].select_item(e)},unselect_item:function(e){return proboards.listManagers[t].unselect_item(e)},select_items:function(e){return proboards.listManagers[t].select_items(e)},unselect_items:function(e){return proboards.listManagers[t].unselect_items(e)}}},plugin:{key_types:function(){return proboards.plugin.key_type},status_codes:function(){return proboards.plugin.status},get:function(e){return proboards.plugin.get(e)},key:function(n){return{type:function(){return proboards.plugin.key(n).type},get:function(e){return proboards.plugin.key(n).get(e)},set:function(e){return e=$.extend({},e,{set:1}),proboards.plugin.key(n).set_new(e)},set_on:function(e,t,i){return proboards.plugin.key(n).set_on(e,t,i)},append:function(e){return e=$.extend({},e,{append:1}),proboards.plugin.key(n).set_new(e)},prepend:function(e){return e=$.extend({},e,{prepend:1}),proboards.plugin.key(n).set_new(e)},increment:function(e){return e=$.extend({},e,{increment:1}),proboards.plugin.key(n).set_new(e)},decrement:function(e){return e=$.extend({},e,{decrement:1}),proboards.plugin.key(n).set_new(e)},push:function(e){return e=$.extend({},e,{push:1}),proboards.plugin.key(n).set_new(e)},pop:function(e){return e=$.extend({},e,{pop:1}),proboards.plugin.key(n).set_new(e)},shift:function(e){return e=$.extend({},e,{shift:1}),proboards.plugin.key(n).set_new(e)},unshift:function(e){return e=$.extend({},e,{unshift:1}),proboards.plugin.key(n).set_new(e)},can_read:function(e){return proboards.plugin.key(n).can_read(e)},can_write:function(e){return proboards.plugin.key(n).can_write(e)}}}}};!function(){var __webpack_modules__={3445:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return Gettext}});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(672),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6212),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),Gettext=function(){function Gettext(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Gettext),this.localeData=e.localeData,this.contextDelimiter=String.fromCharCode(4),this.language=this.localeData[""].language}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Gettext,[{key:"_translateText",value:function(e,t,i,n,o){var a="";t||console.error("No text was provided to translate.");var r=t;e&&(r=e+this.contextDelimiter+t);var s=this.localeData[r];return a=s?(s[0],n?s[this._evalPluralIdx(n)+1]:s[1]):$.isNumeric(n)&&1!==n?i:t,o&&(a=this._interpolateVars(a,o)),a}},{key:"_evalPluralIdx",value:function _evalPluralIdx(){var pluralForms=this.localeData[""]["plural-forms"],idx=eval(pluralForms);return!0===idx?idx=1:!1===idx&&(idx=0),idx}},{key:"_interpolateVars",value:function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i],a=new RegExp("{"+o+"}","g");e=e.replace(a,t[o])}return e}}]),Gettext}()},3095:function(e,t,i){"use strict";i(2479);var n=i(2e3),a=i.n(n);function o(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},i);n.expires&&(n.expires=function(e){var t=e,i=e;if("never"===i&&(i=18250),Number.isInteger(i)){var n=new Date;n.setDate(n.getDate()+i),t=n.toUTCString()}return t}(n.expires));var o="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t));return[["expires",n.expires],["path",n.path],["domain",n.domain]].map(function(e){var t=a()(e,2),i=t[0],n=t[1];o+=n?"; ".concat(i,"=").concat(n):""}),o+=n.secure?"; secure":"",document.cookie=o}var A={get:function(e){for(var t=document.cookie.split("; "),i=0;i<t.length;++i){var n=t[i].split("=");if(n[0]===e)return decodeURIComponent(n[1])}},set:o,remove:function(e){o(e,"",{expires:-1,path:"/"})}},r=i(4214),s=i.n(r);console.error;var y="click";$(function(){$.fn.onEvent=function(e,t){switch(e){case"click":this.each(function(){!function(e,t){var i=1<arguments.length&&void 0!==t?t:function(){},n=!0;e.addEventListener("touchstart",function(e){n=!1!==i(e)},{passive:!1}),e.addEventListener("touchend",function(e){!n&&e.cancelable&&e.preventDefault()},{passive:!1}),e.addEventListener("click",function(e){!1!==i(e)||e.preventDefault()})}(this,t)});break;case"longPress":this.each(function(){!function(e,t){var i=1<arguments.length&&void 0!==t?t:function(){},n=null,o=!0;e.addEventListener("touchstart",function(e){o=!0,n=setTimeout(function(){o=!1,i(e)},l)}),e.addEventListener("touchmove",function(e){clearTimeout(n)}),e.addEventListener("touchend",function(e){clearTimeout(n),o||e.preventDefault()})}(this,t)});break;case"mouseenter":this.each(function(){$(this).on("mouseenter",t)})}return this}});var l=1e3,c={adblock:{name:"AdBlock",logoImage:"data:image/png;base64,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",instructions:{chrome:{image:"//storage.proboards.com/forum/images/blockers/chrome/ab.gif"},firefox:{image:"//storage.proboards.com/forum/images/blockers/firefox/ab.gif"},edge:{image:"//storage.proboards.com/forum/images/blockers/edge/ab.gif"}}},adblockplus:{name:"AdBlock Plus",logoImage:"data:image/png;base64,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",instructions:{chrome:{image:"//storage.proboards.com/forum/images/blockers/chrome/abp.gif"},firefox:{image:"//storage.proboards.com/forum/images/blockers/firefox/abp.gif"},edge:{image:"//storage.proboards.com/forum/images/blockers/edge/abp.gif"},ie:{image:"//storage.proboards.com/forum/images/blockers/ie/abp.gif"}}},ublock:{name:"uBlock Origin",logoImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABGlBMVEUAAAD////////////////p0tKKFRWAAADq1NTs2NjcubmBAwP+/Pzt29vu3Nzx4uL27Oz79vb79/f16uqBAgLv3t6HDw+XLy/jxsaoUVHbt7e6dHTIkZHQoaG0aGjy5eWfPz+VKiqLFhbAgID37u6GDQ2/fn6fPj7+/f2qVVX06en8+fm2bGyAAQHMmJjixMSpU1OUKCjz5uaSJCT9+vrfv7/QoKDFiorEiYnJkpLOnZ3YsLDHj4+JEhK2bW3VqqqFCwvevLyCBATDh4edOzvmzc3Hjo6nT0/cuLj06OjatbXBgoKmTEyIEBCMGBisWVnLl5fgwcHy5OT//v7ly8vUqamyZGShQkKNGxuECAiLFxeQICCTJiaPHh7O7ACbAAAABXRSTlMAW/z/APGd+dQAAAI6SURBVHgBtM5LboNAAMBQwwDTpJ/7H7crWCHFQrIv4IdoWcej1mX7HNvHrn8ioPl7Aea/H/NBx24EyH8moPs7AeFfCSj/RkD6FwLSvxCQ/oWA9C8EpH8hIP0LAelfCPD/RoD/NwL8vxHg/40A/28E+H8jwP8bAf7fCPD/RoD/NwL8vxHg/40A/28E+H8jwP8bAf7fCPD/RoD/NwL8vxEg/qkA8U8F+P/8ep29503v19W3FzDGkP/5M85+501/48oB5n/79rHTMBREYXgxIleIRQKYHmoScDBgei+BEHrv9f1fAyGEBiSy8A34F9KcF5hvP+dkROQd4CiA+78AAxjAAAYwgAEMYAADGMAABjBAlgbkGECrfKaNAbTrhQABdOiFTgTQpBe6EEC3XuhBAL16oQ8B5PVCPwIY0AuDCGBINMMEYEQ0BQLgsnqiWCIAedGMEoAx0YRlABCMiyaamEwd4Kbka+LpklPczGwKgLl5+ZZoYXGpsLyyuhY3RyIpANy61E8qgI0iDHCbNMBt0YBKDAFUsP3rgEwywU41bBygTyuft+FuTeonrO3tJ3gc+j0ug/JBKD/k8Oj45DTZ49L7dXt2fnF5dS0fiXI3t9W7+weP121jz+vHp+eX10ylxf91zL/v+QIDX+HgSyx8jYcvMqFVLr7Mxtf5+EIjX+nkS618rZcvNvPVbr7cztf7+YEDP/HgRy78zIcfOvFTL37sxs/9+MEjP/nkR6/87JcfPvPTb378rvnT+f8bakiNSoNR9SIAAAAASUVORK5CYII=",instructions:{chrome:{image:"//storage.proboards.com/forum/images/blockers/chrome/ublock.gif"},firefox:{image:"//storage.proboards.com/forum/images/blockers/firefox/ublock.gif"},edge:{image:"//storage.proboards.com/forum/images/blockers/edge/ublock.gif"}}},ghostery:{name:"Ghostery",logoImage:"data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//9k=",instructions:{chrome:{image:"//storage.proboards.com/forum/images/blockers/chrome/ghostery.gif"},firefox:{image:"//storage.proboards.com/forum/images/blockers/firefox/ghostery.gif"},edge:{image:"//storage.proboards.com/forum/images/blockers/edge/ghostery.gif"}}},unknown:{text:["Please support us by whitelisting us in your ad blocker"]}},_=c,w={chrome:["adblock","adblockplus","ublock","ghostery"],firefox:["adblock","adblockplus","ublock","ghostery"],edge:["adblock","adblockplus","ublock","ghostery"],ie:["adblockplus"],windowsPhone:[],android:[],ios:[],unknown:[]},x="data:image/png;base64,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",k="//storage.proboards.com/forum/images/blockers/modal-img--desktop.png";function C(e){var t=e.id,i=e.adBlocker,n=e.browserOrMobileOS,o=null,a=(o=c[i]&&c[i].instructions&&c[i].instructions[n]?c[i].instructions[n]:c.unknown).text?"".concat(o.text.join("<br>"),"<br>"):"",r=o.image?"<img src='".concat(o.image,"' alt='Unblock ").concat(c[i].name,"'>"):"";return'\n        <div class="'.concat(t,"-popup-help  ").concat(t,'-popup-text">\n            ').concat(a,"\n            ").concat(r,"\n        </div>\n    ")}function S(){var e;return e=navigator.userAgent||navigator.vendor||window.opera,(/windows phone/i.test(e)?"windowsPhone":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":"")||(window.opr&&opr.addons||window.opera||0<=navigator.userAgent.indexOf(" OPR/")?"opera":"undefined"!=typeof InstallTrigger?"firefox":/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()?"safari":document.documentMode?"ie":window.StyleMedia?"edge":window.chrome&&window.chrome.webstore?"chrome":"unknown")}function T(e){var t=e.action,i=e.label||"",n=t;"undefined"!=typeof proboards&&proboards.analytics&&proboards.analytics.google.send({trackerName:"popup",eventLabel:i,eventAction:n,eventCategory:"DisableAdBlock",hitType:"event"})}function E(e,t){return void 0===t?m(e):g(e,t)}var d={},u={},h={},p={setKeyOrder:function(e,t){d[e]=t},addToDataStore:function(e,t){u[e]||(u[e]={}),Object.assign(u[e],t)},get:function(n,e){var t=u[n][e],o={};if(!t)throw"no data loaded for ".concat(n," with id: ").concat(e);return t.forEach(function(e,t){var i=d[n][t];o[i]=e}),o},destroy:function(){d={},u={}},get dataStore(){return u},get keyOrder(){return d}},f=/proboards\.(conversation|message|post|report|thread|user|badge)/;function m(e){return void 0===h[e]?null:h[e]}function g(e,t){var i=e;Array.isArray(i)||(i=[[i,t]]),i.forEach(function(e){var t,i,n,o,a,r,s,l,c=e[0],d=e[1];l=c,f.test(l)?(o=d,(a=m(n=c))===Object(a)?Object.assign(a,o):h[n]=o):"_fauxJSONKeyOrder"===c?(t=d.type,i=d.order,p.setKeyOrder(t,i)):"_fauxJSONData"===c?(r=d.type,s=d.data,p.addToDataStore(r,s)):h[c]=d})}E.get=m,E.set=g,E.getObject=function(e,t){return p.get(e,t)},E.previewData=function(){return console.warn("This function is included for plugin developers to use to be able to easily see what data is currently available.  It is not intended for production use in a plugin."),h},E.previewObjects=function(){return console.warn("This function is included for plugin developers to use to be able to easily see what data is currently available.  It is not intended for production use in a plugin."),p.dataStore},window&&window._initialData&&E.set(window._initialData);var v=i(1871),b=i.n(v),D=["Select Ad","top ad","bottom ad 1","bottom ad 2","top ad mobile","middle ad mobile","bottom ad mobile"],I=["","AD_UNIT_ad-desktop-top","AD_UNIT_ad-desktop-bottom","AD_UNIT_ad-desktop-bottom2","AD_UNIT_ad-mobile-top","AD_UNIT_ad-mobile-middle","AD_UNIT_ad-mobile-bottom"],P=["Select Category","adult content","annoying","audio","malicious","redirect","other"],M=["","adult_content","annoying","audio","malicious","redirect","other"];function O(e){return new Promise(function(n,o){var a=new XMLHttpRequest;a.open(e.method,e.url),e.pure||(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-Content-Type","application/json")),a.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.send(e.data),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var e=null!==(i=(t=a).getResponseHeader("Content-Type"))&&i.match(/json/)?JSON.parse(t.response):t.response;!function(e){if("object"===b()(e.pb_data))for(var t in e.pb_data)if("_google_analytics_events"!==t&&"_plugin_data"!==t)if("_user_ids_on_page"===t){if(null!==E.get("_user_ids_on_page")){var i=E.get("_user_ids_on_page").concat(e.pb_data[t]),n=new Set(i);E.set("_user_ids_on_page",s()(n))}}else E.set(t,e.pb_data[t])}(e),(200<=a.status&&a.status<300?n:o)(e)}var t,i}})}i(992);function N(e){var t=E.get("csrf_token"),i={method:"post",url:e.url,data:{csrf_token:t}};e.pure&&(i.pure=!0);var n,o,a=(n=e.data,o=Object.assign({},n),n&&Object.keys(n).forEach(function(e){var t=e.length-2;if(0<t&&e.indexOf("[]")===t){var i=e.substr(0,t);o[i]=n[e],delete o[e]}}),o);return i.data=Object.assign({},i.data,a),i.data=JSON.stringify(i.data),i.data=encodeURIComponent(i.data),i.data="json=".concat(i.data),O(i)}var L=i(3445),j=null,R=null,F={init:function(e,t){R=t||{};var i=Object.assign({"":{language:null,"plural-forms":null}},e);j=new L.s({localeData:i})},translate_text:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},t);j||this.init();var n,o,a=0,r=0,s=null,l=null;e||console.error("No text was provided to translate."),new RegExp(/(.*?)(?:\[(\d+)\])?$/).test(e);var c=RegExp.$1,d=RegExp.$2||0,u=R[c]||{};"string"==typeof u&&(u=R[u]),u.context&&(s=u.context[d]),!s&&d&&(console.error("Error processing string: ".concat(e)),console.error("A context was expected, but none was found in the translation data.")),s&&a++,l=u.one||c,a++;var h=1!==i.count;o=i.count,n=h?u.many:null,-1===l.indexOf("{count}")&&(h=!1,delete i.count),h&&!n&&(console.error("Error processing string: ".concat(e)),console.error('Translating singular / plural, but the "many" setting was not found in the translation data.')),n&&(a+=2);for(var p=!1,f=0,m=Object.keys(i);f<m.length;f++){m[f],p=!0;break}p&&r++;var g="";return 1===a&&0===r?g=j._translateText(null,l,null,null):1===a&&1===r?g=j._translateText(null,l,null,null,i):2===a&&0===r?g=j._translateText(s,l,null,null):2===a&&1===r?g=j._translateText(s,l,null,null,i):3===a&&0===r?g=j._translateText(null,l,n,o):3===a&&1===r?g=j._translateText(null,l,n,o,i):4===a&&0===r?g=j._translateText(s,l,n,o):4===a&&1===r&&(g=j._translateText(s,l,n,o,i)),g},join_with_and:function(e){if(Array.isArray(e)){var t=e.length;if(t<1)return"";if(1===t)return e[0];if(2===t)return e[0]+this.translate_text(" and ")+e[1];var i=e.pop(),n=e.join("".concat(","," ")),o="".concat(this.translate_text(" and ")).concat(i);return"".concat(n).concat(",").concat(o)}},capitalizeFirstLetter:function(e){return"".concat(e.charAt(0).toLocaleUpperCase()).concat(e.slice(1))}},z=null;$(function(){var e,c,t,p,d,f;function u(e){e&&e.preventDefault(),p(),$(document.body).removeClass("report-ad-no-scroll").removeAttr("style"),window.scrollTo(0,t),d.hide()}"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints&&$(document.body).addClass("is-modern-ipad"),(z="undefined"!=typeof proboards&&proboards.data?proboards.data.bind(proboards):pb.data.get)("is_gate_page")||(setTimeout(function(){function i(){var e=new Date,t=new Date;return t.setTime(e.getTime()+3e5),t}function n(){var e;$("<style>").html("\n            #".concat(v,"-overlay {\n                animation: show-popup 0.5s forwards;\n                background: rgba(0, 0, 0, 0.7);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                position: fixed;\n                top: 0;\n                left: 0;\n                height: 100%;\n                width: 100%;\n                overflow: auto;\n                z-index: 9999;\n            }\n            @keyframes show-popup {\n                0% {\n                    opacity: 0;\n                }\n\n                100% {\n                    opacity: 1;\n                }\n            }\n\n            #").concat(v,"-overlay * {\n                box-sizing: border-box;\n            }\n\n            #").concat(v,"-popup-wrapper {\n                display: flex;\n                margin: 2rem;\n            }\n\n            .").concat(v,"-popup {\n                position: relative;\n                background: #efefef;\n                color: #52504f;\n            }\n\n            .").concat(v,"-popup-side {\n                display: none;\n            }\n\n            .").concat(v,"-popup-side img {\n                height: 100%;\n            }\n\n            @media screen and (min-width: 1200px) {\n                .").concat(v,"-popup-side {\n                    background: url(").concat(k,") no-repeat;\n                    background-size: cover;\n                    display: block;\n                    min-height: 546px;\n                    width: 465px;\n                }\n\n                .").concat(v,"-popup {\n                    width: 500px;\n                    z-index: 1;\n                }\n            }\n\n            @media screen and (max-width: 1199px) {\n                .").concat(v,"-lg-only {\n                    display: none;\n                }\n            }\n\n            .").concat(v,"-popup-content {\n                display: flex;\n                text-align: center;\n                flex-direction: column;\n                height: 100%;\n                padding: 2rem;\n            }\n\n            .").concat(v,"-popup-title {\n                font-size: 2rem;\n                margin: 1rem 0;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .").concat(v,"-popup-title--small {\n                font-size: 1.25rem;\n                margin: 0 0 1rem 0;\n            }\n\n            .").concat(v,"-header-icon {\n                display: inline-block;\n                background: url(").concat(x,");\n                background-size: cover;\n                flex: 0 0 auto;\n                height: 30px;\n                width: 30px;\n                margin-right: 1rem;\n                border-radius: 50%;\n                border: 1px solid #ffffff;\n            }\n\n            .").concat(v,"-popup-main-content {\n                flex: 1 1 auto;\n            }\n\n            .").concat(v,"-popup-main-content--front {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n            }\n\n            .").concat(v,"-popup-text {\n                margin-bottom: 1rem;\n                line-height: 1.5;\n            }\n\n            .").concat(v,"-popup-help img {\n                max-width: 100%;\n            }\n\n            .").concat(v,"-button,\n            .").concat(v,"-button:hover,\n            .").concat(v,"-button:focus {\n                display: inline-block;\n                background: #ff9d47;\n                color: #fff;\n                padding: 0.5rem 2rem;\n                margin-bottom: 1rem;\n                font-size: 1rem;\n            }\n\n            .").concat(v,"-button--blue,\n            .").concat(v,"-button--blue:hover,\n            .").concat(v,"-button--blue:focus {\n                background: #004fa0;\n            }\n\n            .").concat(v,"-no-scroll {\n                overflow: hidden;\n                position: fixed;\n                width: 100%;\n            }\n\n            .").concat(v,"-icon-wrap {\n                display: inline-block;\n                text-align: center;\n                padding: 1rem;\n            }\n\n            @media screen and (max-width: 768px) {\n                .").concat(v,"-icon-wrap {\n                    width: 50%;\n                }\n            }\n\n            .").concat(v,"-icon-wrap:hover {\n                background-color: #ccc;\n                cursor: pointer;\n            }\n\n            .").concat(v,"-icon {\n                margin: 0 auto;\n                width: 64px;\n                height: 64px;\n                background-size: 100%;\n                margin-bottom: 0.5rem;\n            }\n\n            .").concat(v,"-back {\n                    position: absolute;\n                    top: 10px;\n                    left: 10px;\n                    font-weight: bold;\n                    font-size: 18px;\n                    cursor: pointer;\n            }\n\n            .").concat(v,"-back-text {\n                font-size: 0.8rem;\n            }\n\n            .").concat(v,"-subscribe {\n                display: flex;\n                margin-top: 30px;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .").concat(v,"-proboards-plus {\n                display: inline-block;\n                background-size: 100%;\n                background-image: url(").concat("data:image/png;base64,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",");\n                background-position: center center;\n                flex: 0 0 32px;\n                height: 32px;\n                background-repeat: no-repeat;\n            }\n\n            .").concat(v,"-proboards-plus-text {\n                display: inline-block;\n                padding-left: 0.5rem;\n            }\n\n            .").concat(v,"-disclaimer {\n                font-size: 0.5rem;\n            }\n\n            .").concat(v,"-pbplus-animation {\n                width: 100%;\n                max-width: 300px;\n                align-self: center;\n            }\n\n            @media screen and (max-height: 610px) {\n                #").concat(v,"-overlay {\n                    align-items: flex-start;\n                }\n            }\n\n            @media screen and (max-width: 450px) {\n                #").concat(v,"-overlay {\n                    justify-content: flex-start;\n                }\n\n                #").concat(v,"-popup-wrapper {\n                    flex: 1 1 auto;\n                    margin: 1rem;\n                }\n\n                .").concat(v,"-popup {\n                    flex: 1 1 auto;\n                }\n\n                .").concat(v,"-popup-content {\n                    padding: 2rem 1rem;\n                }\n\n                .").concat(v,"-popup-title {\n                    font-size: 1.6rem;\n                }\n\n                .").concat(v,"-popup-text {\n                    font-size: 0.8rem;\n                }\n\n                .").concat(v,"-button {\n                    font-size: 1rem;\n                }\n\n                .").concat(v,"-proboards-plus-text {\n                    font-size: 0.75rem;\n                }\n            }\n        ")).appendTo(document.body),function(){var e,t=$("<div>").attr("id","".concat(v,"-overlay")),i=$("\n            <div class='".concat(v,"-popup-content ").concat(v,"-main'>\n                <div class='").concat(v,"-popup-main-content ").concat(v,"-popup-main-content--front'>\n                    <h1 class='").concat(v,"-popup-title'>\n                        <span class='").concat(v,"-header-icon' title='A message from ProBoards'></span>\n                        Can we talk?\n                    </h1>\n                    <p class='").concat(v,"-popup-text'>\n                        We work hard to provide\n                        <span style='white-space: nowrap'>the best communities.</span>\n                        <br>\n                        Please support us!\n                    </p>\n                    <p class='").concat(v,"-popup-text'>\n                        Advertising allows us to provide a free service to millions of\n                        users. Please consider helping us by disabling your ad blocker.\n                    </p>\n                    <div>\n                        <a href='#' class='").concat(v,"-button ").concat(v,"-button-disable'>\n                            Disable Ad Blocker\n                        </a>\n                    </div>\n                </div>\n                <div class=\"").concat(v,"-popup-text\">\n                    <a href='#' class='").concat(v,"-close-popup'>Sorry, I'll do it next time</a>\n                </div>\n            </div>\n        "));b=$("<div class='".concat(v,"-popup'>")),s||(i.find(".".concat(v,"-popup-main-content")).append(((e=$("\n            <p class='".concat(v,"-popup-text'>\n                or\n            </p>\n            <div>\n                <a href='#' class='").concat(v,"-button ").concat(v,"-button--blue'>\n                    Get ProBoards+\n                </a>\n            </div>\n            <p class='").concat(v,"-popup-text'>\n                ProBoards+ members get no ads!\n            </p>\n        "))).find(".".concat(v,"-button--blue")).on(y,function(){a(),T({action:"CTA",label:"Get PB+"})}),e)),b.append(function(){var e,t,i=(t="undefined"!=typeof proboards&&proboards.data?(e=proboards.data("forum_url"),proboards.data("user").id):(e=E.get("forum_url"),E.get("user").id),"https://www.proboards.com/store/add_cart/proboards_plus/1/".concat(e,"/").concat(t)),n=$("\n            <div class='".concat(v,"-popup-content ").concat(v,"-pbplus'>\n                <h1 class='").concat(v,"-popup-title'>\n                    Get ProBoards+\n                </h1>\n                <img src='").concat("//storage.proboards.com/forum/images/blockers/pbplus.gif","'\n                    alt='ProBoards+ is personal Ad Free!' class='").concat(v,"-pbplus-animation'>\n                <br>\n                <p class='").concat(v,"-popup-text'>\n                    Enjoy any ProBoards forum with unlimited personal ad free!\n                </p>\n                <div>\n                    <a href='").concat(i,"' class='").concat(v,"-button ").concat(v,"-button--blue'\n                        alt='Subscribe to ProBoards+' target='_blank'>\n                        Subscribe now!\n                    </a>\n                </div>\n            </div>\n        "));n.find(".".concat(v,"-button")).on(y,function(){T({action:"Subscribe",label:"Subscribe"})});var o=h(r);return n.append(o).hide(),n}())),b.append(i).append(function(){var e,t=$("\n            <div class='".concat(v,"-popup-content ").concat(v,"-choices'>\n            </div>\n        ")),i=$("<div class='".concat(v,"-popup-main-content'></div>")),d=S(),n=(e=S(),w[e]?w[e]:[]);0<n.length?(t.append("\n                <h2 class='".concat(v,"-popup-title--small'>\n                    Choose your Ad Blocker\n                </h2>\n            ")),n.forEach(function(c){var e=_[c].logoImage,t=$("\n                    <div class='".concat(v,"-icon-wrap' data-blocker='").concat(c,"'>\n                        <div class='").concat(v,"-icon ").concat(v,"-icon--").concat(c,"'\n                            style='background-image: url(").concat(e,")'></div>\n                        ").concat(_[c].name,"\n                    </div>"));i.append(t),t.on(y,function(){var e,t,i,n,o,a,r,s,l;s=(e={adBlocker:c,browserOrMobileOS:d}).adBlocker,l=e.browserOrMobileOS,m(),0===b.find(".".concat(v,"-").concat(s)).length&&(n=C({id:v,adBlocker:i=(t={adBlocker:s,browserOrMobileOS:l}).adBlocker,browserOrMobileOS:t.browserOrMobileOS}),o=$("\n            <div class='".concat(v,"-popup-content ").concat(v,"-").concat(i,"'>\n                <h2 class='").concat(v,"-popup-title--small'>Instructions</h2>\n                ").concat(n,"\n            </div>")),a=u(),r=h(p),o.append(a).append(r).append(f()).appendTo(b)),g(s),T({action:"AdBlocker",label:"".concat(c," - ").concat(d)})})})):(i.append('<div class="'.concat(v,'-popup-text"></div>')).append(C({id:v,adBlocker:"unknown"})).append(u()),T({action:"Help",label:"Unknown AdBlocker"}));var o=0<n.length?$("\n                <div class='".concat(v,"-disclaimer'>\n                    All logos are trademarks of their respective owners.\n                </div>\n            ")):$(""),a=h(r);return t.append(i).append(o).append(a).append(f()).hide(),t}());var n=$("<div class='".concat(v,"-popup-side'></div>")),o=$("<div>").attr("id","".concat(v,"-popup-wrapper")).append(n).append(b);return b.find(".".concat(v,"-button-disable")).on(y,function(){m(),g("choices"),T({action:"CTA",label:"Disable"})}),t.append(o)}().appendTo(document.body),c=window.scrollY||window.pageYOffset,$(document.body).addClass("".concat(v,"-no-scroll")).css("top","-".concat(c,"px")),$(".".concat(v,"-close-popup")).on("click",function(e){e.preventDefault(),t(),T({action:"Close popup",label:"Next time"})}),e=i(),A.set("aab",e.toUTCString(),{path:"/"})}function a(){m(),g("pbplus")}function r(){T({action:"Back",label:"Back to Start"}),m(),g("main")}function u(){var e=$("<div><a href='#' class='".concat(v,"-button'>I've done it!</a></div>"));return e.on(y,function(e){e.preventDefault(),t(),T({action:"Close popup",label:"Done"})}),e}function h(e){var t=$("<div class='".concat(v,"-back' title='Back'>&lsaquo; ")+"<span class='".concat(v,"-back-text'>Back</span></div>"));return t.on(y,function(){e&&"function"==typeof e&&e()}),t}function p(){T({action:"Back",label:"Blocker selection"}),m(),g("choices")}function f(){if(!s){var e=$("\n                    <a class='".concat(v,"-subscribe' href='#'>\n                        <div class='").concat(v,"-proboards-plus'></div>\n                        <div class='").concat(v,"-proboards-plus-text'>\n                            Get unlimited personal ad-free!\n                        </div>\n                    </a>\n                "));return e.on(y,function(e){e.preventDefault(),a(),T({action:"BTF Link",label:"Get PB+"})}),e}}function m(){b.find(".".concat(v,"-popup-content")).hide()}function g(e){b.find(".".concat(v,"-").concat(e)).css({display:"flex"})}function t(){$("#".concat(v,"-overlay")).remove(),$(document.body).removeClass("".concat(v,"-no-scroll")).removeAttr("style"),window.scrollTo(0,c)}var e,o,v,s,l,c,b;window._ABE&&(o={isGuest:!z("user").is_logged_in}.isGuest,v=function(){for(var e=15,t="";e--;)t+=String.fromCharCode(Math.floor(26*Math.random())+97);return t}(),s=o,c=0,b=l=null,window.runAntiAdBlock&&!function(){var e=A.get("aab");if(e){var t=new Date(e);return!isNaN(t.getTime())&&!(new Date>t)&&t<i()}}()&&((new Image).src=k,ga("create","UA-3734504-7","auto","popup"),e=function(){$(window).on("scroll.AntiAdBlock",function(){var e=window.scrollY||window.pageYOffset;null===l?l=e:500<=Math.abs(e-l)&&($(window).off(".AntiAdBlock"),(s?n:function(){$("<style>").html("\n            #".concat(v,"-banner {\n                animation: show-banner 0.5s forwards;\n                background: #083e5d;\n                color: #fff;\n                display: flex;\n                position: fixed;\n                bottom: 0;\n                left: 0;\n                width: 100%;\n                z-index: 9999;\n                box-shadow: 0px -2px 5px 0px rgba(136,136,136,1);\n                cursor: pointer;\n            }\n\n            @keyframes show-banner {\n                0% {\n                    bottom: -25%;\n                }\n\n                100% {\n                    bottom: 0;\n                }\n            }\n\n            .").concat(v,"-banner-content-wrapper {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                margin: 0 auto;\n                padding: 0.5rem 1rem;\n            }\n\n            .").concat(v,"-banner-icon {\n                background: url(").concat(x,");\n                background-size: cover;\n                flex: 0 0 auto;\n                height: 60px;\n                width: 60px;\n                margin-right: 1rem;\n                border-radius: 50%;\n                border: 1px solid #ffffff;\n            }\n\n            .").concat(v,"-banner-content {\n                flex: 1 1 auto;\n            }\n\n            .").concat(v,"-banner-text {\n                margin: 0.5rem 0;\n            }\n\n            .").concat(v,"-banner-chevron {\n                display: block;\n                background: url(").concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAOCAYAAADE84fzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFFRkEzNzFBNzE1ODExRTc4QjEwQ0FENUEyOEY4MzczIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFFRkEzNzFCNzE1ODExRTc4QjEwQ0FENUEyOEY4MzczIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUVGQTM3MTg3MTU4MTFFNzhCMTBDQUQ1QTI4RjgzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUVGQTM3MTk3MTU4MTFFNzhCMTBDQUQ1QTI4RjgzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5gSkTvAAAAfUlEQVR42pyRUQ2AQAxDDwdIQAIScMI5O5wgAQlIQMLYEhYIIaRtk+Z+eu99rDOzAqZ6p+vFEnCg1e4s4J/CgimBAoYFKhgSsOCdETDg2dt7N1TAgHMDC1gwJVDAsEAFQ4IYNBH8Jzi8Qw6aCP4SBHh8H7SJ4KdgTXD0FGAARPfuUTtrQWoAAAAASUVORK5CYII=",");\n                width: 23px;\n                height: 14px;\n                margin-left: 25px;\n                background-position: center center;\n                background-repeat: no-repeat;\n            }\n\n            @media screen and (max-width: 1199px) {\n                .").concat(v,"-lg-only {\n                    display: none;\n                }\n            }\n            @media screen and (max-width: 600px) {\n                .").concat(v,"-sm-only {\n                    display: none;\n                }\n            }\n        ")).appendTo(document.body);var e,t,i=$("<div>").attr("id","".concat(v,"-banner")).append("\n            <div class='".concat(v,"-banner-content-wrapper'>\n                <div class='").concat(v,"-banner-icon' title='Can we talk?'></div>\n                <div class='").concat(v,"-banner-content'>\n                    <div class='").concat(v,"-banner-text'>\n                        <strong>Can we talk?</strong>\n                    </div>\n                    <div class='").concat(v,"-banner-text ").concat(v,"-sm-only'>\n                        We work hard to provide the best communities.\n                    </div>\n\n                </div>\n                <div>\n                    <span class='").concat(v,"-banner-chevron'></span>\n                </div>\n            </div>\n        "));i.appendTo(document.body),e=i.height(),$("body").css({"margin-bottom":"".concat(e,"px")}),(t=i).on("click",function(){t.remove(),n(),T({action:"Banner click",label:"Banner"})})})())})},setTimeout(function(){window._ABE&&e()},500)))},500),c=!1,t=0,p=function(){},d=null,f="",$(".js-report-ad").on(y,function(e){e.preventDefault(),function(){if(!c){var e,t,o,a,r,i=$("<div>").attr({id:"report-ad-overlay",class:"js-ad-overlay"});i.append('<div class="report-ad-popup js-report-ad-popup"><h2 class="report-ad-title">Report Ad</h2><form id="report-ad-form" class="js-report-ad-form">'+'<div class="report-ad-field">'.concat((o=I,a="",r=0,D.forEach(function(e){var t=o[r++],i=""===t,n=!!window[t]&&!!window[t].iframe;(i||n)&&(a+='<option value="'.concat(t,'">').concat(e,"</option>"))}),'<select class="js-report-ad-select-ad" required>'.concat(a,"</select>")),"</div>")+'<div class="report-ad-preview js-report-ad-preview"></div>'+'<div class="report-ad-field">'.concat((n=M,s="",l=0,P.forEach(function(e){var t=n[l++];s+='<option value="'.concat(t,'">').concat(e,"</option>")}),'<select name="category" required>'.concat(s,"</select>")),"</div>")+"".concat("object"===b()(window.pbrp)&&window.pbrp.m?'<div class="report-ad-field"><fieldset><label><span class="report-ad-label-text">Are you on a cellular network?</span></label><label class="report-ad-label-text"><input type="radio" name="is_mobile_data" value="0" required>No</label><label class="report-ad-label-text"><input type="radio" name="is_mobile_data" value="1" required>Yes</label></fieldset></div>':"")+'<div class="report-ad-field"><label><span class="report-ad-label-text">What is wrong with the ad?</span><textarea name="reason" class="report-ad-textarea"></textarea></label></div><div><button class="report-ad-button js-report-ad-cancel">Cancel</button><input class="report-ad-button" type="submit" value="Submit"></div></form><div>'),d=i.hide().appendTo(document.body),(t=$(".js-report-ad-select-ad")).on("change",function(){var e=t.val();!function(e){var t,i,n,o=$(".js-report-ad-preview");if(p(),""!==e){var a=window[e].iframe,r=$(a),s=a.getAttribute("style")||"";p=function(){a.setAttribute("style",s)},a.setAttribute("style","");var l=r.height(),c=r.width();o.css({height:"".concat(l,"px"),width:"".concat(c,"px")});var d=o.offset(),u=d.top,h=d.left;r.css({position:"fixed",top:"".concat(u,"px"),left:"".concat(h,"px"),zIndex:1e4}),i=(t={$adPreview:o,$ad:r}).$adPreview,n=t.$ad,$(".js-ad-overlay").on("scroll",function(){var e=i.get(0).getBoundingClientRect();n.css({top:"".concat(e.top,"px")})})}else o.removeAttr("style")}(e),f=e}),$(".js-report-ad-cancel").on(y,u),$(".js-report-ad-form").on("submit",function(e){e.preventDefault();window[f].iframe;window.postMessage({type:"screenshotDone",image:""},"*")}),window.addEventListener("message",function(p){"screenshotDone"===p.data.type&&function(){var e,t,i,n,o,a={screenshot:p.data.image}.screenshot,r="/ad-report/new",s=Object.assign({screenshot:a},(t=(e=$(".js-report-ad-popup")).find('[name="category"]').val(),i=e.find('[name="reason"]').val(),n=e.find('[name="is_mobile_data"]:checked').length?e.find('[name="is_mobile_data"]:checked').val():0,o=window[f].lastRenderedBid||"",{category:t,reason:i,isMobileData:n,bid:o=JSON.stringify(o),userAgent:window.navigator.userAgent})),l="Your ad report has been submitted. Thank you!",c="We are unable to send the ad report.  Please contact our support team for assistance.";if(pb&&6===pb.version)return N({url:r,data:s}).then(function(){return Promise.resolve(l)},function(e){return Promise.reject(e.error||c)});var d=null,u=null,h=new Promise(function(e,t){d=e,u=t});return proboards.ajax({url:r,data:s,success:function(){return d(l)},error:function(e){return u(e.error||c)}}),h}().then(function(e){u(),$(".js-report-ad-form").get(0).reset(),alert(e)}).catch(alert)},!1),e=$("<style>").html("\n    #report-ad-overlay {\n        animation: show-popup 0.5s forwards;\n        background: rgba(0, 0, 0, 0.7);\n        color: #333;\n        display: flex;\n        justify-content: center;\n        align-items: flex-start;\n        position: fixed;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 9999;\n        overflow-y: scroll;\n    }\n    @keyframes show-popup {\n        0% {\n            opacity: 0;\n        }\n\n        100% {\n            opacity: 1;\n        }\n    }\n\n    .report-ad-popup {\n        background: white;\n        border-radius: 3px;\n        box-shadow: 0 0 15px;\n        display: flex;\n        flex-direction: column;\n        flex: 1 1 auto;\n        max-width: 800px;\n        padding: 1rem;\n        margin: 20px;\n    }\n\n    .report-ad-title {\n        color: #333;\n        font-size: 24px;\n        font-weight: bold;\n        margin-bottom: 20px;\n    }\n\n    .report-ad-preview {\n        margin-bottom: 15px;\n    }\n\n    .report-ad-field {\n        margin-bottom: 15px;\n    }\n\n    .report-ad-label-text {\n        display: block;\n        margin-bottom: 5px;\n    }\n\n    .report-ad-textarea {\n        box-sizing: border-box;\n        height: 100px;\n        width: 100%;\n    }\n\n    .report-ad-button,\n    input.report-ad-button,\n    .report-ad-button:active,\n    input.report-ad-button:active {\n        border-radius: 5px;\n        color: #000;\n        font: 12px Verdana, Arial;\n        text-decoration: none;\n        background: #dadada;\n        border: 1px solid #a7a7a7;\n        padding: 2px 6px;\n        display: inline-block;\n        vertical-align: middle;\n        margin: 0 3px 0 0;\n        cursor: pointer;\n        min-height: 26px;\n    }\n\n    .report-ad-button:hover,\n    input.report-ad-button:hover {\n        background: #e7e7e7;\n    }\n\n    .report-ad-no-scroll {\n        overflow: hidden;\n        position: fixed;\n        width: 100%;\n    }\n"),$(document.body).append(e),c=!0}var n,s,l}(),t=window.scrollY||window.pageYOffset,$(document.body).addClass("report-ad-no-scroll").css("top","-".concat(t,"px")),d.css("display","flex"),$(".js-report-ad-select-ad").trigger("change")}),z("user").is_logged_in&&(e=function(){var e,t,i,n,o,a,r;$("#ad1").length&&($("<style>").html("\n            .c-pb-plus__container {\n                display: flex;\n                justify-content: center;\n                text-align: center;\n                margin: 10px 0 10px 0;\n            }\n            .c-pb-plus__message {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                border-width: 1px;\n                border-style: solid;\n                font-size: 20px;\n                max-width: 728px;\n                color: #333;\n                background-color: #eee;\n            }\n\n            .c-pb-plus__message-text {\n                padding: 8px;\n            }\n\n            .c-pb-plus-text__ad-free {\n                display: inline-block;\n            }\n\n            @media only screen and (max-width: 768px) {\n                .c-pb-plus__message {\n                    font-size: 16px;\n                }\n            }\n\n            @media only screen and (max-width: 480px) {\n                .c-pb-plus__message {\n                    font-size: 13px;\n                }\n\n                .c-pb-plus__message-text {\n                    padding: 2px;\n                }\n            }\n        ").appendTo(document.body),$("#ad1").replaceWith((e=$("<div>").attr({class:"c-pb-plus__container"}),t=$((o=F.translate_text('Support the services you love. $2.99/month gets you unlimited <span class="c-pb-plus-text__ad-free">ad-free</span> browsing of all the ProBoards forums you are a member of.'),a=F.translate_text("Click here to subscribe!"),n="undefined"!=typeof proboards&&proboards.data?(i=proboards.data("forum_url"),proboards.data("user").id):(i=E.get("forum_url"),E.get("user").id),r="https://www.proboards.com/store/add_cart/proboards_plus/1/".concat(i,"/").concat(n),'\n            <a href="'.concat(r,"\">\n                <div class='c-pb-plus__message'>\n                    <p class='c-pb-plus__message-text'>").concat(o,"<br>").concat(a,"</p>\n                </div>\n            </a>\n        "))),e.append(t),e)))},setTimeout(function(){window._ABE&&e()},500)))})},2479:function(e,t,i){"use strict";i(6802);var n,o=(n=i(3800))&&n.__esModule?n:{default:n};o.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),o.default._babelPolyfill=!0},6802:function(e,t,i){"use strict";i(4566),i(7590),i(1245),i(1729),i(9189),i(8681),i(8648),i(4282),i(8790),i(1942),i(949),i(9679),i(323),i(3656)},8409:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}},5101:function(e){e.exports=function(e){if(Array.isArray(e))return e}},5331:function(e,t,i){var n=i(8409);e.exports=function(e){if(Array.isArray(e))return n(e)}},672:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},6212:function(e){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},3477:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},111:function(e){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return i}}},9096:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},3487:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},2e3:function(e,t,i){var n=i(5101),o=i(111),a=i(7042),r=i(9096);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||r()}},4214:function(e,t,i){var n=i(5331),o=i(3477),a=i(7042),r=i(3487);e.exports=function(e){return n(e)||o(e)||a(e)||r()}},1871:function(t){function i(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=i=function(e){return typeof e}:t.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.exports=i},7042:function(e,t,i){var n=i(8409);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}},4566:function(e,t,i){i(8661),i(8168),i(3040),i(1736),i(103),i(7798),i(6649),i(6336),i(8080),i(2844),i(8044),i(3185),i(5865),i(5377),i(4903),i(9633),i(9530),i(1950),i(4066),i(4096),i(4863),i(1971),i(3105),i(5998),i(1551),i(4512),i(4786),i(4777),i(8053),i(339),i(5565),i(8267),i(828),i(3591),i(9840),i(3753),i(7258),i(3879),i(7279),i(2838),i(5386),i(6245),i(7940),i(9204),i(3060),i(5673),i(4134),i(1656),i(7420),i(7803),i(326),i(280),i(8003),i(2802),i(7547),i(1769),i(9550),i(5187),i(7905),i(9688),i(4835),i(3498),i(6014),i(5264),i(4971),i(7873),i(4359),i(739),i(7808),i(312),i(4444),i(4309),i(3067),i(116),i(8990),i(4071),i(6009),i(4467),i(8259),i(2658),i(4732),i(3819),i(939),i(8284),i(4051),i(4133),i(190),i(2021),i(9964),i(3291),i(5244),i(4660),i(5161),i(343),i(7054),i(2863),i(8971),i(7137),i(8247),i(8298),i(2724),i(4558),i(8208),i(9812),i(8666),i(2164),i(8877),i(293),i(5744),i(5458),i(1443),i(3686),i(5844),i(1392),i(2989),i(9261),i(245),i(9933),i(9915),i(215),i(7421),i(1495),i(5646),i(1758),i(1958),i(5158),i(2408),i(4075),i(3179),i(6772),i(2504),i(4237),i(3982),i(3400),i(2202),i(6457),i(8420),i(4354),e.exports=i(1609)},1245:function(e,t,i){i(958),e.exports=i(1609).Array.flatMap},7590:function(e,t,i){i(5519),e.exports=i(1609).Array.includes},949:function(e,t,i){i(6160),e.exports=i(1609).Object.entries},8790:function(e,t,i){i(3978),e.exports=i(1609).Object.getOwnPropertyDescriptors},1942:function(e,t,i){i(3759),e.exports=i(1609).Object.values},9679:function(e,t,i){"use strict";i(5744),i(1793),e.exports=i(1609).Promise.finally},9189:function(e,t,i){i(2026),e.exports=i(1609).String.padEnd},1729:function(e,t,i){i(9040),e.exports=i(1609).String.padStart},8648:function(e,t,i){i(4254),e.exports=i(1609).String.trimRight},8681:function(e,t,i){i(145),e.exports=i(1609).String.trimLeft},4282:function(e,t,i){i(9085),e.exports=i(7672).f("asyncIterator")},3800:function(e,t,i){i(9005),e.exports=i(143).global},5118:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},457:function(e,t,i){var n=i(9300);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},143:function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},658:function(e,t,i){var a=i(5118);e.exports=function(n,o,e){if(a(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,i){return n.call(o,e,t,i)}}return function(){return n.apply(o,arguments)}}},2203:function(e,t,i){e.exports=!i(6209)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},7961:function(e,t,i){var n=i(9300),o=i(5960).document,a=n(o)&&n(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},9337:function(e,t,i){var m=i(5960),g=i(143),v=i(658),b=i(4266),A=i(4842),y=function(e,t,i){var n,o,a,r=e&y.F,s=e&y.G,l=e&y.S,c=e&y.P,d=e&y.B,u=e&y.W,h=s?g:g[t]||(g[t]={}),p=h.prototype,f=s?m:l?m[t]:(m[t]||{}).prototype;for(n in s&&(i=t),i)(o=!r&&f&&void 0!==f[n])&&A(h,n)||(a=o?f[n]:i[n],h[n]=s&&"function"!=typeof f[n]?i[n]:d&&o?v(a,m):u&&f[n]==a?function(n){function e(e,t,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,i)}return n.apply(this,arguments)}return e.prototype=n.prototype,e}(a):c&&"function"==typeof a?v(Function.call,a):a,c&&((h.virtual||(h.virtual={}))[n]=a,e&y.R&&p&&!p[n]&&b(p,n,a)))};y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,e.exports=y},6209:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5960:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},4842:function(e){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},4266:function(e,t,i){var n=i(6349),o=i(679);e.exports=i(2203)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},3450:function(e,t,i){e.exports=!i(2203)&&!i(6209)(function(){return 7!=Object.defineProperty(i(7961)("div"),"a",{get:function(){return 7}}).a})},9300:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},6349:function(e,t,i){var n=i(457),o=i(3450),a=i(7662),r=Object.defineProperty;t.f=i(2203)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),o)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},679:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7662:function(e,t,i){var o=i(9300);e.exports=function(e,t){if(!o(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!o(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!o(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!o(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},9005:function(e,t,i){var n=i(9337);n(n.G,{global:i(5960)})},7280:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},6673:function(e,t,i){var n=i(8163);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},5711:function(e,t,i){var n=i(3693)("unscopables"),o=Array.prototype;null==o[n]&&i(3639)(o,n,{}),e.exports=function(e){o[n][e]=!0}},1052:function(e,t,i){"use strict";var n=i(6851)(!0);e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},7455:function(e){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},4185:function(e,t,i){var n=i(3763);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},2788:function(e,t,i){"use strict";var c=i(5913),d=i(7501),u=i(6878);e.exports=[].copyWithin||function(e,t){var i=c(this),n=u(i.length),o=d(e,n),a=d(t,n),r=2<arguments.length?arguments[2]:void 0,s=Math.min((void 0===r?n:d(r,n))-a,n-o),l=1;for(a<o&&o<a+s&&(l=-1,a+=s-1,o+=s-1);0<s--;)a in i?i[o]=i[a]:delete i[o],o+=l,a+=l;return i}},5540:function(e,t,i){"use strict";var s=i(5913),l=i(7501),c=i(6878);e.exports=function(e){for(var t=s(this),i=c(t.length),n=arguments.length,o=l(1<n?arguments[1]:void 0,i),a=2<n?arguments[2]:void 0,r=void 0===a?i:l(a,i);o<r;)t[o++]=e;return t}},1562:function(e,t,i){var l=i(6329),c=i(6878),d=i(7501);e.exports=function(s){return function(e,t,i){var n,o=l(e),a=c(o.length),r=d(i,a);if(s&&t!=t){for(;r<a;)if((n=o[r++])!=n)return!0}else for(;r<a;r++)if((s||r in o)&&o[r]===t)return s||r||0;return!s&&-1}}},8607:function(e,t,i){var A=i(2623),y=i(5515),_=i(5913),w=i(6878),n=i(9563);e.exports=function(u,e){var h=1==u,p=2==u,f=3==u,m=4==u,g=6==u,v=5==u||g,b=e||n;return function(e,t,i){for(var n,o,a=_(e),r=y(a),s=A(t,i,3),l=w(r.length),c=0,d=h?b(e,l):p?b(e,0):void 0;c<l;c++)if((v||c in r)&&(o=s(n=r[c],c,a),u))if(h)d[c]=o;else if(o)switch(u){case 3:return!0;case 5:return n;case 6:return c;case 2:d.push(n)}else if(m)return!1;return g?-1:f||m?m:d}}},8602:function(e,t,i){var d=i(7280),u=i(5913),h=i(5515),p=i(6878);e.exports=function(e,t,i,n,o){d(t);var a=u(e),r=h(a),s=p(a.length),l=o?s-1:0,c=o?-1:1;if(i<2)for(;;){if(l in r){n=r[l],l+=c;break}if(l+=c,o?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=l:l<s;l+=c)l in r&&(n=t(n,r[l],l,a));return n}},1050:function(e,t,i){var n=i(3763),o=i(9064),a=i(3693)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},9563:function(e,t,i){var n=i(1050);e.exports=function(e,t){return new(n(e))(t)}},5614:function(e,t,i){"use strict";var a=i(7280),r=i(3763),s=i(4933),l=[].slice,c={};e.exports=Function.bind||function(t){var i=a(this),n=l.call(arguments,1),o=function(){var e=n.concat(l.call(arguments));return this instanceof o?function(e,t,i){if(!(t in c)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";c[t]=Function("F,a","return new F("+n.join(",")+")")}return c[t](e,i)}(i,e.length,e):s(i,e,t)};return r(i.prototype)&&(o.prototype=i.prototype),o}},3465:function(e,t,i){var o=i(8163),a=i(3693)("toStringTag"),r="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:r?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},8163:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},8382:function(e,t,i){"use strict";function r(e,t){var i,n=f(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i}var s=i(1131).f,l=i(8153),c=i(3262),d=i(2623),u=i(7455),h=i(2320),n=i(8952),o=i(7952),a=i(1724),p=i(6342),f=i(4140).fastKey,m=i(4045),g=p?"_s":"size";e.exports={getConstructor:function(e,a,i,n){var o=e(function(e,t){u(e,o,a,"_i"),e._t=a,e._i=l(null),e._f=void 0,e._l=void 0,e[g]=0,null!=t&&h(t,i,e[n],e)});return c(o.prototype,{clear:function(){for(var e=m(this,a),t=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete t[i.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t=m(this,a),i=r(t,e);if(i){var n=i.n,o=i.p;delete t._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==i&&(t._f=n),t._l==i&&(t._l=o),t[g]--}return!!i},forEach:function(e){m(this,a);for(var t,i=d(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!r(m(this,a),e)}}),p&&s(o.prototype,"size",{get:function(){return m(this,a)[g]}}),o},def:function(e,t,i){var n,o,a=r(e,t);return a?a.v=i:(e._l=a={i:o=f(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[g]++,"F"!==o&&(e._i[o]=a)),e},getEntry:r,setStrong:function(e,i,t){n(e,i,function(e,t){this._t=m(e,i),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?o(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,o(1))},t?"entries":"values",!t,!0),a(i)}}},7328:function(e,t,i){"use strict";function r(e){return e._l||(e._l=new v)}function n(e,t){return f(e.a,function(e){return e[0]===t})}var s=i(3262),l=i(4140).getWeak,o=i(4185),c=i(3763),d=i(7455),u=i(2320),a=i(8607),h=i(5955),p=i(4045),f=a(5),m=a(6),g=0,v=function(){this.a=[]};v.prototype={get:function(e){var t=n(this,e);if(t)return t[1]},has:function(e){return!!n(this,e)},set:function(e,t){var i=n(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(t){var e=m(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,i,n,o){var a=e(function(e,t){d(e,a,i,"_i"),e._t=i,e._i=g++,e._l=void 0,null!=t&&u(t,n,e[o],e)});return s(a.prototype,{delete:function(e){if(!c(e))return!1;var t=l(e);return!0===t?r(p(this,i)).delete(e):t&&h(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=l(e);return!0===t?r(p(this,i)).has(e):t&&h(t,this._i)}}),a},def:function(e,t,i){var n=l(o(t),!0);return!0===n?r(e).set(t,i):n[e._i]=i,e},ufstore:r}},4016:function(e,t,i){"use strict";var v=i(9722),b=i(3183),A=i(927),y=i(3262),_=i(4140),w=i(2320),x=i(7455),k=i(3763),C=i(2549),S=i(4218),T=i(9074),E=i(5448);e.exports=function(n,e,t,i,o,a){function r(e){var i=d[e];A(d,e,"delete"==e||"has"==e?function(e){return!(a&&!k(e))&&i.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!k(e)?void 0:i.call(this,0===e?0:e)}:"add"==e?function(e){return i.call(this,0===e?0:e),this}:function(e,t){return i.call(this,0===e?0:e,t),this})}var s=v[n],l=s,c=o?"set":"add",d=l&&l.prototype,u={};if("function"==typeof l&&(a||d.forEach&&!C(function(){(new l).entries().next()}))){var h=new l,p=h[c](a?{}:-0,1)!=h,f=C(function(){h.has(1)}),m=S(function(e){new l(e)}),g=!a&&C(function(){for(var e=new l,t=5;t--;)e[c](t,t);return!e.has(-0)});m||(((l=e(function(e,t){x(e,l,n);var i=E(new s,e,l);return null!=t&&w(t,o,i[c],i),i})).prototype=d).constructor=l),(f||g)&&(r("delete"),r("has"),o&&r("get")),(g||p)&&r(c),a&&d.clear&&delete d.clear}else l=i.getConstructor(e,n,o,c),y(l.prototype,t),_.NEED=!0;return T(l,n),u[n]=l,b(b.G+b.W+b.F*(l!=s),u),a||i.setStrong(l,n,o),l}},1609:function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},1566:function(e,t,i){"use strict";var n=i(1131),o=i(3488);e.exports=function(e,t,i){t in e?n.f(e,t,o(0,i)):e[t]=i}},2623:function(e,t,i){var a=i(7280);e.exports=function(n,o,e){if(a(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,i){return n.call(o,e,t,i)}}return function(){return n.apply(o,arguments)}}},377:function(e,t,i){"use strict";function n(e){return 9<e?e:"0"+e}var o=i(2549),a=Date.prototype.getTime,r=Date.prototype.toISOString;e.exports=o(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-50000000000001))})||!o(function(){r.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),i=e<0?"-":9999<e?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+(99<t?t:"0"+n(t))+"Z"}:r},635:function(e,t,i){"use strict";var n=i(4185),o=i(4319);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(n(this),"number"!=e)}},659:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},6342:function(e,t,i){e.exports=!i(2549)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},1787:function(e,t,i){var n=i(3763),o=i(9722).document,a=n(o)&&n(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6840:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},3417:function(e,t,i){var s=i(810),l=i(3055),c=i(9673);e.exports=function(e){var t=s(e),i=l.f;if(i)for(var n,o=i(e),a=c.f,r=0;o.length>r;)a.call(e,n=o[r++])&&t.push(n);return t}},3183:function(e,t,i){var m=i(9722),g=i(1609),v=i(3639),b=i(927),A=i(2623),y=function(e,t,i){var n,o,a,r,s=e&y.F,l=e&y.G,c=e&y.S,d=e&y.P,u=e&y.B,h=l?m:c?m[t]||(m[t]={}):(m[t]||{}).prototype,p=l?g:g[t]||(g[t]={}),f=p.prototype||(p.prototype={});for(n in l&&(i=t),i)a=((o=!s&&h&&void 0!==h[n])?h:i)[n],r=u&&o?A(a,m):d&&"function"==typeof a?A(Function.call,a):a,h&&b(h,n,a,e&y.U),p[n]!=a&&v(p,n,r),d&&f[n]!=a&&(f[n]=a)};m.core=g,y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,e.exports=y},7251:function(e,t,i){var n=i(3693)("match");e.exports=function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[n]=!1,!"/./"[t](i)}catch(t){}}return!0}},2549:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7557:function(e,t,i){"use strict";i(4558);var d=i(927),u=i(3639),h=i(2549),p=i(659),f=i(3693),m=i(9904),g=f("species"),v=!h(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),b=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(i,e,t){var n=f(i),a=!h(function(){var e={};return e[n]=function(){return 7},7!=""[i](e)}),o=a?!h(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===i&&(t.constructor={},t.constructor[g]=function(){return t}),t[n](""),!e}):void 0;if(!a||!o||"replace"===i&&!v||"split"===i&&!b){var r=/./[n],s=t(p,n,""[i],function(e,t,i,n,o){return t.exec===m?a&&!o?{done:!0,value:r.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),l=s[0],c=s[1];d(String.prototype,i,l),u(RegExp.prototype,n,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}}},94:function(e,t,i){"use strict";var n=i(4185);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2431:function(e,t,i){"use strict";var f=i(9064),m=i(3763),g=i(6878),v=i(2623),b=i(3693)("isConcatSpreadable");e.exports=function e(t,i,n,o,a,r,s,l){for(var c,d,u=a,h=0,p=!!s&&v(s,l,3);h<o;){if(h in n){if(c=p?p(n[h],h,i):n[h],d=!1,m(c)&&(d=void 0!==(d=c[b])?!!d:f(c)),d&&0<r)u=e(t,i,c,g(c.length),u,r-1)-1;else{if(9007199254740991<=u)throw TypeError();t[u]=c}u++}h++}return u}},2320:function(e,t,i){var h=i(2623),p=i(524),f=i(56),m=i(4185),g=i(6878),v=i(619),b={},A={},n=e.exports=function(e,t,i,n,o){var a,r,s,l,c=o?function(){return e}:v(e),d=h(i,n,t?2:1),u=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(f(c)){for(a=g(e.length);u<a;u++)if((l=t?d(m(r=e[u])[0],r[1]):d(e[u]))===b||l===A)return l}else for(s=c.call(e);!(r=s.next()).done;)if((l=p(s,d,r.value,t))===b||l===A)return l};n.BREAK=b,n.RETURN=A},7178:function(e,t,i){e.exports=i(1734)("native-function-to-string",Function.toString)},9722:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},5955:function(e){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},3639:function(e,t,i){var n=i(1131),o=i(3488);e.exports=i(6342)?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},1143:function(e,t,i){var n=i(9722).document;e.exports=n&&n.documentElement},8842:function(e,t,i){e.exports=!i(6342)&&!i(2549)(function(){return 7!=Object.defineProperty(i(1787)("div"),"a",{get:function(){return 7}}).a})},5448:function(e,t,i){var a=i(3763),r=i(5996).set;e.exports=function(e,t,i){var n,o=t.constructor;return o!==i&&"function"==typeof o&&(n=o.prototype)!==i.prototype&&a(n)&&r&&r(e,n),e}},4933:function(e){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},5515:function(e,t,i){var n=i(8163);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},56:function(e,t,i){var n=i(5517),o=i(3693)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[o]===e)}},9064:function(e,t,i){var n=i(8163);e.exports=Array.isArray||function(e){return"Array"==n(e)}},8526:function(e,t,i){var n=i(3763),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},3763:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1859:function(e,t,i){var n=i(3763),o=i(8163),a=i(3693)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},524:function(e,t,i){var a=i(4185);e.exports=function(e,t,i,n){try{return n?t(a(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},7191:function(e,t,i){"use strict";var n=i(8153),o=i(3488),a=i(9074),r={};i(3639)(r,i(3693)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(r,{next:o(1,i)}),a(e,t+" Iterator")}},8952:function(e,t,i){"use strict";function A(){return this}var y=i(2226),_=i(3183),w=i(927),x=i(3639),k=i(5517),C=i(7191),S=i(9074),T=i(5071),E=i(3693)("iterator"),D=!([].keys&&"next"in[].keys()),I="values";e.exports=function(e,t,i,n,o,a,r){C(i,t,n);function s(e){if(!D&&e in f)return f[e];switch(e){case"keys":case I:return function(){return new i(this,e)}}return function(){return new i(this,e)}}var l,c,d,u=t+" Iterator",h=o==I,p=!1,f=e.prototype,m=f[E]||f["@@iterator"]||o&&f[o],g=m||s(o),v=o?h?s("entries"):g:void 0,b="Array"==t&&f.entries||m;if(b&&(d=T(b.call(new e)))!==Object.prototype&&d.next&&(S(d,u,!0),y||"function"==typeof d[E]||x(d,E,A)),h&&m&&m.name!==I&&(p=!0,g=function(){return m.call(this)}),y&&!r||!D&&!p&&f[E]||x(f,E,g),k[t]=g,k[u]=A,o)if(l={values:h?g:s(I),keys:a?g:s("keys"),entries:v},r)for(c in l)c in f||w(f,c,l[c]);else _(_.P+_.F*(D||p),t,l);return l}},4218:function(e,t,i){var a=i(3693)("iterator"),r=!1;try{var n=[7][a]();n.return=function(){r=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var n=[7],o=n[a]();o.next=function(){return{done:i=!0}},n[a]=function(){return o},e(n)}catch(e){}return i}},7952:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},5517:function(e){e.exports={}},2226:function(e){e.exports=!1},7593:function(e){var t=Math.expm1;e.exports=!t||22025.465794806718<t(10)||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},692:function(e,t,i){var a=i(3261),n=Math.pow,r=n(2,-52),s=n(2,-23),l=n(2,127)*(2-s),c=n(2,-126);e.exports=Math.fround||function(e){var t,i,n=Math.abs(e),o=a(e);return n<c?o*(n/c/s+1/r-1/r)*c*s:(i=(t=(1+s/r)*n)-(t-n))>l||i!=i?o*(1/0):o*i}},6385:function(e){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},3261:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},4140:function(e,t,i){function n(e){s(e,o,{value:{i:"O"+ ++l,w:{}}})}var o=i(8743)("meta"),a=i(3763),r=i(5955),s=i(1131).f,l=0,c=Object.isExtensible||function(){return!0},d=!i(2549)(function(){return c(Object.preventExtensions({}))}),u=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!c(e))return"F";if(!t)return"E";n(e)}return e[o].i},getWeak:function(e,t){if(!r(e,o)){if(!c(e))return!0;if(!t)return!1;n(e)}return e[o].w},onFreeze:function(e){return d&&u.NEED&&c(e)&&!r(e,o)&&n(e),e}}},2411:function(e,t,i){var s=i(9722),l=i(1746).set,c=s.MutationObserver||s.WebKitMutationObserver,d=s.process,u=s.Promise,h="process"==i(8163)(d);e.exports=function(){function e(){var e,t;for(h&&(e=d.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():n=void 0,e}}n=void 0,e&&e.enter()}var i,n,o;if(h)o=function(){d.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(u&&u.resolve){var t=u.resolve(void 0);o=function(){t.then(e)}}else o=function(){l.call(s,e)};else{var a=!0,r=document.createTextNode("");new c(e).observe(r,{characterData:!0}),o=function(){r.data=a=!a}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,o()),n=t}}},3988:function(e,t,i){"use strict";var o=i(7280);function n(e){var i,n;this.promise=new e(function(e,t){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=e,n=t}),this.resolve=o(i),this.reject=o(n)}e.exports.f=function(e){return new n(e)}},6651:function(e,t,i){"use strict";var h=i(6342),p=i(810),f=i(3055),m=i(9673),g=i(5913),v=i(5515),o=Object.assign;e.exports=!o||i(2549)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=o({},e)[i]||Object.keys(o({},t)).join("")!=n})?function(e,t){for(var i=g(e),n=arguments.length,o=1,a=f.f,r=m.f;o<n;)for(var s,l=v(arguments[o++]),c=a?p(l).concat(a(l)):p(l),d=c.length,u=0;u<d;)s=c[u++],h&&!r.call(l,s)||(i[s]=l[s]);return i}:o},8153:function(e,t,n){function o(){}var a=n(4185),r=n(3792),s=n(6840),l=n(7426)("IE_PROTO"),c=function(){var e,t=n(1787)("iframe"),i=s.length;for(t.style.display="none",n(1143).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c.prototype[s[i]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=a(e),i=new o,o.prototype=null,i[l]=e):i=c(),void 0===t?i:r(i,t)}},1131:function(e,t,i){var n=i(4185),o=i(8842),a=i(4319),r=Object.defineProperty;t.f=i(6342)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),o)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},3792:function(e,t,i){var r=i(1131),s=i(4185),l=i(810);e.exports=i(6342)?Object.defineProperties:function(e,t){s(e);for(var i,n=l(t),o=n.length,a=0;a<o;)r.f(e,i=n[a++],t[i]);return e}},953:function(e,t,i){var n=i(9673),o=i(3488),a=i(6329),r=i(4319),s=i(5955),l=i(8842),c=Object.getOwnPropertyDescriptor;t.f=i(6342)?c:function(e,t){if(e=a(e),t=r(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},2843:function(e,t,i){var n=i(6329),o=i(6625).f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return r.slice()}}(e):o(n(e))}},6625:function(e,t,i){var n=i(3175),o=i(6840).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},3055:function(e,t){t.f=Object.getOwnPropertySymbols},5071:function(e,t,i){var n=i(5955),o=i(5913),a=i(7426)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},3175:function(e,t,i){var r=i(5955),s=i(6329),l=i(1562)(!1),c=i(7426)("IE_PROTO");e.exports=function(e,t){var i,n=s(e),o=0,a=[];for(i in n)i!=c&&r(n,i)&&a.push(i);for(;t.length>o;)r(n,i=t[o++])&&(~l(a,i)||a.push(i));return a}},810:function(e,t,i){var n=i(3175),o=i(6840);e.exports=Object.keys||function(e){return n(e,o)}},9673:function(e,t){t.f={}.propertyIsEnumerable},7389:function(e,t,i){var o=i(3183),a=i(1609),r=i(2549);e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],n={};n[e]=t(i),o(o.S+o.F*r(function(){i(1)}),"Object",n)}},4994:function(e,t,i){var l=i(6342),c=i(810),d=i(6329),u=i(9673).f;e.exports=function(s){return function(e){for(var t,i=d(e),n=c(i),o=n.length,a=0,r=[];a<o;)t=n[a++],l&&!u.call(i,t)||r.push(s?[t,i[t]]:i[t]);return r}}},6137:function(e,t,i){var n=i(6625),o=i(3055),a=i(4185),r=i(9722).Reflect;e.exports=r&&r.ownKeys||function(e){var t=n.f(a(e)),i=o.f;return i?t.concat(i(e)):t}},3146:function(e,t,i){var n=i(9722).parseFloat,o=i(7851).trim;e.exports=1/n(i(4889)+"-0")!=-1/0?function(e){var t=o(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},4042:function(e,t,i){var n=i(9722).parseInt,o=i(7851).trim,a=i(4889),r=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var i=o(String(e),3);return n(i,t>>>0||(r.test(i)?16:10))}:n},8846:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},993:function(e,t,i){var n=i(4185),o=i(3763),a=i(3988);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},3488:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3262:function(e,t,i){var o=i(927);e.exports=function(e,t,i){for(var n in t)o(e,n,t[n],i);return e}},927:function(e,t,i){var a=i(9722),r=i(3639),s=i(5955),l=i(8743)("src"),n=i(7178),c=(""+n).split("toString");i(1609).inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,i,n){var o="function"==typeof i;o&&(s(i,"name")||r(i,"name",t)),e[t]!==i&&(o&&(s(i,l)||r(i,l,e[t]?""+e[t]:c.join(String(t)))),e===a?e[t]=i:n?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[l]||n.call(this)})},2355:function(e,t,i){"use strict";var o=i(3465),a=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var n=i.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},9904:function(e,t,i){"use strict";var n,o,a=i(94),r=RegExp.prototype.exec,s=String.prototype.replace,l=r,c=(n=/a/,o=/b*/g,r.call(n,"a"),r.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),d=void 0!==/()??/.exec("")[1];(c||d)&&(l=function(e){var t,i,n,o;return d&&(i=new RegExp("^"+this.source+"$(?!\\s)",a.call(this))),c&&(t=this.lastIndex),n=r.call(this,e),c&&n&&(this.lastIndex=this.global?n.index+n[0].length:t),d&&n&&1<n.length&&s.call(n[0],i,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n}),e.exports=l},7275:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},5996:function(e,t,o){function a(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var i=o(3763),n=o(4185);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{(n=o(2623)(Function.call,o(953).f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return a(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:a}},1724:function(e,t,i){"use strict";var n=i(9722),o=i(1131),a=i(6342),r=i(3693)("species");e.exports=function(e){var t=n[e];a&&t&&!t[r]&&o.f(t,r,{configurable:!0,get:function(){return this}})}},9074:function(e,t,i){var n=i(1131).f,o=i(5955),a=i(3693)("toStringTag");e.exports=function(e,t,i){e&&!o(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},7426:function(e,t,i){var n=i(1734)("keys"),o=i(8743);e.exports=function(e){return n[e]||(n[e]=o(e))}},1734:function(e,t,i){var n=i(1609),o=i(9722),a="__core-js_shared__",r=o[a]||(o[a]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(2226)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},8649:function(e,t,i){var o=i(4185),a=i(7280),r=i(3693)("species");e.exports=function(e,t){var i,n=o(e).constructor;return void 0===n||null==(i=o(n)[r])?t:a(i)}},6565:function(e,t,i){"use strict";var n=i(2549);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},6851:function(e,t,i){var l=i(5849),c=i(659);e.exports=function(s){return function(e,t){var i,n,o=String(c(e)),a=l(t),r=o.length;return a<0||r<=a?s?"":void 0:(i=o.charCodeAt(a))<55296||56319<i||a+1===r||(n=o.charCodeAt(a+1))<56320||57343<n?s?o.charAt(a):i:s?o.slice(a,a+2):n-56320+(i-55296<<10)+65536}}},5478:function(e,t,i){var n=i(1859),o=i(659);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(e))}},5871:function(e,t,i){function n(e,t,i,n){var o=String(r(e)),a="<"+t;return""!==i&&(a+=" "+i+'="'+String(n).replace(s,"&quot;")+'"'),a+">"+o+"</"+t+">"}var o=i(3183),a=i(2549),r=i(659),s=/"/g;e.exports=function(t,e){var i={};i[t]=e(n),o(o.P+o.F*a(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",i)}},7310:function(e,t,i){var d=i(6878),u=i(5230),h=i(659);e.exports=function(e,t,i,n){var o=String(h(e)),a=o.length,r=void 0===i?" ":String(i),s=d(t);if(s<=a||""==r)return o;var l=s-a,c=u.call(r,Math.ceil(l/r.length));return c.length>l&&(c=c.slice(0,l)),n?c+o:o+c}},5230:function(e,t,i){"use strict";var o=i(5849),a=i(659);e.exports=function(e){var t=String(a(this)),i="",n=o(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},7851:function(e,t,i){function n(e,t,i){var n={},o=s(function(){return!!l[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),a=n[e]=o?t(u):l[e];i&&(n[i]=a),r(r.P+r.F*o,"String",n)}var r=i(3183),o=i(659),s=i(2549),l=i(4889),a="["+l+"]",c=RegExp("^"+a+a+"*"),d=RegExp(a+a+"*$"),u=n.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};e.exports=n},4889:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},1746:function(e,t,i){function n(){var e=+this;if(A.hasOwnProperty(e)){var t=A[e];delete A[e],t()}}function o(e){n.call(e.data)}var a,r,s,l=i(2623),c=i(4933),d=i(1143),u=i(1787),h=i(9722),p=h.process,f=h.setImmediate,m=h.clearImmediate,g=h.MessageChannel,v=h.Dispatch,b=0,A={};f&&m||(f=function(e){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);return A[++b]=function(){c("function"==typeof e?e:Function(e),t)},a(b),b},m=function(e){delete A[e]},"process"==i(8163)(p)?a=function(e){p.nextTick(l(n,e,1))}:v&&v.now?a=function(e){v.now(l(n,e,1))}:g?(s=(r=new g).port2,r.port1.onmessage=o,a=l(s.postMessage,s,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(a=function(e){h.postMessage(e+"","*")},h.addEventListener("message",o,!1)):a="onreadystatechange"in u("script")?function(e){d.appendChild(u("script")).onreadystatechange=function(){d.removeChild(this),n.call(e)}}:function(e){setTimeout(l(n,e,1),0)}),e.exports={set:f,clear:m}},7501:function(e,t,i){var n=i(5849),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):a(e,t)}},375:function(e,t,i){var n=i(5849),o=i(6878);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=o(t);if(t!==i)throw RangeError("Wrong length!");return i}},5849:function(e){var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:t)(e)}},6329:function(e,t,i){var n=i(5515),o=i(659);e.exports=function(e){return n(o(e))}},6878:function(e,t,i){var n=i(5849),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},5913:function(e,t,i){var n=i(659);e.exports=function(e){return Object(n(e))}},4319:function(e,t,i){var o=i(3763);e.exports=function(e,t){if(!o(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!o(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!o(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!o(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},6372:function(e,t,i){"use strict";if(i(6342)){var v=i(2226),b=i(9722),A=i(2549),y=i(3183),_=i(4466),n=i(4509),h=i(2623),w=i(7455),o=i(3488),x=i(3639),a=i(3262),r=i(5849),k=i(6878),C=i(375),s=i(7501),l=i(4319),c=i(5955),S=i(3465),T=i(3763),p=i(5913),f=i(56),E=i(8153),D=i(5071),I=i(6625).f,m=i(619),d=i(8743),u=i(3693),g=i(8607),$=i(1562),P=i(8649),M=i(8298),O=i(5517),N=i(4218),L=i(1724),j=i(5540),R=i(2788),F=i(1131),z=i(953),q=F.f,H=z.f,W=b.RangeError,V=b.TypeError,U=b.Uint8Array,B="ArrayBuffer",Y="SharedArrayBuffer",K="BYTES_PER_ELEMENT",J=Array.prototype,G=n.ArrayBuffer,X=n.DataView,Q=g(0),Z=g(2),ee=g(3),te=g(4),ie=g(5),ne=g(6),oe=$(!0),ae=$(!1),re=M.values,se=M.keys,le=M.entries,ce=J.lastIndexOf,de=J.reduce,ue=J.reduceRight,he=J.join,pe=J.sort,fe=J.slice,me=J.toString,ge=J.toLocaleString,ve=u("iterator"),be=u("toStringTag"),Ae=d("typed_constructor"),ye=d("def_constructor"),_e=_.CONSTR,we=_.TYPED,xe=_.VIEW,ke="Wrong length!",Ce=g(1,function(e,t){return Ie(P(e,e[ye]),t)}),Se=A(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Te=!!U&&!!U.prototype.set&&A(function(){new U(1).set({})}),Ee=function(e,t){var i=r(e);if(i<0||i%t)throw W("Wrong offset!");return i},De=function(e){if(T(e)&&we in e)return e;throw V(e+" is not a typed array!")},Ie=function(e,t){if(!(T(e)&&Ae in e))throw V("It is not a typed array constructor!");return new e(t)},$e=function(e,t){return Pe(P(e,e[ye]),t)},Pe=function(e,t){for(var i=0,n=t.length,o=Ie(e,n);i<n;)o[i]=t[i++];return o},Me=function(e,t,i){q(e,t,{get:function(){return this._d[i]}})},Oe=function(e){var t,i,n,o,a,r,s=p(e),l=arguments.length,c=1<l?arguments[1]:void 0,d=void 0!==c,u=m(s);if(null!=u&&!f(u)){for(r=u.call(s),n=[],t=0;!(a=r.next()).done;t++)n.push(a.value);s=n}for(d&&2<l&&(c=h(c,arguments[2],2)),t=0,i=k(s.length),o=Ie(this,i);t<i;t++)o[t]=d?c(s[t],t):s[t];return o},Ne=function(){for(var e=0,t=arguments.length,i=Ie(this,t);e<t;)i[e]=arguments[e++];return i},Le=!!U&&A(function(){ge.call(new U(1))}),je=function(){return ge.apply(Le?fe.call(De(this)):De(this),arguments)},Re={copyWithin:function(e,t){return R.call(De(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return te(De(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return j.apply(De(this),arguments)},filter:function(e){return $e(this,Z(De(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return ie(De(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ne(De(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){Q(De(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return ae(De(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return oe(De(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return he.apply(De(this),arguments)},lastIndexOf:function(e){return ce.apply(De(this),arguments)},map:function(e){return Ce(De(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return de.apply(De(this),arguments)},reduceRight:function(e){return ue.apply(De(this),arguments)},reverse:function(){for(var e,t=De(this).length,i=Math.floor(t/2),n=0;n<i;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return ee(De(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return pe.call(De(this),e)},subarray:function(e,t){var i=De(this),n=i.length,o=s(e,n);return new(P(i,i[ye]))(i.buffer,i.byteOffset+o*i.BYTES_PER_ELEMENT,k((void 0===t?n:s(t,n))-o))}},Fe=function(e,t){return $e(this,fe.call(De(this),e,t))},ze=function(e){De(this);var t=Ee(arguments[1],1),i=this.length,n=p(e),o=k(n.length),a=0;if(i<o+t)throw W(ke);for(;a<o;)this[t+a]=n[a++]},qe={entries:function(){return le.call(De(this))},keys:function(){return se.call(De(this))},values:function(){return re.call(De(this))}},He=function(e,t){return T(e)&&e[we]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},We=function(e,t){return He(e,t=l(t,!0))?o(2,e[t]):H(e,t)},Ve=function(e,t,i){return!(He(e,t=l(t,!0))&&T(i)&&c(i,"value"))||c(i,"get")||c(i,"set")||i.configurable||c(i,"writable")&&!i.writable||c(i,"enumerable")&&!i.enumerable?q(e,t,i):(e[t]=i.value,e)};_e||(z.f=We,F.f=Ve),y(y.S+y.F*!_e,"Object",{getOwnPropertyDescriptor:We,defineProperty:Ve}),A(function(){me.call({})})&&(me=ge=function(){return he.call(this)});var Ue=a({},Re);a(Ue,qe),x(Ue,ve,qe.values),a(Ue,{slice:Fe,set:ze,constructor:function(){},toString:me,toLocaleString:je}),Me(Ue,"buffer","b"),Me(Ue,"byteOffset","o"),Me(Ue,"byteLength","l"),Me(Ue,"length","e"),q(Ue,be,{get:function(){return this[we]}}),e.exports=function(e,u,t,a){function h(e,o){q(e,o,{get:function(){return e=o,(t=this._d).v[i](e*u+t.o,Se);var e,t},set:function(e){return t=o,i=e,n=this._d,a&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void n.v[r](t*u+n.o,i,Se);var t,i,n},enumerable:!0})}var p=e+((a=!!a)?"Clamped":"")+"Array",i="get"+e,r="set"+e,f=b[p],s=f||{},n=f&&D(f),o=!f||!_.ABV,l={},c=f&&f.prototype;o?(f=t(function(e,t,i,n){w(e,f,p,"_d");var o,a,r,s,l=0,c=0;if(T(t)){if(!(t instanceof G||(s=S(t))==B||s==Y))return we in t?Pe(f,t):Oe.call(f,t);o=t,c=Ee(i,u);var d=t.byteLength;if(void 0===n){if(d%u)throw W(ke);if((a=d-c)<0)throw W(ke)}else if((a=k(n)*u)+c>d)throw W(ke);r=a/u}else r=C(t),o=new G(a=r*u);for(x(e,"_d",{b:o,o:c,l:a,e:r,v:new X(o)});l<r;)h(e,l++)}),c=f.prototype=E(Ue),x(c,"constructor",f)):A(function(){f(1)})&&A(function(){new f(-1)})&&N(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=t(function(e,t,i,n){var o;return w(e,f,p),T(t)?t instanceof G||(o=S(t))==B||o==Y?void 0!==n?new s(t,Ee(i,u),n):void 0!==i?new s(t,Ee(i,u)):new s(t):we in t?Pe(f,t):Oe.call(f,t):new s(C(t))}),Q(n!==Function.prototype?I(s).concat(I(n)):I(s),function(e){e in f||x(f,e,s[e])}),f.prototype=c,v||(c.constructor=f));var d=c[ve],m=!!d&&("values"==d.name||null==d.name),g=qe.values;x(f,Ae,!0),x(c,we,p),x(c,xe,!0),x(c,ye,f),(a?new f(1)[be]==p:be in c)||q(c,be,{get:function(){return p}}),l[p]=f,y(y.G+y.W+y.F*(f!=s),l),y(y.S,p,{BYTES_PER_ELEMENT:u}),y(y.S+y.F*A(function(){s.of.call(f,1)}),p,{from:Oe,of:Ne}),K in c||x(c,K,u),y(y.P,p,Re),L(p),y(y.P+y.F*Te,p,{set:ze}),y(y.P+y.F*!m,p,qe),v||c.toString==me||(c.toString=me),y(y.P+y.F*A(function(){new f(1).slice()}),p,{slice:Fe}),y(y.P+y.F*(A(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!A(function(){c.toLocaleString.call([1,2])})),p,{toLocaleString:je}),O[p]=m?d:g,v||m||x(c,ve,g)}}else e.exports=function(){}},4509:function(e,t,i){"use strict";var n=i(9722),o=i(6342),a=i(2226),r=i(4466),s=i(3639),l=i(3262),c=i(2549),d=i(7455),u=i(5849),h=i(6878),p=i(375),f=i(6625).f,m=i(1131).f,g=i(5540),v=i(9074),b="ArrayBuffer",A="DataView",y="Wrong index!",_=n.ArrayBuffer,w=n.DataView,x=n.Math,k=n.RangeError,C=n.Infinity,S=_,T=x.abs,E=x.pow,D=x.floor,I=x.log,$=x.LN2,P="byteLength",M="byteOffset",O=o?"_b":"buffer",N=o?"_l":P,L=o?"_o":M;function j(e,t,i){var n,o,a,r=new Array(i),s=8*i-t-1,l=(1<<s)-1,c=l>>1,d=23===t?E(2,-24)-E(2,-77):0,u=0,h=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===C?(o=e!=e?1:0,n=l):(n=D(I(e)/$),e*(a=E(2,-n))<1&&(n--,a*=2),2<=(e+=1<=n+c?d/a:d*E(2,1-c))*a&&(n++,a/=2),l<=n+c?(o=0,n=l):1<=n+c?(o=(e*a-1)*E(2,t),n+=c):(o=e*E(2,c-1)*E(2,t),n=0));8<=t;r[u++]=255&o,o/=256,t-=8);for(n=n<<t|o,s+=t;0<s;r[u++]=255&n,n/=256,s-=8);return r[--u]|=128*h,r}function R(e,t,i){var n,o=8*i-t-1,a=(1<<o)-1,r=a>>1,s=o-7,l=i-1,c=e[l--],d=127&c;for(c>>=7;0<s;d=256*d+e[l],l--,s-=8);for(n=d&(1<<-s)-1,d>>=-s,s+=t;0<s;n=256*n+e[l],l--,s-=8);if(0===d)d=1-r;else{if(d===a)return n?NaN:c?-C:C;n+=E(2,t),d-=r}return(c?-1:1)*n*E(2,d-t)}function F(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function z(e){return[255&e]}function q(e){return[255&e,e>>8&255]}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function W(e){return j(e,52,8)}function V(e){return j(e,23,4)}function U(e,t,i){m(e.prototype,t,{get:function(){return this[i]}})}function B(e,t,i,n){var o=p(+i);if(o+t>e[N])throw k(y);var a=e[O]._b,r=o+e[L],s=a.slice(r,r+t);return n?s:s.reverse()}function Y(e,t,i,n,o,a){var r=p(+i);if(r+t>e[N])throw k(y);for(var s=e[O]._b,l=r+e[L],c=n(+o),d=0;d<t;d++)s[l+d]=c[a?d:t-d-1]}if(r.ABV){if(!c(function(){_(1)})||!c(function(){new _(-1)})||c(function(){return new _,new _(1.5),new _(NaN),_.name!=b})){for(var K,J=(_=function(e){return d(this,_),new S(p(e))}).prototype=S.prototype,G=f(S),X=0;G.length>X;)(K=G[X++])in _||s(_,K,S[K]);a||(J.constructor=_)}var Q=new w(new _(2)),Z=w.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||l(w.prototype,{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},!0)}else _=function(e){d(this,_,b);var t=p(e);this._b=g.call(new Array(t),0),this[N]=t},w=function(e,t,i){d(this,w,A),d(e,_,A);var n=e[N],o=u(t);if(o<0||n<o)throw k("Wrong offset!");if(o+(i=void 0===i?n-o:h(i))>n)throw k("Wrong length!");this[O]=e,this[L]=o,this[N]=i},o&&(U(_,P,"_l"),U(w,"buffer","_b"),U(w,P,"_l"),U(w,M,"_o")),l(w.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return F(B(this,4,e,arguments[1]))},getUint32:function(e){return F(B(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(B(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(B(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Y(this,1,e,z,t)},setUint8:function(e,t){Y(this,1,e,z,t)},setInt16:function(e,t){Y(this,2,e,q,t,arguments[2])},setUint16:function(e,t){Y(this,2,e,q,t,arguments[2])},setInt32:function(e,t){Y(this,4,e,H,t,arguments[2])},setUint32:function(e,t){Y(this,4,e,H,t,arguments[2])},setFloat32:function(e,t){Y(this,4,e,V,t,arguments[2])},setFloat64:function(e,t){Y(this,8,e,W,t,arguments[2])}});v(_,b),v(w,A),s(w.prototype,r.VIEW,!0),t.ArrayBuffer=_,t.DataView=w},4466:function(e,t,i){for(var n,o=i(9722),a=i(3639),r=i(8743),s=r("typed_array"),l=r("view"),c=!(!o.ArrayBuffer||!o.DataView),d=c,u=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(n=o[h[u++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):d=!1;e.exports={ABV:c,CONSTR:d,TYPED:s,VIEW:l}},8743:function(e){var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},8402:function(e,t,i){var n=i(9722).navigator;e.exports=n&&n.userAgent||""},4045:function(e,t,i){var n=i(3763);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},7018:function(e,t,i){var n=i(9722),o=i(1609),a=i(2226),r=i(7672),s=i(1131).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:r.f(e)})}},7672:function(e,t,i){t.f=i(3693)},3693:function(e,t,i){var n=i(1734)("wks"),o=i(8743),a=i(9722).Symbol,r="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:o)("Symbol."+e))}).store=n},619:function(e,t,i){var n=i(3465),o=i(3693)("iterator"),a=i(5517);e.exports=i(1609).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[n(e)]}},7054:function(e,t,i){var n=i(3183);n(n.P,"Array",{copyWithin:i(2788)}),i(5711)("copyWithin")},3291:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(4);n(n.P+n.F*!i(6565)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},2863:function(e,t,i){var n=i(3183);n(n.P,"Array",{fill:i(5540)}),i(5711)("fill")},2021:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(2);n(n.P+n.F*!i(6565)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},7137:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(6),a="findIndex",r=!0;a in[]&&Array(1)[a](function(){r=!1}),n(n.P+n.F*r,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),i(5711)(a)},8971:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),i(5711)("find")},4133:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(0),a=i(6565)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},4732:function(e,t,i){"use strict";var h=i(2623),n=i(3183),p=i(5913),f=i(524),m=i(56),g=i(6878),v=i(1566),b=i(619);n(n.S+n.F*!i(4218)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,o,a=p(e),r="function"==typeof this?this:Array,s=arguments.length,l=1<s?arguments[1]:void 0,c=void 0!==l,d=0,u=b(a);if(c&&(l=h(l,2<s?arguments[2]:void 0,2)),null==u||r==Array&&m(u))for(i=new r(t=g(a.length));d<t;d++)v(i,d,c?l(a[d],d):a[d]);else for(o=u.call(a),i=new r;!(n=o.next()).done;d++)v(i,d,c?f(o,l,[n.value,d],!0):n.value);return i.length=d,i}})},5161:function(e,t,i){"use strict";var n=i(3183),o=i(1562)(!1),a=[].indexOf,r=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(r||!i(6565)(a)),"Array",{indexOf:function(e){return r?a.apply(this,arguments)||0:o(this,e,arguments[1])}})},2658:function(e,t,i){var n=i(3183);n(n.S,"Array",{isArray:i(9064)})},8298:function(e,t,i){"use strict";var n=i(5711),o=i(7952),a=i(5517),r=i(6329);e.exports=i(8952)(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},939:function(e,t,i){"use strict";var n=i(3183),o=i(6329),a=[].join;n(n.P+n.F*(i(5515)!=Object||!i(6565)(a)),"Array",{join:function(e){return a.call(o(this),void 0===e?",":e)}})},343:function(e,t,i){"use strict";var n=i(3183),o=i(6329),a=i(5849),r=i(6878),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(6565)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=o(this),i=r(t.length),n=i-1;for(1<arguments.length&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=i+n);0<=n;n--)if(n in t&&t[n]===e)return n||0;return-1}})},190:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(1);n(n.P+n.F*!i(6565)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},3819:function(e,t,i){"use strict";var n=i(3183),o=i(1566);n(n.S+n.F*i(2549)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);e<t;)o(i,e,arguments[e++]);return i.length=t,i}})},4660:function(e,t,i){"use strict";var n=i(3183),o=i(8602);n(n.P+n.F*!i(6565)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},5244:function(e,t,i){"use strict";var n=i(3183),o=i(8602);n(n.P+n.F*!i(6565)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},8284:function(e,t,i){"use strict";var n=i(3183),o=i(1143),c=i(8163),d=i(7501),u=i(6878),h=[].slice;n(n.P+n.F*i(2549)(function(){o&&h.call(o)}),"Array",{slice:function(e,t){var i=u(this.length),n=c(this);if(t=void 0===t?i:t,"Array"==n)return h.call(this,e,t);for(var o=d(e,i),a=d(t,i),r=u(a-o),s=new Array(r),l=0;l<r;l++)s[l]="String"==n?this.charAt(o+l):this[o+l];return s}})},9964:function(e,t,i){"use strict";var n=i(3183),o=i(8607)(3);n(n.P+n.F*!i(6565)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},4051:function(e,t,i){"use strict";var n=i(3183),o=i(7280),a=i(5913),r=i(2549),s=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!i(6565)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),o(e))}})},8247:function(e,t,i){i(1724)("Array")},8990:function(e,t,i){var n=i(3183);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},6009:function(e,t,i){var n=i(3183),o=i(377);n(n.P+n.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},4071:function(e,t,i){"use strict";var n=i(3183),o=i(5913),a=i(4319);n(n.P+n.F*i(2549)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),i=a(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},8259:function(e,t,i){var n=i(3693)("toPrimitive"),o=Date.prototype;n in o||i(3639)(o,n,i(635))},4467:function(e,t,i){var n=Date.prototype,o="Invalid Date",a=n.toString,r=n.getTime;new Date(NaN)+""!=o&&i(927)(n,"toString",function(){var e=r.call(this);return e==e?a.call(this):o})},4066:function(e,t,i){var n=i(3183);n(n.P,"Function",{bind:i(5614)})},4863:function(e,t,i){"use strict";var n=i(3763),o=i(5071),a=i(3693)("hasInstance"),r=Function.prototype;a in r||i(1131).f(r,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},4096:function(e,t,i){var n=i(1131).f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||i(6342)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},5458:function(e,t,i){"use strict";var n=i(8382),o=i(4045);e.exports=i(4016)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},3753:function(e,t,i){var n=i(3183),o=i(6385),a=Math.sqrt,r=Math.acosh;n(n.S+n.F*!(r&&710==Math.floor(r(Number.MAX_VALUE))&&r(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+a(e-1)*a(e+1))}})},7258:function(e,t,i){var n=i(3183),o=Math.asinh;n(n.S+n.F*!(o&&0<1/o(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},3879:function(e,t,i){var n=i(3183),o=Math.atanh;n(n.S+n.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},7279:function(e,t,i){var n=i(3183),o=i(3261);n(n.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},2838:function(e,t,i){var n=i(3183);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},5386:function(e,t,i){var n=i(3183),o=Math.exp;n(n.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},6245:function(e,t,i){var n=i(3183),o=i(7593);n(n.S+n.F*(o!=Math.expm1),"Math",{expm1:o})},7940:function(e,t,i){var n=i(3183);n(n.S,"Math",{fround:i(692)})},9204:function(e,t,i){var n=i(3183),l=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,o=0,a=0,r=arguments.length,s=0;a<r;)s<(i=l(arguments[a++]))?(o=o*(n=s/i)*n+1,s=i):o+=0<i?(n=i/s)*n:i;return s===1/0?1/0:s*Math.sqrt(o)}})},3060:function(e,t,i){var n=i(3183),o=Math.imul;n(n.S+n.F*i(2549)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var i=+e,n=+t,o=65535&i,a=65535&n;return 0|o*a+((65535&i>>>16)*a+o*(65535&n>>>16)<<16>>>0)}})},5673:function(e,t,i){var n=i(3183);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},4134:function(e,t,i){var n=i(3183);n(n.S,"Math",{log1p:i(6385)})},1656:function(e,t,i){var n=i(3183);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},7420:function(e,t,i){var n=i(3183);n(n.S,"Math",{sign:i(3261)})},7803:function(e,t,i){var n=i(3183),o=i(7593),a=Math.exp;n(n.S+n.F*i(2549)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},326:function(e,t,i){var n=i(3183),o=i(7593),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=o(e=+e),i=o(-e);return t==1/0?1:i==1/0?-1:(t-i)/(a(e)+a(-e))}})},280:function(e,t,i){var n=i(3183);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},5998:function(e,t,i){"use strict";function n(e){var t=d(e,!1);if("string"==typeof t&&2<t.length){var i,n,o,a=(t=A?t.trim():p(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var r,s=t.slice(2),l=0,c=s.length;l<c;l++)if((r=s.charCodeAt(l))<48||o<r)return NaN;return parseInt(s,n)}}return+t}var o=i(9722),a=i(5955),r=i(8163),s=i(5448),d=i(4319),l=i(2549),c=i(6625).f,u=i(953).f,h=i(1131).f,p=i(7851).trim,f="Number",m=o.Number,g=m,v=m.prototype,b=r(i(8153)(v))==f,A="trim"in String.prototype;if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof m&&(b?l(function(){v.valueOf.call(i)}):r(i)!=f)?s(new g(n(t)),i,m):n(t)};for(var y,_=i(6342)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)a(g,y=_[w])&&!a(m,y)&&h(m,y,u(g,y));(m.prototype=v).constructor=m,i(927)(o,f,m)}},4786:function(e,t,i){var n=i(3183);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},4777:function(e,t,i){var n=i(3183),o=i(9722).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},8053:function(e,t,i){var n=i(3183);n(n.S,"Number",{isInteger:i(8526)})},339:function(e,t,i){var n=i(3183);n(n.S,"Number",{isNaN:function(e){return e!=e}})},5565:function(e,t,i){var n=i(3183),o=i(8526),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return o(e)&&a(e)<=9007199254740991}})},8267:function(e,t,i){var n=i(3183);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},828:function(e,t,i){var n=i(3183);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},3591:function(e,t,i){var n=i(3183),o=i(3146);n(n.S+n.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},9840:function(e,t,i){var n=i(3183),o=i(4042);n(n.S+n.F*(Number.parseInt!=o),"Number",{parseInt:o})},1551:function(e,t,i){"use strict";function c(e,t){for(var i=-1,n=t;++i<6;)n+=e*r[i],r[i]=n%1e7,n=a(n/1e7)}function d(e){for(var t=6,i=0;0<=--t;)i+=r[t],r[t]=a(i/e),i=i%e*1e7}function u(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==r[e]){var i=String(r[e]);t=""===t?i:t+f.call("0",7-i.length)+i}return t}var n=i(3183),h=i(5849),p=i(6673),f=i(5230),o=1..toFixed,a=Math.floor,r=[0,0,0,0,0,0],m="Number.toFixed: incorrect invocation!",g=function(e,t,i){return 0===t?i:t%2==1?g(e,t-1,i*e):g(e*e,t/2,i)};n(n.P+n.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(2549)(function(){o.call({})})),"Number",{toFixed:function(e){var t,i,n,o,a=p(this,m),r=h(e),s="",l="0";if(r<0||20<r)throw RangeError(m);if(a!=a)return"NaN";if(a<=-1e21||1e21<=a)return String(a);if(a<0&&(s="-",a=-a),1e-21<a)if(i=(t=function(){for(var e=0,t=a*g(2,69,1);4096<=t;)e+=12,t/=4096;for(;2<=t;)e+=1,t/=2;return e}()-69)<0?a*g(2,-t,1):a/g(2,t,1),i*=4503599627370496,0<(t=52-t)){for(c(0,i),n=r;7<=n;)c(1e7,0),n-=7;for(c(g(10,n,1),0),n=t-1;23<=n;)d(1<<23),n-=23;d(1<<n),c(1,1),d(2),l=u()}else c(0,i),c(1<<-t,0),l=u()+f.call("0",r);return 0<r?s+((o=l.length)<=r?"0."+f.call("0",r-o)+l:l.slice(0,o-r)+"."+l.slice(o-r)):s+l}})},4512:function(e,t,i){"use strict";var n=i(3183),o=i(2549),a=i(6673),r=1..toPrecision;n(n.P+n.F*(o(function(){return"1"!==r.call(1,void 0)})||!o(function(){r.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?r.call(t):r.call(t,e)}})},4903:function(e,t,i){var n=i(3183);n(n.S+n.F,"Object",{assign:i(6651)})},8168:function(e,t,i){var n=i(3183);n(n.S,"Object",{create:i(8153)})},1736:function(e,t,i){var n=i(3183);n(n.S+n.F*!i(6342),"Object",{defineProperties:i(3792)})},3040:function(e,t,i){var n=i(3183);n(n.S+n.F*!i(6342),"Object",{defineProperty:i(1131).f})},8080:function(e,t,i){var n=i(3763),o=i(4140).onFreeze;i(7389)("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},103:function(e,t,i){var n=i(6329),o=i(953).f;i(7389)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},6336:function(e,t,i){i(7389)("getOwnPropertyNames",function(){return i(2843).f})},7798:function(e,t,i){var n=i(5913),o=i(5071);i(7389)("getPrototypeOf",function(){return function(e){return o(n(e))}})},5377:function(e,t,i){var n=i(3763);i(7389)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},3185:function(e,t,i){var n=i(3763);i(7389)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},5865:function(e,t,i){var n=i(3763);i(7389)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},9633:function(e,t,i){var n=i(3183);n(n.S,"Object",{is:i(7275)})},6649:function(e,t,i){var n=i(5913),o=i(810);i(7389)("keys",function(){return function(e){return o(n(e))}})},8044:function(e,t,i){var n=i(3763),o=i(4140).onFreeze;i(7389)("preventExtensions",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},2844:function(e,t,i){var n=i(3763),o=i(4140).onFreeze;i(7389)("seal",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},9530:function(e,t,i){var n=i(3183);n(n.S,"Object",{setPrototypeOf:i(5996).set})},1950:function(e,t,i){"use strict";var n=i(3465),o={};o[i(3693)("toStringTag")]="z",o+""!="[object z]"&&i(927)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},3105:function(e,t,i){var n=i(3183),o=i(3146);n(n.G+n.F*(parseFloat!=o),{parseFloat:o})},1971:function(e,t,i){var n=i(3183),o=i(4042);n(n.G+n.F*(parseInt!=o),{parseInt:o})},5744:function(e,t,i){"use strict";function n(){}function u(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t}function o(d,i){if(!d._n){d._n=!0;var n=d._c;w(function(){for(var l=d._v,c=1==d._s,e=0,t=function(e){var t,i,n,o=c?e.ok:e.fail,a=e.resolve,r=e.reject,s=e.domain;try{o?(c||(2==d._h&&R(d),d._h=1),!0===o?t=l:(s&&s.enter(),t=o(l),s&&(s.exit(),n=!0)),t===e.promise?r(E("Promise-chain cycle")):(i=u(t))?i.call(t,a,r):a(t)):r(l)}catch(e){s&&!n&&s.exit(),r(e)}};n.length>e;)t(n[e++]);d._c=[],d._n=!1,i&&!d._h&&L(d)})}}function a(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),o(t,!0))}var r,s,l,c,d=i(2226),h=i(9722),p=i(2623),f=i(3465),m=i(3183),g=i(3763),v=i(7280),b=i(7455),A=i(2320),y=i(8649),_=i(1746).set,w=i(2411)(),x=i(3988),k=i(8846),C=i(8402),S=i(993),T="Promise",E=h.TypeError,D=h.process,I=D&&D.versions,$=I&&I.v8||"",P=h.Promise,M="process"==f(D),O=s=x.f,N=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[i(3693)("species")]=function(e){e(n,n)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(n)instanceof t&&0!==$.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),L=function(a){_.call(h,function(){var e,t,i,n=a._v,o=j(a);if(o&&(e=k(function(){M?D.emit("unhandledRejection",n,a):(t=h.onunhandledrejection)?t({promise:a,reason:n}):(i=h.console)&&i.error&&i.error("Unhandled promise rejection",n)}),a._h=M||j(a)?2:1),a._a=void 0,o&&e.e)throw e.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(t){_.call(h,function(){var e;M?D.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(i=u(e))?w(function(){var t={_w:n,_d:!1};try{i.call(e,p(F,t,1),p(a,t,1))}catch(e){a.call(t,e)}}):(n._v=e,n._s=1,o(n,!1))}catch(e){a.call({_w:n,_d:!1},e)}}};N||(P=function(e){b(this,P,T,"_h"),v(e),r.call(this);try{e(p(F,this,1),p(a,this,1))}catch(e){a.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(3262)(P.prototype,{then:function(e,t){var i=O(y(this,P));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=M?D.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&o(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new r;this.promise=e,this.resolve=p(F,e,1),this.reject=p(a,e,1)},x.f=O=function(e){return e===P||e===c?new l(e):s(e)}),m(m.G+m.W+m.F*!N,{Promise:P}),i(9074)(P,T),i(1724)(T),c=i(1609).Promise,m(m.S+m.F*!N,T,{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),m(m.S+m.F*(d||!N),T,{resolve:function(e){return S(d&&this===c?P:this,e)}}),m(m.S+m.F*!(N&&i(4218)(function(e){P.all(e).catch(n)})),T,{all:function(e){var r=this,t=O(r),s=t.resolve,l=t.reject,i=k(function(){var n=[],o=0,a=1;A(e,!1,function(e){var t=o++,i=!1;n.push(void 0),a++,r.resolve(e).then(function(e){i||(i=!0,n[t]=e,--a||s(n))},l)}),--a||s(n)});return i.e&&l(i.v),t.promise},race:function(e){var t=this,i=O(t),n=i.reject,o=k(function(){A(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return o.e&&n(o.v),i.promise}})},1958:function(e,t,i){var n=i(3183),a=i(7280),r=i(4185),s=(i(9722).Reflect||{}).apply,l=Function.apply;n(n.S+n.F*!i(2549)(function(){s(function(){})}),"Reflect",{apply:function(e,t,i){var n=a(e),o=r(i);return s?s(n,t,o):l.call(n,t,o)}})},5158:function(e,t,i){var n=i(3183),s=i(8153),l=i(7280),c=i(4185),d=i(3763),o=i(2549),u=i(5614),h=(i(9722).Reflect||{}).construct,p=o(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),f=!o(function(){h(function(){})});n(n.S+n.F*(p||f),"Reflect",{construct:function(e,t){l(e),c(t);var i=arguments.length<3?e:l(arguments[2]);if(f&&!p)return h(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var o=i.prototype,a=s(d(o)?o:Object.prototype),r=Function.apply.call(e,a,t);return d(r)?r:a}})},2408:function(e,t,i){var n=i(1131),o=i(3183),a=i(4185),r=i(4319);o(o.S+o.F*i(2549)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){a(e),t=r(t,!0),a(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},4075:function(e,t,i){var n=i(3183),o=i(953).f,a=i(4185);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=o(a(e),t);return!(i&&!i.configurable)&&delete e[t]}})},3179:function(e,t,i){"use strict";function n(e){this._t=a(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)}var o=i(3183),a=i(4185);i(7191)(n,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new n(e)}})},2504:function(e,t,i){var n=i(953),o=i(3183),a=i(4185);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},4237:function(e,t,i){var n=i(3183),o=i(5071),a=i(4185);n(n.S,"Reflect",{getPrototypeOf:function(e){return o(a(e))}})},6772:function(e,t,i){var s=i(953),l=i(5071),c=i(5955),n=i(3183),d=i(3763),u=i(4185);n(n.S,"Reflect",{get:function e(t,i,n){var o,a,r=arguments.length<3?t:n;return u(t)===r?t[i]:(o=s.f(t,i))?c(o,"value")?o.value:void 0!==o.get?o.get.call(r):void 0:d(a=l(t))?e(a,i,r):void 0}})},3982:function(e,t,i){var n=i(3183);n(n.S,"Reflect",{has:function(e,t){return t in e}})},3400:function(e,t,i){var n=i(3183),o=i(4185),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return o(e),!a||a(e)}})},2202:function(e,t,i){var n=i(3183);n(n.S,"Reflect",{ownKeys:i(6137)})},6457:function(e,t,i){var n=i(3183),o=i(4185),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){o(e);try{return a&&a(e),!0}catch(e){return!1}}})},4354:function(e,t,i){var n=i(3183),o=i(5996);o&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},8420:function(e,t,i){var c=i(1131),d=i(953),u=i(5071),h=i(5955),n=i(3183),p=i(3488),f=i(4185),m=i(3763);n(n.S,"Reflect",{set:function e(t,i,n,o){var a,r,s=arguments.length<4?t:o,l=d.f(f(t),i);if(!l){if(m(r=u(t)))return e(r,i,n,s);l=p(0)}if(h(l,"value")){if(!1===l.writable||!m(s))return!1;if(a=d.f(s,i)){if(a.get||a.set||!1===a.writable)return!1;a.value=n,c.f(s,i,a)}else c.f(s,i,p(0,n));return!0}return void 0!==l.set&&(l.set.call(s,n),!0)}})},2724:function(e,t,i){var n=i(9722),a=i(5448),o=i(1131).f,r=i(6625).f,s=i(1859),l=i(94),c=n.RegExp,d=c,u=c.prototype,h=/a/g,p=/a/g,f=new c(h)!==h;if(i(6342)&&(!f||i(2549)(function(){return p[i(3693)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(e,t){var i=this instanceof c,n=s(e),o=void 0===t;return!i&&n&&e.constructor===c&&o?e:a(f?new d(n&&!o?e.source:e,t):d((n=e instanceof c)?e.source:e,n&&o?l.call(e):t),i?this:u,c)};function m(t){t in c||o(c,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})}for(var g=r(d),v=0;g.length>v;)m(g[v++]);(u.constructor=c).prototype=u,i(927)(n,"RegExp",c)}i(1724)("RegExp")},4558:function(e,t,i){"use strict";var n=i(9904);i(3183)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},9812:function(e,t,i){i(6342)&&"g"!=/./g.flags&&i(1131).f(RegExp.prototype,"flags",{configurable:!0,get:i(94)})},8666:function(e,t,i){"use strict";var u=i(4185),h=i(6878),p=i(1052),f=i(2355);i(7557)("match",1,function(n,o,c,d){return[function(e){var t=n(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=d(c,e,this);if(t.done)return t.value;var i=u(e),n=String(this);if(!i.global)return f(i,n);for(var o,a=i.unicode,r=[],s=i.lastIndex=0;null!==(o=f(i,n));){var l=String(o[0]);""===(r[s]=l)&&(i.lastIndex=p(n,h(i.lastIndex),a)),s++}return 0===s?null:r}]})},2164:function(e,t,i){"use strict";var k=i(4185),n=i(5913),C=i(6878),S=i(5849),T=i(1052),E=i(2355),D=Math.max,I=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;i(7557)("replace",2,function(o,a,_,w){return[function(e,t){var i=o(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):_.call(String(i),e,t)},function(e,t){var i=w(_,e,this,t);if(i.done)return i.value;var n=k(e),o=String(this),a="function"==typeof t;a||(t=String(t));var r=n.global;if(r){var s=n.unicode;n.lastIndex=0}for(var l=[];;){var c=E(n,o);if(null===c)break;if(l.push(c),!r)break;""===String(c[0])&&(n.lastIndex=T(o,C(n.lastIndex),s))}for(var d,u="",h=0,p=0;p<l.length;p++){c=l[p];for(var f=String(c[0]),m=D(I(S(c.index),o.length),0),g=[],v=1;v<c.length;v++)g.push(void 0===(d=c[v])?d:String(d));var b=c.groups;if(a){var A=[f].concat(g,m,o);void 0!==b&&A.push(b);var y=String(t.apply(void 0,A))}else y=x(f,o,m,g,b,t);h<=m&&(u+=o.slice(h,m)+y,h=m+f.length)}return u+o.slice(h)}];function x(a,r,s,l,c,e){var d=s+a.length,u=l.length,t=f;return void 0!==c&&(c=n(c),t=p),_.call(e,t,function(e,t){var i;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return r.slice(0,s);case"'":return r.slice(d);case"<":i=c[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(u<n){var o=h(n/10);return 0===o?e:o<=u?void 0===l[o-1]?t.charAt(1):l[o-1]+t.charAt(1):e}i=l[n-1]}return void 0===i?"":i})}})},8877:function(e,t,i){"use strict";var l=i(4185),c=i(7275),d=i(2355);i(7557)("search",1,function(n,o,r,s){return[function(e){var t=n(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=s(r,e,this);if(t.done)return t.value;var i=l(e),n=String(this),o=i.lastIndex;c(o,0)||(i.lastIndex=0);var a=d(i,n);return c(i.lastIndex,o)||(i.lastIndex=o),null===a?-1:a.index}]})},293:function(e,t,i){"use strict";var u=i(1859),A=i(4185),y=i(8649),_=i(1052),w=i(6878),x=i(2355),h=i(9904),n=i(2549),k=Math.min,p=[].push,C=4294967295,S=!n(function(){RegExp(C,"y")});i(7557)("split",2,function(o,a,g,v){var b;return b="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!u(e))return g.call(i,e,t);for(var n,o,a,r=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=void 0===t?C:t>>>0,d=new RegExp(e.source,s+"g");(n=h.call(d,i))&&!((o=d.lastIndex)>l&&(r.push(i.slice(l,n.index)),1<n.length&&n.index<i.length&&p.apply(r,n.slice(1)),a=n[0].length,l=o,r.length>=c));)d.lastIndex===n.index&&d.lastIndex++;return l===i.length?!a&&d.test("")||r.push(""):r.push(i.slice(l)),r.length>c?r.slice(0,c):r}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:g.call(this,e,t)}:g,[function(e,t){var i=o(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):b.call(String(i),e,t)},function(e,t){var i=v(b,e,this,t,b!==g);if(i.done)return i.value;var n=A(e),o=String(this),a=y(n,RegExp),r=n.unicode,s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(S?"y":"g"),l=new a(S?n:"^(?:"+n.source+")",s),c=void 0===t?C:t>>>0;if(0==c)return[];if(0===o.length)return null===x(l,o)?[o]:[];for(var d=0,u=0,h=[];u<o.length;){l.lastIndex=S?u:0;var p,f=x(l,S?o:o.slice(u));if(null===f||(p=k(w(l.lastIndex+(S?0:u)),o.length))===d)u=_(o,u,r);else{if(h.push(o.slice(d,u)),h.length===c)return h;for(var m=1;m<=f.length-1;m++)if(h.push(f[m]),h.length===c)return h;u=d=p}}return h.push(o.slice(d)),h}]})},8208:function(e,t,i){"use strict";i(9812);function n(e){i(927)(RegExp.prototype,"toString",e,!0)}var o=i(4185),a=i(94),r=i(6342),s=/./.toString;i(2549)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?n(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?a.call(e):void 0)}):"toString"!=s.name&&n(function(){return s.call(this)})},1443:function(e,t,i){"use strict";var n=i(8382),o=i(4045);e.exports=i(4016)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},3498:function(e,t,i){"use strict";i(5871)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},6014:function(e,t,i){"use strict";i(5871)("big",function(e){return function(){return e(this,"big","","")}})},5264:function(e,t,i){"use strict";i(5871)("blink",function(e){return function(){return e(this,"blink","","")}})},4971:function(e,t,i){"use strict";i(5871)("bold",function(e){return function(){return e(this,"b","","")}})},9550:function(e,t,i){"use strict";var n=i(3183),o=i(6851)(!1);n(n.P,"String",{codePointAt:function(e){return o(this,e)}})},5187:function(e,t,i){"use strict";var n=i(3183),r=i(6878),s=i(5478),l="".endsWith;n(n.P+n.F*i(7251)("endsWith"),"String",{endsWith:function(e){var t=s(this,e,"endsWith"),i=1<arguments.length?arguments[1]:void 0,n=r(t.length),o=void 0===i?n:Math.min(r(i),n),a=String(e);return l?l.call(t,a,o):t.slice(o-a.length,o)===a}})},7873:function(e,t,i){"use strict";i(5871)("fixed",function(e){return function(){return e(this,"tt","","")}})},4359:function(e,t,i){"use strict";i(5871)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},739:function(e,t,i){"use strict";i(5871)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},8003:function(e,t,i){var n=i(3183),a=i(7501),r=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;o<n;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},7905:function(e,t,i){"use strict";var n=i(3183),o=i(5478);n(n.P+n.F*i(7251)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},7808:function(e,t,i){"use strict";i(5871)("italics",function(e){return function(){return e(this,"i","","")}})},1769:function(e,t,i){"use strict";var n=i(6851)(!0);i(8952)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},312:function(e,t,i){"use strict";i(5871)("link",function(t){return function(e){return t(this,"a","href",e)}})},2802:function(e,t,i){var n=i(3183),r=i(6329),s=i(6878);n(n.S,"String",{raw:function(e){for(var t=r(e.raw),i=s(t.length),n=arguments.length,o=[],a=0;a<i;)o.push(String(t[a++])),a<n&&o.push(String(arguments[a]));return o.join("")}})},9688:function(e,t,i){var n=i(3183);n(n.P,"String",{repeat:i(5230)})},4444:function(e,t,i){"use strict";i(5871)("small",function(e){return function(){return e(this,"small","","")}})},4835:function(e,t,i){"use strict";var n=i(3183),o=i(6878),a=i(5478),r="startsWith",s="".startsWith;n(n.P+n.F*i(7251)(r),"String",{startsWith:function(e){var t=a(this,e,r),i=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,i):t.slice(i,i+n.length)===n}})},4309:function(e,t,i){"use strict";i(5871)("strike",function(e){return function(){return e(this,"strike","","")}})},3067:function(e,t,i){"use strict";i(5871)("sub",function(e){return function(){return e(this,"sub","","")}})},116:function(e,t,i){"use strict";i(5871)("sup",function(e){return function(){return e(this,"sup","","")}})},7547:function(e,t,i){"use strict";i(7851)("trim",function(e){return function(){return e(this,3)}})},8661:function(e,t,i){"use strict";function n(e){var t=B[e]=I(F.prototype);return t._k=e,t}function o(e,t){k(e);for(var i,n=w(t=T(t)),o=0,a=n.length;o<a;)ee(e,i=n[o++],t[i]);return e}function a(e){var t=V.call(this,e=E(e,!0));return!(this===K&&d(B,e)&&!d(Y,e))&&(!(t||!d(this,e)||!d(B,e)||d(this,H)&&this[H][e])||t)}function r(e,t){if(e=T(e),t=E(t,!0),e!==K||!d(B,t)||d(Y,t)){var i=L(e,t);return!i||!d(B,t)||d(e,H)&&e[H][t]||(i.enumerable=!0),i}}function s(e){for(var t,i=R(T(e)),n=[],o=0;i.length>o;)d(B,t=i[o++])||t==H||t==f||n.push(t);return n}function l(e){for(var t,i=e===K,n=R(i?Y:T(e)),o=[],a=0;n.length>a;)!d(B,t=n[a++])||i&&!d(K,t)||o.push(B[t]);return o}var c=i(9722),d=i(5955),u=i(6342),h=i(3183),p=i(927),f=i(4140).KEY,m=i(2549),g=i(1734),v=i(9074),b=i(8743),A=i(3693),y=i(7672),_=i(7018),w=i(3417),x=i(9064),k=i(4185),C=i(3763),S=i(5913),T=i(6329),E=i(4319),D=i(3488),I=i(8153),$=i(2843),P=i(953),M=i(3055),O=i(1131),N=i(810),L=P.f,j=O.f,R=$.f,F=c.Symbol,z=c.JSON,q=z&&z.stringify,H=A("_hidden"),W=A("toPrimitive"),V={}.propertyIsEnumerable,U=g("symbol-registry"),B=g("symbols"),Y=g("op-symbols"),K=Object.prototype,J="function"==typeof F&&!!M.f,G=c.QObject,X=!G||!G.prototype||!G.prototype.findChild,Q=u&&m(function(){return 7!=I(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=L(K,t);n&&delete K[t],j(e,t,i),n&&e!==K&&j(K,t,n)}:j,Z=J&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},ee=function(e,t,i){return e===K&&ee(Y,t,i),k(e),t=E(t,!0),k(i),d(B,t)?(i.enumerable?(d(e,H)&&e[H][t]&&(e[H][t]=!1),i=I(i,{enumerable:D(0,!1)})):(d(e,H)||j(e,H,D(1,{})),e[H][t]=!0),Q(e,t,i)):j(e,t,i)};J||(p((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=b(0<arguments.length?arguments[0]:void 0),i=function(e){this===K&&i.call(Y,e),d(this,H)&&d(this[H],t)&&(this[H][t]=!1),Q(this,t,D(1,e))};return u&&X&&Q(K,t,{configurable:!0,set:i}),n(t)}).prototype,"toString",function(){return this._k}),P.f=r,O.f=ee,i(6625).f=$.f=s,i(9673).f=a,M.f=l,u&&!i(2226)&&p(K,"propertyIsEnumerable",a,!0),y.f=function(e){return n(A(e))}),h(h.G+h.W+h.F*!J,{Symbol:F});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)A(te[ie++]);for(var ne=N(A.store),oe=0;ne.length>oe;)_(ne[oe++]);h(h.S+h.F*!J,"Symbol",{for:function(e){return d(U,e+="")?U[e]:U[e]=F(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){X=!0},useSimple:function(){X=!1}}),h(h.S+h.F*!J,"Object",{create:function(e,t){return void 0===t?I(e):o(I(e),t)},defineProperty:ee,defineProperties:o,getOwnPropertyDescriptor:r,getOwnPropertyNames:s,getOwnPropertySymbols:l});var ae=m(function(){M.f(1)});h(h.S+h.F*ae,"Object",{getOwnPropertySymbols:function(e){return M.f(S(e))}}),z&&h(h.S+h.F*(!J||m(function(){var e=F();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],o=1;o<arguments.length;)n.push(arguments[o++]);if(i=t=n[1],(C(t)||void 0!==e)&&!Z(e))return x(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!Z(t))return t}),n[1]=t,q.apply(z,n)}}),F.prototype[W]||i(3639)(F.prototype,W,F.prototype.valueOf),v(F,"Symbol"),v(Math,"Math",!0),v(c.JSON,"JSON",!0)},1392:function(e,t,i){"use strict";var n=i(3183),o=i(4466),a=i(4509),c=i(4185),d=i(7501),u=i(6878),r=i(3763),s=i(9722).ArrayBuffer,h=i(8649),p=a.ArrayBuffer,f=a.DataView,l=o.ABV&&s.isView,m=p.prototype.slice,g=o.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(s!==p),{ArrayBuffer:p}),n(n.S+n.F*!o.CONSTR,v,{isView:function(e){return l&&l(e)||r(e)&&g in e}}),n(n.P+n.U+n.F*i(2549)(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(c(this),e);for(var i=c(this).byteLength,n=d(e,i),o=d(void 0===t?i:t,i),a=new(h(this,p))(u(o-n)),r=new f(this),s=new f(a),l=0;n<o;)s.setUint8(l++,r.getUint8(n++));return a}}),i(1724)(v)},2989:function(e,t,i){var n=i(3183);n(n.G+n.W+n.F*!i(4466).ABV,{DataView:i(4509).DataView})},5646:function(e,t,i){i(6372)("Float32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},1758:function(e,t,i){i(6372)("Float64",8,function(n){return function(e,t,i){return n(this,e,t,i)}})},9915:function(e,t,i){i(6372)("Int16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},7421:function(e,t,i){i(6372)("Int32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},9261:function(e,t,i){i(6372)("Int8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},215:function(e,t,i){i(6372)("Uint16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},1495:function(e,t,i){i(6372)("Uint32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},245:function(e,t,i){i(6372)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},9933:function(e,t,i){i(6372)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}},!0)},3686:function(e,t,i){"use strict";function n(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var a,o=i(9722),r=i(8607)(0),s=i(927),l=i(4140),c=i(6651),d=i(7328),u=i(3763),h=i(4045),p=i(4045),f=!o.ActiveXObject&&"ActiveXObject"in o,m="WeakMap",g=l.getWeak,v=Object.isExtensible,b=d.ufstore,A={get:function(e){if(u(e)){var t=g(e);return!0===t?b(h(this,m)).get(e):t?t[this._i]:void 0}},set:function(e,t){return d.def(h(this,m),e,t)}},y=e.exports=i(4016)(m,n,A,d,!0,!0);p&&f&&(c((a=d.getConstructor(n,m)).prototype,A),l.NEED=!0,r(["delete","has","get","set"],function(n){var e=y.prototype,o=e[n];s(e,n,function(e,t){if(!u(e)||v(e))return o.call(this,e,t);this._f||(this._f=new a);var i=this._f[n](e,t);return"set"==n?this:i})}))},5844:function(e,t,i){"use strict";var n=i(7328),o=i(4045);i(4016)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"WeakSet"),e,!0)}},n,!1,!0)},958:function(e,t,i){"use strict";var n=i(3183),o=i(2431),a=i(5913),r=i(6878),s=i(7280),l=i(9563);n(n.P,"Array",{flatMap:function(e){var t,i,n=a(this);return s(e),t=r(n.length),i=l(n,0),o(i,n,n,t,0,1,e,arguments[1]),i}}),i(5711)("flatMap")},5519:function(e,t,i){"use strict";var n=i(3183),o=i(1562)(!0);n(n.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),i(5711)("includes")},6160:function(e,t,i){var n=i(3183),o=i(4994)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},3978:function(e,t,i){var n=i(3183),l=i(6137),c=i(6329),d=i(953),u=i(1566);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=c(e),o=d.f,a=l(n),r={},s=0;a.length>s;)void 0!==(i=o(n,t=a[s++]))&&u(r,t,i);return r}})},3759:function(e,t,i){var n=i(3183),o=i(4994)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},1793:function(e,t,i){"use strict";var n=i(3183),o=i(1609),a=i(9722),r=i(8649),s=i(993);n(n.P+n.R,"Promise",{finally:function(t){var i=r(this,o.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return s(i,t()).then(function(){return e})}:t,e?function(e){return s(i,t()).then(function(){throw e})}:t)}})},2026:function(e,t,i){"use strict";var n=i(3183),o=i(7310),a=i(8402),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*r,"String",{padEnd:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},9040:function(e,t,i){"use strict";var n=i(3183),o=i(7310),a=i(8402),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*r,"String",{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},145:function(e,t,i){"use strict";i(7851)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},4254:function(e,t,i){"use strict";i(7851)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},9085:function(e,t,i){i(7018)("asyncIterator")},1006:function(e,t,i){for(var n=i(8298),o=i(810),a=i(927),r=i(9722),s=i(3639),l=i(5517),c=i(3693),d=c("iterator"),u=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),m=0;m<f.length;m++){var g,v=f[m],b=p[v],A=r[v],y=A&&A.prototype;if(y&&(y[d]||s(y,d,h),y[u]||s(y,u,v),l[v]=h,b))for(g in n)y[g]||a(y,g,n[g],!0)}},9269:function(e,t,i){var n=i(3183),o=i(1746);n(n.G+n.B,{setImmediate:o.set,clearImmediate:o.clear})},2045:function(e,t,i){function n(o){return function(e,t){var i=2<arguments.length,n=!!i&&s.call(arguments,2);return o(i?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}}var o=i(9722),a=i(3183),r=i(8402),s=[].slice,l=/MSIE .\./.test(r);a(a.G+a.B+a.F*l,{setTimeout:n(o.setTimeout),setInterval:n(o.setInterval)})},323:function(e,t,i){i(2045),i(9269),i(1006),e.exports=i(1609)},302:function(e){"use strict";var t="%[a-f0-9]{2}",o=new RegExp(t,"gi"),s=new RegExp("("+t+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var i=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(i),a(n))}function l(t){try{return decodeURIComponent(t)}catch(e){for(var i=t.match(o),n=1;n<i.length;n++)i=(t=a(i,n).join("")).match(o);return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=s.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var n=l(i[0]);n!==i[0]&&(t[i[0]]=n)}i=s.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),a=0;a<o.length;a++){var r=o[a];e=e.replace(new RegExp(r,"g"),t[r])}return e}(t)}}},9314:function(e){"use strict";var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var i,n,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var r in i=Object(arguments[a]))c.call(i,r)&&(o[r]=i[r]);if(l){n=l(i);for(var s=0;s<n.length;s++)d.call(i,n[s])&&(o[n[s]]=i[n[s]])}}return o}},992:function(e,t,i){"use strict";var n=i(1308),r=i(9314),s=i(302);function l(e,t){return t.encode?(t.strict?n:encodeURIComponent)(e):e}function o(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function a(e,t){var o=function(){var n;switch((t=r({arrayFormat:"none"},t)).arrayFormat){case"index":return function(e,t,i){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===i[e]&&(i[e]={}),i[e][n[1]]=t):i[e]=t};case"bracket":return function(e,t,i){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=[t]:i[e]=t};default:return function(e,t,i){void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=t}}}(),a=Object.create(null);return"string"!=typeof e?a:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),n=0<t.length?t.join("="):void 0;n=void 0===n?null:s(n),o(s(i),n,a)}),Object.keys(a).sort().reduce(function(e,t){var i=a[t];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(i):e[t]=i,e},Object.create(null))):a}t.extract=o,t.parse=a,t.stringify=function(n,o){!1===(o=r({encode:!0,strict:!0,arrayFormat:"none"},o)).sort&&(o.sort=function(){});var a=function(n){switch(n.arrayFormat){case"index":return function(e,t,i){return null===t?[l(e,n),"[",i,"]"].join(""):[l(e,n),"[",l(i,n),"]=",l(t,n)].join("")};case"bracket":return function(e,t){return null===t?l(e,n):[l(e,n),"[]=",l(t,n)].join("")};default:return function(e,t){return null===t?l(e,n):[l(e,n),"=",l(t,n)].join("")}}}(o);return n?Object.keys(n).sort(o.sort).map(function(t){var e=n[t];if(void 0===e)return"";if(null===e)return l(t,o);if(Array.isArray(e)){var i=[];return e.slice().forEach(function(e){void 0!==e&&i.push(a(t,e,i.length))}),i.join("&")}return l(t,o)+"="+l(e,o)}).filter(function(e){return 0<e.length}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:a(o(e),t)}}},3656:function(e){var t=function(r){"use strict";var l,e=Object.prototype,d=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",i=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function a(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(r){a=function(e,t,i){return e[t]=i}}function s(e,t,i,n){var a,r,s,l,o=t&&t.prototype instanceof v?t:v,c=Object.create(o.prototype),d=new E(n||[]);return c._invoke=(a=e,r=i,s=d,l=h,function(e,t){if(l===f)throw new Error("Generator is already running");if(l===m){if("throw"===e)throw t;return I()}for(s.method=e,s.arg=t;;){var i=s.delegate;if(i){var n=C(i,s);if(n){if(n===g)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=m,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var o=u(a,r,s);if("normal"===o.type){if(l=s.done?m:p,o.arg===g)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(l=m,s.method="throw",s.arg=o.arg)}}),c}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}r.wrap=s;var h="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function v(){}function c(){}function b(){}var A={};A[o]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(D([])));_&&_!==e&&d.call(_,o)&&(A=_);var w=b.prototype=v.prototype=Object.create(A);function x(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function k(l,c){var t;this._invoke=function(i,n){function e(){return new c(function(e,t){!function t(e,i,n,o){var a=u(l[e],l,i);if("throw"!==a.type){var r=a.arg,s=r.value;return s&&"object"==typeof s&&d.call(s,"__await")?c.resolve(s.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):c.resolve(s).then(function(e){r.value=e,n(r)},function(e){return t("throw",e,n,o)})}o(a.arg)}(i,n,e,t)})}return t=t?t.then(e,e):e()}}function C(e,t){var i=e.iterator[t.method];if(i===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,C(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=u(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,g;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(d.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=l,e.done=!0,e};return n.next=n}}return{next:I}}function I(){return{value:l,done:!0}}return c.prototype=w.constructor=b,(b.constructor=c).displayName=a(b,n,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===c||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,a(e,n,"GeneratorFunction")),e.prototype=Object.create(w),e},r.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[i]=function(){return this},r.AsyncIterator=k,r.async=function(e,t,i,n,o){void 0===o&&(o=Promise);var a=new k(s(e,t,i,n),o);return r.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(w),a(w,n,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},r.keys=function(i){var n=[];for(var e in i)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},r.values=D,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&d.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function e(e,t){return a.type="throw",a.arg=i,n.next=e,t&&(n.method="next",n.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var r=d.call(o,"catchLoc"),s=d.call(o,"finallyLoc");if(r&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(r){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&d.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),T(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var o=n.arg;T(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:D(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=l),g}},r}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},1308:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__(2479);var __webpack_exports__=__webpack_require__(3095)}();var standard_bookmarks=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),offset:proboards.data("lm_offset"),id:proboards.data("lm_id"),page:proboards.data("lm_page"),data:{user_id:proboards.data("lm_user_id")}})})},standard_confirm=function(){$(document).ready(function(){proboards.data("num_items")<1&&$("#action-button").button("disable").addClass("ui-state-disabled")})},standard_home=function(){$(document).ready(function(){var e=$("#news .arrow"),t=$("#news .title"),n=$("#news .items"),i=$("#news .left"),o=$("#news .right"),a=$("#news .front"),r=$("#news .back"),s=0,l=pb.data("news_items"),c=pb.data("news_speed"),d=1==proboards.data("news_relative")?1:0,u="",h="",p=0;if("flip"==pb.data("news_animation")){var f=(b=$("#news .item")).length;if(b.each(function(){p=$(this).outerHeight()>p?$(this).outerHeight():p}),$.set_heights(p,e,t),$("#news .hidden").hide(),a.height()<p){var m=p-a.height();a.attr("style","padding-top: "+m/2+"px;")}function g(e){clearTimeout(h),u=n.hasClass("flip")?a:r;var t=l[function(e){"forward"==e?s==l.length-1?s=0:s++:0==s?s=l.length-1:s--;return s}(e)].text;if(u.html(t),u.attr("style",""),u.height()<p){var i=p-u.height();u.attr("style","padding-top: "+i/2+"px;")}n.toggleClass("flip"),v(t)}function v(e){d&&(c=1500+50*e.length),h=setTimeout(function(){g("forward")},c)}1<f?(o.on("click",function(){g("forward")}),i.on("click",function(){g("backward")}),n.on("mouseenter",function(){clearTimeout(h)}),n.on("mouseleave",function(){v(a.text())}),v(a.text())):$.one_entry(t,e)}else{proboards.data("news_speed")&&$("#news").slidable({autoChange:proboards.data("news_speed"),items:".items",relative:1==proboards.data("news_relative")});var b=$("#news .itemSlide"),A=$("#news .items.panel > div");f=b.length;p=A.outerHeight(),$.set_heights(p,e,t),b.each(function(){if($(this).outerHeight()<p){var e=p-$(this).outerHeight();$(this).css({height:p+"px","padding-top":e/2+"px"})}}),1==f&&$.one_entry(t,e)}$(".guests-online-link").on("click",function(e){e.preventDefault(),proboards.guestsOnlineDialog()})}),$.one_entry=function(e,t){t.remove(),e.css({"border-color":e.parents("#news").css("border-color"),width:"40px"})},$.set_heights=function(e,t,i){t.attr("style","height: "+e+"px; cursor: pointer;"),$("#news, #news .items.panel").attr("style","height: "+e+"px;"),i.attr("style","line-height: "+e+"px !important; height: "+e+"px")}},standard_members=function(){$(document).ready(function(){listMan=new listManager("members",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")})})},listMan,standard_message=function(){$(document).ready(function(){proboards.data("conversation_id")&&$(".change-parts").bind("click",function(){0==$("#change-users-container").length&&($(document.body).append('<div id="change-users-container"></div>'),proboards.dialog("change-users-container",{autoOpen:!1,width:310,height:400,title:"Change Participants",buttons:{Save:function(){$("#change-users-container form").submit()}}})),proboards.ajax({url:proboards.route("change_users",{type:"change"}),data:{recipients:proboards.data("participants"),conversation_id:proboards.data("conversation_id"),page:"mess"},dataType:"html",success:function(e){$("#change-users-container").html(e),$("#change-users-container").dialog("open"),$(".user-search .user-search-input").blur()}})}),$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove(),proboards.data("type")&&proboards.autosave.init(proboards.data("type")),proboards.hotkeys.wysiwyg(),proboards.embedded.processEmbedded()})},standard_poll=function(){$(document).ready(function(){new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{id:proboards.data("lm_poll_id"),type:"vote",user_search_box:!0},id:proboards.data("lm_id")})})};$(document).ready(function(){"use strict";$.extend(proboards,{googleAnalytics:{settings:{tracking_id:"",delay:500,trackerName:"custom",events:{threadCreate:{enable:!0,eventCategory:"thread",eventAction:"create",eventLabel:"New Thread",eventValue:1},postCreate:{enable:!0,eventCategory:"post",eventAction:"create",eventLabel:"New Post",eventValue:1},userRegister:{enable:!0,eventCategory:"user",eventAction:"register",eventLabel:"New User",eventValue:1}}},init:function(){$.extend(this.settings,proboards.data("google_analytics_settings"));var t=this,e=this.settings,i=e.events;e.tracking_id&&(setTimeout(function(){t.processQueue()},e.delay),i.threadCreate.enable&&$(".form_thread_new").submit(function(){if(proboards.form.isValidForm()){var e=$.extend({hitType:"event"},i.threadCreate);t.queueEvent(e)}}),i.postCreate.enable&&$(".form_post_new, .form_post_quick_reply").submit(function(){if(proboards.form.isValidForm()){var e=$.extend({hitType:"event"},i.postCreate);t.queueEvent(e)}}),i.userRegister.enable&&$(".form_registration_register").submit(function(){if(proboards.form.isValidForm()){var e=$.extend({hitType:"event"},i.userRegister);t.queueEvent(e)}}))},passCaptcha:function(){return!proboards.data("captcha_init")||!proboards.data("is_current_user_guest")||!proboards.data("captcha_init").captcha_errors},validSource:function(){if(!sessionStorage||!sessionStorage.getItem("referrer"))return!1;var e=sessionStorage.getItem("referrer");return/\x2F((register)(\x2Fsubmit)*|((thread|post)\x2F(create|new)\x2F\d+)|(thread\x2F\d+?.*)|(post\x2F\d+?\x2Fquote\x2F\d+?.*))$/.test(e)},queueEvent:function(e){delete e.enable;try{e&&sessionStorage.setItem("event",JSON.stringify(e))}catch(e){}},sendEvent:function(e){ga(this.settings.trackerName+".send",e)},processQueue:function(){if(sessionStorage&&sessionStorage.getItem("event")){var e=JSON.parse(sessionStorage.getItem("event"));try{e&&this.passCaptcha()&&(this.validSource()&&this.sendEvent(e),sessionStorage.removeItem("event"))}catch(e){}}}}})}),$.extend(proboards,{routeMap:{home:"/",forum:"/forum",help:"/help",help_page:"/help/:type",login:"/login/:key/:user_id",login_post:"/login/:key/:user_id/1",logout:"/logout",switch_user:"/switch/user/:user_id",set_version:"/set_version",test:"/test",test_select:"/test/select",dev_css:"/dev/css",dev_css_component:"/dev/css/:component",dev_css_subcomponent:"/dev/css/:component/:subcomponent",dev_css_help:"/dev/css/help",dev_form_ajax:"/dev/form/ajax",dev_form_autosave:"/dev/form/autosave",dev_exceptions:"/dev/exceptions",calendar:"/calendar",calendar_event_dialog:"/calendar/event/dialog",calendar_month:"/calendar/:month/:year",calendar_day:"/calendar/:month/:day/:year",calendar_list_default:"/calendar/list",calendar_list:"/calendar/list/:month/:year",calendar_load_more_events:"/calendar/load_more_events",members:"/members",list_members:"/members/list",follow_member:"/members/follow",unfollow_member:"/members/unfollow",guests:"/members/guests",board_guests:"/members/guests/:board_id",search:"/search",search_results:"/search/results",user_search:"/search/user",get_selected_users:"/search/get_selected_users",get_full_structure:"/search/get_full_structure",get_user_groups:"/search/user_groups",get_selected_user_groups:"/search/get_selected_user_groups",shoutbox_add:"/shoutbox/add",shoutbox_remove:"/shoutbox/remove",shoutbox_edit:"/shoutbox/edit",shoutbox_update:"/shoutbox/update",shoutbox_message:"/shoutbox/get",show_group_leaders:"/user/group_leaders",change_group_members:"/user/group_members/:type",change_group_leaders:"/user/group_leaders/:type",join_group:"/user/join_group",leave_group:"/user/leave_group",user:"/user/:user_id",current_user:"/user",current_user_about:"/user/about",current_user_activity:"/user/activity",current_user_friends:"/user/friends",username:"/username/:username",show_user_activity:"/user/:user_id/activity",show_user_following:"/user/:user_id/following",show_user_groups:"/user/:user_id/groups",show_user_friends:"/user/:user_id/friends",show_user_notifications:"/user/:user_id/notifications",show_user_gift:"/user/:user_id/gift",edit_unified:"/user/:user_id/edit",edit_unified_admin:"/user/:user_id/edit/admin",update_unified:"/user/:user_id/edit/update",update_user_personal:"/user/:user_id/personal/update",update_profile_header:"/user/:user_id/personal/update_header",update_user_about:"/user/:user_id/personal/update_about",update_user_social:"/user/:user_id/social/update",update_user_privacy:"/user/:user_id/privacy/update",update_user_settings:"/user/:user_id/settings/update",update_user_admin:"/user/:user_id/admin/update",edit_user_avatar:"/user/:user_id/avatar",edit_user_badges:"/user/:user_id/badges",edit_user_social:"/user/:user_id/social",edit_user_personal:"/user/:user_id/personal",edit_user_notifications:"/user/:user_id/edit_notifications",edit_user_privacy:"/user/:user_id/privacy",edit_user_settings:"/user/:user_id/settings",edit_user_admin:"/user/:user_id/admin",edit_current_user_personal:"/user/edit/personal",edit_current_user_social:"/user/edit/social",edit_current_user_privacy:"/user/edit/privacy",edit_current_user_settings:"/user/edit/settings",edit_current_user_notifications:"/user/edit/notifications",edit_current_user_badges:"/user/edit/badges",edit_current_user_admin:"/user/edit/admin",edit_current_user_avatar:"/user/edit/avatar",update_user_notifications:"/user/:user_id/edit_notifications/update",update_user_notifications_forum:"/user/:user_id/edit_notifications/update/forum",update_user_notifications_board:"/user/:user_id/edit_notifications/update/board/:board_id/:type",update_user_notifications_add_board:"/user/:user_id/edit_notifications/add_board",update_user_notifications_remove_board:"/user/:user_id/edit_notifications/remove_board",update_user_badges:"/user/:user_id/badges/update",user_confirm:"/users/dialog/:action",delete_user:"/users/delete",ban_user:"/user/:user_id/ban",block_user_dialog:"/user/block/dialog",block_user:"/user/block",block_user_ajax:"/user/block/ajax",follow_user:"/user/follow",update_status:"/status/update",show_more_activities:"/activities/more",show_more_following:"/following/more",show_more_notifications:"/notifications/more",delete_activities:"/user/activities/delete",list_users:"/users/list",signature_preview:"/user/signature_preview",update_user_timezone:"/user/timezone/update",invite_dialog:"/user/invite/dialog",invite:"/user/invite",pbn_bar_hide:"/user/pbn_bar_hide",notification_center:"/user/notification_center",message_center:"/user/message_center",update_user_avatar:"/user/:user_id/avatar/update",save_avatar:"/user/:user_id/avatar/save",upload_avatar:"/user/:user_id/avatar/upload",avatar_link:"/user/avatar_link",forum_avatar:"/user/forum_avatars",remove_uploaded_avatar:"/user/remove_avatar",upload_cover:"/user/cover/upload",remove_uploaded_cover:"/user/cover/remove",bookmarks:"/bookmarks",link_to_oldest_new_bookmark:"/bookmarks/recent",optout:"/optout",optout_submit:"/optout/submit",board:"/board/:board_id",moderators:"/board/moderators",mark_boards:"/boards/mark/:type",board_notifications_dialog:"/board/notifications",board_notifications_save:"/board/notifications/save",thread:"/thread/:thread_id",list_threads:"/thread/list",new_thread:"/thread/new/:board_id",create_thread:"/thread/create/:board_id",edit_thread:"/thread/edit/:thread_id",update_thread:"/thread/update/:thread_id",previous_thread:"/thread/previous/:thread_id",next_thread:"/thread/next/:thread_id",delete_thread:"/threads/delete",thread_confirm:"/threads/dialog/:action",mark_threads:"/threads/mark/:type",recent_threads:"/threads/recent",participated_threads:"/threads/participated",recent_threads_created:"/user/:user_id/recent_threads",bookmark_threads:"/threads/bookmark",next_recent_post:"/threads/recent/:thread_id",thread_bump:"/threads/bump",thread_falling:"/threads/falling",thread_move_dialog:"/threads/move/dialog",thread_move:"/threads/move",thread_move_pm:"/threads/move/send_pm",thread_participants_list:"/thread/participants",thread_participants:"/thread/participants/:thread_id",threads_by_ip:"/threads/ip/:type/:id",thread_last_post:"/thread/last/:thread_id",apply_thread_label:"/threads/label/apply",permalink:"/post/:post_id",list_posts:"/post/list",new_post:"/post/new/:thread_id",create_post:"/post/create/:thread_id",edit_post:"/post/:post_id/edit",update_post:"/post/:post_id/update",recent_posts:"/user/:user_id/recent",all_recent_posts:"/posts/recent",post_like:"/post/like",likes_of_post:"/post/likes",quote_posts:"/post/:post_ids/quote/:thread_id",view_post_in_thread:"/post/:post_id/thread",delete_post:"/post/delete",post_confirm:"/posts/dialog/:action",posts_by_ip:"/posts/ip/:type/:id",posts_delete_by_ip:"/posts/ip/delete",posts_delete_by_ip_dialog:"/posts/ip/dialog",get_quoted_posts:"/post/quote/:thread_id/:post_ids",get_post_json_data:"/post/:post_id/json",report_post:"/report_post/:post_id",create_report:"/report_post/:post_id/create",vote_poll:"/poll/vote",open_or_close_poll:"/poll/open_close",voters:"/poll/voters",conversations_inbox:"/conversations",conversations_send_to_recipients:"/conversations/send/recipients/:recipient_ids",conversations:"/conversations/:folder",conversations_by_label:"/conversations/label/:label_id",list_conversations:"/conversation/list",conversation:"/conversation/:conversation_id",new_conversation:"/conversation/new",new_user_conversation:"/conversation/new/:recipients",create_conversation:"/conversation/create",link_to_oldest_new_message:"/conversation/recent",next_recent_message:"/conversation/recent/:conversation_id",mark_conversations:"/conversations/mark/:type",delete_conversations:"/conversations/delete",remove_conversations:"/conversations/remove",archive_all_conversations:"/conversations/archive_all",delete_all_conversations:"/conversations/delete_all",change_users:"/conversation/users/:type",list_participants:"/conversation/participants",forward_conversations:"/conversation/forward",conversation_confirm:"/conversations/dialog/:action",conversation_last_post:"/conversation/last/:conversation_id",list_labels:"/conversation/label_list",apply_conversation_label:"/conversation/label/apply",manage_conversation_labels:"/conversation/labels/manage",modify_conversation_labels:"/conversation/labels/modify",list_messages:"/message/list",new_message:"/message/new/:conversation_id",create_message:"/message/create/:conversation_id",quote_messages:"/message/:message_ids/quote/:conversation_id",view_message_in_conversation:"/message/:message_id/in/:conversation_id",get_quoted_messages:"/message/quote/:conversation_id/:message_ids",filter_html2bbcode:"/filter/html2bbcode",filter_bbcode2html:"/filter/bbcode2html",filter_html2bbcode2html:"/filter/html2bbcode2html",rss_public:"/rss/public",boardreader:"/boardreader/:start_id/:count",attachment:"/attachment/upload",download_attachment:"/attachment/download/:id",cleanup_attachment:"/attachment/cleanup",plugin_key_set:"/plugin/key/set",tapatalk:"/tapatalk",page:"/page/:page_id",maintenance:"/maintenance",disable_maintenance:"/maintenance/disable",badge_summary:"/badge/summary/:user_id/:badge_id",badge_edit:"/badge/edit",badge_stack_edit:"/badge/stack/edit/:badge_id",badge_action_prepare:"/badge/action/prepare/:badge_id",badge_action:"/badge/action/:badge_id",gift_dialog:"/badge/gift/dialog",gift_send:"/badge/gift/send",pb_staff_page_plugin_list:"/plugin/pb_staff_plugins",unsubscribe:"/unsubscribe/user/:user_id/key/:key",unsubscribe_save:"/unsubscribe/save",admin:"/admin",admin_settings:"/admin/settings",admin_themes:"/admin/themes",admin_structure:"/admin/structure",admin_plugins:"/admin/plugins",admin_members:"/admin/members",admin_security:"/admin/security",admin_upgrades:"/admin/upgrades",admin_marketing:"/admin/marketing",admin_board_list:"/admin/board_list",admin_thread_list:"/admin/thread_list",admin_conversation_list:"/admin/conversation_list",admin_user_searchbox_results:"/admin/user_searchbox_results",admin_user_data:"/admin/user_data",admin_image_name:"/admin/image/name",admin_image_link:"/admin/image/link",admin_image_upload:"/admin/image/upload",admin_image_reset:"/admin/image/reset",forum_settings:"/admin/settings/forum",forum_settings_login_reg:"/admin/settings/forum/login_registration",forum_settings_email_invite_key:"/admin/settings/forum/email_invite_key",forum_settings_calendar:"/admin/settings/forum/calendar",forum_settings_directory:"/admin/settings/forum/directory",forum_settings_directory_save:"/admin/settings/forum/directory/save",forum_settings_directory_delete:"/admin/settings/forum/directory/delete",forum_settings_save:"/admin/settings/forum/save",forum_settings_category:"/admin/settings/forum/category",forum_settings_category_save:"/admin/settings/forum/category/save",forum_settings_social_media:"/admin/settings/forum/social_media",forum_settings_navigation:"/admin/settings/navigation",forum_settings_navigation_save:"/admin/settings/navigation/save",forum_settings_navigation_reset:"/admin/settings/navigation/reset",news:"/admin/settings/forum/news",update_news:"/admin/settings/forum/news/update",update_news_order:"/admin/settings/forum/news/update_order",create_news:"/admin/settings/forum/news/create",delete_news:"/admin/settings/forum/news/delete",update_settings:"/admin/settings/forum/news/update_settings",shoutbox:"/admin/settings/forum/shoutbox",admin_shoutbox_update:"/admin/settings/forum/shoutbox/update",admin_shoutbox_clear:"/admin/settings/forum/shoutbox/clear",censors:"/admin/settings/censors",update_censors:"/admin/settings/censors/update",create_censors:"/admin/settings/censors/create",delete_censors:"/admin/settings/censors/delete",delete_forum:"/admin/settings/delete_forum",delete_forum_validate:"/admin/settings/delete_forum/validate",delete_forum_submit:"/admin/settings/delete_forum/delete",reserved_names:"/admin/settings/reserved_names",update_reserved_names:"/admin/settings/reserved_names/update",create_reserved_names:"/admin/settings/reserved_names/create",delete_reserved_names:"/admin/settings/reserved_names/delete",file_storage_attachments:"/admin/settings/attachments",file_storage_attachments_save:"/admin/settings/attachments/save",delete_attachments:"/admin/settings/attachments/delete",admin_download_attachment:"/admin/settings/attachment/:id",file_storage_overview:"/admin/file_storage/overview",file_storage_cancel_dialog:"/admin/file_storage/cancel_dialog",attachments_cancel_plan:"/admin/file_storage/cancel_plan",admin_theme_manager:"/admin/themes/manager",admin_theme_settings:"/admin/themes/settings",admin_theme_settings_id:"/admin/themes/:theme_id/settings",admin_theme_settings_save:"/admin/themes/:theme_id/settings/save",admin_theme_flags_save:"/admin/themes/:theme_id/flags/save",admin_theme_groups_save:"/admin/themes/:theme_id/groups/save",admin_theme_ranks_save:"/admin/themes/:theme_id/ranks/save",admin_theme_reset_groups:"/admin/themes/:theme_id/settings/reset_groups",admin_theme_reset_ranks:"/admin/themes/:theme_id/settings/reset_ranks",admin_theme_delete:"/admin/themes/:theme_id/delete",admin_theme_export:"/admin/themes/:theme_id/export",admin_theme_export_success:"/admin/themes/:theme_id/export/:item_id",admin_theme_get_thumbs:"/admin/themes/:theme_id/thumbs",admin_theme_new:"/admin/themes/new",admin_theme_create:"/admin/themes/create",admin_theme_import:"/admin/themes/import",admin_theme_install:"/admin/themes/install/:global_id",admin_theme_rate_dialog:"/admin/themes/:theme_id/rate_dialog",admin_theme_rate:"/admin/themes/:theme_id/rate",admin_theme_image_transfer:"/admin/themes/:theme_id/images/transfer/:operation",admin_theme_wizard:"/admin/themes/:theme_id/wizard",easy_themes_default:"/admin/themes/easy",easy_themes_scheme:"/admin/themes/:theme_id/easy",easy_themes_default_layout:"/admin/themes/easy/layout",easy_themes_layout:"/admin/themes/:theme_id/easy/layout",easy_themes_layout_preview:"/admin/themes/easy/layout/preview",easy_themes_layout_save:"/admin/themes/:theme_id/easy/layout/save",css_editor_default:"/admin/themes/css",css_editor:"/admin/themes/:theme_id/css",css_editor_save:"/admin/themes/:theme_id/css/save",css_editor_reset:"/admin/themes/:theme_id/css/reset",css_editor_reset_structure:"/admin/themes/:theme_id/structure/reset",css_editor_visual_default:"/admin/themes/visual",css_editor_visual:"/admin/themes/:theme_id/visual",advanced_themes_default:"/admin/themes/advanced",advanced_themes:"/admin/themes/:theme_id/advanced",edit_template:"/admin/themes/:theme_id/template/:template_id",save_template:"/admin/themes/:theme_id/save",reset_template:"/admin/themes/:theme_id/reset/:template_id",reset_all_templates:"/admin/themes/:theme_id/reset_all",transfer_template:"/admin/themes/:theme_id/transfer/:operation",category_board:"/admin/structure/category_board",category_board_board_dialog:"/admin/structure/category_board/board_dialog",category_board_cat_dialog:"/admin/structure/category_board/cat_dialog",category_board_update_board:"/admin/structure/category_board/update_board",category_board_update_category:"/admin/structure/category_board/update_cat",category_board_reorder:"/admin/structure/category_board/reorder",category_board_duplicate:"/admin/structure/category_board/duplicate",category_board_delete:"/admin/structure/category_board/delete",category_board_delete_prompt:"/admin/structure/category_board/delete_prompt",category_board_permissions:"/admin/structure/category_board/permissions",headers_footers:"/admin/structure/headers",view_headers:"/admin/structure/headers/old/:type/:id",edit_headers:"/admin/structure/headers/:type/:id",update_headers:"/admin/structure/headers/update",headers_priority:"/admin/structure/headers/priority",update_headers_priority:"/admin/structure/headers/priority/set",custom_pages:"/admin/structure/custom_pages",custom_pages_permissions_set:"/admin/structure/custom_pages/permissions/save",custom_pages_create:"/admin/structure/custom_pages/create",custom_pages_order:"/admin/structure/custom_pages/order",custom_pages_delete:"/admin/structure/custom_pages/delete",custom_page_setup:"/admin/structure/custom_pages/edit/:page_id/setup",custom_page_edit_visual:"/admin/structure/custom_pages/edit/:page_id/visual",custom_page_edit_html:"/admin/structure/custom_pages/edit/:page_id/html",custom_page_edit_html_save:"/admin/structure/custom_pages/edit/:page_id/html/save",custom_page_edit_settings:"/admin/structure/custom_pages/edit/:page_id/settings",custom_page_settings_save:"/admin/structure/custom_pages/edit/:page_id/settings/save",custom_page_setup_save:"/admin/structure/custom_pages/edit/:page_id/setup/save",custom_page_widget_add:"/admin/structure/custom_pages/edit/:page_id/widget/add",custom_page_widget_edit:"/admin/structure/custom_pages/edit/:page_id/widget/edit",custom_page_widget_delete:"/admin/structure/custom_pages/edit/:page_id/widget/delete",custom_page_widget_order:"/admin/structure/custom_pages/edit/:page_id/widget/order",custom_page_zone_settings_save:"/admin/structure/custom_pages/edit/:page_id/zone_settings/save",custom_page_widget_html_box:"/admin/structure/custom_pages/edit/:page_id/html_box_data",plugins_manage:"/admin/plugins/manage",plugins_import:"/admin/plugins/import",plugins_order:"/admin/plugins/order",plugins_delete:"/admin/plugins/delete",plugins_settings:"/admin/plugins/settings/:plugin_id",plugins_settings_save:"/admin/plugins/settings/:plugin_id/save",plugins_create:"/admin/plugins/create",plugins_key_delete:"/admin/plugins/key/delete",plugins_key_clear:"/admin/plugins/key/clear",plugins_create_dialog:"/admin/plugins/create_dialog",plugins_permissions_set:"/admin/plugins/permissions/set",plugins_disable:"/admin/plugins/disable",plugins_transfer:"/admin/plugins/settings/:plugin_id/transfer",plugins_transfer_save:"/admin/plugins/settings/:plugin_id/transfer/save",plugin_editor:"/admin/plugins/edit/:plugin_id",plugin_editor_save:"/admin/plugins/edit/:plugin_id/save",plugin_editor_development_log_save:"/admin/plugins/edit/:plugin_id/development_log/save",plugin_editor_key_create:"/admin/plugins/edit/:plugin_id/key/create",plugin_editor_key_update:"/admin/plugins/edit/:plugin_id/key/update",plugin_editor_key_delete:"/admin/plugins/edit/:plugin_id/key/delete",plugin_editor_image_upload:"/admin/plugins/edit/:plugin_id/image/upload",plugin_editor_image_name:"/admin/plugins/edit/:plugin_id/image/name",plugin_editor_image_link:"/admin/plugins/edit/:plugin_id/image/link",plugin_editor_image_reset:"/admin/plugins/edit/:plugin_id/image/reset",plugin_editor_image_reset_all:"/admin/plugins/edit/:plugin_id/image/reset/all",plugin_editor_component_save:"/admin/plugins/edit/:plugin_id/component/save",plugin_editor_settings_save:"/admin/plugins/edit/:plugin_id/settings/save",plugin_editor_get_thumbs:"/admin/plugins/edit/:plugin_id/thumbs",plugin_editor_export:"/admin/plugins/edit/:plugin_id/export",plugin_editor_export_success:"/admin/plugins/edit/:plugin_id/export/:item_id",plugins_install:"/admin/plugins/install/:global_id",plugins_rate_dialog:"/admin/plugins/:plugin_id/rate_dialog",plugins_rate:"/admin/plugins/:plugin_id/rate",plugins_install_cancel:"/admin/plugins/:plugin_id/cancel_install",groups:"/admin/members/groups",update_groups:"/admin/members/groups/update",create_groups:"/admin/members/groups/create",delete_groups:"/admin/members/groups/delete",manage_powers:"/admin/members/groups/:id/powers",update_powers:"/admin/members/groups/:id/update_powers",update_order_groups:"/admin/members/groups/update/order",manage_group:"/admin/members/groups/:group_id/manage",show_bans:"/admin/members/groups/:group_id/manage/show_bans",ban_from_group:"/admin/members/groups/:group_id/manage/ban",unban_from_group:"/admin/members/groups/:group_id/manage/unban",pending_group:"/admin/members/groups/:group_id/pending",pending_approve:"/admin/members/groups/:group_id/pending/approve",pending_reject:"/admin/members/groups/:group_id/pending/reject",ranks:"/admin/members/ranks",update_ranks:"/admin/members/ranks/update",create_ranks:"/admin/members/ranks/create",delete_ranks:"/admin/members/ranks/delete",custom_fields:"/admin/members/fields",create_field:"/admin/members/fields/create",update_field:"/admin/members/fields/update",update_fields_order:"/admin/members/fields/update_order",delete_field:"/admin/members/fields/delete",custom_field_dialog:"/admin/members/fields/dialog",custom_field_opts:"/admin/members/fields/options",forum_avatars:"/admin/members/avatars",add_forum_avatar:"/admin/members/avatars/add",delete_forum_avatar:"/admin/members/avatars/delete",order_forum_avatars:"/admin/members/avatars/order",update_default_avatar:"/admin/members/avatars/update_default",email_members:"/admin/members/email",email_send:"/admin/members/email/send",email_success:"/admin/members/email/success",pending_requests:"/admin/members/pending",update_reg_settings:"/admin/members/pending/update",accept_request:"/admin/members/pending/accept",decline_request:"/admin/members/pending/reject",security_log:"/admin/security/log",security_log_type:"/admin/security/log/:view",security_logs_by_ip:"/admin/security/log/ip/:type/:id",security_log_list:"/admin/security/log/list",member_ban:"/admin/security/ban_members",create_member_ban:"/admin/security/ban_members/create",update_member_ban:"/admin/security/ban_members/update",delete_member_ban:"/admin/security/ban_members/delete",admin_forum_cleanup:"/admin/security/forum_cleanup",admin_forum_cleanup_search:"/admin/security/forum_cleanup/search",admin_forum_cleanup_delete:"/admin/security/forum_cleanup/delete",reported_posts:"/admin/security/reported_posts",report_archive:"/admin/security/report_archive",list_reports:"/admin/security/reported_posts/list",reported_post:"/admin/security/reported_post/:post_id",edit_report_discussion:"/admin/security/reported_post/discussion/edit",update_report_discussion:"/admin/security/reported_post/discussion/update",delete_report_discussion:"/admin/security/reported_post/discussion/delete",submit_report_discussion:"/admin/security/reported_post/submit",resolve_report:"/admin/security/reported_post/resolve",delete_report:"/admin/security/reported_posts/delete",more_reasons:"/admin/security/reported_post/reasons",more_discussions:"/admin/security/reported_post/discussions",mark_reports:"/reports/mark/:type",move_post:"/admin/move_posts",move_reported_post:"/admin/move_reported_post",move_post_process:"/admin/move_posts_process",move_post_list:"/admin/move_posts/list",change_forum_url:"/admin/upgrades/change_forum_url",check_forum_url_availability:"/admin/upgrades/change_forum_url/check_forum_url_availability",custom_domains:"/admin/upgrades/domains",custom_domain_check:"/admin/upgrades/domain/check",custom_domain_default_save:"/admin/upgrades/domain/save",ad_free:"/admin/upgrades/ad_free",ad_free_save:"/admin/upgrades/ad_free/save",ad_free_cancel:"/admin/upgrades/ad_free/cancel",ad_free_settings:"/admin/upgrades/ad_free/settings",ad_free_settings_save:"/admin/upgrades/ad_free/settings/save",ad_free_history:"/admin/upgrades/ad_free/history",admin_experiments:"/admin/upgrades/experiments",admin_experiments_save:"/admin/upgrades/experiments/save",admin_promote:"/admin/marketing/promote",admin_marketing_analytics:"/admin/marketing/analytics",admin_marketing_analytics_update:"/admin/marketing/analytics/update",admin_marketing_google_analytics:"/admin/marketing/analytics/google",admin_marketing_google_analytics_update:"/admin/marketing/analytics/google/update",admin_marketing_google_analytics_reset:"/admin/marketing/analytics/google/reset",admin_marketing_viglink:"/admin/marketing/viglink",admin_marketing_viglink_update:"/admin/marketing/viglink/update",ads_txt:"/ads.txt",admin_ads_txt_edit:"/admin/marketing/ads_txt",admin_ads_txt_save:"/admin/marketing/ads_txt/save",v6_pages:"/adminv6/forum/pages",v6_pages_create:"/adminv6/forum/pages/create",v6_pages_delete:"/adminv6/forum/pages/delete",v6_pages_manage:"/adminv6/forum/pages/manage/:page_id",v6_pages_save:"/adminv6/forum/pages/save",v6_boards:"/adminv6/forum/boards",v6_boards_category_new_or_update:"/adminv6/forum/boards/category/new-or-update",v6_boards_categories_edit:"/adminv6/forum/boards/categories/edit",v6_boards_categories_update:"/adminv6/forum/boards/categories/update",v6_boards_boards_edit:"/adminv6/forum/boards/boards/edit",v6_boards_boards_update:"/adminv6/forum/boards/boards/update",v6_boards_reorder:"/adminv6/forum/boards/reorder",v6_boards_get_board:"/adminv6/forum/boards/:board_id",v6_boards_new_or_update_board:"/adminv6/forum/boards/new-or-update",v6_boards_categories_delete_count:"/adminv6/forum/boards/categories/delete_count",v6_boards_categories_delete:"/adminv6/forum/boards/categories/delete",v6_themes_manage:"/adminv6/forum/themes/manage",v6_easy_theme_editor:"/adminv6/forum/themes/easy/:theme_id",v6_easy_theme_save:"/adminv6/forum/themes/easy/:theme_id/save",v6_navigation:"/adminv6/forum/navigation",v6_navigation_update:"/adminv6/forum/navigation/update",v6_settings_login:"/adminv6/settings/login",v6_settings_registration:"/adminv6/settings/registration",v6_settings_login_registration_update:"/adminv6/settings/login-registration/update",v6_settings_general:"/adminv6/settings/general",v6_settings_general_update:"/adminv6/settings/general/update",v6_members_groups:"/adminv6/members/groups",v6_members_ranks:"/adminv6/members/ranks",v6_members_ranks_new_or_update:"/adminv6/members/ranks/new-or-update",v6_members_ranks_delete:"/adminv6/members/ranks/delete",v6_members_email:"/adminv6/members/email",v6_members_email_send:"/adminv6/members/email/send",v6_members_fields:"/adminv6/members/fields",v6_moderation_bans:"/adminv6/moderation/bans",v6_moderation_cleanup:"/adminv6/moderation/cleanup",v6_moderation_reported_posts:"/adminv6/moderation/reported-posts",v6_moderation_security_log:"/adminv6/moderation/security-log",v6_power_ups:"/adminv6/power-ups",v6_attachments_manage:"/adminv6/power-ups/attachments/manage",v6_attachments_delete:"/adminv6/power-ups/attachments/delete",v6_attachments_get_page:"/adminv6/power-ups/attachments/get_page",v6_analytics:"/adminv6/power-ups/analytics",v6_media_library:"/adminv6/forum/media-library",v6_media_library_view:"/adminv6/forum/media-library/view",v6_media_library_media_listing:"/adminv6/forum/media-library/media-listing",v6_media_library_upload:"/adminv6/forum/media-library/upload",v6_media_library_reset:"/adminv6/forum/media-library/reset",v6_change_url:"/adminv6/power-ups/change-url",v6_censored_words:"/adminv6/power-ups/censored-words",v6_domains:"/adminv6/power-ups/domains",v6_shoutbox:"/adminv6/power-ups/shoutbox",v6_forum_directory:"/adminv6/power-ups/forum-directory",v6_forum_directory_save:"/adminv6/power-ups/forum-directory/save",v6_forum_directory_delete:"/adminv6/power-ups/forum-directory/delete",v6_fdn_sso:"/adminv6/fdn/sso",v6_fdn_insite:"/adminv6/fdn/insite",e_register:"/register",e_register_check_username:"/register/username",e_register_invite:"/register/:invite_key",e_register_submit:"/register/submit",e_activate:"/activate",e_activate_submit:"/activate/submit",e_request_msg_submit:"/pending/message/submit",e_resend_activation:"/activate/email/:user_id",e_change_email:"/activate/change_email/:user_id",e_change_email_submit:"/activate/change_email",e_login:"/login",e_login_submit:"/login/submit",e_forgot_pw:"/forgot",e_forgot_pw_submit:"/forgot/submit",e_reset_pw:"/reset/:key/user/:user_id",e_reset_pw_submit:"/reset/:key/user/:user_id/submit",e_sso:"/sso/:sha1/:time/:data",reset_pass:"/reset/:key",activate:"/activation",activate_forum:"/activation/:forum",store_type:"/store/:type",store_type_category:"/store/:type/:category",store_add_item:"/store/add_item",store_edit_item:"/store/edit_item",store_remove_item:"/store/remove_item",store_checkout:"/store/checkout/:type",store_purchase:"/store/purchase",store_add_cart:"/store/add_cart/:item_type/:item_id/:forum_url/:user_id",store_create_cart:"/store/create_cart/:type/:forum_url/:user_id",store_card_remove:"/store/card/remove",library:"/library/:type",library_forum:"/library/:type/:forum_id",library_item:"/library/:type/item/:item_id",library_item_forum:"/library/:type/item/:item_id/:forum_url",account_settings:"/account/settings",plans:"/plans",features:"/features",contact:"/contact"}});var mobile_board=function(){$(document).ready(function(){$(".search-filters-button span.icon").click(function(e){$('input[name="q"].placeholder-empty').val(""),$("form.ui-search").submit()})})},mobile_home=function(){$(document).ready(function(){$(".item.board").click(function(){document.location=$(this).find(".link a").attr("href")})})},mobile_members=function(){function t(){$('input[name="q"].placeholder-empty').val("");var e=$('.ui-search input[name="q"]').val();window.location.search="?q="+e.replace(/\s/g,"+")}$(document).ready(function(){var a=proboards.consolidateParams();a.view;$("#member-view-select").change(function(){window.location=proboards.route("members")+$(this).val()}),$(".ui-pagination a").click(function(e){e.preventDefault();var t=$(this).attr("href");if(void 0!==t){var i=t.split("?")[1],n=proboards.consolidateParams(i),o=$.extend(a,{page:n.page});o.page||delete o.page,window.location.search=proboards.genQueryString(o)}}),$(".sortable a").click(function(e){e.preventDefault(),a.sort=$(this).is(".name")?"name":"last_online",a.dir="asc"==a.dir?"desc":"asc",window.location.search=proboards.genQueryString(a)}),$("form.ui-search").submit(function(e){return e.preventDefault,t(),!1}),$(".search-filters-button span.icon").click(function(e){return e.preventDefault,t(),!1})})},mobile_calendar_base=function(){$(document).ready(function(){$('.month-selector option[value="'+proboards.data("calendar_month")+'"]').attr("selected","selected"),$('.year-selector option[value="'+proboards.data("calendar_month")+'"]').attr("selected","selected"),$('.calendar-jump input[type="button"]').click(function(){var e=$(".month-selector option:selected").val(),t=$(".year-selector  option:selected").val();window.location=proboards.data("calendar_list_url").replace(":month",e).replace(":year",t)})})},mobile_common_edit=function(){$(document).ready(function(){0!=$('.wysiwyg form input[name="bookmark"]').val()&&$('input[name="modifiers_bookmark"]').attr("checked","checked"),0!=$('.wysiwyg form input[name="sticky"]').val()&&$('input[name="modifiers_sticky"]').attr("checked","checked"),0!=$('.wysiwyg form input[name="lock"]').val()&&$('input[name="modifiers_lock"]').attr("checked","checked"),$("#modifiers input").bind("keyup keydown change",function(){"checkbox"==$(this).attr("type")?$(this).attr("checked")?$('.wysiwyg form input[name="'+$(this).val()+'"]').val(1):$('.wysiwyg form input[name="'+$(this).val()+'"]').val(0):$('.wysiwyg form input[name="'+$(this).attr("title")+'"]').val($(this).val())});var t=$('.wysiwyg form input[name="announcement"]'),i=$('input[name="modifiers_announcement"]'),e=$('.wysiwyg form input[name="announcement_expires"]'),n=$('input[name="modifiers_announcement_expires"]'),o=$('.wysiwyg form input[name="announcement_expires_date"]'),a=$('input[name="modifiers_announcement_expires_date"]'),r=$('.wysiwyg form input[name="announcement_expires_time"]'),s=$('input[name="modifiers_announcement_expires_time"]');i.on("change",function(){var e=i.prop("checked");$("#announcement-options").toggle(e),t.val(e?1:""),n.trigger("change")}),n.on("change",function(){isAnnounceExpires=n.prop("checked"),e.val(isAnnounceExpires?1:""),$("#announcement-date-and-time").toggle(isAnnounceExpires),a.add(s).trigger("change")}),a.add(s).on("change",function(){o.val(isAnnounceExpires?a.val():""),r.val(isAnnounceExpires?s.val():"")}),i.prop("checked",0!=t.val()),a.val(o.val()),s.val(r.val()),n.prop("checked",0!=e.val()),i.add(n).trigger("change"),o.on("localeconvert",function(){a.val(o.val()),s.val(r.val())})})},mobile_conversation_index=function(){$(document).ready(function(){var e=proboards.data("folder")||"inbox";e=e.replace("-","/"),$('.control-bar select option[value="'+e+'"]').prop("selected",!0),$(".control-bar select").on("change",function(){var e=$(this).val();"label"==(0==e.indexOf("label/")?"label":"folder")?(labelId=e.substr("label/".length),window.location=proboards.route("conversations_by_label",{label_id:labelId})):window.location=proboards.route("conversations",{folder:e})}),$(".search-filters-button span.icon").click(function(e){$('input[name="q"].placeholder-empty').val(""),$("form.ui-search").submit()})})},mobile_conversation_new=function(){$(document).ready(function(){$('input[name="recipients"]').attr("value",proboards.data("recipients"))})},mobile_conversation_show=function(){$(document).ready(function(){$(".search-filters-button span.icon").click(function(e){$('input[name="q"].placeholder-empty').val(""),$("form.ui-search").submit()}),$(".control-bar select").change(function(){var e=$(this).val();"archive"==e?proboards.ajax({url:proboards.route("mark_conversations",{type:"archive"}),data:{ids:[proboards.data("conversation_id")]},success:function(e){location.reload(!0)}}):"unarchive"==e?proboards.ajax({url:proboards.route("mark_conversations",{type:"unarchive"}),data:{ids:[proboards.data("conversation_id")]},success:function(e){location.reload(!0)}}):"delete"==e?proboards.ajax({url:proboards.route("delete_conversations"),data:{ids:[proboards.data("conversation_id")]},success:function(e){window.location=proboards.route("conversations",{folder:"inbox"})}}):"leave"==e&&proboards.ajax({url:proboards.route("remove_conversations"),data:{ids:[proboards.data("conversation_id")]},success:function(e){window.location=proboards.route("conversations",{folder:"inbox"})}})}),proboards.embedded.processEmbedded()})},mobile_message_list=function(){$(document).ready(function(){$('.message-options-select-list option[value*="deselectMessage"]').attr("disabled","disabled");var r=[],s=/(^| )message-([0-9]+)($| )/,l=/(^| )user-([0-9]+)($| )/;$(".message-options-select-list").change(function(){var e=$(this),t=s.test(e.attr("class"))?RegExp.$2:"",i=(l.test(e.attr("class"))&&RegExp.$2,e.val()),n=$("option:first",e);if(i==t+"-selectMessage")n.text("Selected"),r.push(t),$(".message-"+t+"-checkbox input.ui-manager-checkbox").attr("checked","checked"),$('option[value="'+t+'-selectMessage"]',e).attr("disabled","disabled"),$('option[value="'+t+'-deselectMessage"]',e).removeAttr("disabled");else if(i==t+"-deselectMessage"){n.text("Options");var o=[];for(var a in r)r[a]!=t&&o.push(r[a]);r=o,$(".message-"+t+"-checkbox input.ui-manager-checkbox").removeAttr("checked"),$('option[value="'+t+'-selectMessage"]',e).removeAttr("disabled"),$('option[value="'+t+'-deselectMessage"]',e).attr("disabled","disabled")}else i==t+"-toTop"&&window.scrollTo(0,0);n.attr("selected","selected")}),$(".quote-button").each(function(){var i=$(this).closest(".message").attr("id").substr(13);$(this).unbind("click"),$(this).bind("click",function(){if(0==r.length)return!0;var e="";for(var t in r)r[t]!=i&&(e+=r[t],e+=",");return e+=i,window.location=proboards.route("quote_messages",{message_ids:e,conversation_id:proboards.data("page").conversation.id}),!1})}),$(".display-blocked-message.button").each(function(){var e=$(this).attr("id").substr(13);$(this).unbind("click"),$(this).bind("click",function(){$("#message-"+e).removeClass("blocked"),$("#message-"+e+" td.blocked").hide(),$("#message-"+e+" td.unblocked").show()})})})},mobile_post_base=function(){$(document).ready(function(){$('.post-options-select-list option[value="deselectPost"]').prop("disabled",!0),proboards.embedded.processEmbedded(),$(".likes-button").on("click",function(){var t=$(this).closest(".post"),e=t.attr("id").substr("post-".length);return proboards.ajax({url:proboards.route("post_like"),data:{post_id:e},dataType:"json",success:function(e){$(".likes",t).html(e.likes_html)}}),$(this).toggleClass("liked"),!1});var s=[],l=proboards.data("post_count");$(".post-options-select-list").change(function(){var e=$(this),t=parseInt(e.data("post_id")),i=(parseInt(e.data("user_id")),e.val()),n=$("option:first",e);switch(i){case"selectPost":n.text("Selected"),s.push(t),$('option[value="selectPost"]',e).prop("disabled",!0),$('option[value="deselectPost"]',e).prop("disabled",!1);break;case"deselectPost":n.text("Options");var o=$.inArray(t,s);-1!=o&&s.splice(o,1),$('option[value="selectPost"]',e).prop("disabled",!1),$('option[value="deselectPost"]',e).prop("disabled",!0);break;case"reportPost":var a=prompt("Reason:","");null!=a&&1<=a.length?proboards.ajax({url:proboards.route("create_report",{post_id:t}),data:{post_id:t,reason:a},dataType:"json",success:function(e){alert(e.message)}}):null!=a&&alert("You must provide a reason.");break;case"deletePost":var r=prompt("Type 'delete' to delete the post.","");r&&"delete"==r.toLowerCase()&&proboards.ajax({url:proboards.route("delete_post"),data:{"ids[]":t},dataType:"json",success:function(e){l<2?window.location=e.redirect_url:location.reload(!0)}});break;case"editPost":window.location=proboards.route("edit_post",{post_id:t});break;case"toTop":window.scrollTo(0,0)}n.prop("selected",!0)}),$(".quote-button").off("click").on("click",function(){if(0==s.length)return!0;var e=parseInt($(this).closest(".post").attr("id").substr("post-".length));return-1==$.inArray(e,s)&&s.push(e),window.location=proboards.route("quote_posts",{post_ids:s.join(","),thread_id:proboards.data("page").thread.id}),!1}),$(".display-blocked-post.button").each(function(){var e=$(this).parents(".blocked.post").attr("id").substr("post-".length);$(this).unbind("click"),$(this).bind("click",function(){return $("#post-"+e).removeClass("blocked"),$("#post-"+e+" .blocked").hide(),$("#post-"+e+" .unblocked").show(),!1})})})},mobile_post_new=function(){$(document).ready(function(){0!=$('.wysiwyg form input[name="bookmark"]').val()&&$('input[name="modifiers_bookmark"]').attr("checked","checked"),0!=$('.wysiwyg form input[name="sticky"]').val()&&$('input[name="modifiers_sticky"]').attr("checked","checked"),0!=$('.wysiwyg form input[name="lock"]').val()&&$('input[name="modifiers_lock"]').attr("checked","checked"),$("#modifiers input").bind("keyup keydown change",function(){"checkbox"==$(this).attr("type")?$(this).attr("checked")?$('.wysiwyg form input[name="'+$(this).val()+'"]').val(1):$('.wysiwyg form input[name="'+$(this).val()+'"]').val(0):$('.wysiwyg form input[name="'+$(this).attr("title")+'"]').val($(this).val())});var t=$('.wysiwyg form input[name="announcement"]'),i=$('input[name="modifiers_announcement"]'),e=$('.wysiwyg form input[name="announcement_expires"]'),n=$('input[name="modifiers_announcement_expires"]'),o=$('.wysiwyg form input[name="announcement_expires_date"]'),a=$('input[name="modifiers_announcement_expires_date"]'),r=$('.wysiwyg form input[name="announcement_expires_time"]'),s=$('input[name="modifiers_announcement_expires_time"]');i.on("change",function(){var e=i.prop("checked");$("#announcement-options").toggle(e),t.val(e?1:""),n.trigger("change")}),n.on("change",function(){isAnnounceExpires=n.prop("checked"),e.val(isAnnounceExpires?1:""),$("#announcement-date-and-time").toggle(isAnnounceExpires),a.add(s).trigger("change")}),a.add(s).on("change",function(){o.val(isAnnounceExpires?a.val():""),r.val(isAnnounceExpires?s.val():"")}),i.prop("checked",0!=t.val()),a.val(o.val()),s.val(r.val()),n.prop("checked",0!=e.val()),i.add(n).trigger("change"),o.on("localeconvert",function(){a.val(o.val()),s.val(r.val())})})},mobile_registration_register=function(){$(document).ready(function(){var n=$('input[name="username"]'),o="";n.on("keyup change",function(){var t=$("tr#username-available"),i=$("td#username-available-msg",t),e=n.val();o&&clearTimeout(o),e.length?o=setTimeout(function(){proboards.ajax({url:proboards.route("e_register_check_username"),ignorePending:!0,data:{username:e},dataType:"json",success:function(e){""!=e.available&&(i.html('<span class="success">'+e.available+"</span>"),t.show())},error:function(e){""!=e.error&&(i.html('<span class="error">'+e.error+"</span>"),t.show())},complete:function(){n.val().length||(t.hide(),i.html(""))}})},500):(t.hide(),i.html(""))})})},mobile_search_index=function(){$(document).ready(function(){$("#search_type").change(function(){var e=$(this).val();$(".input").hide(),1==e?$("#match_at_least_one_input").show():2==e?$("#match_exact_input").show():$("#match_all_input").show()})})},mobile_thread_edit=function(){$(document).ready(function(){var e=0;proboards.data("poll_id")&&($("#poll-button").text("Remove Poll"),e=1),1==$('input[name="has_event"]').attr("value")&&($("#event-button").text("Remove Event"),$(".add-event").show()),$("#poll-button").click(function(){1==e?confirm("Are you sure you want to remove this poll?")&&($("#poll-button").text("Add Poll"),$('input[name="replace_poll"]').attr("value",1),e=0):($(".add-poll").toggle(),"none"==$(".add-poll").css("display")?($('input[name="has_poll"]').attr("value",""),$("#poll-button").text("Add Poll")):($('input[name="has_poll"]').attr("value",1),$("#poll-button").text("Remove Poll")))}),$("#event-button").click(function(){$(".add-event").toggle(),"none"==$(".add-event").css("display")?($('input[name="has_event"]').attr("value",""),$("#event-button").text("Add Event"),t()):($('input[name="has_event"]').attr("value",1),$("#event-button").text("Remove Event"))}),$('input[name="all_day_event"]').on("change",function(){$(".event-hours").toggle(!$(this).prop("checked"))}).trigger("change")});var t=function(){var e=$('input[name="start_date"]'),t=$('input[name="end_date"]').data("edited",!1),i=$('input[name="end_time"]');e.add(t).add(i).off(".autopopulate"),e.on("change.autopopulate",function(){t.data("edited")||t.val($(this).val())}),t.add(i).on("change.autopopulate",function(){t.data("edited",!0)})}},mobile_thread_new=function(){$(document).ready(function(){$("#poll-button").click(function(e){e.preventDefault();var t=$(this);$(".add-poll").toggle(),"none"==$(".add-poll").css("display")?(t.text("Add Poll"),$('input[name="has_poll"]').attr("value","")):(t.text("Remove Poll"),$('input[name="has_poll"]').attr("value",1))}),$("#event-button").click(function(e){e.preventDefault();var t=$(this);$(".add-event").toggle(),"none"==$(".add-event").css("display")?(t.text("Add Event"),$('input[name="has_event"]').attr("value","")):(t.text("Remove Event"),$('input[name="has_event"]').attr("value",1),l())}),$('input[name="all_day_event"]').on("change",function(){$(".event-hours").toggle(!$(this).prop("checked"))}).trigger("change"),$("#modifiers input").bind("keyup keydown change",function(){"checkbox"==$(this).attr("type")?$(this).attr("checked")?$('.wysiwyg form input[name="'+$(this).val()+'"]').val(1):$('.wysiwyg form input[name="'+$(this).val()+'"]').val(0):$('.wysiwyg form input[name="'+$(this).attr("title")+'"]').val($(this).val())});var t=$('.wysiwyg form input[name="announcement"]'),i=$('input[name="modifiers_announcement"]'),e=$('.wysiwyg form input[name="announcement_expires"]'),n=$('input[name="modifiers_announcement_expires"]'),o=$('.wysiwyg form input[name="announcement_expires_date"]'),a=$('input[name="modifiers_announcement_expires_date"]'),r=$('.wysiwyg form input[name="announcement_expires_time"]'),s=$('input[name="modifiers_announcement_expires_time"]');i.on("change",function(){var e=i.prop("checked");$("#announcement-options").toggle(e),t.val(e?1:""),n.trigger("change")}),n.on("change",function(){isAnnounceExpires=n.prop("checked"),e.val(isAnnounceExpires?1:""),$("#announcement-date-and-time").toggle(isAnnounceExpires),a.add(s).trigger("change")}),a.add(s).on("change",function(){o.val(isAnnounceExpires?a.val():""),r.val(isAnnounceExpires?s.val():"")})});var l=function(){var e=$('input[name="start_date"]'),t=$('input[name="end_date"]').data("edited",!1),i=$('input[name="end_time"]');e.add(t).add(i).off(".autopopulate"),e.on("change.autopopulate",function(){t.data("edited")||t.val($(this).val())}),t.add(i).on("change.autopopulate",function(){t.data("edited",!0)})}},mobile_thread_show=function(){$(document).ready(function(){1==proboards.data("bookmarked")?$('.control-bar select option[value="bookmark"]').attr("disabled",!0):$('.control-bar select option[value="unbookmark"]').attr("disabled",!0),$(".search-filters-button span.icon").click(function(e){$('input[name="q"].placeholder-empty').val(""),$("form.ui-search").submit()}),$(".control-bar select").change(function(){var e=$(this).val(),t=document.location.protocol+"//"+document.location.host+proboards.route("thread",{thread_id:proboards.data("thread_id")}),i=proboards.data("thread_subject");if("view_prev"==e)window.location=proboards.route("previous_thread",{thread_id:proboards.data("thread_id")});else if("view_next"==e)window.location=proboards.route("next_thread",{thread_id:proboards.data("thread_id")});else if("bookmark"==e)proboards.ajax({url:proboards.route("bookmark_threads"),data:{type:"mark",ids:[proboards.data("thread_id")]},success:function(e){location.reload(!0)}});else if("unbookmark"==e)proboards.ajax({url:proboards.route("bookmark_threads"),data:{type:"unmark",ids:[proboards.data("thread_id")]},success:function(e){location.reload(!0)}});else if("facebook"==e)window.location="http://www.facebook.com/sharer/sharer.php?u="+encodeURI(t);else if("twitter"==e){var n=proboards.data("enterprise")?"":"&hashtags=proboards";window.location="https://twitter.com/intent/tweet?text="+encodeURI(i+" "+t)+n}else if("googleplus"==e)window.location="https://plus.google.com/u/0/share?url="+encodeURI(t);else if("tumblr"==e){var o=$("meta[property='og:description']").attr("content").trim();n=proboards.data("enterprise")?"":"&tags=proboards";window.location="http://www.tumblr.com/share/link?url="+encodeURI(t)+"&name="+encodeURI(i)+"&description="+encodeURI(o)+encodeURI(n)}else if("linkedin"==e)window.location="http://www.linkedin.com/shareArticle?url="+encodeURI(t)+"&title="+encodeURI(i);else if("reddit"==e)window.location="http://reddit.com/submit?url="+encodeURI(t)+"&title="+encodeURI(i);else if("myspace"==e)window.location="http://www.myspace.com/Modules/PostTo/Pages/?t="+encodeURI(i)+"&u="+encodeURI(t)+"&c=&l=";else if("email"==e){var a=$("meta[property='og:description']").attr("content").trim();a+="\n \n"+t,window.location.href="mailto:?subject="+encodeURI(i)+"&body="+encodeURI(a)}});var t=proboards.data("poll_mobile");if(t){var e=t.votedFor,i=0,n=t.maxAnswers;for(var o in t.canVote&&$("td.checkboxes").removeClass("hide"),e)$('.results .checkboxes input[value="'+e[o]+'"]').attr("checked","checked"),i++;n<=i&&$(".results .checkboxes input").each(function(){$(this).attr("checked")||$(this).attr("disabled",!0)}),$("#open_poll").click(function(){proboards.ajax({url:t.openOrCloseUrl,data:{type:"open",thread_id:t.thread_id},dataType:"json",success:function(e){location.reload(!0)}})}),$("#lock_poll").click(function(){confirm("Are you sure you want to lock this poll?")&&proboards.ajax({url:t.openOrCloseUrl,data:{type:"close",thread_id:t.thread_id},dataType:"json",success:function(e){location.reload(!0)}})}),$(".results .checkboxes input").click(function(){var e=$(this).attr("checked")?"cast":"retract";proboards.ajax({url:t.url,data:{type:e,answer_id:$(this).val(),thread_id:t.thread_id},dataType:"json",success:function(e){location.reload(!0)}})})}$("#content video, #content iframe:not(#ad-mobile-middle), #content object").each(function(){$(this).css("height",.5625*parseInt($(this).css("width")))})})},mobile_unsubscribe_index=function(){$(document).ready(function(){$("#s-none").on("click",function(){$(".form_user_edit_notifications select").not(":disabled").val("n")})})},mobile_user_edit_admin=function(){$(document).ready(function(){$('input[name="account_disabled"]').on("change",function(){var e=$('input[name="account_disabled"]:checked');$("#account-disabled-until").toggle(1==e.val())}).trigger("change"),$('input[name="pms_disabled"]').change(function(){var e=$('input[name="pms_disabled"]:checked');$("#pms-disabled-until").toggle(1==e.val())}).trigger("change")})},mobile_user_edit_common=function(){$(document).ready(function(){proboards.form.init(),$.fn.storeFormValues=function(){var e=$(this);$('input[type="text"], select, textarea',e).each(function(){$(this).data("stored",$(this).val())}),$('input[type="checkbox"], input[type="radio"]',e).each(function(){$(this).is(":checked")&&$(this).data("stored","checked")})},$.fn.resetFormValues=function(){var e=$(this);$('input[type="text"], select, textarea',e).each(function(){$(this).val($(this).data("stored"))}),$('input[type="checkbox"], input[type="radio"]',e).each(function(){$(this).is(":checked")&&$(this).prop("checked",!0)})},$.fn.trackFormChanges=function(){var e=$(this);return e.on("change","input, select, textarea",function(){$(this).parents(e).data("changed",!0)}),e},$.fn.setFormStatus=function(e,t){var i=$(this);if(i.data("status")!==e)return $('input[type="submit"]',i).setButtonStatus(e,t),i.data("status",e),i},$.fn.setButtonStatus=function(e,t){var i=$(this);if(i.data("status")!==e){switch(e){case"ready":var n=function(){if(t)return i.prop("disabled",!1),i.prev().remove(),void i.unwrap();i.data("wait")?setTimeout(n,500):i.parent("processing")&&(i.parent().css("width","-=40"),setTimeout(function(){i.prev().remove(),i.unwrap().prop("disabled",!1)},500))};n();break;case"saving":var o='style="width: '+(i.width()+30)+'px;"';i.prop("disabled",!0).wrap('<div class="processing" '+o+"></div>");i.parent().prepend('<div class="processing-img"></div>').css("width","+=40");i.data("wait",!0);setTimeout(function(){i.data("wait",!1)},1e3)}return i.data("status",e),i}};proboards.data("editInitialShow");var e=proboards.data("editInitialTab"),i="";function n(e){$(".profile-menu-bar .profile-menu-bar").val(e),$(".js-edit").hide(),$(".js-edit."+e+"-edit").show()}"edit_notifications"===e&&(e="notifications"),$(".profile-menu-bar .profile-menu-bar").val(e),$(".profile-menu-bar").on("submit",function(e){return!1}),$(".profile-menu-bar .profile-menu-bar").change(function(){var e=$(this).val();if(e!==i){i=e;var t=proboards.data("profileUserId");n(e),"notifications"===e?history.pushState({page:e},"Edit"+e,"/user/"+t+"/edit_notifications"):history.pushState({page:e},"Edit"+e,"/user/"+t+"/"+e)}}),window.onpopstate=function(){var e=history.state?history.state.page:null;if(!e)return $(".js-edit").hide(),void $(".js-edit.avatar-edit").show();n(e)};$(".edit-user form").data("generic_submit",function(){var t=$(this),i=$('input[type="submit"]',$(this)),e=t.serialize();e+="&tabSection="+function(e){var t=e.split(" ");for(;t.length;){var i=t.pop().trim();if(0===i.indexOf("form_"))return i.substr("form_user_edit_".length)}}(t.prop("class")),proboards.ajax({url:proboards.route("update_unified",{user_id:proboards.data("profileUserId")}),data:e,success:function(e){e.alert_message&&alert(e.alert_message),t.data("changed",!1),i.setStatus("saved",{position:"after",style:"display",styleOpt:"inline"});$(".js-edit .status-box").css({background:"#90EE90",color:"#006400",padding:"5px",top:"3px",position:"relative"})},error:function(e){i.setStatus("error",{position:"after",style:"display",styleOpt:"inline",text:e.error});$(".js-edit .status-box").css({background:"#EE9090",color:"#640000",padding:"5px",top:"3px",position:"relative"}),proboards.form.handleFormError(t,e)},complete:function(){t.setFormStatus("ready".true),t.storeFormValues()}})})})},mobile_user_edit_privacy=function(){$(document).ready(function(){$('input[name="change_birthday"]').attr("checked")||$("#change-birthday").hide(),$('input[name="change_birthday"]').bind("change",function(){var e=$(this);$("#change-birthday").toggle(e.prop("checked"))})})},mobile_user_show_activity=function(){$(document).ready(function(){var n=proboards.data("page").member.id,e=proboards.data("form_id"),t=proboards.data("last_activity_id"),o=null;$("#"+e).on("submit",function(e){var t=$('input[name="update"]',this),i=t.val();return o!=i&&proboards.ajax({url:proboards.route("update_status"),data:{status:i,user_id:n,html:1},success:function(e){$("#no-activity-row").remove(),void 0!==e.html&&$(".activities-container").prepend(e.html),0!=e.deleted_id&&$(".activity-"+e.deleted_id).remove(),t.attr("value","")},complete:function(e){o=i}}),!1}),$(".show-more").on("click",function(e){proboards.active_ajax_calls||(proboards.ajax({url:proboards.route("show_more_activities"),data:{user_id:n,last_id:t},success:function(e){$(".activities-container").append(e.html),e.more?t=e.last_id:$(".show-more").unbind("click").remove()}}),e.preventDefault(),e.stopPropagation())})})},mobile_user_show_following=function(){$(document).ready(function(){var i=proboards.data("last_following_id");$(".show-more").on("click",function(e){var t=$(".activities-container");proboards.ajax({url:proboards.route("show_more_following"),data:{user_id:proboards.data("page").member.id,last_id:i},success:function(e){t.append(e.html),e.more?i=e.last_id:$(".show-more").unbind("click").remove()}}),e.preventDefault(),e.stopPropagation()})})},mobile_user_show_groups=function(){$(document).ready(function(){$(".join-group").bind("click",function(e){e.preventDefault();var t=$(this).parentsUntil(".groups",".group");proboards.ajax({url:proboards.route("join_group"),data:{group_id:t.attr("id").substr(6),user_id:proboards.data("page").member.id},dataType:"html",success:function(e){window.location.reload(!0)}})}),$(".leave-group").bind("click",function(e){e.preventDefault();var t=$(this).parentsUntil(".groups",".group");confirm("Are you sure?")&&proboards.ajax({url:proboards.route("leave_group"),data:{group_id:t.attr("id").substr(6),pending:$(this).text()},dataType:"html",success:function(e){window.location.reload(!0)}})})})},mobile_user_show_notifications=function(){$(document).ready(function(){var i=proboards.data("page").member.id,n=proboards.data("last_notification_id");$(".show-more").on("click",function(e){var t=$(".notifications-container");proboards.ajax({url:proboards.route("show_more_notifications"),data:{user_id:i,last_id:n},success:function(e){t.append(e.html),e.more?n=e.last_id:$(".show-more").unbind("click").remove()}}),e.preventDefault(),e.stopPropagation()})})},mobile_user_show_user_common=function(){$(document).ready(function(){$(".profile-menu-bar").change(function(){document.location=$("option:selected",this).val()}),$(".follow_button").on("click",function(e){e.preventDefault();var t=$(this);t.is(".ui-state-disabled")||(t.addClass("ui-state-disabled"),proboards.ajax({url:proboards.route("follow_user"),data:{user_id:proboards.data("page").member.id},success:function(e){t.text(e.new_button_text)},complete:function(){t.removeClass("ui-state-disabled")}}))})})},standard_board_moderators=function(){$(document).ready(function(){new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{id:proboards.data("lm_board_id"),type:"mods",user_search_box:!0},id:proboards.data("lm_id")})})},standard_board_password=function(){$(document).ready(function(){$('input[name="password"]').focus();var e=$('input[name="redirect"]');location.hash&&-1==e.val().indexOf("#")&&e.val(e.val()+location.hash)})},standard_board_show=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_thread_count"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),id:proboards.data("lm_id"),data:{board_id:proboards.data("board_id")}}),$("#moderators-link").bind("click",function(e){return e.preventDefault(),0==$("#moderators-link-tooltip").length&&($(document.body).append('<div id="moderators-link-tooltip"></div>'),proboards.dialog("moderators-link-tooltip",{autoOpen:!1,close:function(){$("#moderators-link-tooltip").remove()},width:460,title:"Moderators"})),proboards.ajax({url:proboards.route("moderators"),data:{id:proboards.data("board_id")},dataType:"html",success:function(e){$("#moderators-link-tooltip").html(e),$("#moderators-link-tooltip").dialog("open")}}),!1}),$(".guests-online-link").on("click",function(e){e.preventDefault(),proboards.guestsOnlineDialog(proboards.data("board_id"))})})},standard_calendar_base=function(){$(document).ready(function(){load_month_previews(),load_month_form(),add_cal_nav(),setup_cal(),$(".calendar-selection").click(function(e){e.preventDefault()}),proboards.data("can_calendar_event")&&($("#calendar-new-event-button").click(function(e){e.preventDefault(),proboards.calendar.new_event()}),$(".cal-current-panel .day").click(function(e){if("a"!=e.target.nodeName.toLowerCase()){var t=$(this).attr("class").match(/date-(\d+-\d+-\d+)/);t&&t[1]&&proboards.calendar.new_event(t[1])}}))})},load_month_previews=function(){var e=proboards.data("event_tips");for(var t in e)$(".cal-preview-panel .date-"+e[t].date).tipTip({content:e[t].tip})},load_month_form=function(){proboards.calendar.init({type:"",year:proboards.data("calendar_year"),month:proboards.data("calendar_month")})},add_cal_nav=function(){$("#select_calendar_type li").click(function(){window.location=$(this).attr("id")})},setup_cal=function(){proboards.data("can_calendar_event")&&(proboards.calendar.set_board_tree(proboards.data("cat_board_tree_params")),proboards.calendar.set_date({month:proboards.data("calendar_month"),day:proboards.data("calendar_day"),year:proboards.data("calendar_year")}))},standard_conversation_index=function(){$(document).ready(function(){listMan=new listManager("conversations",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{user_id:proboards.data("lm_user_id"),folder:proboards.data("lm_folder"),label_id:proboards.data("lm_label_id")},id:proboards.data("lm_id")}),$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove()})},listMan,update_labels_preview_hex=function(e,t,i){$("#manage-label-"+e+"-preview").css({color:"#"+t}),i&&$("#"+proboards.data("manage_form_id")+"_color_"+e+"_input").val(t)},update_labels_preview_text=function(e,t){""==t&&(t=" "),$("#manage-label-"+e+"-preview").text(t)},standard_conversation_new=function(){$(document).ready(function(){$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove(),proboards.data("type")&&proboards.autosave.init(proboards.data("type")),proboards.messagePageManager.init({type:"conversation",form_id:proboards.data("form_id")}),proboards.hotkeys.wysiwyg()})},standard_conversation_participants=function(){$(document).ready(function(){new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:1,id:proboards.data("lm_id"),data:{id:proboards.data("lm_conversation_id"),json:1,user_search_box:!0}},{route_name:"list_participants"})})},standard_conversation_show=function(){$(document).ready(function(){proboards.data("enable_autosave")&&proboards.autosave.init(6),proboards.messageManager.init(),listMan=new listManager("messages",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{conversation_id:proboards.data("lm_conversation_id")},id:proboards.data("lm_id")}),$(".quick-reply .message").resizable({alsoResize:".message textarea",handles:"s",maxWidth:898,minWidth:200,minHeight:160}),proboards.hotkeys.reply(),proboards.hotkeys.quick_reply(),$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove(),$(".user-link").live("click",function(e){if(e.altKey)return $(this).parent().hasClass("shoutbox-post")||$(".quick-reply form textarea").replaceSelection($(this).attr("title")).focus(),!1}),$(".conversation-participants").on("click",function(e){e.preventDefault(),e.stopPropagation(),proboards.loading(!0),proboards.ajax({url:proboards.route("list_participants"),data:{id:proboards.data("lm_conversation_id")},dataType:"html",success:function(e){proboards.dialog("conversation-participants",{width:535,title:"Participants",html:e})},complete:function(){proboards.loading(!1)}})})})},listMan,standard_custompage_edit_visual_iframe=function(){var A="#C2FFA5",i="Wraps the contents with a title bar and border.",h={bookmarked_threads:"Bookmarked Threads",calendar:"Calendar",display_poll:"Display Poll",display_specific_post:"Display Post",forum_navigation_menu:"Forum Navigation Menu",forum_search:"Forum Search",forum_statistics:"Forum Statistics",html_box:"HTML Box",member_lists:"Member Lists",member_profile:"Member Profile",notifications:"Notifications",participated_threads:"Participated Threads",personal_messages:"Personal Messages",recent_threads_posts:"Recent Threads/Posts",staff_assistant:"Staff Assistant"};$(document).ready(function(){0==$("#forum_style").length&&$(document.body).attr("id","pbcpe-plain");var o=proboards.data("zone"),u=proboards.data("widget");!function(){var e=$(".pbcpe-zone"),t='<div class="pbcpe-zone-header"><div class="pbcpe-zone-label"></div><div class="pbcpe-zone-controls"><div class="pbcpe-add-widget pbcpe-btn"><span></span>Add Widget</div><div class="pbcpe-zone-settings pbcpe-btn"><span></span>Zone Settings</div></div><br class="clear" /></div><div class="pbcpe-settings-container pbcpe-hide"><div class="pbcpe-common-zone-settings"><div class="pbcpe-czs-left"><input class="pbcpe-make-container" type="checkbox" name="make_container" value="1" /><label class="pbcpe-make-container">Container</label><img class="help-icon" src="'+proboards.image_path()+'/admin/pbhelpicon.png" title="'+i+'"><span>Title</span></div><div class="pbcpe-czs-right"><input type="text" name="zone_title" /></div><div class="status"></div></div></div><div class="pbcpe-settings-handle"><span></span></div>';e.prepend(t),e.each(function(){var e=$(this).attr("id").replace("zone_",""),t="Zone "+e,i=o[e].title;i&&(t=t+" | "+i);var n=$(".pbcpe-zone-label",this).text(t);$("input.pbcpe-make-container",this).attr("id","make-container-"+e).data("zone",$(this)),$("label.pbcpe-make-container",this).attr("for","make-container-"+e),$(this).data({zoneId:e,labelElem:n,settingsElem:$(".pbcpe-settings-container",this),settingsStatusElem:$(".status",this)})}),$(".pbcpe-zone-settings, .pbcpe-settings-handle").on("click",function(){$(this).parents(".pbcpe-zone").data("settingsElem").slideToggle("easeOutExpo",function(){x()})}),$("input.pbcpe-make-container").each(function(){var t=$(this),i=t.data("zone"),n=i.data("zoneId");1==o[n].container&&t.attr("checked","checked"),t.autoSubmit({url:proboards.data("custom_page_zone_settings_save_url"),beforeSendData:function(e){e.zone_id=n},statusElement:i.data("settingsStatusElem"),success:function(e){t.attr("checked")?(i.addClass("container"),o[n].container=1):(i.removeClass("container"),o[n].container=0),x()}})}),$('.pbcpe-settings-container input[name="zone_title"]').each(function(){var i=$(this).parents(".pbcpe-zone"),n=i.data("zoneId");$(this).val(o[n].title).autoSubmit({url:proboards.data("custom_page_zone_settings_save_url"),beforeSendData:function(e){e.zone_id=n},statusElement:i.data("settingsStatusElem"),success:function(e){var t="Zone "+n;e.title&&(t=t+" | "+e.title),i.data("labelElem").text(t),$(".pbcpe-zone-title",i).text(e.title).pulse(A),o[n].title=e.title,x()}})});var d=null;$(document).on("mouseenter",".pbcpe-widget:not(.pbcpe-new, .pbcpe-edit, .pbcpe-deleted)",function(){if(!proboards.data("sorting")&&(d&&d.remove(),0==$("#pbcpe-widget-menu:visible").length&&0==proboards.active_ajax_calls)){var i=$(this),n=i.attr("id"),e=u[n].zone,o=u[n].type,a=h[o]||"(Unknown Widget)";d=i.overlay({class:"pbcpe-js-overlay",css:{backgroundImage:"none",opacity:.85,zIndex:"9999"}},!0);var t=$('<div class="pbcpe-overlay-controls"></div>'),r=$('<div class="pbcpe-edit-button"><span></span>Settings</div>'),s=$('<div class="pbcpe-delete-button"><span></span>Delete</div>'),l=$('<div class="pbcpe-reorder-button" title="Drag to reorder"><span></span></div>');t.append(r,l,s);var c=$('<div class="pbcpe-overlay-label">'+a+"</div>");d.append(c,t),"(Unknown Widget)"!=a?r.on("click",function(){var t=u[n].data;"html_box"==o?proboards.ajax({url:proboards.data("custom_page_widget_html_box"),data:{id:n,zone_id:e},success:function(e){t.html=e.html,d&&d.remove(),widgetForms.generateForm(i,u,"edit",t),i.next(".pbcpe-form").prepend('<div class="pbcpe-widget-header">Widget Settings: '+a+"</div>"),x()}}):(d&&d.remove(),widgetForms.generateForm(i,u,"edit",t),i.next(".pbcpe-form").prepend('<div class="pbcpe-widget-header">Widget Settings: '+a+"</div>"),x())}):r.css({opacity:"0.15",cursor:"default"}),s.on("click",function(){confirm("Are you sure you want to delete the widget?")&&proboards.ajax({url:proboards.data("custom_page_widget_delete_url"),data:{id:n,type:o,zone_id:e},success:function(e){d&&d.remove(),i.addClass("pbcpe-deleted"),i.fadeOut(function(){$(this).remove(),x()}),delete u[n]}})}),d.on("mouseleave",function(e){proboards.data("sorting")||(d.unbind("mouseleave"),d&&d.remove())})}}),$(document).on("click",":not(.pbcpe-js-overlay)",function(){$(".pbcpe-js-overlay",this).remove()}),$(".pbcpe-widgets").sortable({connectWith:".pbcpe-widgets",forcePlaceholderSize:!0,handle:".pbcpe-reorder-button",items:".pbcpe-widget:not(.pbcpe-new)",placeholder:"pbcpe-widget-placeholder",tolerance:"pointer",start:function(e,t){$("body").data("currentSortable",$(this)),proboards.data("sorting",!0);var i=$(t.item).height()-2;$(".pbcpe-widget-placeholder").css({height:i,backgroundColor:"lightyellow",border:"1px solid goldenrod"})},update:function(e,t){var i=$(t.item),n=i.attr("id"),o=[];$(".pbcpe-widget:not(.pbcpe-new, .pbcpe-edit)",this).each(function(){var e=$(this).attr("id");e&&o.push(e)});var a=u[n].zone,r=i.parents(".pbcpe-zone").attr("id").replace("zone_",""),s={ids:o,zone_id:r};if(a!=r&&null!=t.sender)u[n].zone=r,s.old_zone_id=a,s.widget_id=n;else if(a!=r&&null==t.sender)return;proboards.ajax({url:proboards.data("custom_page_widget_order_url"),data:s,success:function(){i.attr("style","position: relative;").pulse(A),x()}})},stop:function(e,t){$("body").data("currentSortable",null),proboards.data("sorting",!1)}})}()}),widgetForms={commonFieldData:[{std_input_wrapper:0,type:"freestyle",html:'<div class="pbcpe-common-widget-settings"><div class="pbcpe-cws-left"></div><div class="pbcpe-cws-right"></div></div>',css:{borderBottom:"1px dashed goldenrod"}},{std_input_wrapper:0,type:"text",name:"title",parent:".pbcpe-cws-right"},{std_input_wrapper:0,type:"checkbox",name:"container",label:"Container",tip:i,parent:".pbcpe-cws-left"},{std_input_wrapper:0,type:"freestyle",html:"<span>Title</span>",parent:".pbcpe-cws-left"}],fieldData:{bookmarked_threads:[{type:"select",name:"limit",label:"Display How Many",options:proboards.form.genOptionRange(1,20,1,10)}],calendar:[{type:"select",name:"calendar_type",label:"Type",options:[{value:"list",text:"List"},{value:"chart",text:"Chart"}]},{type:"freestyle",html:'<div class="num-events-wrapper"></div>'},{type:"select",name:"num_events",label:"Display",options:proboards.form.genOptionRange(1,20,1,10),std_input_wrapper:0,parent:".num-events-wrapper"},{type:"freestyle",html:"<span>Upcoming Events</span>",css:{marginBottom:"4px",verticalAlign:"middle"},parent:".num-events-wrapper",std_input_wrapper:0},{type:"color",name:"border_color",label:"Border",value:"aaaaaa"}],display_poll:[{type:"text",name:"thread_id",placeholder:"Enter Thread ID Here"},{type:"freestyle",html:'<div class="poll-colors-wrapper"><div class="input">Poll Colors</div></div>',std_input_wrapper:0},{type:"color",name:"first",label:"1st",parent:".poll-colors-wrapper"},{type:"color",name:"second",label:"2nd",parent:".poll-colors-wrapper"},{type:"color",name:"third",label:"3rd",parent:".poll-colors-wrapper"},{type:"color",name:"fourth",label:"4th+",parent:".poll-colors-wrapper"}],display_specific_post:[{type:"text",name:"post_id",placeholder:"Enter Post ID Here"}],forum_navigation_menu:[{type:"select",name:"orientation",label:"Type",options:[{value:"horizontal",text:"Horizontal"},{value:"vertical",text:"Vertical"}]},{type:"checkbox",name:"customize_colors",label:"Customize Colors"},{type:"color",name:"color_background",label:"Background"},{type:"color",name:"color_text",label:"Text"},{type:"color",name:"color_highlight",label:"Highlight"},{type:"color",name:"color_border",label:"Border"}],forum_search:[{type:"radio",name:"result_type",breaks:!0,options:[{value:"posts",text:"display results as posts",selected:!0},{value:"threads",text:"display results as threads"}]}],forum_statistics:[{type:"freestyle",html:'<div class="checkbox-wrapper"><div class="input">Display</div></div>'},{parent:".checkbox-wrapper",type:"checkbox",name:"total_threads",label:"Total Threads"},{parent:".checkbox-wrapper",type:"checkbox",name:"total_posts",label:"Total Posts"},{parent:".checkbox-wrapper",type:"checkbox",name:"total_members",label:"Total Members"},{parent:".checkbox-wrapper",type:"checkbox",name:"newest_user",label:"Newest Member"},{parent:".checkbox-wrapper",type:"checkbox",name:"most_users_online",label:"Most Users Online"}],html_box:[{type:"code_editor",name:"html",label:"HTML",options:proboards.form.genOptionRange(1,40,1,10)}],member_lists:[{type:"select",name:"view",label:"Type",options:[{value:"birthdays",text:"Birthdays"},{value:"staff",text:"Staff"},{value:"top_posters",text:"Top Posters"},{value:"online",text:"Users Online",selected:!0}]},{type:"select",name:"limit",label:"Display How Many",options:proboards.form.genOptionRange(1,40,1,10)}],member_profile:[{type:"radio",name:"view_self",breaks:!0,options:[{value:"1",text:"Show members their own profile",selected:!0},{value:"0",text:"Specific Member"}]},{type:"user",name:"user_id",allowManualInput:!0,eventError:!0},{type:"color",name:"border_color",label:"Border",value:"aaaaaa"}],notifications:[{type:"select",name:"limit",label:"Display How Many",options:proboards.form.genOptionRange(1,20,1,10)}],participated_threads:[{type:"select",name:"limit",label:"Display How Many",options:proboards.form.genOptionRange(1,20,1,10)}],personal_messages:[{type:"select",name:"limit",label:"Display How Many",options:proboards.form.genOptionRange(0,20,1,10)}],recent_threads_posts:[{type:"select",name:"recent_type",label:"Type",options:[{value:"threads",text:"Recent Threads"},{value:"posts",text:"Recent Posts"}]},{type:"radio",name:"where",label:"Display From",breaks:!0,options:[{value:"forum",text:"Entire Forum",selected:!0},{value:"board",text:"Specific Board"}]},{type:"board_select",name:"board_id"},{type:"radio",name:"post_display",label:"Display",breaks:!0,options:[{value:"all",text:"All Posts",selected:!0},{value:"open",text:"Only Opening Posts"}]},{type:"select",name:"display_how_many_threads",label:"Display How Many",options:proboards.form.genOptionRange(1,20,1,10)},{type:"select",name:"display_how_many_posts",label:"Display How Many",options:proboards.form.genOptionRange(1,10,1,5)}],staff_assistant:[]},generateForm:function(a,r,s,e){var t=a.attr("id"),i=t?r[t].zone:a.data("zone"),l=t?r[t].type:a.data("type");a.hide();var n="add"==s?"pbcpe-new":"pbcpe-edit";n+=" pbcpe-form widget-"+l+" "+a.attr("class"),n+=" norewrite nolinks";var c=$("<div></div>").addClass(n),d=$("<form></form>");t&&d.append('<input type="hidden" name="id" value="'+t+'"/>'),d.append('<input type="hidden" name="type" value="'+l+'"/>'),d.append('<input type="hidden" name="zone_id" value="'+i+'"/>'),c.append(d);var o=$.extend(!0,[],this.fieldData[l]);o=this.commonFieldData.concat(o);for(var u=0;u<o.length;u++){fieldOpts=o[u];var h=fieldOpts.name,p=null;for(var f in void 0!==fieldOpts.value&&(p=fieldOpts.value,delete fieldOpts.value),e)e.hasOwnProperty(f)&&0==f.indexOf(h)&&(f===h?p=e[f]:fieldOpts[f]=e[f]);var m=fieldOpts.parent?$(fieldOpts.parent,d):d;proboards.form.generateInput(fieldOpts,p,m)}var g=$('<input type="submit" value="Save" />'),v=$('<button class="pbcpe-widget-cancel">Cancel</button>'),b=$("<div></div>").append(g,v);d.append(b),a.after(c),"function"==typeof y[l]&&y[l](c,s),v.on("click",function(){return $.clearInputError(),"add"==s?(a.remove(),c.remove()):(c.remove(),a.show()),x(),!1}),$(d).on("submit",function(){"function"==typeof _[l]&&_[l](c),$.clearInputError();var o={},e=d.serializeArray();$.each(e,function(){o[this.name]=this.value});var i=c.overlay({},!0),t="add"==s?proboards.data("custom_page_widget_add_url"):proboards.data("custom_page_widget_edit_url");return proboards.ajax({url:t,data:{settings:o},success:function(e){c.remove();var t=$(".title-bar",a).clone();a.html(e.html).prepend(t),"add"==s&&a.attr("id",e.id),1==o.container?a.addClass("container"):a.removeClass("container");var i=o.title||"";$(".pbcpe-widget-title",a).text(i),$.extend(r,e.pb_data_update);var n=a.attr("id");a.data({added:!0,formData:e.pb_data_update[n].data}),"function"==typeof w[l]&&w[l](a),a.show()},error:function(e){var t=$('input[name="'+e.field+'"]',c);if(t.length)$.inputError(t,e.error);else{var i=$(".pbcpe-widget-corner-error",c);0==i.length&&(i=$('<div class="pbcpe-widget-corner-error"></div>')).appendTo(c),i.text(e.error).stop(!0,!0).show().delay(1e4).fadeOut()}},complete:function(){i.remove();var e=a.data("added")?a:c,t=a.data("added")?A:"#FFB2B2";e.pulse(t),x()}}),!1})}};var y={bookmarked_threads:function(e,t){"add"==t&&$('input[name="title"]',e).val("Bookmarked Threads")},calendar:function(e,t){var i=$('input[name="title"]',e),n=i.val(),o=$('select[name="calendar_type"]',e),a=$(".num-events-wrapper",e),r=$(".input-border_color",e);o.on("change",function(){"list"==o.val()?(a.show(),r.hide(),""==i.val()&&i.val("Upcoming Events")):(a.hide(),r.show(),"Upcoming Events"==i.val()&&i.val(""))}).trigger("change"),"add"!=t&&i.val(n)},display_poll:function(e,t){"add"==t&&$('input[name="title"]',e).val("Poll Question");$(".input-thread_id",e).before("<label>"+proboards.data("forum_url")+"/thread/</label>")},display_specific_post:function(e,t){$(".input-post_id",e).before('<div class="custom-label-wrapper"><label>'+proboards.data("forum_url")+'/post/</label><img class="help-icon" src="'+proboards.image_path()+'/admin/pbhelpicon.png" title="Use the \'Link to Post\' feature to get the ID when viewing posts."></div>')},forum_navigation_menu:function(t,e){$('input[name="customize_colors"]',t).bind("change",function(){var e=$(".input-color_background,.input-color_border,.input-color_highlight,.input-color_text",t);$(this).is(":checked")?e.show():e.hide()}).trigger("change")},forum_search:function(e,t){"add"==t&&$('input[name="title"]',e).val("Search Forum...")},forum_statistics:function(e,t){var i=$('input[name="title"]',e);"add"==t&&(i.val("Forum Statistics"),$('input[name="total_threads"], input[name="total_posts"], input[name="total_members"], input[name="newest_user"], input[name="most_users_online"]',e).attr("checked","checked"))},html_box:function(e,t){},member_lists:function(e,t){var i=$('input[name="title"]',e),n=$('select[name="view"]',e);if("add"==t){var o=n.find("option:selected").text();i.val(o)}n.on("change",function(){var e=i.val();if("Birthdays"==e||"Staff"==e||"Top Posters"==e||"Users Online"==e){var t=n.find("option:selected").text();i.val(t)}})},member_profile:function(e,t){$('input[name="view_self"]',e).on("change",function(){$(".input-user_id",e).toggle(0==$('input[name="view_self"]:checked',e).val())}).trigger("change")},notifications:function(e,t){"add"==t&&$('input[name="title"]',e).val("Notifications")},participated_threads:function(e,t){"add"==t&&$('input[name="title"]',e).val("Participated Threads")},personal_messages:function(e,t){"add"==t&&$('input[name="title"]',e).val("Personal Messages")},recent_threads_posts:function(e,t){var i=$('input[name="title"]',e),n=(i.val(),$('select[name="recent_type"]',e)),o=$(".input-post_display",e),a=$(".input-display_how_many_threads",e),r=$(".input-display_how_many_posts",e);n.on("change",function(){"threads"==n.val()?(o.hide(),a.show(),r.hide(),"add"!=t||i.data("changed")||i.val("Recent Threads")):(o.show(),a.hide(),r.show(),"add"!=t||i.data("changed")||i.val("Recent Posts"))}).trigger("change");var s=$('input[name="board_id_display"]',e),l=$('input[name="where"]',e);"forum"==l.filter(":checked").val()&&s.hide(),l.on("change",function(){"forum"==$(this).val()?s.hide():s.show()}),"add"==t&&(s.on("change.widget",function(e,t){i.val(t.name)}),i.on("change",function(){i.data("changed",!0),s.unbind("change.widget")}))},staff_assistant:function(e,t){}},_={html_box:function(e){$('textarea[name="html"].CodeMirror-textarea',e).data("editor").save()}},w={display_poll:function(e){var t=e.data("formData");void 0!==t.poll_opts&&(t.poll_opts.pollImgSrc=proboards.data("poll_img_src"),t.poll_opts.checkImgSrc=proboards.data("check_img_src"),$(".poll.show",e).poll(t.poll_opts),$(".view-voters, .poll-closed",e).remove())},display_specific_post:function(e){proboards.embedded.processEmbedded()},recent_threads_posts:function(e){proboards.embedded.processEmbedded()}},x=function(){$("body").trigger("resizeIframe")}},standard_custompage_widgets=function(){$(document).ready(function(){var a=null;$(".widget-member_profile form").on("submit",function(e){var t=$('input[name="user_id"]',this).val(),i=$('input[name="update"]',this),n=i.val(),o=$(".personal-text",$(this).parents(".widget-content"));return a!=n&&proboards.ajax({url:$(this).attr("action"),data:{status:n,user_id:t},success:function(e){o.html(e.entered_text),i.attr("value","")},complete:function(e){a=n}}),!1}),$(".poll.show").each(function(){var e=$(this),t=e.parents(".widget-display_poll").attr("id"),i=proboards.data("widget");if(void 0!==i[t].data.poll_opts){var n=i[t].data.poll_opts;n.pollImgSrc=proboards.data("poll_img_src"),n.checkImgSrc=proboards.data("check_img_src"),e.poll(n),$(".view-voters, .poll-closed",e).remove(),$("h3",e).on("click",function(){window.location=proboards.route("thread",{thread_id:i[t].data.thread_id})})}}),proboards.embedded.processEmbedded()})},standard_post_base=function(){$(document).ready(function(){proboards.postManager.init({id:proboards.data("lm_id")}),listMan=new listManager("posts",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")})})},listMan,standard_thread_by_ip=function(){$(document).ready(function(){$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove()})},standard_post_edit=function(){$(document).ready(function(){proboards.postPageManager.init({type:"post",form_id:proboards.data("form_id")}),proboards.hotkeys.wysiwyg()})},standard_post_likes=function(){$(document).ready(function(){listMan=new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{id:proboards.data("lm_post_id"),type:"likes",user_search_box:!0},id:proboards.data("lm_id")})})},listMan,standard_post_new=function(){$(document).ready(function(){proboards.postPageManager.init({type:"post",form_id:proboards.data("form_id")}),proboards.data("type")&&proboards.autosave.init(proboards.data("type")),proboards.hotkeys.wysiwyg()})},standard_registration_register=function(){$(document).ready(function(){var n=$('input[name="username"]'),o="";n.on("keyup change",function(){var t=$("tr#username-available"),i=$("td#username-available-msg",t),e=n.val();o&&clearTimeout(o),e.length?o=setTimeout(function(){proboards.ajax({url:proboards.route("e_register_check_username"),ignorePending:!0,data:{username:e},dataType:"json",success:function(e){""!=e.available&&(i.html('<span class="success">'+e.available+"</span>"),t.show())},error:function(e){""!=e.error&&(i.html('<span class="error">'+e.error+"</span>"),t.show())},complete:function(){n.val().length||(t.hide(),i.html(""))}})},500):(t.hide(),i.html(""))})})},standard_search_index=function(){$(document).ready(function(){window.onunload=function(){},$('input[name="what_at_least_one"]').focus();var b=proboards.data("locale_settings").input_date_placeholder;({options:{formId:""},init:function(){var a=this,e=a.options.formId=proboards.data("form_id"),t=$('input[name="what_at_least_one"]'),i=$('input[name="what_all"]'),n=$('input[name="what_exact_phrase"]'),o=$('input[name="what_without"]'),r=$('input[name="where_thread_title"]'),s=$('input[name="where_board_subboard_placeholder"]'),l=$('input[name="where_category_placeholder"]'),c=$('input[name="where_without_placeholder"]'),d=$('input[name="when_hours"]'),u=$('input[name="when_days"]'),h=$('input[name="when_between_start"]'),p=$('input[name="when_between_end"]'),f=$('input[name="when_exact_date"]'),m=$('input[name="when_before_date"]'),g=$('input[name="who_at_least_one_placeholder"]'),v=$('select[name="who_only_made_by"]'),b=$('input[name="who_except_placeholder"]'),A=$('input[name="who_member_group_placeholder"]'),y=$('input[name="who_threads_created_by_placeholder"]'),_=[t,i,n,o,r,s,l,c,d,u,h,p,f,m,g,v,b,A,y];s.data({dialog:$("#board-list"),hidden:$('input[name="where_board_subboard"]'),dialogTitle:"Select Boards",type:"checkbox"}),l.data({dialog:$("#category-list"),hidden:$('input[name="where_category"]'),dialogTitle:"Select Categories",type:"checkbox"}),c.data({dialog:$("#exclude-list"),hidden:$('input[name="where_without"]'),dialogTitle:"Select Boards to Exclude",type:"checkbox"}),g.data({dialog:$("#"+e+"_who_at_least_one_pick_input-searchbox-container"),hidden:$('input[name="who_at_least_one"]'),hiddenName:"who_at_least_one",dialogTitle:"Select Who",searchField:$('input[name="who_at_least_one_pick"]'),type:"usersearch"}),v.data({hidden:$('input[name="who_made_by"]'),hiddenName:"who_made_by"}),b.data({dialog:$("#"+e+"_who_except_pick_input-searchbox-container"),hidden:$('input[name="who_except"]'),hiddenName:"who_except",dialogTitle:"Select Who",searchField:$('input[name="who_except_pick"]'),type:"usersearch"}),A.data({dialog:$("#group-list"),hidden:$('input[name="who_member_group"]'),hiddenName:"who_member_group",dialogTitle:"Select Groups",type:"checkbox"}),y.data({dialog:$("#"+e+"_who_threads_created_by_pick_input-searchbox-container"),hidden:$('input[name="who_threads_created_by"]'),dialogTitle:"Select Who",searchField:$('input[name="who_threads_created_by_pick"]'),type:"usersearch"});for(var w=$("#transcription"),x=0;x<_.length;x++){var k=_[x];k.prop("disabled")&&(k.data("hidden")?k.add(k.data("hidden")).prop("disabled",!1):k.prop("disabled",!1))}var C=[s,l,c,A];for(x=0;x<C.length;x++)0!=C[x].length&&function(){var t=C[x],e=t.data("dialog"),i=t.data("hidden"),n=t.data("dialogTitle");e.dialog({title:n,autoOpen:!1,width:510,height:455,buttons:[{text:"Select All",click:function(){$(this).find(":checkbox").attr("checked","checked")}},{text:"Select None",click:function(){$(this).find(":checkbox").removeAttr("checked")}},{text:"Done",click:function(){$(this).dialog("close")}}],close:function(){var e=a.set_values($("input:checked",this));i.val(e[0]),t.val(e[1]),w.html(a.transcribe_search())}}),a.setup_dialog(t)}();var S=[g,b,y];for(x=0;x<S.length;x++)0!=S[x].length&&function(){var t=S[x],i=t.data("searchField"),e=t.data("dialog"),n=t.data("hidden"),o=t.data("dialogTitle");e.dialog({title:o,autoOpen:!1,width:525,buttons:{Done:function(){$(this).dialog("close")}},close:function(){var e=i.val();n.val(e),t.val(a.set_values_pick(this)),w.html(a.transcribe_search())}}),a.setup_dialog(t)}();setTimeout(function(){a.apply_query_string(C,S)},1500);var T=$(["#"+e+"_when_days_input","#"+e+"_when_hours_input","#"+e+"_when_between_start_input","#"+e+"_when_between_end_input","#"+e+"_when_exact_date_input","#"+e+"_when_before_date_input"].join(",")),E=[{clickSelectors:["#"+e+"_when_days_input","#"+e+"_when_hours_input"],names:["when_days","when_hours"]},{clickSelectors:["#"+e+"_when_between_start_input","#"+e+"_when_between_end_input"],names:["when_between_start","when_between_end"]},{clickSelectors:["#"+e+"_when_exact_date_input"],names:["when_exact_date"]},{clickSelectors:["#"+e+"_when_before_date_input"],names:["when_before_date"]}];for(x=0;x<E.length;x++){var D=E[x].clickSelectors,I=E[x].names;$(D.join(",")).bind("click focus",{clickSelectors:D,names:I},function(e){var t=e.data.clickSelectors,i=e.data.names;T.addClass("disabled").removeAttr("name"),$(t.join(",")).removeClass("disabled");for(var n=0;n<i.length;n++)$(t[n]).attr("name",i[n])}).bind("focusout change",{clickSelectors:D,names:I},function(e){a.check_disabled($(e.data.clickSelectors.join(",")),e.data.names)})}var P=g.add(v).add(b).add(A),M=g.data("hidden").add(v).add(b.data("hidden")).add(A.data("hidden"));P.on("focus click",function(){if(P.addClass("disabled"),M.removeAttr("name"),"select"==this.nodeName.toLowerCase())$(this).removeClass("disabled").attr("name","who_only_made_by");else{var e=$(this).removeClass("disabled").data("hiddenName");$(this).data("hidden").attr("name",e)}}),this.check_without(),t.add(i).add(n).on("keyup",function(){a.check_without()}),w.html(this.transcribe_search()),$("input, select").on("click change focus",function(){w.html(a.transcribe_search())});function O(){for(var e=0;e<_.length;e++){var t=_[e];""!=t.val()&&!t.is(".disabled")||(t.data("hidden")?t.add(t.data("hidden")).prop("disabled",!0).val(""):t.prop("disabled",!0).val(""))}var i=[s,l,c,g,b,A,y];for(e=0;e<i.length;e++)i[e].prop("disabled",!0)}var N=40,L=function(){if(!$("#"+e).data("form")&&N--)return setTimeout(L,250);proboards.data("user").is_logged_in?$("#"+e).form("option","submit",O):$("#"+e).on("captcha-submit",function(e,t,i){"formSubmit"==t&&O()})};L()},transcribe_search:function(){for(var e=this,t=e.options.formId,i=[],n=[t+"_what_at_least_one_input",t+"_what_all_input",t+"_what_exact_phrase_input",t+"_what_without_input",t+"_where_thread_title_input",t+"_where_board_subboard_placeholder_input",t+"_where_category_placeholder_input",t+"_where_without_placeholder_input",[t+"_when_days_input",t+"_when_hours_input"],[t+"_when_between_start_input",t+"_when_between_end_input"],t+"_when_exact_date_input",t+"_when_before_date_input",t+"_who_at_least_one_placeholder_input",t+"_who_only_made_by_input",t+"_who_except_placeholder_input",t+"_who_member_group_placeholder_input",t+"_who_threads_created_by_placeholder_input",[t+"_display_as_input_radio_0",t+"_display_as_input_radio_1"]],o=0;o<n.length;o++){var a=n[o];"string"!=typeof a&&(a=a[0]);var r=$("#"+a);if(0!=r.length){var s=r.val(),l=""!=s;switch(a){case t+"_what_at_least_one_input":if(l){var c=e.escape_and_bold(s);i.push("with at least "+e.check_plural(c," ","the word ","one of the words ")+c)}break;case t+"_what_all_input":if(l){c=e.escape_and_bold(s);i.push(e.check_plural(c," ","with the word ","with all the words ")+c)}break;case t+"_what_exact_phrase_input":if(l){c=e.escape_and_bold(s);i.push("with the phrase "+c)}break;case t+"_what_without_input":if(l){c=e.escape_and_bold(s);i.push("without the "+e.check_plural(c," ","word ","words ")+c)}break;case t+"_where_thread_title_input":if(l){c=e.escape_and_bold(s);i.push("where the thread title contains "+c)}break;case t+"_where_board_subboard_placeholder_input":if(l){c=e.escape_and_bold(s);i.push("in the "+e.check_plural(c,",","board ","boards ")+c)}break;case t+"_where_category_placeholder_input":if(l){c=e.escape_and_bold(s);i.push("in the "+e.check_plural(c,",","category ","categories ")+c)}break;case t+"_where_without_placeholder_input":if(l){c=e.escape_and_bold(s);i.push("without searching in the "+e.check_plural(c,",","board ","boards ")+c)}break;case t+"_when_days_input":var d=n[o],u=$("#"+d[0]),h=$("#"+d[1]),p=1==(u=u.hasClass("disabled")?"":parseInt(e.strip_html(u.val())))?" day":" days",f=1==(h=h.hasClass("disabled")?"":parseInt(e.strip_html(h.val())))?" hour":" hours";""==h||isNaN(h)||""==u||isNaN(u)?""==h||isNaN(h)?""==u||isNaN(u)||i.push("posted within the last "+e.bold(u)+p):i.push("posted within the last "+e.bold(h)+f):i.push("posted within the last "+e.bold(u)+p+" and "+e.bold(h)+f);break;case t+"_when_between_start_input":d=n[o];var m=$("#"+d[0]),g=$("#"+d[1]);m=m.hasClass("disabled")?"":e.strip_html(m.val()),g=g.hasClass("disabled")?"":e.strip_html(g.val()),""!=m&&m!=b&&""!=g&&g!=b&&i.push("posted between the dates "+e.bold(m)+" and "+e.bold(g));break;case t+"_when_exact_date_input":if(s!=b&&l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push("posted only on the exact date "+c)}break;case t+"_when_before_date_input":if(s!=b&&l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push("posted before the date "+c)}break;case t+"_who_at_least_one_placeholder_input":if(l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push(e.check_plural(c,",","by the member ","by at least one of the members ")+c)}break;case t+"_who_only_made_by_input":if(!r.hasClass("disabled")){c=e.escape_and_bold($("option:selected",r).text());i.push("made by  "+c)}break;case t+"_who_except_placeholder_input":if(l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push("except posts by the "+e.check_plural(c,",","member ","members ")+c)}break;case t+"_who_member_group_placeholder_input":if(l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push("by the member "+e.check_plural(c,",","group ","groups ")+c)}break;case t+"_who_threads_created_by_placeholder_input":if(l&&!r.hasClass("disabled")){c=e.escape_and_bold(s);i.push("in threads created by "+e.check_plural(c,",","the member ","at least one of the members ")+c)}break;case t+"_display_as_input_radio_0":var v=$('input[name="display_as"]:checked');v=0==v.val()?"and display results as <strong>posts</strong>.":"and display results as <strong>threads</strong>.",i.push(v)}}}return"Search for posts "+i.join(", ")},bold:function(e){return"<strong>"+e+"</strong>"},check_disabled:function(e,t){for(var i=!1,n=0;n<e.length;n++){if((o=$(e[n]).val())&&o!=b){i=!0;break}}for(n=0;n<e.length;n++){var o=$(e[n]).val();i||""!=o&&o!=b?$(e[n]).removeClass("disabled").attr("name",t[n]):$(e[n]).addClass("disabled").removeAttr("name")}},check_plural:function(e,t,i,n){return 0<=e.indexOf(t)?n:i},check_without:function(){for(var e=$('input[name="what_at_least_one"]'),t=$('input[name="what_all"]'),i=$('input[name="what_exact_phrase"]'),n=$('input[name="what_without"]'),o=[e,t,i],a=!1,r=0;r<o.length;r++)$(o[r]).val()&&(a=!0);a?$(n).removeAttr("readonly").removeClass("disabled"):$(n).attr("readonly","readonly").addClass("disabled").val("")},clear_fields:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.hasClass("date")?i.val(b):i.val(""),i.data("hidden")&&i.data("hidden").val(""),i.data("dialog")&&!i.data("searchField")&&$("input:checked",i.data("dialog")).removeAttr("checked"),i.data("searchField")&&i.data("searchField").val("")}},escape_and_bold:function(e){return e=(e=e.replace(/>/g,"&gt;")).replace(/</g,"&lt;"),this.bold(e)},setup_dialog:function(l){l.on("focus",function(){l.data("dialog").dialog("open")}),l.one("focus.onetime",function(e){var t=l.data("dialog"),i=l.data("hidden").val();switch(l.data("type")){case"checkbox":for(var n=i.split(","),o={},a=0;a<n.length;a++)o[n[a]]=!0;$('input[type="checkbox"]',t).each(function(){o[$(this).val()]&&$(this).prop("checked",!0)});break;case"usersearch":if(!i)break;var r=$(".user-search",t).attr("id"),s=$("."+r+"-selectlist");proboards.loading(!0),proboards.ajax({url:proboards.route("get_selected_users"),data:{ids:i},success:function(e){s.selectlist("apply_selected",e.results)},complete:function(){proboards.loading(!1)}})}})},set_values:function(e){var t=[],i=[];return e.each(function(){var e=$(this);t.push(e.val()),i.push(e.next("label").text())}),t.join(", "),i.join(", "),[t,i]},set_values_pick:function(e){var t=[];return $(" .micro-profile .name",e).each(function(){t.push($(this).text())}),t.join(", "),t},strip_html:function(e){return e?e.replace(/(<([^>]+)>)/gi,""):""},apply_query_string:function(e,s){var l=this;if(!(location.search.length<=1)){for(var c=proboards.consolidateParams(["search"]),d=0;d<e.length;d++)if(0!=e[d].length){var t=e[d],i=t.data("dialog"),n=t.data("hidden");if(c[n.attr("name")]){for(var o=n.val(),a=0,r=(o=o.split(",")).length;a<r;a++)$('input[value="'+parseInt(o[a])+'"]',i).prop("checked",!0);var u=l.set_values($("input:checked",i));n.val(u[0]),t.val(u[1])}}for(d=0;d<s.length;d++)0!=s[d].length&&function(){var i=s[d],n=i.data("searchField"),o=i.data("dialog"),a=i.data("hidden"),e=$(".user-search",o).attr("id"),r=$("."+e+"-selectlist");if(c[a.attr("name")]){var t=a.val();t&&proboards.ajax({url:proboards.route("get_selected_users"),data:{ids:t},success:function(e){r.selectlist("apply_selected",e.results);var t=n.val();a.val(t),i.val(l.set_values_pick(o)),i.off("focus.onetime")}})}}();$("#transcription").html(l.transcribe_search())}}}).init()})},standard_search_results_posts=function(){$(document).ready(function(){proboards.postManager.init({id:proboards.data("lm_id")}),listMan=new listManager("posts",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")})})},listMan,standard_search_results_threads=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")})})},standard_thread_edit=function(){$(document).ready(function(){proboards.postPageManager.init({type:"thread",form_id:proboards.data("form_id")}),proboards.hotkeys.wysiwyg()})},standard_thread_find_threads=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")}),$(".nav-tree-labels ul:has(.placeholder)").parentsUntil(".nav-tree").menu("hideOption",["nav-tree-labels"]),$(".nav-tree-labels .placeholder").remove()})},standard_thread_new=function(){$(document).ready(function(){proboards.postPageManager.init({type:"thread",form_id:proboards.data("form_id")}),proboards.data("type")&&proboards.autosave.init(proboards.data("type")),proboards.hotkeys.wysiwyg()})},standard_thread_participants=function(){$(document).ready(function(){new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:1,id:proboards.data("lm_id"),data:{thread_id:proboards.data("lm_thread_id"),json:1,user_search_box:!0}},{route_name:"thread_participants_list"})})},standard_thread_participated=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:proboards.data("lm_data"),id:proboards.data("lm_id")},{search:!1})})},standard_thread_recent=function(){$(document).ready(function(){new listManager("threads",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),id:proboards.data("lm_id"),data:{recent:1}})})},standard_thread_show=function(){$(document).ready(function(){if($(".control-icons .event_icon").click(function(){0==$("#event_range").length&&$("body").append($("<div>").attr("id","event_range"));$("#event_range").dialog({autoOpen:!1,width:360,height:120,maxHeight:600,title:"Event"}),$("#event_range").html(proboards.data("range_string")),$("#event_range").dialog("open"),553<$("#event_range").height()&&($("#event_range").dialog("option","height",600),$("#event_range").dialog("close"),$("#event_range").dialog("open"))}),proboards.data("poll_opts")){var e=proboards.data("poll_opts");e.pollImgSrc=proboards.data("poll_img_src"),e.checkImgSrc=proboards.data("check_img_src"),$(".poll.show").poll(e)}proboards.data("quick_reply")&&$(".user-link").live("click",function(e){if(e.altKey)return $(this).parent().hasClass("shoutbox-post")||$(".quick-reply form textarea").replaceSelection($(this).attr("title")).focus(),!1}),proboards.data("enable_autosave")&&proboards.autosave.init(3),$(".quick-reply .message").resizable({alsoResize:".message textarea",handles:"s",maxWidth:898,minWidth:200,minHeight:160}),proboards.hotkeys.reply(),proboards.hotkeys.quick_reply()})},standard_unsubscribe_index=function(){$(document).ready(function(){proboards.form.confirm_ignore_changes(".confirm-ignore-changes form:first"),$("#s-none").on("click",function(){$(".form_user_edit_notifications select").not(":disabled").val("n")})})},standard_user_edit_admin=function(){function e(){var e=$("#account-disabled-until"),t=$("#blank-placeholder"),i=$('input[id*="account_disabled_input_radio_0"]'),n=$('input[id*="account_disabled_input_radio_1"]'),o=$('input[name="account_disabled_until_date"]'),a=$('input[name="account_disabled_until_time"]');0!==i.length&&0!==n.length&&(i.prop("checked")?(proboards.data("user_id")===proboards.data("profile_id")&&proboards.alert("You have checked the option to disable your own account. Please make certain as an admin you fully intend to disable your account before saving."),""==a.val()&&a.val(a.hasClass("military")?"00:00":"12:00 AM"),e.show(),t.hide()):(e.hide(),t.show(),o.val(""),a.val("")))}function t(){var e=$("#pms-disabled-until"),t=$("#pms-blank-placeholder"),i=$('input[id*="pms_disabled_input_radio_1"]'),n=$('input[name="pms_disabled_until_date"]'),o=$('input[name="pms_disabled_until_time"]');i.attr("checked")?(e.hide(),t.show(),n.val(""),o.val("")):(""==o.val()&&o.val(o.hasClass("military")?"00:00":"12:00 AM"),e.show(),t.hide())}$(document).ready(function(){$(".js-staff-exists").length&&(e(),$('input[id*="account_disabled_input"]').bind("click",function(){e()}),t(),$('input[id*="pms_disabled_input"]').bind("click",function(){t()}))})},standard_user_edit_avatar=function(){$(document).ready(function(){imageAdded=!1,forumImageAdded=!1,is_loaded=0,isForumAvatarsLoaded=!1,$previewImageAvatar=$("#avatar-preview #image-avatar"),$previewNoAvatar=$("#avatar-preview-empty"),$previewForumAvatar=$("#avatar-preview #forum-avatar");var yes_clicked=!1;change("r"+proboards.data("avatar_type"),!0),proboards.dialog("forum-avatar-editor-container",{title:"Pick a Forum Avatar",autoOpen:!1,width:549,height:415}),proboards.dialog("image-avatar-editor-container",{title:"Upload/Change Avatar",autoOpen:!1,width:560,minWidth:560,height:"auto",open:function(){$(".fileinput-button").css("overflow","hidden")},close:function(){$(".fileinput-button").css("overflow","visible")}}),$("#link-image").click(function(){var e=$("#link-text").val();if(""!=e&&"http://"!=e){if(!check_image_link(e))return!1;proboards.ajax({url:proboards.data("avatar_link_url"),data:{link:e,user_id:proboards.data("profile_id")},success:function(e){$("#image-avatar").html('<img class="max-size" src="'+e.url+'" />'),$("#image-avatar-preview").html('<img class="max-size" src="'+e.url+'" />'),$("#image-avatar-editor-container").dialog("close"),$("#link-text").val("http://"),$("#link-image").removeClass("button").addClass("button-disabled"),change("r1")},error:function(e){link_image_error(e.error)}})}return!1}),$("#link-text").bind("keyup change",function(){""==$("#link-text").val()||"http://"==$("#link-text").val()?$("#link-image").addClass("button-disabled"):$("#link-image").removeClass("button-disabled")}),$("#link-text").bind("keydown",function(e){if(13==e.which)return $("#link-image").click(),!1}),pbFileUpload.init({onDragEnter:edit_image_avatar},{acceptFileTypes:new RegExp(eval(proboards.data("image_regex"))),url:proboards.route("upload_avatar",{user_id:proboards.data("profile_id")}),maxNumberOfFiles:1,maxFileSize:proboards.data("avatar_size_limit")}),$("#fileupload").on("fileuploadsend",function(){$(".fileupload-buttonbar").hide()}).on("fileuploaddone",function(e,t){if($.isArray(t.result)&&t.result.length){var i=t.result[0].thumbnail_url;$("#image-avatar").add("#image-avatar-preview").html('<img class="max-size" src="'+i+'">'),change("r1")}window.setTimeout(function(){$("#image-avatar-editor-container").dialog("close"),$(".fileupload-buttonbar").show(),$("table.files tbody").remove()},2e3)})})},imageAdded,forumImageAdded,is_loaded,isForumAvatarsLoaded,$previewImageAvatar,$previewNoAvatar,$previewForumAvatar;function update_radio(e){$("#"+e).attr("checked","checked")}function change(e,t){"r0"==e?(remove_forum_avatar(),remove_image_avatar()):"r1"==e?(remove_forum_avatar(),add_image_avatar()):"r2"==e?(remove_forum_avatar(),remove_image_avatar()):"r3"==e?(remove_forum_avatar(),add_image_avatar()):"r4"==e&&(remove_image_avatar(),add_forum_avatar(),$('input[name="forum_avatar"]').val()!=$("#forum-avatar img").attr("src")&&($('input[name="forum_avatar"]').val($("#forum-avatar img").attr("src")),t||$('input[name="forum_avatar"]').change())),update_radio(e),update_empty_avatar()}function update_empty_avatar(){imageAdded?$previewImageAvatar.toggleClass("hide",!1):$previewImageAvatar.toggleClass("hide",!0),imageAdded||forumImageAdded?$previewNoAvatar.toggleClass("hide",!0):$previewNoAvatar.toggleClass("hide",!1)}function remove_image_avatar(){$previewImageAvatar.toggleClass("hide",!0),$("#avatar-preview").removeClass("image_present"),imageAdded=!1}function remove_forum_avatar(){$previewForumAvatar.toggleClass("hide",!0),forumImageAdded=!1}function add_image_avatar(){$previewImageAvatar.toggleClass("hide",!1),$("#avatar-preview").addClass("image_present"),imageAdded=!0}function add_forum_avatar(){$previewForumAvatar.toggleClass("hide",!1),forumImageAdded=!0}function edit_image_avatar(){$("#image-avatar-editor-container").dialog("open")}function delete_image(){proboards.confirm("Are you sure you want to remove your current avatar image?",function(){proboards.loading(!0),proboards.ajax({url:proboards.data("remove_uploaded_avatar_url"),data:{user_id:proboards.data("profile_id")},success:function(e){$("#image-avatar").html(""),$("#image-avatar-preview").html("")},complete:function(){proboards.loading(!1)}})})}function edit_forum_avatar(){isForumAvatarsLoaded||(proboards.ajax({async:!1,url:proboards.data("forum_avatar_url"),success:function(e){$("#forum-avatar-editor-container").html(e.html)}}),isForumAvatarsLoaded=!0),$("#forum-avatar-editor-container").dialog("open")}function select_forum_avatar(e){$("#forum-avatar").html('<img class="max-size" src="'+e+'" />'),change("r4"),$("#forum-avatar-editor-container").dialog("close")}function check_image_link(url){var msg="The link entered is not valid.",patt=/^(https?:\/\/)/i;patt.test(url)||(url="http://"+url),patt=/^(https?:\/\/)(([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\:)?([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\@))?(([0-9]{1,3}\.){3}[0-9]{1,3}|(([\w!~\*\'\(\)\=]+\.)*(\w[\w\-]{0,61})?\w\.[a-zA-Z]{2,6}))(\:[1-9][0-9]{0,4})?\/.*\./i;var patt_basic=/^(https?:\/\/)(([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\:)?([\w\!\~\*\'\(\)\.\$\%\&\+\=\-]+\@))?(([0-9]{1,3}\.){3}[0-9]{1,3}|(([\w!~\*\'\(\)\=]+\.)*(\w[\w\-]{0,61})?\w\.[a-zA-Z]{2,6}))(\:[1-9][0-9]{0,4})?[\w\~\!\@\#\$\%\^\&\*\(\)\-\+\=\/\:\;\?\.\,]*/i;if(patt.test(url)){if(patt=new RegExp(eval(proboards.data("image_regex"))),!patt.test(url))return link_image_error(msg),!1}else if(!patt_basic.test(url))return link_image_error(msg),!1;return!0}function link_image_error(e){$("#link-error").html(e).clearQueue().fadeIn().delay(4e3).fadeOut()}var standard_user_edit_badges=function(){$(document).ready(function(){$(".badges-have .badge-gift").on("click",function(e){var t=$(this),i=/badge-(\d+)/.test(t.attr("class"))?RegExp.$1:null,n=proboards.data("page").member.id;return i&&proboards.badge.gift.dialog(i,n),!1}),$(".badges-have .badge-use-action").on("click",function(e){var t=$(this),i=/badge-(\d+)/.test(t.attr("class"))?RegExp.$1:null;return i&&proboards.badge.action.dialog(i),!1});function e(){for(var e=i.filter(":checked"),t=n;t<e.length;t++)$(e[t]).removeAttr("checked");e.length>=n?i.not(":checked").attr("disabled","disabled"):i.removeAttr("disabled")}var i=$('input[name="miniprofile_badges[]"]'),n=proboards.data("miniprofile_badge_limit");i.length>n&&(i.on("change",e),e())})},standard_user_edit_common=function(){$(document).ready(function(){proboards.form.init(),$.fn.storeFormValues=function(){var e=$(this);$('input[type="text"], select, textarea',e).each(function(){$(this).data("stored",$(this).val())}),$('input[type="checkbox"], input[type="radio"]',e).each(function(){$(this).is(":checked")&&$(this).data("stored","checked")})},$.fn.resetFormValues=function(){var e=$(this);$('input[type="text"], select, textarea',e).each(function(){$(this).val($(this).data("stored"))}),$('input[type="checkbox"], input[type="radio"]',e).each(function(){$(this).is(":checked")&&$(this).prop("checked",!0)})},$.fn.trackFormChanges=function(){var e=$(this);return e.on("change","input, select, textarea",function(){$(this).parents(e).data("changed",!0)}),e},$.fn.setFormStatus=function(e,t){var i=$(this);if(i.data("status")!==e)return $('input[type="submit"]',i).setButtonStatus(e,t),i.data("status",e),i},$.fn.setButtonStatus=function(e,t){var i=$(this);if(i.data("status")!==e){switch(e){case"ready":var n=function(){if(t)return i.prop("disabled",!1),i.prev().remove(),void i.unwrap();i.data("wait")?setTimeout(n,500):i.parent("processing")&&(i.parent().css("width","-=40"),setTimeout(function(){i.prev().remove(),i.unwrap().prop("disabled",!1)},500))};n();break;case"saving":var o='style="width: '+(i.width()+30)+'px;"';i.prop("disabled",!0).wrap('<div class="processing" '+o+"></div>");i.parent().prepend('<div class="processing-img"></div>').css("width","+=40");i.data("wait",!0);setTimeout(function(){i.data("wait",!1)},1e3)}return i.data("status",e),i}};var i="";function n(e){$(".js-edit").addClass("hide"),$(".js-edit."+e.page+"-edit").removeClass("hide"),$(".js-tab").parent().removeClass("ui-active"),$('[data-page="'+e.page+'"]').parent().addClass("ui-active")}$(".js-tab").click(function(){$(".js-tab").parent().removeClass("ui-active"),$(this).parent().addClass("ui-active");var e=$(this).data(e),t=proboards.data("profileUserId");e!==i&&(n(i=e),history.pushState({page:e},"Edit"+e,"/user/"+t+"/"+e.page))}),window.onpopstate=function(){var e=history.state?history.state.page:null;if(!e)return $(".js-edit").addClass("hide"),void $(".js-edit.avatar-edit").removeClass("hide");n(e)};$(".edit-user form").data("generic_submit",function(){var t=$(this),i=$('input[type="submit"]',$(this)),e=t.serialize();e+="&tabSection="+function(e){var t=e.split(" ");for(;t.length;){var i=t.pop().trim();if(0===i.indexOf("form_"))return i.substr("form_user_edit_".length)}}(t.prop("class")),proboards.ajax({url:proboards.route("update_unified",{user_id:proboards.data("profileUserId")}),data:e,success:function(e){e.alert_message&&proboards.alert(e.alert_message),t.data("changed",!1),i.setStatus("saved",{position:"after",style:"display",styleOpt:"inline"});$(".js-edit .status-box").css({background:"#90EE90",color:"#006400",padding:"5px",top:"3px",position:"relative"})},error:function(e){i.setStatus("error",{position:"after",style:"display",styleOpt:"inline",text:e.error});$(".js-edit .status-box").css({background:"#EE9090",color:"#640000",padding:"5px",top:"3px",position:"relative"}),proboards.form.handleFormError(t,e)},complete:function(){t.setFormStatus("ready".true),t.storeFormValues()}})}),$(".delete-user-link").bind("click",function(){proboards.confirm_dialog("users","delete",[proboards.data("page").member.id],function(){window.onbeforeunload=null,window.location=proboards.route("home")})})})},standard_user_edit_notifications=function(){function n(e,t,i){var n=$(boardTemplate);return n.data("board-id",e),$(".title-bar h1",n).text(t+" Notifications"),$("#notification-controls").before(n),$(".title-bar",n).click(),i&&o(n,i),$("#add-board-desc").trigger("boardaddremove"),n}function a(t,i){proboards.ajax({url:proboards.route("update_user_notifications_add_board",{user_id:proboards.data("user").id}),data:{board_id:t},success:function(e){n(t,i,e.settings)}})}var o=function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i],o=$('.notification-option-wrapper[data-type="'+i+'"]',e),a=$('input[name="forum"]',o),r=$('select[name="freq"]',o);a.is(":disabled")||a.prop("checked",1==n[0]),r.is(":disabled")||r.val(n[2])}};$(document).ready(function(){$(".confirm-ignore-changes form:first").off("change"),$(".js-only").show();var o=$("#add-board-desc").show();o.on("boardaddremove",function(){o.toggle(0==$(".board-notifications").length)});var e=proboards.data("board_settings"),t=proboards.data("board_names");for(var i in e)e.hasOwnProperty(i)&&n(i,t[i],e[i]);$(".notification-option-wrapper","#forum-notifications").each(function(){$('input[type="checkbox"], select',this).autoSubmit({url:proboards.route("update_user_notifications_forum",{user_id:proboards.data("user").id}),statusElement:$(".status",this)})}),$("#content").on("click",".notification-block-wrapper .title-bar",function(){var e=$(this).closest(".notification-block-wrapper");if(e.toggleClass("expand"),e.is(".board-notifications")){var t=e.data("board-id");$(".notification-option-wrapper",e).each(function(){$('input[type="checkbox"], select',this).autoSubmit({url:proboards.route("update_user_notifications_board",{user_id:proboards.data("user").id,board_id:t,type:$(this).data("type")}),statusElement:$(".status",this)})})}}),$("#add-board").on("click",function(e){e.preventDefault();var t=[];$(".board-notifications").each(function(){t.push($(this).data("board-id"))}),proboards.board.select(a,{accessible:!0,useExisting:!0,title:"Add a board",prepend:"Please select a board to customize its notification settings.<br><br>",disabledIds:t})}),$("#content").on("click",".notification-block-wrapper .delete-board",function(e){e.stopPropagation();var t=$(this).closest(".notification-block-wrapper"),i=$("h1",t).text(),n=t.data("board-id");proboards.confirm("Are you sure you want to delete the "+i+" settings?",function(){proboards.ajax({url:proboards.route("update_user_notifications_remove_board",{user_id:proboards.data("user").id}),data:{board_id:n},success:function(){t.remove(),o.trigger("boardaddremove")}})})})})},standard_user_edit_personal=function(){$(document).ready(function(){dialog_opened=0,proboards.dialog("signature_preview_pane",{title:"Signature Preview",autoOpen:!1,width:550,height:415,close:function(){dialog_opened=0}}),$("#signature_preview").click(function(){$(".form_user_edit_personal").data("form").validateSpecified(["signature"])&&0==dialog_opened&&proboards.ajax({url:proboards.data("signature_preview_url"),data:{signature:$("#"+proboards.data("form_id")+"_signature_input").val()},dataType:"json",success:function(e){$("#signature_preview_pane").html(e.signature),$("#signature_preview_pane").dialog("open"),dialog_opened=1}})})})},dialog_opened,standard_user_edit_privacy=function(){$(document).ready(function(){$('input[name="change_birthday"]').attr("checked")||$("#change-birthday").hide(),$('input[name="change_birthday"]').bind("change",function(){var e=$(this);$("#change-birthday").toggle(e.prop("checked"))})})},standard_user_edit_settings=function(){$(document).ready(function(){$('textarea[name="default_post_content"]').input_placeholder(proboards.data("placeholder_text"));var e=$('input[id*="default_post_mode_input_radio_1"]'),t=$("#bbcode");function i(){e.attr("checked")?t.show():t.hide()}$('input[id*="default_post_mode_input_radio"]').bind("click",function(){i()}),i(),"undefined"!=typeof Storage&&$("#drafts").show()})},standard_user_edit_social=function(){$(document).ready(function(){$(".social a").click(function(){var e=$(this).prev().text()+$(this).prev().children("input").val();return window.open(e),!1})})},standard_user_group_leaders=function(){$(document).ready(function(){new listManager("users",{total:proboards.data("lm_total"),limit:proboards.data("lm_limit"),page:proboards.data("lm_page"),data:{id:proboards.data("lm_group_id"),type:"leads",user_search_box:!0},id:proboards.data("lm_id")})})},standard_user_show_activity=function(){$(document).ready(function(){var n=proboards.data("page"),e=proboards.data("form_id"),t=proboards.data("last_activity_id"),o=null;proboards.data("show_activity_delete")&&($(document).on("mouseover",".activity-item",function(){$(this).find(".delete-button").show()}).on("mouseout",".activity-item",function(){$(this).find(".delete-button").hide()}),$(document).on("click",".delete-button",function(){var e=$(this).attr("class").match(/activity-(\d+)/);if(2==e.length){var t=e[0],i=e[1];proboards.ajax({url:proboards.route("delete_activities"),data:{activity_id:i},success:function(e){$("."+t).remove()}})}})),$("#"+e).submit(function(){var t=$('input[name="update"]',this),i=t.val();return o!=i&&proboards.ajax({url:proboards.route("update_status"),data:{status:i,user_id:n.member.id,html:1},success:function(e){$("#no-activity-row").remove(),void 0!==e.html&&$(".activities-container").prepend(e.html),0!=e.deleted_id&&$(".activity-"+e.deleted_id).remove(),t.attr("value","")},complete:function(e){o=i}}),!1}),$(".show-more").on("click",function(e){proboards.active_ajax_calls||(proboards.ajax({url:proboards.route("show_more_activities"),data:{user_id:n.member.id,last_id:t},success:function(e){$(".activities-container").append(e.html),e.more?t=e.last_id:$(".show-more").unbind("click").remove(),proboards.events.run("moreActivity")}}),e.preventDefault(),e.stopPropagation())})})},standard_user_show_following=function(){$(document).ready(function(){var i=proboards.data("page"),n=proboards.data("last_following_id");$(".show-more").on("click",function(e){var t=$(".activities-container");proboards.ajax({url:proboards.route("show_more_following"),data:{user_id:i.member.id,last_id:n},success:function(e){t.append(e.html),e.more?n=e.last_id:$(".show-more").unbind("click").remove(),proboards.events.run("moreActivity")}}),e.preventDefault(),e.stopPropagation()})})},standard_user_show_friends=function(){$(document).ready(function(){var e=0;$(".mini-user-inside").each(function(){$(this).height()>e&&(e=$(this).height())}).css("height",e+"px"),$(".follow-member").click(function(e){var t=this;e.preventDefault(),$(t).attr("disabled","disabled");var i=$(t).attr("id").substr("follow-".length);return proboards.ajax({url:proboards.route("follow_user"),data:{user_id:i},success:function(e){$(t).remove(),$(".user-"+i).remove()},complete:function(){$(t).removeAttr("disabled")}}),!1}),$("#invite-button").bind("click",function(e){return e.preventDefault(),proboards.ajax({url:proboards.data("invite_dialog_url"),data:{},dataType:"json",success:function(e){proboards.dialog("invite-dialog",{title:"Invite Friends",html:e.html,width:530,height:410,buttons:e.already?{Close:function(){$("#invite-dialog").dialog("close")}}:{"Send Invite":function(e){e.preventDefault(),proboards.dialog_toggle_buttons("invite-dialog"),proboards.ajax({url:$("#invite-dialog form").attr("action"),data:$("#invite-dialog form").serialize(),dataType:"html",success:function(e){$("#invite-dialog").html(e),$("#invite-dialog").dialog("option","buttons",{Close:function(){$("#invite-dialog").dialog("close")}})},error:function(e){proboards.dialog_toggle_buttons("invite-dialog"),proboards.error(e)}})}}})}}),!1})})},standard_user_show_groups=function(){$(document).ready(function(){var t=proboards.data("page").member.id;$(document).on("click",".group-leaders",function(e){e.preventDefault();var t=$(this).attr("id").substr("group-leaders-".length),i="group-leaders-dialog-"+t;proboards.dialog(i,{autoOpen:!1,width:460,maxHeight:600,title:"Leaders"}),proboards.ajax({url:proboards.route("show_group_leaders"),data:{id:t},dataType:"json",success:function(e){$("#"+i).html(e.html).dialog("open"),standard_user_group_leaders()}})}),$(document).on("click",".join-group",function(e){var o=$(this),a=o.attr("id").substr("join-group-".length);o.hide(),proboards.ajax({url:proboards.route("join_group"),data:{group_id:a,user_id:t},dataType:"html",success:function(e){var t=jQuery.parseJSON(e);if(o.replaceWith(t.status),$("#leave-group-"+a).html(t.leave_tag),!$("#group-"+a).hasClass("restricted")){var i=$("#count-"+a),n=proboards.add_commified_numbers([i.html(),t.increment]);i.html(n),$("#no-groups-msg").hide()}1==$("#manage-link-"+a+":visible").length&&$("#manage-link-"+a+":visible").siblings(".group-control-separator").show(),$("#leave-group-"+a).show(),1==t.mod_flag&&$(".manage-link").each(function(){$(this).show();var e=$(this).siblings();1==e.filter(".leave-group:visible").length&&e.filter(".group-control-separator").show()})}}),e.preventDefault()}),$(document).on("click",".leave-group",function(e){var t=$(this),a=t.attr("id").substr("leave-group-".length);t.prop("disabled",!0),proboards.confirm("Are you sure?",function(){proboards.ajax({url:proboards.route("leave_group"),data:{group_id:a,pending:t.text()},dataType:"html",success:function(e){var t=jQuery.parseJSON(e)||{};if($("#manage-link-"+a).siblings().hide(),!$("#group-"+a).hasClass("restricted")){0==t.mod_flag&&$("#manage-link-"+a).hide();var i=$("#count-"+a),n=proboards.add_commified_numbers([i.html(),-1]);n<0&&(n=0),i.html(n),$("#group-"+a).removeClass("leader")}$("#status-"+a).html(t.status),0==t.mod_flag&&$(".group:not(.leader)").each(function(){var e=$(this).attr("id").substr("group-".length);$("#leave-group-"+e).siblings().hide()});var o=!1;$(".leave-group:visible").each(function(){var e=$(this).attr("id").substr(".leave-group-".length);if(!$("#group-"+e).hasClass("restricted"))return o=!0}),o&&$("#no-groups-msg").show()},complete:function(){t.prop("disabled",!1)}})},{onNo:function(){t.prop("disabled",!1)}}),e.preventDefault()}),$(document).on("click",".remove-from-group",function(e){var n=$(this),o=n.attr("id").substr("remove-from-group-".length);n.prop("disabled",!0),proboards.confirm("Are you sure?",function(){proboards.ajax({url:proboards.route("change_group_members",{type:"remove"}),data:{group_id:o,user_ids:[t]},success:function(e){n.hide(),$("#add-to-group-"+o).show(),$("#status-"+o).html("Not a Member");var t=$("#count-"+o),i=proboards.add_commified_numbers([t.html(),-1]);i<0&&(i=0),t.html(i),0===$(".remove-from-group:visible").length&&$("#no-groups-msg").show()},complete:function(){n.prop("disabled",!1)}})},{onNo:function(){n.prop("disabled",!1)}}),e.preventDefault()}),$(document).on("click",".add-to-group",function(e){var n=$(this),o=n.attr("id").substr("add-to-group-".length);n.prop("disabled",!0),proboards.ajax({url:proboards.route("change_group_members",{type:"adding"}),data:{group_id:o,user_ids:[t]},success:function(e){n.hide(),$("#remove-from-group-"+o).show(),$("#status-"+o).html("Member");var t=$("#count-"+o),i=proboards.add_commified_numbers([t.html(),1]);t.html(i),$("#no-groups-msg").hide()},complete:function(){n.prop("disabled",!1)}}),e.preventDefault()})})},standard_user_show_notifications=function(){$(document).ready(function(){var i=proboards.data("page"),n=proboards.data("last_notification_id");$(".show-more").on("click",function(e){var t=$(".notifications-container");proboards.ajax({url:proboards.route("show_more_notifications"),data:{user_id:i.member.id,last_id:n},success:function(e){t.append(e.html),e.more?n=e.last_id:$(".show-more").unbind("click").remove(),proboards.events.run("moreNotification")}}),e.preventDefault(),e.stopPropagation()})})},standard_user_show_summary=function(){$(document).ready(function(){var e=proboards.data("form_id"),n=proboards.data("page").member.id,o=null;$("#"+e).on("submit",function(){var t=$('input[name="update"]',this),i=t.val();return o!=i&&proboards.ajax({url:proboards.route("update_status"),data:{status:i,user_id:n},success:function(e){$(".personal-text").html(e.entered_text),t.attr("value","")},complete:function(e){o=i}}),$('input[name="submit"]').removeAttr("disabled"),!1})})},standard_user_show_user_common=function(){$(document).ready(function(){var i=proboards.data("page").member.id;if($(".follow_button").click(function(e){var t=this;return e.preventDefault(),$(t).hasClass("ui-state-disabled")||($(t).addClass("ui-state-disabled"),proboards.ajax({url:proboards.route("follow_user"),data:{user_id:i},success:function(e){$(t).text(e.new_button_text)},complete:function(){$(t).removeClass("ui-state-disabled")}})),!1}),proboards.data("show_user_options")){var e="#options-container",t=$(e);t.show(),$(".user-menu").selectMenu({container:e,status:'<img src="'+proboards.data("options_img_src")+'" alt="Profile Options" title="Profile Options" />',staticStatus:!0,beforeShow:function(){t.addClass("open-menu")},onClose:function(){t.removeClass("open-menu")},menuOptions:{click:function(e,t){switch($(t.item).attr("class")){case"block_user":0==$("#block-dialog").length&&($(document.body).append('<div id="block-dialog"></div>'),proboards.dialog("block-dialog",{autoOpen:!1,width:500,title:"Block Member",buttons:[{text:"Block Member",click:function(){$("#block-dialog form").submit()}}]}),proboards.ajax({url:proboards.route("block_user_dialog"),data:{user_id:i},dataType:"html",success:function(e){$("#block-dialog").html(e)}})),$("#block-dialog").dialog("open");break;case"ban_user":proboards.member.ban({id:i,checked:["user_name"],success:function(){$("li.ban_user").remove()}});break;case"warn_user":case"disable":window.location.href=proboards.data("user_staff_url");break;case"delete_user":proboards.confirm_dialog("users","delete",[i],function(e){window.location=proboards.route("members")});break;case"searchIP actionable ui-menu-has-sub-menu":proboards.dialog("ip_copy",{title:"IP Address"}).html('Below is the IP address associated with this user: <br /><br /><input type="text" name="easy_copy_ip" style="width: 270px;" value="'+$(t.item).data("ip")+'" />'),$('input[name="easy_copy_ip"]').select();break;case"ipSearchThreads":window.location=proboards.route("threads_by_ip",{type:"user",id:i});break;case"ipSearchPosts":window.location=proboards.route("posts_by_ip",{type:"user",id:i});break;case"ipSearchMembers":window.location=proboards.route("members")+"?view=ip&type=user&id="+i;break;case"ipSearchLogs":window.location=proboards.route("security_logs_by_ip",{type:"user",id:i});break;case"badge_action":proboards.badge.action.dialog($(t.item).data("badge-id"),$(t.item).data("user-id"))}}}})}})};