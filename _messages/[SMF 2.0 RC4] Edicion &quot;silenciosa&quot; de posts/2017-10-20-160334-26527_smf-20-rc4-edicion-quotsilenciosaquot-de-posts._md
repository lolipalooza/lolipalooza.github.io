---
thread: "[SMF 2.0 RC4] Edici&oacute;n &quot;silenciosa&quot; de posts"
id_msg: 26527
date: "2017-10-20 16:03:34"

subject: "[SMF 2.0 RC4] Edici&oacute;n &quot;silenciosa&quot; de posts"
user: "yap320sorgesoureDug"

modified_time: 2017-11-01 15:48:00
modified_name: "yap320sorgesoureDug"
icon: xx



edit_reason: "pos no'más y así :'v"
---
Wenas amiwis piwis de jalabalala.&nbsp; <img src="/assets/smf/smileys/tongue.gif" alt="&#58;tongue&#58;" title="tongue" class="smiley" /><br /><br />Hoy les traigo un nuevo mod que escribí yo solito solito solito sin la ayuda de nadie jeje <span class="spoiler">bueno, quizá si me ayudó mi fiel e inseparable amiguito google jeje</span><br />El mod en cuestión es:<br /><br /><div align="center"><span style="font-size: 24pt;" class="bbc_size"><span style="color: red;" class="bbc_color"><strong><span style="color: purple;" class="bbc_color">&#10000;</span> Edit silently</strong></span></span><br />(O edición &quot;silenciosa de posts&quot;)</div><br />Inspirado en la funcionalidad nativa de XenForo del mismo nombre, éste mod nos permite (actualmente, sólo para las cuentas admin) editar un post con un par de opciones:<br /><br /><ul class="bbc_list" style="list-style-type: decimal;"><li>Editar de forma silenciosa: no se modifica en lo absoluto la información de edición. Si el post no tenía info de &quot;editado por fulano el día X&quot;, entonces no lo tendrá. Si ya lo tenía, dichos datos prevalecerán.</li><li>Borrar información de edición: cuando un post aparece como &quot;editado&quot; y activas esta opción a la hora de editar, el post aparecerá como si nunca hubiese sido editado. Genial no? <img src="/assets/smf/smileys/cool.gif" alt="8&#41;" title="Cool" class="smiley" /></li></ul><br /><div align="center"><span style="color: red;" class="bbc_color"><strong><span style="font-size: 24pt;" class="bbc_size">Instalación manual</span></strong></span></div>Éstos pasos dan por sentado que tienes otro mod instalado: el mod &quot;edit reason&quot;, pero no os preocupéis majos, que aunque no sea así, no será dificil instalar ésto:<br /><br /><span style="font-size: 18pt;" class="bbc_size"><strong>1. Cambios en Controladores</strong></span><br /><br />Primeramente nos vamos al archivo <em>Sources/Posts.php</em>:<br /><br />Ubicar el siguiente trozo de código (ignoren lo de &lt;?php, es solo para que mi code aparesca con colorsillos jeje <img src="/assets/smf/smileys/wink.gif" alt="&#58;wink&#58;" title="wink" class="smiley" />):<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;already&nbsp;existing&nbsp;message.&nbsp;Edit&nbsp;it.<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(!empty(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;msg&#039;</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Have&nbsp;admins&nbsp;allowed&nbsp;people&nbsp;to&nbsp;hide&nbsp;their&nbsp;screwups?<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;poster_time&#039;</span><span style="color: #007700">]&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">$modSettings</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_wait_time&#039;</span><span style="color: #007700">]&nbsp;||&nbsp;</span><span style="color: #0000BB">$user_info</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;id&#039;</span><span style="color: #007700">]&nbsp;!=&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;id_member&#039;</span><span style="color: #007700">])<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;modify_time&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;modify_name&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$user_info</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;name&#039;</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Reason&nbsp;for&nbsp;Editing&nbsp;Mod<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">addslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">]&nbsp;:&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">"\r"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\t"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">)));&nbsp;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;save&nbsp;some&nbsp;time...<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</span><span style="color: #0000BB">$approve_has_changed</span><span style="color: #007700">))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;approved&#039;</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">modifyPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$topicOptions</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$posterOptions</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;}<br /></span></span></code><br />Deberán reemplazarlo por:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;an&nbsp;already&nbsp;existing&nbsp;message.&nbsp;Edit&nbsp;it.<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(!empty(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;msg&#039;</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Have&nbsp;admins&nbsp;allowed&nbsp;people&nbsp;to&nbsp;hide&nbsp;their&nbsp;screwups?<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;silent_edit&#039;</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;poster_time&#039;</span><span style="color: #007700">]&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">$modSettings</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_wait_time&#039;</span><span style="color: #007700">]&nbsp;||&nbsp;</span><span style="color: #0000BB">$user_info</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;id&#039;</span><span style="color: #007700">]&nbsp;!=&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;id_member&#039;</span><span style="color: #007700">])<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;modify_time&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;modify_name&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$user_info</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;name&#039;</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Reason&nbsp;for&nbsp;Editing&nbsp;Mod<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">addslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">])&nbsp;?&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;edit_reason&#039;</span><span style="color: #007700">]&nbsp;:&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">"\r"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\t"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;&#039;</span><span style="color: #007700">)));&nbsp;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Edit&nbsp;silently&nbsp;mod&nbsp;(by&nbsp;elpapiruqui&nbsp;caliente&nbsp;69)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(!empty(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;clear_edit_info&#039;</span><span style="color: #007700">]))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;clear_edit_info&#039;</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;save&nbsp;some&nbsp;time...<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</span><span style="color: #0000BB">$approve_has_changed</span><span style="color: #007700">))<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;approved&#039;</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">modifyPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$msgOptions</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$topicOptions</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$posterOptions</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;}<br /></span></span></code><br /><br />Luego nos vamos a <em>Sources/Sub-Posts.php</em>.<br /><br />Buscar el siguiente trozo de código:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp; &nbsp; &nbsp; &nbsp; if (!empty($msgOptions&#91;&#039;modify_time&#039;]))<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_time&#039;] = $msgOptions&#91;&#039;modify_time&#039;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_name&#039;] = $msgOptions&#91;&#039;modify_name&#039;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;id_msg_modified&#039;] = $modSettings&#91;&#039;maxMsgID&#039;];<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; // Reason for Editing Mod<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (isset($msgOptions&#91;&#039;edit_reason&#039;]))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $messages_columns&#91;&#039;edit_reason&#039;] = $msgOptions&#91;&#039;edit_reason&#039;];<br />&nbsp;&nbsp;&nbsp;}<br /></code><br />Y vamos a agregar este otro código para que al final se vea así:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp; &nbsp; &nbsp; &nbsp; if (!empty($msgOptions&#91;&#039;modify_time&#039;]))<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_time&#039;] = $msgOptions&#91;&#039;modify_time&#039;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_name&#039;] = $msgOptions&#91;&#039;modify_name&#039;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;id_msg_modified&#039;] = $modSettings&#91;&#039;maxMsgID&#039;];<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; // Reason for Editing Mod<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (isset($msgOptions&#91;&#039;edit_reason&#039;]))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $messages_columns&#91;&#039;edit_reason&#039;] = $msgOptions&#91;&#039;edit_reason&#039;];<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;// Clear last edit information (Edit silently mod)<br />&nbsp;&nbsp;&nbsp;if (isset($msgOptions&#91;&#039;clear_edit_info&#039;]))<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_time&#039;] = 0;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;modified_name&#039;] = &quot;&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$messages_columns&#91;&#039;edit_reason&#039;] = &quot;&quot;;<br />&nbsp;&nbsp;&nbsp;}<br /></code><br />Y listo, eso vendría siendo todo en cuanto a controladores. Por favor, noten que si no tienen instalado el mod &quot;edit reason&quot;, entonces puede que su código no se vea exactamente igual al que les he mostrado, simplemente ignoren todas las líneas que involucran al &#039;edit_reason&#039;.<br /><br />Si tienen dudas, o si no les funciona nomás avisenme. Recuerden: ésto es <strong>SMF 2.0 RC4</strong>.<br /><br /><span style="font-size: 18pt;" class="bbc_size"><strong>2. Cambios en Vistas</strong></span><br /><br />Ya realizamos los cambios necesarios en la capa Controladores, ahora nos falta la capa vistas. Para ello, vamos a necesitar el archivo <em>Post.template.php</em>, que pueden ubicar en la ruta <em>Themes/default/Post.template.php</em>. Sin embargo necesitamos hacer una aclaración aquí: todos los cambios que hagas en la carpeta default podrían perderse si un día se te ocurre cambiar el tema default de todo el foro. Por lo tanto, lo que sugiero es que, copies el archivo Posts.template desde default hasta la carpeta correspondiente al tema que tienes como defalut (core, curve, otro).<br /><br />Una vez aclarado eso, también deben notar que el mod sólo les funcionará en los temas en los que hayan añadido el Post.template.php editado. Si un tema dispone de su propio Post.template, y tiene una estructura HTML muy diferente a su default, tengan mucho cuidado a la hora de editarlo. Cuento con que dominan Php y HTML y ustedes mismos sabrán cómo hacerlo, sino, pidan ayuda a alguien que sepa.<br /><br />Editando <em>Post.template.php</em>:<br /><br />Buscamos las siguientes líneas:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;// What about smileys?<br />&nbsp;&nbsp;&nbsp;if (!empty($context&#91;&#039;smileys&#039;]&#91;&#039;postform&#039;]) || !empty($context&#91;&#039;smileys&#039;]&#91;&#039;popup&#039;]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id=&quot;smileyBox_message&quot;&gt;&lt;/div&gt;&#039;;<br /><br />&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;, template_control_richedit($context&#91;&#039;post_box_name&#039;], &#039;smileyBox_message&#039;, &#039;bbcBox_message&#039;);<br /></code><br />Y debajo de ésto vamos a agregar lo siguiente:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">// Edit silently mod - only admin<br />&nbsp;&nbsp;&nbsp;if (!$context&#91;&#039;is_new_post&#039;] &amp;&amp; $context&#91;&#039;user&#039;]&#91;&#039;is_admin&#039;])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&lt;script src=&quot;&#039;, $settings&#91;&#039;default_theme_url&#039;], &#039;/scripts/jquery-2.2.1.js&quot;&gt;&lt;/script&gt;<br />&lt;script&gt;<br />&nbsp;&nbsp;&nbsp;$(document).ready(function () {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#clear_edit_info&quot;).prop(\&#039;disabled\&#039;, true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#silent_edit&quot;).change(function() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#edit_reason&quot;).prop(\&#039;disabled\&#039;, this.checked);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&quot;#clear_edit_info&quot;).prop(\&#039;disabled\&#039;, !this.checked);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br />&nbsp;&nbsp;&nbsp;});<br />&lt;/script&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;padding smalltext&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;Edit silently:&lt;/strong&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label for=&quot;silent_edit&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input id=&quot;silent_edit&quot; name=&quot;silent_edit&quot; value=&quot;1&quot; type=&quot;checkbox&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Editar sin dejar registro de edici&amp;oacute;n.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label for=&quot;clear_edit_info&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input id=&quot;clear_edit_info&quot; name=&quot;clear_edit_info&quot; value=&quot;1&quot; type=&quot;checkbox&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limpiar registro de edici&amp;oacute;n original.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/label&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&#039;;<br /></code><br />Ya con ésto les debería funcionar su <span style="color: red;" class="bbc_color"><strong>Edit Silently</strong></span> mod x)<br /><br /><br /><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">TODO section</span>.</strong></span><br />(O lista de cosas por hacer para futuras versiones del mod <strong>Edit Silently</strong>, esas weas que nunca serán hechas x)).<br /><br /><ul class="bbc_list"><li>Agregar el js correspondiente en la parte de vistas, para que cuando marques una casilla, las otras casillas o campos se inhabiliten o habiliten, según corresponda.</li><li>Agregar las casillas de Edit Silently en la opción de Quick Edit (Display.template), así como el funcionamiento de Edit Silently en el controlador correspondiente a Quick Edit.</li><li>Actualmente sólo a las cuentas admin les aparecerá la opción Edit Silently, pero sería mejor registrarla en el sistema de permisos de tal modo que puedas asignarselas a quienes tu quieras desde el panel de administración, ¿no?</li><li>¿No debería haber un chequeo de permiso en el controlador? ¿Qué pasa si el usuario maliciosamente, haciendo uso de sus power levels de juanquer se falsificó en la vista los inputs de Edit Silently?</li><li>?</li></ul><br />PD: cada vez que haces uso de esta información sin haber dejado un &quot;gracias&quot; en heste hilo, seguido de su respectiva adulación, dios baja del cielo para matar a una loli. Por favor, piensen en las lolis x)
