---
thread: "C&oacute;mo a&ntilde;adir avatares en el &iacute;ndice de los foros"
id_msg: 5609
date: "2015-11-06 16:41:17"

subject: "C&oacute;mo a&ntilde;adir avatares en el &iacute;ndice de los foros"
user: "yap320sorgesoureDug"

modified_time: 2015-11-06 21:37:44
modified_name: "yap320sorgesoureDug"
icon: xx



edit_reason: "pos nomas"
---
<span style="font-size: 14pt;" class="bbc_size"><strong>Modificación desde paquete</strong>:</span><br /><span style="color: green;" class="bbc_color"><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">Añadiendo Avatares en índice de foros</span></strong></span></span><br /><br />Fuente: <a href="http://custom.simplemachines.org/mods/index.php?mod=1103" class="bbc_link new_win" target="_blank">http://custom.simplemachines.org/mods/index.php?mod=1103</a><br /><br />Lo que voy a explicar a continuación es el proceso de instalar el paquete antes citado siguiendo los métodos dados por ellos, pero arreglado para que funcione en mi versión (SMF 2.0 RC4). Capitch?<br /><br />Archivos sobre los cuales estamos trabajando:<br /><ul class="bbc_list"><li><strong>Sources:</strong><br /><ul class="bbc_list"><li>ManageSettings.php</li><li>MessageIndex.php</li><li>Subs-BoardIndex.php</li></ul></li><li><strong>Themes:</strong><br /><ul class="bbc_list"><li><strong>core:</strong>&nbsp; (el mod fue desarrollado pensando únicamente en core -y a lo mucho babylon, que son los themes de la versión 2.o beta 4-)<br /><ul class="bbc_list"><li><strong>css:</strong><br /><ul class="bbc_list"><li>index.css (en mi versión 2.0 RC4 es index.css, en la versión que descargué 2.0 Beta 4 es forum.css).</li></ul></li><li>Help.english.php</li><li>ManageSettings.english.php</li></ul></li><li><strong>default:</strong><br /><ul class="bbc_list"><li><strong>css:</strong><br /><ul class="bbc_list"><li>compat.css (en mi versión 2.0 RC4 es compat.css, en la versión que descargué 2.0 Beta 4 es forum.css).</li></ul></li><li><strong>languages:</strong><br /><ul class="bbc_list"><li>Help.english.php</li><li>ManageSettings.english.php</li></ul></li><li>BoardIndex.template.php</li><li>MessageIndex.template.php</li></ul></li></ul></li></ul><br /><hr /><span style="color: green;" class="bbc_color"><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">Carpeta Sources</span></strong></span></span><br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a ManageSettings.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Number formatting, timezones.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;text&#039;, &#039;time_format&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;select&#039;, &#039;number_format&#039;, array(&#039;1234.00&#039; =&gt; &#039;1234.00&#039;, &#039;1,234.00&#039; =&gt; &#039;1,234.00&#039;, &#039;1.234,00&#039; =&gt; &#039;1.234,00&#039;, &#039;1 234,00&#039; =&gt; &#039;1 234,00&#039;, &#039;1234,00&#039; =&gt; &#039;1234,00&#039;)),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;float&#039;, &#039;time_offset&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;default_timezone&#039; =&gt; array(&#039;select&#039;, &#039;default_timezone&#039;, array()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;&#039;,<br /></code><br />Agregar después:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Avatar on board.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;check&#039;, &#039;disable_avatar&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;int&#039;, &#039;board_avatar_width&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;int&#039;, &#039;board_avatar_height&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#039;check&#039;, &#039;display_childboards&#039;),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;&#039;,<br /></code><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a Subs-BoardIndex.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">b.id_board, b.name AS board_name, b.description,</code><br />Añadir antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">att.id_attach, att.attachment_type, att.filename, mav.avatar,</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">LEFT JOIN {db_prefix}members AS mods_mem ON (mods_mem.id_member = mods.id_member)</code><br />Añadir antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}members AS mav ON (mav.id_member = m.id_member AND m.id_msg = b.id_last_msg)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}attachments AS att ON (att.id_member = mav.id_member)<br /></code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">// Prepare the subject, and make sure it&#039;s not too long.</code><br />Reemplazar por:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($modSettings&#91;&#039;board_avatar_width&#039;] == 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row_board&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row_board&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row_board&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row_board&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row_board&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row_board&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row_board&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row_board&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif ($modSettings&#91;&#039;board_avatar_height&#039;] == 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row_board&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row_board&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row_board&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row_board&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row_board&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row_board&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row_board&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row_board&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row_board&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row_board&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row_board&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row_board&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row_board&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row_board&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row_board&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row_board&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Prepare the subject, and make sure it&#039;s not too long.</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&#039;name&#039; =&gt; $row_board&#91;&#039;real_name&#039;],</code><br />Agregar antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&#039;avatar&#039; =&gt; $board_avatar,</code><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a MessageIndex.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">ml.poster_name AS last_member_name, ml.id_member AS last_id_member,</code><br />Agregar antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">att.id_attach, att.attachment_type, att.filename, mav.avatar,</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}members AS memf ON (memf.id_member = mf.id_member)&#039; . ($user_info&#91;&#039;is_guest&#039;] ? &#039;&#039; : &#039;<br /></code><br />Reemplazar por:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}members AS mav ON (mav.id_member = ml.id_member)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}attachments AS att ON (att.id_member = mav.id_member)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEFT JOIN {db_prefix}members AS memf ON (memf.id_member = mf.id_member)&#039; . ($user_info&#91;&#039;is_guest&#039;] ? &#039;&#039; : &#039;<br /></code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// We need to check the topic icons exist...<br /></code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($modSettings&#91;&#039;board_avatar_width&#039;] == 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;avatar_max_width_external&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;avatar_max_height_external&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif ($modSettings&#91;&#039;board_avatar_height&#039;] == 0)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$board_avatar = $row&#91;&#039;avatar&#039;] == &#039;&#039; ? ($row&#91;&#039;id_attach&#039;] &gt; 0 ? &#039;&lt;img src=&quot;&#039; . (empty($row&#91;&#039;attachment_type&#039;]) ? $scripturl . &#039;?action=dlattach;attach=&#039; . $row&#91;&#039;id_attach&#039;] . &#039;;type=avatar&#039; : $modSettings&#91;&#039;custom_avatar_url&#039;] . &#039;/&#039; . $row&#91;&#039;filename&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/noavatar.gif&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;) : (stristr($row&#91;&#039;avatar&#039;], &#039;http://&#039;) ? &#039;&lt;img src=&quot;&#039; . $row&#91;&#039;avatar&#039;] . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039; : &#039;&lt;img src=&quot;&#039; . $modSettings&#91;&#039;avatar_url&#039;] . &#039;/&#039; . htmlspecialchars($row&#91;&#039;avatar&#039;]) . &#039;&quot; alt=&quot;&quot; width=&quot;&#039;. $modSettings&#91;&#039;board_avatar_width&#039;].&#039;&quot; height=&quot;&#039;. $modSettings&#91;&#039;board_avatar_height&#039;].&#039;&quot; align=&quot;middle&quot; border=&quot;0&quot; /&gt;&#039;);&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// We need to check the topic icons exist...<br /></code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&#039;name&#039; =&gt; $row&#91;&#039;last_display_name&#039;],</code><br />Agregar antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&#039;avatar&#039; =&gt; $board_avatar,</code><br /><hr /><span style="color: green;" class="bbc_color"><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">Carpeta Themes/default/languages</span></strong></span></span><br /><br />Esto hace efecto en todos los themes.<br />No es necesario agregar archivos de idioma para cada theme.<br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a ManageSettings.english.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$txt&#91;&#039;who_enabled&#039;] = &#039;Enable who\&#039;s online list&#039;;</code><br />Agregar antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$txt&#91;&#039;disable_avatar&#039;] = &#039;Hide avatar on Board?&#039;;<br />$txt&#91;&#039;board_avatar_width&#039;] = &#039;Width of avatar on Board.&#039;;<br />$txt&#91;&#039;board_avatar_height&#039;] = &#039;Height of avatar on Board.&#039;;<br />$txt&#91;&#039;display_childboards&#039;] = &#039;Hide the Child boards?&#039;;<br /></code><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a Help.english.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$helptxt&#91;&#039;who_enabled&#039;] = &#039;This option allows you to turn on or off the ability for users to see who is browsing the forum and what they are doing.&#039;;</code><br />Agregar antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$helptxt&#91;&#039;disable_avatar&#039;] = &#039;This option allows you to turn on or off the display of avatars in Board index.&#039;;<br />$helptxt&#91;&#039;board_avatar_width&#039;] = &#039;This option allows you to enter the width of avatar to be displayed in Board index. Enter 0 (zero) to use the max width of external avatar settings.&#039;;<br />$helptxt&#91;&#039;board_avatar_height&#039;] = &#039;This option allows you to enter the height of avatar to be displayed in Board index. Enter 0 (zero) to use max height of external avatar settings.&#039;;<br />$helptxt&#91;&#039;display_childboards&#039;] = &#039;This option allows you to turn on or off the display of child boards in Board index.&#039;;<br /></code><br /><hr /><span style="color: green;" class="bbc_color"><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">Carpeta Themes/core/</span></strong></span></span><br />Alerta: todas estas modificaciones serán sobre el theme &quot;core&quot;!<br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a (Themes-&gt;core)BoardIndex.template.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg icon&quot;&gt;</code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) &amp;&amp; !$modSettings&#91;&#039;display_childboards&#039;] ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg icon&quot;&gt;</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg stats smalltext&quot;&gt;</code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) &amp;&amp; !$modSettings&#91;&#039;display_childboards&#039;] ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg stats smalltext&quot;&gt;</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg2 smalltext lastpost&quot;&gt;&#039;;<br /></code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) &amp;&amp; !$modSettings&#91;&#039;display_childboards&#039;] ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg2 smalltext lastpost&quot;&gt;&#039;;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$modSettings&#91;&#039;disable_avatar&#039;])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;&lt;div style=&quot;float: left; margin-right: 4px;&quot;&gt;&#039;, $board&#91;&#039;last_post&#039;]&#91;&#039;member&#039;]&#91;&#039;avatar&#039;], &#039;&lt;/div&gt;&#039;;<br /></code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">if (!empty($board&#91;&#039;children&#039;]))</code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">if (!empty($board&#91;&#039;children&#039;]) &amp;&amp; !$modSettings&#91;&#039;display_childboards&#039;])</code><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a MessageIndex.template.php</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">if (!empty($board&#91;&#039;children&#039;]))</code><br />Reemplazar con:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">if (!empty($board&#91;&#039;children&#039;]) &amp;&amp; !$modSettings&#91;&#039;display_childboards&#039;])</code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;td&#039;, !empty($board&#91;&#039;children&#039;]) ? &#039; rowspan=&quot;2&quot;&#039; : &#039;&#039;, &#039; class=&quot;windowbg2 smalltext lastpost&quot;&gt;&#039;;</code><br />Añadir después:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$modSettings&#91;&#039;disable_avatar&#039;])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;&lt;div style=&quot;float: left; margin-right: 4px;&quot;&gt;&#039;, $board&#91;&#039;last_post&#039;]&#91;&#039;member&#039;]&#91;&#039;avatar&#039;], &#039;&lt;/div&gt;&#039;;<br /></code><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;th class=&quot;catbg3 headerpadding&quot; width=&quot;22%&quot;&gt;&lt;a href=&quot;&#039;, $scripturl, &#039;?board=&#039;, $context&#91;&#039;current_board&#039;], &#039;.&#039;, $context&#91;&#039;start&#039;], &#039;;sort=last_post&#039;, $context&#91;&#039;sort_by&#039;] == &#039;last_post&#039; &amp;&amp; $context&#91;&#039;sort_direction&#039;] == &#039;up&#039; ? &#039;;desc&#039; : &#039;&#039;, &#039;&quot;&gt;&#039;, $txt&#91;&#039;last_post&#039;], $context&#91;&#039;sort_by&#039;] == &#039;last_post&#039; ? &#039; &lt;img src=&quot;&#039; . $settings&#91;&#039;images_url&#039;] . &#039;/sort_&#039; . $context&#91;&#039;sort_direction&#039;] . &#039;.gif&quot; alt=&quot;&quot; /&gt;&#039; : &#039;&#039;, &#039;&lt;/a&gt;&lt;/th&gt;&#039;;</code>El código original dice que hay que reemplazar 22% por 26%, pero tras probarlo, me parece que 26% queda muy ancho, se puede quedar perfectamente en 22%.<br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;a href=&quot;&#039;, $topic&#91;&#039;last_post&#039;]&#91;&#039;href&#039;], &#039;&quot;&gt;&lt;img src=&quot;&#039;, $settings&#91;&#039;images_url&#039;], &#039;/icons/last_post.gif&quot; alt=&quot;&#039;, $txt&#91;&#039;last_post&#039;], &#039;&quot; title=&quot;&#039;, $txt&#91;&#039;last_post&#039;], &#039;&quot; /&gt;&lt;/a&gt;</code><br />Añadir antes:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&#039;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!$modSettings&#91;&#039;disable_avatar&#039;])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;&lt;div style=&quot;float: left; margin-right: 4px;&quot;&gt;&#039;, $topic&#91;&#039;last_post&#039;]&#91;&#039;member&#039;]&#91;&#039;avatar&#039;], &#039;&lt;/div&gt;&#039;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br /></code><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Ir a index.css</strong>:</span><br /><br />Buscar:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">table.boardsframe td.info<br />{<br />&nbsp;&nbsp;&nbsp;width: 60%;</code><br />Reemplazar por:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">table.boardsframe td.info<br />{<br />&nbsp;&nbsp;&nbsp;width: 56%;</code><br /><hr /><span style="color: green;" class="bbc_color"><span style="font-size: 18pt;" class="bbc_size"><strong><span class="bbc_u">Carpeta Themes/your-theme</span></strong></span></span><br /><br />Alerta!!!: a partir de ahora, todos los cambios corren por nuestra cuenta. El mod fue desarrollado pensando únicamente en la plantilla &quot;core&quot;, pero la plantilla &quot;curve&quot; (que es a la que le queremos realizar los cambios) puede llegar a ser algo diferente, así como las demás plantillas a las que deseemos que apliquen los cambios.<br /><br />Simplemente sería cuestión de analizar detalladamente los cambios hechos sobre los archivos correspondientes al theme &quot;core&quot;, y comparar dichas líneas de código necesarias de alterar con las de nuestros propios themes. Debería resultar evidente lo que debemos hacer para que las modificaciones encajen en nuestros themes. No creo que sea necesario documentar todo lo que hay que hacerle al &quot;curve&quot;, pero ya volveré a este hilo si veo que la cosa resultase radicalmente distinta.
