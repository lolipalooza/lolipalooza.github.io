---
thread: "Convertir 2hus en archivos para el player.img"
id_msg: 5748
date: "2016-11-03 01:44:02"

subject: "Convertir 2hus en archivos para el player.img"
user: "yap320sorgesoureDug"

modified_time: 2016-11-03 15:40:31
modified_name: "yap320sorgesoureDug"
icon: xx




---
Esto tiene más que ver con el planeado juego 2hu GTA, pero igual hay mucha información técnica aquí así que por eso prefiero ponerlo aquí.<br /><br />Antes, deseaba colocar a las tojas en el GTA como peds riggeados, pero había un problema: eso limitaría mucho la cantidad y el dinamismo de los vestuarios que las tojas podrían utilizar. Como soy muy MUY ambicioso con eso, y deseo agregar la mayor flexibilidad que me sea humanamente posible (aún si eso eleva el tiempo de desarrollo del estúpido juego al infinito...), entonces ahora deseo que las tojas sean partes fragmentadas del archivo player.img, pero hay que planificar la estrategia para armarnos la menor cantidad de trabajo posible (si no planeo bien podría terminar trabajando al doble, cosa que me ha sucedido construyendo la spencer mansion de RE1 en blender)...<br /><br />Comencémos por lo básico:<br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Cómo crear un player bodypart para GTASA (accesorios y partes para CJ)</strong></span><br /><br />En 3DS Max:<br /><ul class="bbc_list"><li>Contar con un modelo ya riggeado como ped (a la perfección si es posible). Si no, entonces riggearlo.</li><li>Exportar como dff siguiendo la siguiente secuencia:<br /><ul class="bbc_list"><li>Selecciona tu modelo a exportar, marcar casillas &quot;as sa body part&quot;, luego &quot;rename root bone&quot; y Ripped, bone/skin export y creas tu propio archivo dff.</li><li>Vuelves a seleccionar tu modelo, marcar casillas &quot;Append export to dff&quot;, &quot;as sa body part&quot;, &quot;rename root bone&quot; y Fat. Bone/skin export, y vas a seleccionar el dff antes creado para añadirle la actual pieza.</li><li>Vuelves a seleccionar tu modelo, marcar casillas &quot;Append export to dff&quot;, &quot;as sa body part&quot;, &quot;rename root bone&quot; y Normal. Bone/skin export, y seleccionar el dff antes creado</li></ul></li><li>Ahora arma tu textura teniendo en cuenta un par de cosas: 1. La textura debe estar en una sola imagen. 2. No comprimirla.</li></ul><br />Normal, Fat y Rigged son las 3 formas posibles que tendrá el personaje dependiendo de su gordura/musculatura. En el caso de la inmensa mayoría de las tojas no me importa que se vean iguales siempre, pero podríamos añadir alguna excepción para darle algo de sabor al juego, como por ejemplo hacer que Patchouli tenga la posibilidad de engordar de verdad, y crear una misión que obligue al jugador a hacerla engordar (y luego hacerla rebajar).<br /><br />Ahora necesitamos más de 40 tojas convertidas al player, ¿cómo hacemos para distribuir el trabajo?<br />Limitémonos por ahora a simplemente determinar qué necesitamos hacer y describir el modo tentativo de hacerlo.<br /><br /><strong>Las partes de CJ</strong><br />Es importantísimo conocer muy bien ésto, sabernos al derecho y al revés cómo está compuesto CJ y cuales son sus diversísimos accesorios para poder planear qué le vamos a dar a las tojas y/o cómo es la mejor manera de dividir sus cuerpos:<br /><br />Partes de CJ:<br /><ul class="bbc_list"><li>Torso (camisas y chaquetas)</li><li>Piernas (pantalones)</li><li>Calzados</li><li>Cadenas</li><li>Relojes</li><li>Complementos (aqui van normalmente accesorios para la cara: gafas, antifaces, pañuelos)</li><li>Gorros</li></ul><br />Y a parte de eso tenemos también:<br /><ul class="bbc_list"><li>Especiales: son atuendos que no pueden ser combinados con los anteriores</li><li>Barberías: para cortes de cabello</li></ul><br />Una cosa que es de notar: las tojas no van a tener variedad de cortes de cabello de la cual escojer, basicamente porque no hay disponibilidad de ésto y yo no sé modelar cabellos (aunque creo que no es tan dificil). Igual dejaremos disponible ese espacio, hay pocas variaciones ahí.<br />Hemos de preguntarnos lo siguiente: ¿van a necesitar las tojas usar relojes? ¿Van a necesitar las tojas gorros? ¿van a necesitar las tojas cadenas? En caso de que no requieran algunas de estas cosas: ¿qué es lo que van a necesitar?<br /><br /><strong>Los accesorios de las tojas</strong><br />Las mujeres visten distinto a los hombres, por eso no podemos esperar que los accesorios de CJ sirvan igual a las tojas. ¿qué tipo de accesorios usarán las tojas?<br /><br /><ul class="bbc_list"><li>Camisas y abrigos (torso) (fíjense que sería chevere poder contar con doble capa para combinar camisas y abrigos, o camisas y sostenes, pero no podremos en el GTASA que solo permite una capa para el torso)</li><li>Pantalones y faldas (legs)</li><li>Calzados (feet) (fíjese que en muchos casos vamos a querer colocarle a la toja un calzado que consista en medias largas que le cubran las piernas, por lo que vamos a necesirar que el componente feet incluya también a las piernas, aún si el jugador decide combinarla con unos pantalones (legs) que se las cubra totalmente o si el calzado solo consiste de sandalias, en cuyo caso toda la pierna desnuda debería de estar incluida en el feet sin importar que legs tenga unos pantalones que las cubra totalmente)</li></ul><br />Noten que podríamos ayudarnos con juegos hentai que te permitan vestir a tu mona china para nutrirnos de ideas. EDIT: la verdad no... La cantidad de componentes en SA es muy limitada en comparación con los vidyas H. Y ya todos los componentes están reservados.<br /><br /><strong>Accesorios originales de las tojas</strong><br /><br />¿qué tipo de accesorios podrían requerir reservación? Aquí enumero algunas cosas que he visto en las tojas y/o en otros modelos que podría agregar:<br /><ul class="bbc_list"><li>Espalda: Capas, Alas (tamaño gigante) (como me sobra el componente espalda, y no hay espacio, podemos hacer lo siguiente: la capa puede ser puesta en la categoría bolsos/maletines -o en la categoría torso, ya que una capa no combinará con cualquier atuendo- y las alas tamaño gigante solo las tienen algunas tojas, como okuu o aya. No todas las tojas lo tienen, por eso podemos combinar las alas con el componente head -o haircuts-, de manera que personajes a los que les quieras remover las alas deberán tener dos versiones de un haircut: uno sin alas y uno con alas, por suerte mencioné antes que no habrá mucha variedad de haircuts en 2hu GTA!)</li><li>Paraguas (ésto podría ir incluido en el torso, ya que es el brazo lo que modifica) (EDIT: hay un pequeño problema con el paraguas: no cualquier toja podrá usar cualquier paraguas, de hecho, me parece que lo conveniente es que el paraguas solo sea accesible a pocas tojas: yukari, remilia y kogasa son las únicas en las que puedo pensar ahora) y cada una podrá accesar únicamente a su propio paraguas, ej: sólo kogasa tendrá acceso a su paraguas de bicho raro con lengua afuera. Para poder distribuir correctamente la información del paraguas no es tan simple, pero se me ocurre lo siguiente: el componente torso dará forma al brazo sosteniendo un paraguas, por ello no podrás usar el paraguas con cualquier camisa/vestido, sino solo con aquellos para los que nos tomemos la molestia de riggear. Pero el paraguas en sí no estará en el torso, sino en la cabeza/haircut (asi como lo estaban las alas de okuu), asi nos aseguramos que solo kogasa tenga acceso a su propio paraguas.</li><li>Guantes/pulseras/accesorios para las manos</li><li>Bolsos, maletines</li><li>Gorros/sombreros/accesorios para el cabello</li><li>Accesorios para la cara: lentes/antifaces/máscaras</li></ul><br />Con lo antes nombrado, ya habremos cubierto todo lo que puede usar CJ. Querer usar más cosas pasado este punto es pedirle al engine del SA lo que ya no puede dar. Sin embargo es importante plantearlo, en caso de que se pueda sustituir una cosa por otra.<br /><br /><span class="bbc_u"><em><strong>ACTUALIZACIÓN:</strong></em></span> no pensar en más cosas que ya la cosa está decidida así:<br /><table class="bbc_table"><tr><td><strong>Componente en CJ</strong></td><td><strong>Componente nuevo</strong></td></tr><tr><td>Torso</td><td>camisas/chaquetas/paraguas(en caso de que aplique)</td></tr><tr><td>Piernas</td><td>pantalones/faldas/shorts</td></tr><tr><td>Calzados</td><td>zapatos/sandalias/medias cortas/largas/piernas desnudas</td></tr><tr><td>Cadenas</td><td>bolsos/maletines/cadenas</td></tr><tr><td>Relojes</td><td>guantes/pulseras/accesorios para las manos</td></tr><tr><td>Complementos</td><td>lentes/antifaces/máscaras</td></tr><tr><td>Gorros</td><td>gorros/sombreros/accesorios para el cabello</td></tr><tr><td>Barbería</td><td>estilos de peinados/alas(en caso de que aplique)</td></tr></table><br />Y chinguen a su madre jeje es neta.<br /><br /><strong>Los archivos</strong><br /><br />Nótese algo importante: los archivos núcleo de CJ son: head.dff, torso.dff, hands.dff, feet.dff y legs.dff.<br />Estos archivos conforman al CJ desnudo (en calsoncillos) con el corte de cabello que trae por defecto.<br />Cuando observas el código fuente de un archivo .scm stripped (con lo mínimo necesario), te darás cuenta que se usan las siguientes líneas para inicializar a CJ:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">087B: set_player $PLAYER_CHAR clothes_texture &quot;PLAYER_FACE&quot; model &quot;HEAD&quot; body_part 1&nbsp; &nbsp; &nbsp; &nbsp;// cabeza (haircuts)<br />087B: set_player $PLAYER_CHAR clothes_texture &quot;JEANSDENIM&quot; model &quot;JEANS&quot; body_part 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // piernas<br />087B: set_player $PLAYER_CHAR clothes_texture &quot;SNEAKERBINCBLK&quot; model &quot;SNEAKER&quot; body_part 3&nbsp; &nbsp; &nbsp;// calzado<br />087B: set_player $PLAYER_CHAR clothes_texture &quot;VEST&quot; model &quot;VEST&quot; body_part 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// torso<br />070D: rebuild_player $PLAYER_CHAR</code><br />Con eso se le está dando la vestimenta inicial a CJ para que no aparesca desnudo, sin embargo, sospecho que si dicho código se omitiese, el juego crashearía ya que se necesita inicializar al player, para que no aparesca vacío.<br /><br />Fíjense en otro detalle importantísimo: no necesitamos en lo absoluto editar el archivo head.dff para personalizar al modelo de nuestro jugador, bastaría con crear un nuevo archivo toja_head.dff, y luego a través del opciode 087B se cambia el body part a &quot;toja_head&quot; (o al menos eso es lo que me estoy suponiendo en estos momentos).<br /><br />Revisar documentación del Sanny Builder para estudiar los body_parts y hacer ensayos.<br /><br /><span style="font-size: 14pt;" class="bbc_size"><strong>¿Cómo vamos a convertir las más de 50 tojas en componentes para el jugador?</strong></span><br /><br />Pasamos a la materia principal. Lo siguiente es tentativo nadamás:<br /><br /><ul class="bbc_list"><li>Trabajar en 3DS Max para no tener que volver a riggear (lástima porque yo quería trabajar en Blender).</li><li>Acceder a todas las tojas que queremos usar.</li><li>Clasificarlas según los tamaños y proporciones de sus cuerpos en tres (3) tipos: toja loli, toja jailbait y toja milf. Las tojas milfs han de tener el mismo tamaño de CJ. Las tojas jb han de tener como un 90% el tamaño de CJ y las tojas lolis un 80%. Eso mas o menos. La idea es que las tojas lolis no se vean tan pequeñas y así se pueda usar el mod First Person View con 2hu GTA y hasta con las tojas lolis se pueda manejar un coche.</li><li>Poner a todas las tojas que tengan los mismos tipos de cuerpos en la misma posición. Probablemente haya que volverlas a riggear a todas, especialmente a algunas que he notado no estaban muy bien riggeadas que digamos (ej: ayaMMD, chinaMMD). ¡Espérenle espérenle! Si hay que volverlas a riggear entonces ¿por qué no trabajar en blender? pues porque necesitamos aprovechar su riggeo inicial.</li><li>Luego buscar todos los vestuarios posibles (que se adapten a cada tipo de cuerpo) y colocarlos en la misma posición del tipo de cuerpo.</li><li>En muchos casos, habrá que hacer un trabajillo de edición 3D para modificar las proporciones de los vestuarios, con el fin de que se adapten a los distintos tipos de cuerpos, especialmente de las lolis. Ésto se puede perfectamente hacer en Blender y luego pasar a 3DS Max para riggear.</li><li>Una vez tengamos todos los modelos clasificados, puestos en la misma posición y completamente riggeados, habrá que fragmentarlos en las partes de las que se habló antes: torso, piernas, pies, etc.</li><li>Se podría unificar todas las texturas que hagan falta antes de la fragmentación, o después de ésta para minimizar tamaños de archivos.</li><li>Convertir a dff usando el método antes citado.</li><li>Modificar los archivos clothes.dat y shopping.dat para añadir los nuevos componentes.</li><li>Escribir los scripts en scm para dar la funcionalidad deseada.</li><li>Voilá, disfruta del juego de tus sueños (Jeje probablemente nunca vas a pasar del paso 2 de esta lista marikon pendejete fracasado jejejejej).</li></ul>
