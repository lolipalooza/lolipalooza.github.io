---
thread: "About changing player model"
id_msg: 908071
date: "2018-05-05 15:27:56"

subject: "About changing player model"
user: "Mekcm955sorgesoureDug"

modified_time: 2018-05-05 15:29:48
modified_name: "yap320sorgesoureDug"
icon: xx




---
<span style="font-family: arial;" class="bbc_font">This guide is a translation from this page:<br /><a href="https://www.gta-mods.pl/artykuly/57/zmiana-modelu-gracza" class="bbc_link new_win" target="_blank">https://www.gta-mods.pl/artykuly/57/zmiana-modelu-gracza</a><br />special thanks to:<br /><a href="http://gtaforums.com/topic/908916-gta-sa-how-do-i-set-default-player-skin-as-other-models-without-using-skin-selector/" class="bbc_link new_win" target="_blank">http://gtaforums.com/topic/908916-gta-sa-how-do-i-set-default-player-skin-as-other-models-without-using-skin-selector/</a><br /><br /><br /><br />When creating new missions or other scripts, you sometimes need to change the player&#039;s appearance to a completely different model. This is a simple procedure that I will present in this guide in two ways.<br /><br /><span style="font-size: 14pt;" class="bbc_size"><strong>Using an existing model</strong></span><br /><br />Changing the player&#039;s appearance on an already existing model in the game, or one that has been changed for the original:</span><br /><br /><div class="codeheader">C贸digo: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0247: load_model #MALE01<br />038B: load_requested_models<br /><br />09C7: change_player $PLAYER_CHAR model_to #MALE01<br />0249: release_model #MALE01</code><br /><span style="font-family: arial;" class="bbc_font"><span style="font-size: 14pt;" class="bbc_size"><strong>Use of a new model</strong></span><br /><br />Changing the player&#039;s appearance to a completely new model requires adding it to the gta3.img archive. Operations on * .img files are described <a href="http://www.gta-mods.pl/artykuly/17/img-tool-20" class="bbc_link new_win" target="_blank">in this guide</a>.<br /><br />If you have already uploaded your model, you must load it as a model of a special actor.</span><br /><br /><div class="codeheader">C贸digo: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">023C: load_special_actor &#039;NAZWA_PLIKU_MODELU&#039; as 1<br />038B: load_requested_models<br /><br />09C7: change_player $PLAYER_CHAR model_to #SPECIAL01<br />0296: unload_special_actor 1</code><br /><span style="font-family: arial;" class="bbc_font">Note that we change the player&#039;s model in # SPECIAL01, which corresponds to the ID set in the 023C option<br /><br /><span style="font-size: 14pt;" class="bbc_size"><strong>For advanced</strong></span><br /><br />The following SCM function allows you to change the player model to any model without loading it as a special actor. This can be useful when you want to be sure that our special actor model will not be overwritten by any external MAIN scripts or threads.<br /><br />Add two procedures at the end of your script that will be needed to perform this operation. Set the model name in the MODE_MODE procedure.<br /><br />WARNING! The model name can not exceed eight characters. Do not add the * .dff extension to the model name.</span><br /><br /><div class="codeheader">C贸digo: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">:ChangePlayerModel<br />0A9F: 2@ = current_thread_pointer<br />000A: 2@ += 0x10<br />0A8D: 2@ = read_memory 2@ size 4 virtual_protect 0<br />0062: 2@ -= 1@<br />000A: 2@ += 0x4<br />for 3@ = 0 to 7<br />&nbsp; &nbsp; 0A8E: 4@ = 2@ + 3@<br />&nbsp; &nbsp; 0A8D: 5@ = read_memory 4@ size 1 virtual_protect 0<br />&nbsp; &nbsp; if and<br />&nbsp; &nbsp; &nbsp; &nbsp; 0029:&nbsp; &nbsp;5@ &gt;= 0x41<br />&nbsp; &nbsp; &nbsp; &nbsp; 002B:&nbsp; &nbsp;0x5A &gt;= 5@<br />&nbsp; &nbsp; then<br />&nbsp; &nbsp; &nbsp; &nbsp; 000A: 5@ += 0x20<br />&nbsp; &nbsp; &nbsp; &nbsp; 0A8C: write_memory 4@ size 1 value 5@ virtual_protect 0<br />&nbsp; &nbsp; end<br />end<br />0AA5: call 0x409D10 num_params 3 pop 3 26 2@ 0<br />038B: load_requested_models<br />if 0039:&nbsp; &nbsp;0@ == 0<br />then 008B: 2@ = $PLAYER_ACTOR<br />else 008B: 2@ = $SECOND_PLAYER_ACTOR<br />end<br />0A96: 2@ = actor 2@ struct<br />0A8E: 3@ = 2@ + 0x4D4<br />0A8D: 4@ = read_memory 2@ size 4 virtual_protect 0<br />0A8D: 5@ = read_memory 3@ size 4 virtual_protect 0<br />0A8E: 6@ = 4@ + 0x20<br />0A8D: 6@ = read_memory 6@ size 4 virtual_protect 0<br />0AA6: call_method 6@ struct 2@ num_params 0 pop 0<br />0A8E: 7@ = 2@ + 0x22<br />0A8C: write_memory 7@ size 2 value 0xFFFF virtual_protect 0<br />0A8E: 8@ = 4@ + 0x14<br />0A8D: 8@ = read_memory 8@ size 4 virtual_protect 0<br />0AA6: call_method 8@ struct 2@ num_params 1 pop 0 0@<br />0A8C: write_memory 3@ size 4 value 5@ virtual_protect 0<br />0AB2: ret 0<br /><br /><br />:NAZWA_MODELU<br />0662: NOP &quot;nazwa_modelu&quot;<br />0000: NOP</code><br /><span style="font-family: arial;" class="bbc_font">Now just use the created functions anywhere in your script:</span><br /><div class="codeheader">C贸digo: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0AB1: call_scm_func @ChangePlayerModel 2 change_player $PLAYER_CHAR model_to @NAZWA_MODELU<br />070D: rebuild_player $PLAYER_CHAR</code>
