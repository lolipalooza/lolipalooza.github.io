---
thread: "Modificaciones Propias"
id_msg: 4810
date: "2013-06-12 23:07:59"

subject: "Modificaciones Propias"
user: "yab220sorgesoureDug"

modified_time: 2013-06-14 22:05:17
modified_name: "yap320sorgesoureDug"
icon: xx




---
Intentando insertar botones en la barra de posteo rápido (quick reply):<br /><br />En /themes/default/Display-template.php:<br /><div class="codeheader">Código: (Buscar código) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;if (!empty($options&#91;&#039;display_quick_reply&#039;]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var oQuickReply = new QuickReply({<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDefaultCollapsed: &#039;, !empty($options&#91;&#039;display_quick_reply&#039;]) &amp;&amp; $options&#91;&#039;display_quick_reply&#039;] == 2 ? &#039;false&#039; : &#039;true&#039;, &#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTopicId: &#039;, $context&#91;&#039;current_topic&#039;], &#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iStart: &#039;, $context&#91;&#039;start&#039;], &#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sScriptUrl: smf_scripturl,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sImagesUrl: &quot;&#039;, $settings&#91;&#039;images_url&#039;], &#039;&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sContainerId: &quot;quickReplyOptions&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sImageId: &quot;quickReplyExpand&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sImageCollapsed: &quot;collapse.gif&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sImageExpanded: &quot;expand.gif&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sJumpAnchor: &quot;quickreply&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&#039;;<br /></code><br /><br /><br /><div class="codeheader">Código: (Agregar después) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;// The post header... important stuff<br />&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dl id=&quot;post_header&quot;&gt;&#039;;<br /><br />&nbsp;&nbsp;&nbsp;// Guests have to put in their name and email...<br />&nbsp;&nbsp;&nbsp;if (isset($context&#91;&#039;name&#039;]) &amp;&amp; isset($context&#91;&#039;email&#039;]))<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&#039;, isset($context&#91;&#039;post_error&#039;]&#91;&#039;long_name&#039;]) || isset($context&#91;&#039;post_error&#039;]&#91;&#039;no_name&#039;]) || isset($context&#91;&#039;post_error&#039;]&#91;&#039;bad_name&#039;]) ? &#039; class=&quot;error&quot;&#039; : &#039;&#039;, &#039; id=&quot;caption_guestname&quot;&gt;&#039;, $txt&#91;&#039;name&#039;], &#039;:&lt;/span&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;text&quot; name=&quot;guestname&quot; size=&quot;25&quot; value=&quot;&#039;, $context&#91;&#039;name&#039;], &#039;&quot; tabindex=&quot;&#039;, $context&#91;&#039;tabindex&#039;]++, &#039;&quot; class=&quot;input_text&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dd&gt;&#039;;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (empty($modSettings&#91;&#039;guest_post_no_email&#039;]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&#039;, isset($context&#91;&#039;post_error&#039;]&#91;&#039;no_email&#039;]) || isset($context&#91;&#039;post_error&#039;]&#91;&#039;bad_email&#039;]) ? &#039; class=&quot;error&quot;&#039; : &#039;&#039;, &#039; id=&quot;caption_email&quot;&gt;&#039;, $txt&#91;&#039;email&#039;], &#039;:&lt;/span&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;25&quot; value=&quot;&#039;, $context&#91;&#039;email&#039;], &#039;&quot; tabindex=&quot;&#039;, $context&#91;&#039;tabindex&#039;]++, &#039;&quot; class=&quot;input_text&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dd&gt;&#039;;<br />&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;// Show alternate user posting option<br />&nbsp; &nbsp; if ($context&#91;&#039;can_change_user&#039;])<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; echo &#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;dt&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span&#039;, isset($context&#91;&#039;post_error&#039;]&#91;&#039;alternate_user&#039;]) ? &#039; class=&quot;error&quot;&#039; : &#039;&#039;, &#039; id=&quot;caption_alternate_user&quot;&gt;&#039;, !isset($_REQUEST&#91;&#039;msg&#039;]) ? $txt&#91;&#039;post_alternate_user&#039;] : $txt&#91;&#039;change_user&#039;], &#039;:&lt;/span&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/dt&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;dd&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;alternate_user&quot; type=&quot;text&quot; name=&quot;alternate_user&quot; value=&quot;&#039;, $context&#91;&#039;alternate_user&#039;], &#039;&quot; size=&quot;25&quot; tabindex=&quot;&#039;, $context&#91;&#039;tabindex&#039;]++, &#039;&quot; maxlength=&quot;255&quot; class=&quot;input_text&quot; /&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;, !isset($_REQUEST&#91;&#039;msg&#039;]) ? &#039;&lt;span class=&quot;smalltext&quot;&gt;&#039; . $txt&#91;&#039;post_alternate_user_descr&#039;] . &#039;&lt;/span&gt;&#039; : &#039;&#039;, &#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/dd&gt;&#039;;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; //end of post_header<br />&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/select&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;img src=&quot;&#039;, $context&#91;&#039;icon_url&#039;], &#039;&quot; name=&quot;icons&quot; hspace=&quot;15&quot; alt=&quot;&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dd&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&lt;hr class=&quot;clear&quot; /&gt;&#039;;<br />&nbsp;&nbsp;&nbsp;// Show the actual posting area...<br />&nbsp;&nbsp;&nbsp;if ($context&#91;&#039;show_bbc&#039;])<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id=&quot;bbcBox_message&quot;&gt;&lt;/div&gt;&#039;;<br />&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;// What about smileys?<br />&nbsp;&nbsp;&nbsp;if (!empty($context&#91;&#039;smileys&#039;]&#91;&#039;postform&#039;]) || !empty($context&#91;&#039;smileys&#039;]&#91;&#039;popup&#039;]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id=&quot;smileyBox_message&quot;&gt;&lt;/div&gt;&#039;;<br /><br />&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;, template_control_richedit($context&#91;&#039;post_box_name&#039;], &#039;smileyBox_message&#039;, &#039;bbcBox_message&#039;);<br /></code><br /><br /><span style="color: red;" class="bbc_color">Nota final: no funcionó :/</span>
