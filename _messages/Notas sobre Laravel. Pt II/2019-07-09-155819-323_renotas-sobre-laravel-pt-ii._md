---
thread: "Notas sobre Laravel. Pt II"
id_msg: 908469
date: "2019-07-09 15:58:19"

subject: "Re:Notas sobre Laravel. Pt II"
user: "yap320sorgesoureDug"



icon: xx




---
(<a href="http://smf.halabalooza.orgy/index.php/topic,3378.msg908462.html#msg908462" class="bbc_link">Volver al índice</a>)<br /><div align="center"><span style="font-size: 18pt;" class="bbc_size"><span style="font-family: times new roman;" class="bbc_font"><strong>6. <em>Vistas</em></strong></span></span><br />(<a href="https://styde.net/vistas-en-laravel/" class="bbc_link new_win" target="_blank">https://styde.net/vistas-en-laravel/</a>)</div><br />Ruta de las vistas:<br />- resources/views.<br /><br />Si por ejemplo creamos una vista resources/views/users.blade.php, entonces, desde el controlador, reemplazamos:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">class UserController extends Controller<br />{<br />&nbsp;&nbsp;&nbsp;public function index()<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &#039;Usuarios&#039;;<br />&nbsp;&nbsp;&nbsp;}<br />}</code><br />Por:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">class UserController extends Controller<br />{<br />&nbsp;&nbsp;&nbsp;public function index()<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return view(&#039;users&#039;);&nbsp;&nbsp;&nbsp;// nombre de la vista (users.blade.php)<br />&nbsp;&nbsp;&nbsp;}<br />}</code>El nombre de la vista coincide con la ruta del archivo *.blade.php, relativo a la ruta de las vistas.<br /><br />Se puede pasar datos a la vista así:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">class UserController extends Controller<br />{<br />&nbsp;&nbsp;&nbsp;public function index()<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$users = [<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Alan&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;José&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Uriel&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Rogelio&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;César&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return view(&#039;users&#039;, [<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;users&#039; =&gt; $users,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;title&#039; =&gt; &#039;Listado de usuarios&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]);<br />&nbsp;&nbsp;&nbsp;}<br />}</code><br />alternativamente:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">return view(&#039;users&#039;)-&gt;with([<br />&nbsp;&nbsp;&nbsp;&#039;users&#039; =&gt; $users,<br />&nbsp;&nbsp;&nbsp;&#039;title&#039; =&gt; &#039;Listado de usuarios&#039;,<br />]);<br /></code><br />ó:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">return view(&#039;users&#039;)<br />&nbsp;&nbsp;&nbsp;-&gt;with(&#039;users&#039;, $users)<br />&nbsp;&nbsp;&nbsp;-&gt;with(&#039;title&#039;, &#039;Listado de usuarios&#039;);<br /></code><br />ó:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">class UserController extends Controller<br />{<br />&nbsp;&nbsp;&nbsp;public function index()<br />&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$users = [<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Alan&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;José&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Uriel&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;Rogelio&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;César&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$title = &#039;Listado de usuarios&#039;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return view(&#039;users&#039;, compact(&#039;title&#039;, &#039;users&#039;));<br />&nbsp;&nbsp;&nbsp;}<br />}</code><br />Para fortalecer las pruebas a la ruta de &#039;/usuarios&#039;:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">/** @test */<br />function it_loads_the_users_list_page()<br />{<br />&nbsp;&nbsp;&nbsp;$this-&gt;get(&#039;/usuarios&#039;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;assertStatus(200)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;assertSee(&#039;Usuarios&#039;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;assertSee(&#039;Alan&#039;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;assertSee(&#039;Uriel&#039;);<br />}</code><br />Cultura general: Laravel tiene un método que permite escapar caracteres especiales: e(), que ejecuta en su interior la función htmlspecialchars(), para evitar inyecciones de javascript.<br /><br />Cultura general pt. II y 1/3: Laravel tiene una función parecida a var_dump() y print_r(), llamada dd(), pruébenla, es chidoris kool-aid siono rasa.
