---
thread: "Crear modelos 3D en Blender y transferirlos al GTA SA"
id_msg: 5717
date: "2016-04-19 18:33:43"

subject: "Crear modelos 3D en Blender y transferirlos al GTA SA"
user: "yap320sorgesoureDug"

modified_time: 2016-10-22 05:45:17
modified_name: "yap320sorgesoureDug"
icon: xx



edit_reason: "pos nomas"
---
<span style="font-size: 14pt;" class="bbc_size"><strong>Convertir modelos 3D (mapas) para el GTA SA</strong></span><br /><br />Hacer esto es una maldita pesadilla, porque hay miles de broncas por todas partes.<br /><br /><strong>Importando a 3ds Max desde Blender</strong><br /><br />El formato .3ds da miles de broncas y muchos en internet dicen que está &quot;deprecated&quot;.<br />El formato .fbx me da miles de broncas.<br />El formato .dae parece trabajar decentemente, siempre y cuando los modelos sean pequeños y sencillos.<br /><br />El formato .obj fue el único que me ha ayudado, pero hay que tener cuidado de unos cuantos detallitos para poder trabajar adecuadamente con este formato.<br /><br /><strong>El formato .obj, el mejor hasta ahora</strong><br /><br /><a href="https://www.youtube.com/watch?v=0RNILVLDWqg" class="bbc_link new_win" target="_blank">Este video</a> dice que podemos exportar objetos desde blender en grupo hacia 3ds Max, activando la casilla de exportación llamada &quot;Objects as OBJ Groups&quot;, y desmarcando la casilla &quot;Objects as OBJ objects&quot;. Esta opción por si sola no me ayudó mucho.<br /><br />Con o sin el punto anterior en mente, cuando trataba de exportar .obj hacia 3ds Max, el mismo me daba el siguiente error tratando de importar: &quot;error in file: meshName = shapeName&quot;. <a href="https://knowledge.autodesk.com/support/3ds-max/troubleshooting/caas/sfdcarticles/sfdcarticles/meshName-shapeName-error-on-import.html" class="bbc_link new_win" target="_blank">Ésta página</a> dice que, si abres con notepad++ el archivo .obj, y eliminas las líneas que dicen &quot;l coord_x coord_y coord_z&quot;, entonces el error desaparece y ya es posible realizar correctamente la importación.<br /><br /><strong>Preparativos al modelo 3d</strong><br /><br />Una vez que te las arreglaste para importar correctamente el modelo en 3ds Max (asumiento que lo lograste), ahora seguir los siguientes pasos:<br />&nbsp;- importa un dff que te servirá como referencia (gen_doorint01.dff, el cual es una puerta) o un modelo que corresponda a un Ped.<br />&nbsp;- con dicha referencia deberás escalar correctamente el modelo importado. <span style="color: red;" class="bbc_color"><strong>O puedes escalar tus modelos desde el propio blender usando el gen_door o el Ped como referencia (exportados desde 3DS Max como *.OBJ), para así olvidarte del problema de escalar para siempre (con el formato OBJ los modelos mantienen escalas correctas en blender y en 3DS Max).</strong></span><br />&nbsp;- debes centrar correctamente el modelo sobre su punto céntrico, para ello debes irte al &quot;Editable Mesh&quot;, y en Polygon o Element, debes seleccionar todo el modelo, y asegurarte que el centro que corresponde al editable mesh sea el mismo que sale una vez abandonado el edit mode del mesh (si no entendiste la marramucia que acabo de escribir, mala suerte, digo... despues veo como explicarlo con ilustraciones). <span style="color: red;" class="bbc_color"><strong>Por suerte toda esta marramucia ya no hace falta, pues si modelo y colisión son exportados desde blender con el mismo centro, no habrá problemas de centro durante la conversión</strong></span><br />&nbsp;- asumiendo que tu modelo no tiene ninguna textura, debes añadirle una textura rápida de prueba, para ello, pulsas M para entrar en un menú de materiales, y asignas una textura a un material, y luego le colocas ese material al modelo arrastrándolo.<br />&nbsp;- Probablemente tu modelo no va a mostrar la textura adecuadamente, asi que te vas a la parte del Editable Mesh nuevamente, y vas a hacer click donde dice &quot;Modifier List&quot;, y vas a seleccionar &quot;Unwrap UVW&quot;, una vez elegida, notarás que ahora si se ve adecuadamente la textura, luego haces click secundario en el Unwrap UVW y eliges la opción Collapse All, para que tu efecto de unwrap se añada a tu objeto.<br /><br /><strong>Convirtiendo el modelo al formato de GTASA</strong><br /><br />&nbsp;- Listo, es hora de exportarlo como .dff, para ello, haces click en Kam GTA scripts, en DFF IO, y ahí te diriges al menu de export, seleccionas la casilla &quot;skip col&quot; y luego al botón Export. Le colocas el nombre que deseas a tu archivo y voilá!<br />&nbsp;- Borras el modelo que tienes en el 3ds max, y luego importas el archivo que acabas de crear<br />&nbsp;- Para la colisión, te vas a Kam GTA scripts, click en Collision IO, y en el menu debes hacer click en el botón Collision Mesh, y luego haces click en el modelo 3D, ésto creará las colisiones.<br />&nbsp;- Ahora le pones un nombre a tu colisión en el campo de texto encima de &quot;Export&quot; (debe coincidir con el nombre del dff recién creado, sino, el gtasa crasheará, advertido estás).<br />&nbsp;- Ahora click en export, y te pedirá que le pongas un nombre a tu archivo .col, éste nombre no necesita ser el mismo del dff, y de hecho hasta puedes meter mas colisiones a ese archivo utilizando el &quot;col editor&quot;, pero de momento, con esa colisión que acabas de crear basta.<br /><br />Ya tienes tu .dff y tu .col, ¿qué falta? un archivo que almacenará la textura (un .txd).<br />No trataré en este hilo cómo crear archivos de texturas (es fácil).<br /><br />Tampoco trataré el cómo importar tus archivos .dff, .col, .txd a un .img, ni cómo meterlos dentro del mapa con el MEd, pues no creo que haga falta.<br /><br />Si por alguna razón se vuelve MUY complicado el proceso de importar modelos desde el blender al 3ds Max, o si en el proceso, las probabilidades de que el modelo se dañe o salga con colisiones defectuosas, entonces tengo una sugerencia:<br /><br />¡¡Al CARAJO con Blender, haz tus malditos modelos en el maldito 3ds Max!!<br /><br />Pero no es porque el Blender sea mal software, sino porque la gente que escribió los scripts de compatibilidad del GTASA sólo lo hicieron para el 3ds Max, y pues... El Blender y el 3ds Max como que no se llevan bién ¡me cago en la puta!<br /><br /><span style="color: red;" class="bbc_color"><strong>Actualización: he descubierto los motivos de los bugs en las colisiones y no tienen nada que ver con problemas de Blender. Aún en 3DS Max los ibamos a tener. En el siguiente post explico más al respecto.</strong></span>
