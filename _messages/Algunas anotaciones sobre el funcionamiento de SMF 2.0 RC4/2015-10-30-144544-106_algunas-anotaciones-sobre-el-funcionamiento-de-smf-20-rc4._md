---
thread: "Algunas anotaciones sobre el funcionamiento de SMF 2.0 RC4"
id_msg: 5587
date: "2015-10-30 14:45:44"

subject: "Algunas anotaciones sobre el funcionamiento de SMF 2.0 RC4"
user: "yap320sorgesoureDug"

modified_time: 2015-10-30 15:00:27
modified_name: "yap320sorgesoureDug"
icon: xx



edit_reason: "pos nomas"
---
<strong><span style="font-size: 14pt;" class="bbc_size">El array $smcFunc</span></strong><br />La mentadísima variable <em>$smcFunc</em> al parecer tiene una primera inicialización dentro del archivo <strong>Subs-Db-mysql.php</strong>, durante el proceso <em>smf_db_initiate()</em>:<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Map&nbsp;some&nbsp;database&nbsp;specific&nbsp;functions,&nbsp;only&nbsp;do&nbsp;this&nbsp;once.<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$smcFunc</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;db_fetch_assoc&#039;</span><span style="color: #007700">])&nbsp;||&nbsp;</span><span style="color: #0000BB">$smcFunc</span><span style="color: #007700">[</span><span style="color: #DD0000">&#039;db_fetch_assoc&#039;</span><span style="color: #007700">]&nbsp;!=&nbsp;</span><span style="color: #DD0000">&#039;mysql_fetch_assoc&#039;</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$smcFunc&nbsp;</span><span style="color: #007700">+=&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_query&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_query&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_quote&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_quote&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_fetch_assoc&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_fetch_assoc&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_fetch_row&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_fetch_row&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_free_result&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_free_result&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_insert&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_insert&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_insert_id&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_insert_id&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_num_rows&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_num_rows&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_data_seek&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_data_seek&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_num_fields&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_num_fields&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_escape_string&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;addslashes&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_unescape_string&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;stripslashes&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_server_info&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_get_server_info&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_affected_rows&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_affected_rows&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_transaction&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_transaction&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_error&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_error&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_select_db&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;mysql_select_db&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_title&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;MySQL&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_sybase&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_case_sensitive&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">&#039;db_escape_wildcard_string&#039;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">&#039;smf_db_escape_wildcard_string&#039;</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;);<br /></span><span style="color: #0000BB">?&gt;</span></span><br /></code><br />De cualquier modo, noto que cada vez que se modifica el valor de <em>$smcFunc</em> en cualquier parte del código, se hace de la siguiente forma:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$smcFunc += array(</code>(digo, si lo desean buscar con el Total Commander).
