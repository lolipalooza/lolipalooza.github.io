---
thread: "C&oacute;mo riggear modelos para GTA San Andreas"
id_msg: 629495
date: "2017-10-27 21:35:39"

subject: "C&oacute;mo riggear modelos para GTA San Andreas"
user: "yab220sorgesoureDug"



icon: xx




---
<span style="font-size: 18pt;" class="bbc_size"><strong><span style="color: orange;" class="bbc_color">Tutorial: Riggear modelos para GTA San Andreas</span></strong></span><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size">O también ¿Cómo convertir modelos 3D al formato GTA San Andreas?</span></span><br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>¿Qué es &quot;Riggear&quot;?</strong></span></span><br /><br />Término precario que proviene de la palabra inglesa &quot;Rig&quot; o &quot;Rigging&quot;. Desconosco su traducción, pero en este caso nos referimos al proceso de asignar movilidad a un modelo 3D respecto a un &quot;esqueleto&quot; (conjunto de puntos de rotación jerarquizados), de tal modo que cuando rotamos una extremidad del &quot;esqueleto&quot; (ej. un brazo, una pierna, la cadera), el modelo 3D debe moverse apropiadamente.<br /><br /><strong><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size">¿Qué persigue este tutorial?</span></span></strong><br /><br />El &quot;riggeo&quot; de un modelo 3D completo, para poder ser importado el archivo y ser utilizable en el juego GTA San Andreas.<br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>Herramientas requeridas</strong></span></span><br /><ul class="bbc_list"><li>3dsmax - cualquier versión, aunque la versión utilizada en los screens es la 9.</li><li>Kams script (complemento para el 3dsmax). Consíguelo <a href="http://www.gtagarage.com/mods/show.php?id=9172" class="bbc_link new_win" target="_blank">aquí</a>.</li></ul><br /><em>(Este tutorial es una adaptación al español del tutorial de <a href="http://diego4funzone.blogspot.com/2011/04/some-gta-peds_29.html" class="bbc_link new_win" target="_blank">Diego4Fun</a>, al que le he agregado más información).</em><br /><strong>Nota:</strong> no necesitas de ningun conocimiento en 3dsmax, este tutorial está hecho para principiantes. Y en la medida que lo practiques te irás familiarizando con la herramienta 3dsmax. Aunque no pretende que te hagas experto con la misma.<br /><br /><span style="color: orange;" class="bbc_color"><strong><span style="font-size: 14pt;" class="bbc_size">Parte 1: Importando el modelo al escenario</span></strong></span><br /><br />Una vez abierto el 3dsmax, click en <em>File &gt; Import</em>.<br /><br />Elije en patrón de búsqueda: todos los archivos.<br /><br />Elije el modelo que deseas convertir (en este caso es un modelo en formato .3ds).<br /><br />Listo, podrás ver el modelo importado.<br /><br />Importante: en la mayoría de los casos, los modelos que consigas y desees convertir ya tienen las texturas añadidas (aún si no las puedes ver). Si en tu caso es así, puedes saltarte la parte 2 completamente.<br /><br /><span style="color: orange;" class="bbc_color"><strong><span style="font-size: 14pt;" class="bbc_size">Parte 2: colocándole las texturas a tu modelo</span></strong></span><br /><br />Ahora presiona M en el teclado para abrir la ventana de Editor de Materiales (si usas una versión más reciente de 3ds Max, tendrás que asegurarte de cambiar a la versión compacta para que puedas visualizarlo tal y como en la captura).<br /><br />Toma el archivo de textura, y arrástralo hasta 3dsmax, hacia uno de los bloques de material.<br /><br />Y lo dejas caer en el primer bloque del material.<br /><br />Repite hasta que hayas dejado cada uno de los archivos de texturas del modelo en los bloques de materiales.<br /><br />Haz click en el modelo y luego haz click en el &quot;+&quot; (lado derecho, en &quot;Editable Mesh&quot;). Selecciona &quot;Element&quot;.<br /><br />Rueda hacia abajo hasta el recuadro donde dice &quot;Material&quot;.<br /><br />Click en el selector vacío y selecciona la primera opción.<br /><br />En la ventana de materiales (recuerda, puedes acceder a ella pulsando M) debes buscar de entre los bloques que rellenaste aquel cuya textura se corresponda con la parte del modelo seleccionada (en rojo). Y la arrastras hasta dicho modelo.<br /><br />Deberás repetir ésto por cada parte del modelo, hasta que éste ya se encuentre completamente texturizado.<br /><br />En el panel superior derecho, donde antes habías encontrado el &quot;Editable Mesh&quot;, debes volver a hacer click en &quot;Element&quot; para abandonar el modo de edición del Editable Mesh.<br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>Parte 3: preparando el modelo base</strong></span></span><br /><br />Ahora debes dirigirte a la pestaña &quot;Utilities&quot; del lado izquierdo, y bajar hasta donde encontrarás el recuadro concerniente a Kams script, para hacer click en el botón &quot;DFF IO&quot;, de ese modo podrás importar un modelo dff del juego GTA San Andreas. En la ventana que se abrirá, debes dar click en el botón A (para que el modelo que importes ya se encuentre &quot;riggeado&quot;), y das click en &quot;Import DFF&quot;.<br /><br />Buscas la ubicación del modelo dff que vas a importar. Es importante que el dff que vayas a utilizar se paresca físicamente al modelo que deseas convertir, para que el trabajo de rigging sea más cómodo. En cualquier caso, un dff original de SA te debería servir, pero si por ejemplo, deseas convertir el modelo 3D de un cuerpo femenino, y ya cuentas con un dff riggeado muy bien de otro cuerpo femenino, será mucho más cómodo trabajar con ese dff de base. No te preocupes que con la práctica comprenderás bien a lo que me refiero.<br /><br />Ahora tienes en el escenario 2 modelos 3D: el que deseas convertir, que ya ha de tener sus texturas visibles en el caso de que hayas ejecutado los pasos de la parte 2, y el modelo de San Andreas con sus &quot;huesos&quot;.<br /><br />El siguiente paso es escalar tu modelo para que se encuentre en el mismo tamaño del modelo dff que estás usando de base. Así mismo, una vez reescalado, deberás colocarlos los dos en la misma posición.<br /><br />En la captura están en la misma posición pero sus brazos y piernas no se encuentran iguales.<br /><br />Así que hay que rotar los brazos y piernas de nuestro modelo base para que concuerden con el modelo nuevo.<br /><br />En la imagen ya se encuentran lo más parecidos posibles.<br /><br />Debes reabrir la ventana de Kams script en caso de que la hayas cerrado (pestaña &quot;Utilities&quot;), y una vez abierta, lo que vamos a hacer es guardar la posición modificada de nuestro modelo dff. Para ello, haz click en la casilla &quot;skip coll&quot; y luego en &quot;Bone/Skin Export&quot;.<br /><br />Ponle un nombre al nuevo modelo dff, para que lo salves.<br /><br />Una vez salvado, deberás borrar el dff que tienes en el escenario, junto con todos sus huesos.<br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>Parte 4: convirtiendo nuestro modelo a .DFF</strong></span></span><br /><br />Ahora deberás importar al escenario el nuevo dff que acabas de crear (aquel que tiene exactamente la misma posición que el modelo que tienes en el escenario). Recuerda: pestaña &quot;Utilities&quot;, buscar Kams script, en la respectiva ventana clickear en &quot;A&quot; y luego &quot;Import DFF&quot;.<br /><br />Ahora tienes los dos modelos en la misma posición.<br /><br />Deberás hacer click en la piel del DFF e ir en el panel derecho, y hacer click en el &quot;+&quot; del Editable Mesh para luego clickear en &quot;Vertex&quot;. De ese modo entrarás en el modo edición de los vértices del modelo dff.<br /><br />Te saldrá un mensaje de advertencia, click en &quot;yes&quot;.<br /><br />Verás los vértices del dff en azul. Presiona CTRL + A para elegirlos todos, éstos se pondrán de color rojo indicando que han sido seleccionados.<br /><br />En el panel derecho deberás bajar hasta ver el botón &quot;Attach&quot;, en el que harás click.<br /><br />Luego harás click en tu modelo, y al aparecer el cuadro de diálogo harás click en &quot;Ok&quot;. Con ello unirás todos los vértices de tu modelo a los del dff riggeado.<br /><br />Verás vértices tanto azules como rojos. Presiona la tecla SUPRIMIR para eliminar los vértices rojos. De ese modo habrás removido la piel del modelo dff y sólo te quedará la piel de tu modelo, atada al esqueleto del dff. La mejor parte es que el rigging que tenía la anterior piel quedará en la nueva piel!<br /><br />Haz click una vez más en &quot;Vertex&quot; para salir del modo de edición de vértices.<br /><br />¡Ya haz convertido tu modelo al formato GTA SA! Y ya solo queda repetir la operación de exportar como dff desde la ventana de Kams script. Sin embargo, aún no es momento de hacerlo, puesto que tu rigging probablemente no está perfecto y ha de tener &quot;bugs&quot; (errores, vértices mal riggeados). Para arreglar estos vértices defectuosos, primero deberás detectarlos. ¿Cómo? rotando cada hueso de tu modelo y viendo si se mueve apropiadamente.<br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>Parte 5: solucionando los errores de &quot;rigging&quot;</strong></span></span><br /><br />En la captura, por ejemplo, seleccionamos el hueso de un brazo:<br /><br />Lo hemos rotado, puede que en la imagen no se aprecie bien, pero tiene algunos defectos, por lo que procedemos a arreglarlo:<br /><br />Para ello, selecciona el &quot;Mesh&quot; (el modelo), ve a donde está el &quot;Editable Mesh&quot;, click en el &quot;+&quot; de &quot;Skin&quot; y selecciona la opción &quot;Envelope&quot; y luego click en la casilla &quot;vertices&quot;.<br /><br />En la imagen, el efecto está en el pecho del modelo, para corregirla hay que seleccionar mediante un cuadro de selección los vértices que están defectuosos, y luego, en el panel derecho, bajar hasta donde se lee &quot;Weight Properties&quot;.<br /><br />Una vez seleccionados todos los vertices donde haya defectos debes escribir &quot;1&quot; o &quot;1,0&quot; en Abs Effect. Opcionalmente puedes marcar también la casilla &quot;rigid&quot;. Debes repetir ésto en todas las zonas donde observes errores. La idea de ésto es que aquellos vértices que deben ser influenciados totalmente por la rotación de un &quot;bone&quot; o hueso, debe tener el valor de &quot;1&quot;, en donde sus posibles valores son todos los números decimales que van de 0,0 a 1,0. En el escenario, los vértices en &quot;1&quot; los verás de color rojo, y los vértices cuyos valores se acercan a cero se veran de colores azules. Si un vértice tiene valor 0 (o o pequeño), no se moverá (o se moverá poco) cuando rotas el hueso. Con la práctica aprenderás a intuir cómo debe distribuirse el peso (&quot;weight&quot;) de los vértices respecto a cada hueso, y en consecuencia lograrás mejores &quot;rigging&quot;. También es de notar que para los buenos rigging es crucial posicionar adecuadamente cada uno de los huesos en el lugar adecuado en el cuerpo del modelo, si no los ubicas bien, aunque hagas un trabajo impecable de rigging, no lograrás que el movimiento se vea natural. Sin embargo, no es necesario ser perfeccionista con los rigging, pues aún con riggings imperfectos, en la mayoría de los casos los jugadores ni lo notarán.<br /><br />Una vez hayas terminado, haces click en &quot;Skin&quot; (parte superior del panel derecho), para salir del modo de edición del &#039;envelope&#039;.<br /><br />Seleccionas el hueso, y si el modelo se mueve bien con la rotación del hueso, entonces ya habrás culminado el trabajo de depuración de errores.<br /><br />Para exportar, en la ventana de Kams script, marcas la casilla &quot;skip col&quot; y haces click en &quot;bones/skin export&quot;.<br /><br /><span style="color: orange;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size"><strong>Parte 6: Armando la textura</strong></span></span>
