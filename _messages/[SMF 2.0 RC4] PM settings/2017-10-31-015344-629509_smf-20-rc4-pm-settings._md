---
thread: "[SMF 2.0 RC4] PM settings"
id_msg: 629509
date: "2017-10-31 01:53:44"

subject: "[SMF 2.0 RC4] PM settings"
user: "yap320sorgesoureDug"

modified_time: 2017-10-31 15:45:47
modified_name: "yap320sorgesoureDug"
icon: xx



edit_reason: "pos no'más :'v"
---
<div align="center"><span style="font-size: 24pt;" class="bbc_size"><span style="font-family: andale mono;" class="bbc_font"><strong><span style="color: yellow;" class="bbc_color">&#9993; </span><span style="color: purple;" class="bbc_color"><span class="bbc_u">PM </span></span><span style="color: brown;" class="bbc_color"><span class="bbc_u">settings</span></span></strong></span></span><br />(Originalmente válido solo para 2.0.x)</div><br /><br />Enlace al mod: <a href="http://custom.simplemachines.org/mods/index.php?mod=3823" class="bbc_link new_win" target="_blank">http://custom.simplemachines.org/mods/index.php?mod=3823</a><br /><br />Pero como nosotros somos unos genios, ya nos da igual las broncas de compatibilidad.<br /><br /><div align="center"><span style="font-size: 18pt;" class="bbc_size">Instalación</span></div><br />Archivo <strong>./Sources/Subs-Members.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;// Some of these might be overwritten. (the lower ones that are in the arrays below.)<br />&nbsp;&nbsp;&nbsp;$regOptions&#91;&#039;register_vars&#039;] = array(</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;// Some of these might be overwritten. (the lower ones that are in the arrays below.)<br />&nbsp;&nbsp;&nbsp;$regOptions&#91;&#039;register_vars&#039;] = array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;pm_prefs&#039; =&gt; isset($modSettings&#91;&#039;pm_pref&#039;]) ? $modSettings&#91;&#039;pm_pref&#039;] : 0,</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Archivo <strong>./Sources/PersonalMessage.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;copy_to_outbox&#039;] = !empty($_REQUEST&#91;&#039;outbox&#039;]);</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;copy_to_outbox&#039;] = true; // from $_REQUEST</code><br /><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;copy_to_outbox&#039;] = !empty($options&#91;&#039;copy_to_outbox&#039;]);</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;copy_to_outbox&#039;] = true; // from $options</code><br /><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;send_log&#039;] = sendpm($recipientList, $_REQUEST&#91;&#039;subject&#039;], $_REQUEST&#91;&#039;message&#039;], !empty($_REQUEST&#91;&#039;outbox&#039;]), null, !empty($_REQUEST&#91;&#039;pm_head&#039;]) ? (int) $_REQUEST&#91;&#039;pm_head&#039;] : 0);</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">$context&#91;&#039;send_log&#039;] = sendpm($recipientList, $_REQUEST&#91;&#039;subject&#039;], $_REQUEST&#91;&#039;message&#039;], true, null, !empty($_REQUEST&#91;&#039;pm_head&#039;]) ? (int) $_REQUEST&#91;&#039;pm_head&#039;] : 0);</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Archivo <strong>./Themes/default/PersonalMessage.template.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;label for=&quot;outbox&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;outbox&quot; id=&quot;outbox&quot; value=&quot;1&quot; tabindex=&quot;&#039;, $context&#91;&#039;tabindex&#039;]++, &#039;&quot;&#039;, $context&#91;&#039;copy_to_outbox&#039;] ? &#039; checked=&quot;checked&quot;&#039; : &#039;&#039;, &#039; class=&quot;input_check&quot; /&gt; &#039;, $txt&#91;&#039;pm_save_outbox&#039;], &#039;&lt;/label&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p id=&quot;shortcuts&quot; class=&quot;smalltext&quot;&gt;</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p id=&quot;shortcuts&quot; class=&quot;smalltext&quot;&gt;</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Archivo <strong>./Themes/default/Settings.template.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;id&#039; =&gt; &#039;copy_to_outbox&#039;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;label&#039; =&gt; $txt&#91;&#039;copy_to_outbox&#039;],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#039;default&#039; =&gt; true,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The &#039;copy to outbox setting gets put back here when the PM Settings mod is uninstalled.</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Archivo <strong>./Themes/default/Wireless.template.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&lt;td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; value=&quot;&#039;, $txt&#91;&#039;send_message&#039;], &#039;&quot; class=&quot;button_submit&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;outbox&quot; value=&quot;&#039;, $context&#91;&#039;copy_to_outbox&#039;] ? &#039;1&#039; : &#039;0&#039;, &#039;&quot; /&gt;</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;&lt;td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; value=&quot;&#039;, $txt&#91;&#039;send_message&#039;], &#039;&quot; class=&quot;button_submit&quot; /&gt;</code><br /><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p class=&quot;windowbg&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; value=&quot;&#039;, $txt&#91;&#039;send_message&#039;], &#039;&quot; class=&quot;button_submit&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;outbox&quot; value=&quot;&#039;, $context&#91;&#039;copy_to_outbox&#039;] ? &#039;1&#039; : &#039;0&#039;, &#039;&quot; /&gt;</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p class=&quot;windowbg&quot;&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; value=&quot;&#039;, $txt&#91;&#039;send_message&#039;], &#039;&quot; class=&quot;button_submit&quot; /&gt;</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br />Archivo <strong>./Themes/default/Profile.template.php</strong>:<br /><div class="quoteheader"><div class="topslice_quote">Citar</div></div><blockquote class="bbc_standard_quote"><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dl&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label for=&quot;copy_to_outbox&quot;&gt; &#039;, $txt&#91;&#039;copy_to_outbox&#039;], &#039;&lt;/label&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dt&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;default_options[copy_to_outbox]&quot; value=&quot;0&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;checkbox&quot; name=&quot;default_options[copy_to_outbox]&quot; id=&quot;copy_to_outbox&quot; value=&quot;1&quot;&#039;, !empty($context&#91;&#039;member&#039;]&#91;&#039;options&#039;]&#91;&#039;copy_to_outbox&#039;]) ? &#039; checked=&quot;checked&quot;&#039; : &#039;&#039;, &#039; class=&quot;input_check&quot; /&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dd&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&#039;;<br />&nbsp;&nbsp;&nbsp;// This would be where the &#039;copy to outbox&#039; option would be if it were here.<br />&nbsp;&nbsp;&nbsp;echo &#039;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;</code><br /><div class="codeheader">Código: (buscar) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;select name=&quot;pm_prefs&quot; id=&quot;pm_prefs&quot; onchange=&quot;if (this.value == 2 &amp;amp;&amp;amp; !document.getElementById(\&#039;copy_to_outbox\&#039;).checked) alert(\&#039;&#039;, $txt&#91;&#039;pm_recommend_enable_outbox&#039;], &#039;\&#039;);&quot;&gt;</code><div class="codeheader">Código: (reemplazar con) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">&lt;select name=&quot;pm_prefs&quot; id=&quot;pm_prefs&quot;&gt;</code></blockquote><div class="quotefooter"><div class="botslice_quote"></div></div><br /><div align="center"><span style="font-size: 14pt;" class="bbc_size">Archivos necesarios</span></div><br /><table class="bbc_table"><tr><td><strong>Archivo del paquete</strong></td><td><strong>Mover a ubicación</strong></td></tr><tr><td>/pm-settings-lang</td><td>./Themes/default/languages</td></tr><tr><td>2.0/PMSettings.php</td><td>./Sources</td></tr></table><br /><div align="center"><span style="font-size: 14pt;" class="bbc_size">Archivo ejecutable</span></div><br />2.0/install-2.0.php<br /><br /><div align="center"><span style="font-size: 14pt;" class="bbc_size">Notas sobre la adaptación de este mod a 2.0 RC4</span></div><br />Todos los pasos que ven aquí los pude ejecutar al pié de la letra, y sin embargo, no tuve que hacer nada con el <strong>install-2.0.php</strong>. Ya el pendejo mod parece estar funkando a la perfección numaaa <img src="/assets/smf/smileys/shocked.gif" alt="&#58;shocked&#58;" title="shocked" class="smiley" /> hice pruebas desde otras cuentas y ya se salvan automáticamente los mensajes enviados.<br /><br />No obstante, ya me volverán a ver por aquí en caso de que encontremos fallos...
