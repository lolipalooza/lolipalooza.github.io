---
thread: "Notas sobre Laravel"
id_msg: 5657
date: "2016-02-17 20:56:43"

subject: "Re:Notas sobre Laravel"
user: "yap320sorgesoureDug"

modified_time: 2016-02-18 14:52:58
modified_name: "yap320sorgesoureDug"
icon: xx




---
<strong><span style="font-size: 14pt;" class="bbc_size">Migraciones</span></strong><br /><br />La página oficial de laravel habla acerca de crear tablas con el siguiente comando:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">php artisan make:migration create_tasks_table --create=tasks</code>Para crear una tabla de &quot;tasks&quot;.<br />Dentro del archivo de <em>create_tasks_table</em> (ubicado en <em>/database/migrations</em>) se pueden hacer todos los cambios y agregar toda la información deseada a la tabla de tasks que se desea crear (usar como referencia la <a href="https://laravel.com/docs/5.2/migrations" class="bbc_link new_win" target="_blank">documentación de laravel</a> para saber cómo construir los tipos de datos).<br /><br />Para crear la migración (es decir, el proceso a través del cual se crean todas las tablas deseadas en la base de datos, se ejecuta el siguiente comando en cónsola:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">php artisan migrate</code>ó<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">php artisan migrate:install</code><br />Con <em>migrate:rollback</em> se pueden deshacer las migraciones (o al menos un número limitado de éstas, especialmente cuando se trabaja con migraciones que consisten en modificaciones a tablas ya creadas a través de otras migraciones).<br />O con <em>migrate:refresh</em> se eliminan y luego se rehacen las migraciones.<br />Con <em>migrate:reset</em> se eliminan todas las migraciones (incluyendo las que modifican otras migraciones).<br /><br /><span style="font-size: 14pt;" class="bbc_size"><strong>Realizar modificaciones sobre las tablas sin necesidad de deshacer las migraciones (sin eliminar las tablas)</strong></span><br /><br />Supóngase que se tiene una columna dentro de la tabla &quot;users&quot; que se desea remover sin tener que eliminar dicha tabla.<br /><br />Comando en cónsola:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">php artisan make:migration drop_active_column_from_users</code>ésto creará un nuevo archivo dentro de <em>/database/migrations</em>, que será una clase con los dos métodos que tienen todas las migraciones: el método &quot;up()&quot; y el método &quot;down()&quot;.<br /><br />En el método up se agrega:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">public function up()<br />{<br />&nbsp; &nbsp; Schema::table(&#039;users&#039;, function(Blueprint $table)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; $table-&gt;dropColumn(&#039;active&#039;);<br />&nbsp; &nbsp; });<br />}</code><br />Y en el método down se agrega:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">public function down()<br />{<br />&nbsp; &nbsp; Schema::table(&#039;users&#039;, function(Blueprint $table)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; $table-&gt;boolean(&#039;active&#039;)-&gt;default(true);&nbsp; &nbsp; // originalmente fue así como se creo la columna active<br />&nbsp; &nbsp; });<br />}</code>El método down() debe realizar lo opuesto al método up().
