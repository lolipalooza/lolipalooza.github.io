---
thread: "Notas sobre Laravel"
id_msg: 5666
date: "2016-02-24 16:06:37"

subject: "Re:Notas sobre Laravel"
user: "yap320sorgesoureDug"



icon: xx




---
<strong><span style="font-size: 14pt;" class="bbc_size">Laravel - Controladores: Acceso a datos pasados por método POST</span></strong><br />(o la fulana &quot;inyeción de dependencias&quot;)<br /><br />Consideren lo siguiente, tenemos un cotrolador con los siguientes métodos:<br />-index()<br />-create()<br />-store()<br /><br />El controlador es UsersController (por dar un ejemplo), entonces desde el index, que te muestra una lista de usuarios disponibles, hay un botón de &quot;crear nuevo usuario&quot;. Éste botón te lleva a la página users/create (invocada mediante el método create()) con un formulario para pasar datos del nuevo usuario mediante método POST y con acción users/store, que llamará al método store() (véanlo como si fuese <em>&lt;form action=&quot;users/store&quot; method=&quot;POST&quot;&gt;</em>). Entonces, aquí viene la pregunta de los 10.000 caramelos: ¿cómo hago para accesar a los datos pasados por el formulario desde el método store()?<br /><br />En el PHP primitivo, si deseabamos hacer eso, debía ser mediante $_POST, ¿verdad? Pero el maravilloso y milagroso framework de Laravel, ultramamado por Applefags, pone a nuestra disposición de clases y métodos para poder hacerlo a alto nivel (para que podamos &quot;olvidarnos&quot; de esas formas arcaicas y primitivas de hacerlo).<br /><br /><strong>Método 1: </strong>clase <em>Illuminate/Support/Facade/Request</em><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Illuminate</span><span style="color: #007700">/</span><span style="color: #0000BB">Support</span><span style="color: #007700">/</span><span style="color: #0000BB">Facade</span><span style="color: #007700">/</span><span style="color: #0000BB">Request</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">UsersController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;...<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">store</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$asdf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Request</span><span style="color: #007700">::</span><span style="color: #0000BB">all</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></code><br /><strong>Método 2: </strong>inyección de dependencias<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Illuminate</span><span style="color: #007700">/</span><span style="color: #0000BB">Http</span><span style="color: #007700">/</span><span style="color: #0000BB">Request</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">UsersController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">Request&nbsp;$request</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;...<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">store</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$asdf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">all</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></code><br /><strong>Método 3: </strong>más inyección de dependencias<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code"><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">Illuminate</span><span style="color: #007700">/</span><span style="color: #0000BB">Http</span><span style="color: #007700">/</span><span style="color: #0000BB">Request</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">UsersController&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Controller<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;...<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">store</span><span style="color: #007700">(</span><span style="color: #0000BB">Request&nbsp;$request</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$asdf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">all</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></code>
