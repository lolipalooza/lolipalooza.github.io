---
thread: "SCM Coding: anotaciones"
id_msg: 4695
date: "2013-02-05 02:39:04"

subject: "Re:Sanny Builder GTA: SA Coding Anotations..."
user: "t0dragonquesa"

modified_time: 2014-04-11 16:26:49
modified_name: "yap320sorgesoureDug"
icon: xx




---
<strong><span style="color: yellow;" class="bbc_color"><span style="font-size: 14pt;" class="bbc_size">Glosario de Opcodes e Instrucciones</span></span></strong><br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Icons, markers, spheres y checkpoints:</span></strong><br />0A40: $795 = create_entrance_marker_at 1685.7 -2238.9 14.0 color 14<br />08E7: disable_entrance_markers 1<br />0A40: 4@ = create_entrance_marker_at 1548.5665 -1363.7417 327.0 color 14<br />0A41: destroy_entrance_marker 4@<br />06D5: 0@ = create_racing_checkpoint_at -2042.8827 -152.9948 35.3203 point_to -2034.1893 -161.6796 35.3274 type 3 radius 2.0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;types: 0 - cilindro rojo de altura ilimitada con apuntador<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 - cilindro rojo de altura ilimitada con la bandera mosaica blanco y negro de fin de carrera<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 - cilindro rojo de altura ilimitada (sin símbolos)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 - círculo aéreo (desaparece cuando entras en él)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 - círculo aéreo (no desaparece cuando entras en él)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5 - círculo aéreo inclinado ¿WTF? (no apunta hacia donde le dices que apunte)<br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Animación:</span></strong><br />0792: disembark_instantly_actor $PLAYER_ACTOR<br />0687: clear_actor $PLAYER_ACTOR task<br />0615: define_AS_pack_begin 82@ <br />05D1: AS_actor -1 drive_car -1 to 962.5424 -1128.6 22.6656 speed 8.0 0 model #BMX 2 <br />0350: set_actor 67@ maintain_position_when_attacked 0 <br />05CB: AS_actor 67@ enter_car 78@ as_driver -1 ms <br />0647: unknown_actor 67@ look_task <br />0687: clear_actor 52@ task <br />0967: actor $PLAYER_ACTOR move_mouth 10000 ms <br />0968: actor $PLAYER_ACTOR stop_mouth <br />0729: AS_actor $PLAYER_ACTOR hold_cellphone 1 // 1 o 0<br />0503: create_actor_on_rope_with_pedtype 27 model #SWAT at -2034.7374 -149.4382 59.208 handle_as 0@<br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Manipulación del mapa y ubicación:</span></strong><br />0395: clear_area 1 at 2494.91 -1682.17 12.32 radius 50.0 <br />04E4: unknown_refresh_game_renderer_at -2053.0667 -183.5957 <br />03CB: set_rendering_origin_at -2053.0667 -183.5957 35.3274 <br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Manipulación de actores:</span></strong><br />03EF: player $PLAYER_CHAR make_safe <br />009A: 10@ = create_actor_pedtype 6 model #swat at 364.2183 184.8585 1008.3828&nbsp; &nbsp; // COP<br />0173: set_actor 10@ Z_angle_to 90.0 <br />01B2: give_actor 10@ weapon 29 ammo 20<br />01B9: set_actor 10@ armed_weapon_to 29<br />01B9: set_actor 10@ armed_weapon_to 29<br />05E2: AS_actor 10@ kill_actor $PLAYER_ACTOR <br />0337: set_actor 18@ visibility 0 <br />05F5: AS_actor 1@ goto_point 2497.3684 -1658.7848 13.3493 mode 4 -1 ms&nbsp; // en ms se coloca el tiempo, -1 indica sin límite de tiempo<br />&nbsp; &nbsp; &nbsp; &nbsp;mode 4: camina&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 05F5 utiliza el camino de los peds para llegar a su destino, por lo tanto es más inteligente<br />&nbsp; &nbsp; &nbsp; &nbsp;mode 6: corre<br />&nbsp; &nbsp; &nbsp; &nbsp;mode 7: corre al máximo<br />05D3: AS_actor $PLAYER_ACTOR goto_point 681.8004 -474.1063 15.5363 mode 4 3000 ms&nbsp; // no es inteligente llegando a su destino<br />0603: AS_actor 1@ goto 2522.9917 -1769.298 13.3828 mode 4 timelimit -1&nbsp; // usará vehículos para llegar a su destino si los hay disponibles<br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Manipulación de objetos:</span></strong><br />0107: $MyOBJ2 = create_object #elecfence_BAR at 2494.55 -1672.24 12.3878 <br />0177: set_object $MyOBJ2 Z_angle_to 262.0<br />0453: set_object $MyOBJ2 XY_rotation 180.0 180.0 angle 278.0 <br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Cámara y apariencias:</strong></span><br />0169: set_fade_color 0 0 0<br />016A: fade x time y<br />02A3: enable_widescreen 1 <br />015F: set_camera_position 2498.947 -1690.0 14.4011 rotation 0.0 0.0 0.0 <br />0160: set_camera_point_at 2498.405 -1689.177 14.2309 mode 2&nbsp; &nbsp; &nbsp; &nbsp;// 1 smooth - 2 jumpcut<br />0159: camera_on_ped $8BALL_CHAR 15 switchstyle 2&nbsp; &nbsp; &nbsp; &nbsp; // 1 smooth - 2 jumpcut<br />0925: restore_camera_to_user_defined <br />041D: set_camera_near_clip 0.2 <br />092F: lock_camera_target_point 1 <br />0930: lock_camera_position 1 <br />0936: set_camera 2498.947 -1690.0 14.4011 position_to 2501.236 -1678.23 17.5252 time 9000 drop_mode 1 <br />0920: point_camera 2498.405 -1689.177 14.2309 transverse_to 2500.238 -1678.188 17.4907 time 9000 mode 1 <br />015F: set_camera_position 414.83 2532.13 19.43 rotation 0.0 0.0 0.0 <br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Gestión del radar:</strong></span><br />0581: enable_radar 0 <br />057E: set_radar_grey 1 <br /><br /><span style="font-size: 12pt;" class="bbc_size"><strong>Gestión de texto:</strong></span><br />054C: use_GXT_table &#039;PD&#039;<br />00BA: show_text_styled GXT &#039;M01&#039; time 3000 style 1<br />&nbsp; &nbsp; &nbsp; &nbsp; styles:&nbsp; &nbsp; &nbsp;1: In the middle, just like when you passed a mission or won a race.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2: At the bottomright, just like when you start a mission.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3: White text in the middle, just like when you are wasted or busted.&nbsp; &nbsp; &nbsp; No se quita solo.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4: Style 1, but then smaller.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5: Same as style 4, but a bit higher on the screen.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6: Small white text in the middle of the screen.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7: Light blue text on top of the screen.<br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">JumpTables:</span></strong><br /><div class="codeheader">Código: (weá) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0871: init_jump_table 1@ total_jumps&nbsp; 7&nbsp; 0 @JPTABL_T00 jumps&nbsp; 0 @JPTABL_T01&nbsp; 1 @JPTABL_T11&nbsp; 2 @JPTABL_T22&nbsp; 3 @JPTABL_T33&nbsp; 4 @JPTABL_T44&nbsp; 5 @JPTABL_T55 6 @JPTABL_T66</code>Esta instrucción es algo parecida a <em>switch</em> para el C, chequea el valor de la variable 1@ y dependiendo de su valor salta a las regiones del código dadas por los @JPTABL_Txx, donde el @JPTABL_T00 es el valor por defecto (si 1@ almacena un valor distinto a los posibles.)<br /><br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0871: init_jump_table $choice total_jumps&nbsp; 3&nbsp; 1 ££label_for_default jumps&nbsp; 0 ££label_for0 1 ££label_for1&nbsp; 2 ££label_for2&nbsp; 0 -1 0 -1&nbsp; 0 -1&nbsp; 0 -1</code>params:<br />1 : switch variable<br />2 : number of regular cases<br />3 : default availalble flag (if default case is not needed, this is 0 )<br />4 : jump label for the default case<br />5 : case-value for the first case<br />6 : jump_label for the first case<br />7-18 : case-value/jump_labe; pairs for the other cases.<br /><br />0871: max 7 jumps<br />0872: max 9 jumps<br /><br />O se pueden combinar las instrucciones para lograr un máximo de saltos de 75, se hace así:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0871: init_jump_table 1@ total_jumps&nbsp; 23&nbsp; 0 @JPTABL_T00 jumps&nbsp; 0 @JPTABL_T01&nbsp; 1 @JPTABL_T11&nbsp; 2 @JPTABL_T22&nbsp; 3 @JPTABL_T33&nbsp; 4 @JPTABL_T44&nbsp; 5 @JPTABL_T55 6 @JPTABL_T66<br /><br />0872: jump_table_jumps&nbsp; 7 @JPTABL_T77&nbsp; 8 @JPTABL_T88&nbsp; 9 @JPTABL_T99&nbsp; 10 @JPTABL_T101&nbsp; 11 @JPTABL_T111&nbsp; 12 @JPTABL_T122&nbsp; 13 @JPTABL_T133&nbsp; 14 @JPTABL_T144&nbsp; 15 @JPTABL_T155<br /><br />0872: jump_table_jumps&nbsp; 16 @JPTABL_T166&nbsp; 17 @JPTABL_T177&nbsp; 18 @JPTABL_T188&nbsp; 19 @JPTABL_T199&nbsp; 20 @JPTABL_T201&nbsp; 21 @JPTABL_T211&nbsp; 22 @JPTABL_T222&nbsp; -1 @JPTABL_T00&nbsp; -1 @JPTABL_T00</code><br />09D2: unknown_flag 0&nbsp; &nbsp; &nbsp;// &lt;--- habilitar/deshabilitar persecución de los policías<br /><br /><br /><strong><span style="font-size: 12pt;" class="bbc_size">Comandos por clasificar:</span></strong><br />0245: set_actor $ACTOR_SMOKE walk_style_to &quot;FATMAN&quot;<br />07A1: set_walk_speed 4<br />041E: set_radio_station 3 <br />0707: start_scene_skip_to @INTRO1_2033 <br />0701: end_scene_skip <br />060A: create_decision_maker_type 0 store_to 110@ // decision\allowed\m_.ped files <br />03CF: load_wav 20014 as 2 <br />070C: explode_car 41@ without_damage <br />07C0: load_path 205 <br />0873: release_path 201 <br />05EB: assign_car 77@ to_path 206 <br />06FD: set_car 77@ speed_on_path_to 1.0 <br />80FE:&nbsp; &nbsp;not actor $PLAYER_ACTOR sphere 0 in_sphere 1644.773 -1051.334 22.8984 radius 10.0 12.0 20.0 <br />0713: actor 52@ driveby_actor $PLAYER_ACTOR car -1 point 0.0 0.0 0.0 radius 5000.0 4 1 firing_rate 40 <br />02BF:&nbsp; &nbsp;car 51@ sunk&nbsp; &nbsp; &nbsp;// esto es o verdadero o falso, es un chequeo de condición<br />0575: set_actor 67@ pinned_position 1 <br />0574: set_car 78@ keep_position 1 <br />05D2: AS_actor 50@ run_to_and_hijack_car 51@ max_search_radius 20.0 traffic_behavior 2 <br />06AB: set_actor $PLAYER_ACTOR all_weapons_hidden 1 <br />05D1: AS_actor 66@ drive_car 77@ to 2466.27 -1690.28 12.51 speed 2.0 1 model #BMX 2 <br />07FB: set_interior &#039;CARLS&#039; access 1&nbsp; // The Johnson House<br />03E5: show_text_box &#039;SAVE_G&#039;&nbsp; // You can save your progress by entering CJ&#039;s house.<br />0618: assign_actor 67@ to_AS_pack 82@ <br />061B: remove_references_to_AS_pack 82@ <br />0575: set_actor 65@(48@,3i) pinned_position 0 <br /><br />77E: get_active_interior_to $ACTIVE_INTERIOR <br />0159: set_camera_on_ped $PLAYER_ACTOR 45 2<br />02EB: restore_camera_with_jumpcut <br /><br /><br />097A: play_audio_at $X_PROPERTY_TO_BUY[0] $Y_PROPERTY_TO_BUY[0] $Z_PROPERTY_TO_BUY[0] event 1149<br />09B4: set_object_property_at x y radius 10.0 bitmask bla flag 0<br />01EB: set_traffic_density_multiplier_to 0.0<br />03DE: set_pedestrians_density_multiplier_to 0.2<br /><br />0390: load_txd_dictionary &#039;LD_DRV&#039;<br />038F: load_texture &quot;BRFLY&quot; as 1<br /><br />05D8: scmpath!!! averiguar que es esa wea, y si es lo que creo que es, entonces ufffffffffffffffff.......<br />0677 actor wea@ chat_with_actor<br />0924: enable_screen_darkness 1 with_value 220<br /><br />0917: audio_zone &#039;BEACH&#039; enable_sound 0<br />0299: activate_garage &#039;MODLAST&#039;<br />07FB: set_interior &#039;GYM1&#039; access 1&nbsp; // Ganton Gym<br />076C: set_zone &#039;GAN1&#039; gang 1 density_to 25<br />08B2: toggle_thermal_vision 1<br />015D: set_gamespeed&nbsp; .3 // 0.3 o 1.0 slow motion<br />0950: ser_trip_skip ...otro opcode prometedorrr!!<br />Objects targetables... Actores targetables... Averiguar qué carajos significa eso!!<br /><br />07E0: set_marker 1@ type_to 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 0: enemy red - 1: friendly blue!!<br />0464: put_actor 51@ into_turret_on_car 40@ at_car_offset 1.4 1.3 -0.1 position 3 shooting_angle_limit 190.0 with_weapon 29 <br />04DF: set_heli $2821 lean_and_thrust_limiter 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Limita la cantidad que un helicóptero puede inclinar
