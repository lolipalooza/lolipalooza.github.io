---
thread: "SCM Coding: anotaciones"
id_msg: 4723
date: "2013-02-16 03:30:09"

subject: "Re:Sanny Builder GTA: SA Coding Anotations..."
user: "yab220sorgesoureDug"

modified_time: 2014-04-03 17:03:14
modified_name: "yap320sorgesoureDug"
icon: xx




---
<strong><span style="font-size: 14pt;" class="bbc_size">Cómo hacer para que un actor se comporte como tu enemigo? (al mero estilo DYOM)</span></strong><br /><br />Simple, con éste código:<br /><em>077A: set_char_relationship 1@ relationship 3 to_ped_type 0</em><br /><br />Donde:<br />1@: es la variable que contiene al actor.<br /><br />relationship:<br />&nbsp; &nbsp; 1: respect - no te hace nada al verte, aún si le atacas.<br />&nbsp; &nbsp; 2: like - no te hace nada al verte, pero si atacas, él te ataca (no debería estar invertido con respect??).<br />&nbsp; &nbsp; 3: dislike - no te hace nada al verte, pero si lo apuntas te ataca.<br />&nbsp; &nbsp; 4: hate - apenas te vé, te ataca &lt;--- el ideal para los enemigos, obviamente<br /><br />ped_type: ver ayuda de Sanny Builder <em>&gt; Ped Types</em><br /><br /><br /><br /><strong><span style="font-size: 14pt;" class="bbc_size">Cómo hacer para que un actor asuma muchos tipos de conductas:</span></strong><br /><br />Obsérvese la siguiente secuencia:<br /><div class="codeheader">Código: (weá) <a href="#" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">060A: create_decision_maker_type 0 store_to 18@&nbsp; <br />0708: reset_decision_maker 18@ event 36<br />0709: set_decision_maker 18@ on_event 36 taskID 1000 unknown 100.0 100.0 chance 100.0 unknown 100.0 1 1<br />060B: set_actor 10@ decision_maker_to 18@<br />0746: set_acquaintance 4 of_actors_pedtype 25 to_actors_pedtype 0 //actor 10@ has pedtype 25</code><br />No son necesarios todos y cada uno de los comandos, y algunos no funcionan bien. A continuación se explicarán los comandos que si funcionan:<br />Primero debemos crear un decision maker y almacenarlo en una variable:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">060A: create_decision_maker_type 0 store_to 18@</code><br />Segundo: definir en dicho decision maker la forma de conducta:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">0709: set_decision_maker 18@ on_event 36 taskID 1000 respect 0.0 hate 100.0 like 0.0 dislike 100.0 in_car 1 on_foot 1</code><br />Donde:<br /><em>set_decision_maker 18@</em>: la variable antes creada.<br /><em>on_event 36</em>: el evento que tiene que ocurrir para que el actor realice la acción.<br /><em>taskID 1000</em>: la acción en sí.<br /><em>respect 0.0 hate 100.0 like 0.0 dislike 100.0</em>: ésto aún no lo entiendo muy bien, pero pareciésen ser las características que el provocador del evento debe cumplir para que activen la acción.<br /><em>in_car 1 on_foot 1</em>: el actor al que se le va a asociar el decision maker realizará la acción en carro o a pié.<br /><br />Luego, hay que asociar el decision maker a un actor:<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">060B: set_actor 1@ decision_maker_to 18@</code><br />Por último, hay que definir al provocador de dicho evento, que queremos que sea $PLAYER_ACTOR.<br /><div class="codeheader">Código: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Seleccionar]</a></div><code class="bbc_code">077A: set_actor 1@ acquaintance 4 to_actors_pedtype 0</code>Donde 077A es el comando antes definido.<br /><br />Ahora, entiéndase una cosa:<br />Si utilizas el opcode 077A sólo y aislado de los pasos anteriores, al parecer, el comportamiento por defecto del actor va a ser atacarlo apenas lo mire. Recordemos que <em>acquaintance 4</em> es Hate, y <em>to_actors_pedtype 0</em> hace referencia al jugador. Pero si queremos que el actor 1@ tome otra acción al verte que no sea atacarte, puedes definirla con <em>0709: set_decision_maker</em>.<br /><br /><strong><em>Nota:</em></strong> los IDs para los eventos y las tareas a ser definidas en el opcode <em>0709: set_decision_maker</em> pueden ser encontrados en el archivo <em>constants.inc</em>.<br />Bueno, ahora solo queda experimentar.<br /><br />Salsitas:<br /><a href="http://www.gtaforums.com/index.php?showtopic=370759" class="bbc_link new_win" target="_blank">http://www.gtaforums.com/index.php?showtopic=370759</a><br /><a href="http://gtag.gtagaming.com/forums/index.php?showtopic=345&amp;mode=threaded&amp;pid=1237" class="bbc_link new_win" target="_blank">http://gtag.gtagaming.com/forums/index.php?showtopic=345&amp;mode=threaded&amp;pid=1237</a>
